(()=>{var fW=Object.defineProperty,pW=Object.defineProperties;var hW=Object.getOwnPropertyDescriptors;var Xc=Object.getOwnPropertySymbols;var KP=Object.prototype.hasOwnProperty,$P=Object.prototype.propertyIsEnumerable;var VP=(Jo,zo,It)=>zo in Jo?fW(Jo,zo,{enumerable:!0,configurable:!0,writable:!0,value:It}):Jo[zo]=It,nr=(Jo,zo)=>{for(var It in zo||(zo={}))KP.call(zo,It)&&VP(Jo,It,zo[It]);if(Xc)for(var It of Xc(zo))$P.call(zo,It)&&VP(Jo,It,zo[It]);return Jo},Wo=(Jo,zo)=>pW(Jo,hW(zo));var Yi=(Jo,zo)=>{var It={};for(var ra in Jo)KP.call(Jo,ra)&&zo.indexOf(ra)<0&&(It[ra]=Jo[ra]);if(Jo!=null&&Xc)for(var ra of Xc(Jo))zo.indexOf(ra)<0&&$P.call(Jo,ra)&&(It[ra]=Jo[ra]);return It};var mW=(Jo,zo)=>()=>(zo||Jo((zo={exports:{}}).exports,zo),zo.exports);var rl=(Jo,zo,It)=>new Promise((ra,G)=>{var s=m=>{try{o(It.next(m))}catch(f){G(f)}},e=m=>{try{o(It.throw(m))}catch(f){G(f)}},o=m=>m.done?ra(m.value):Promise.resolve(m.value).then(s,e);o((It=It.apply(Jo,zo)).next())});var _W=mW(wp=>{(()=>{var Jo={28599:G=>{"use strict";const{AbortController:s,AbortSignal:e}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;G.exports=s,G.exports.AbortSignal=e,G.exports.default=s},21924:(G,s,e)=>{"use strict";var o=e(40210),m=e(55559),f=m(o("String.prototype.indexOf"));G.exports=function(g,y){var C=o(g,!!y);return typeof C=="function"&&f(g,".prototype.")>-1?m(C):C}},55559:(G,s,e)=>{"use strict";var o=e(58612),m=e(40210),f=m("%Function.prototype.apply%"),d=m("%Function.prototype.call%"),g=m("%Reflect.apply%",!0)||o.call(d,f),y=m("%Object.getOwnPropertyDescriptor%",!0),C=m("%Object.defineProperty%",!0),v=m("%Math.max%");if(C)try{C({},"a",{value:1})}catch(x){C=null}G.exports=function(E){var O=g(o,d,arguments);if(y&&C){var w=y(O,"length");w.configurable&&C(O,"length",{value:1+v(0,E.length-(arguments.length-1))})}return O};var b=function(){return g(o,f,arguments)};C?C(G.exports,"apply",{value:b}):G.exports.apply=b},94184:(G,s)=>{var e,o;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var m={}.hasOwnProperty;function f(){for(var d=[],g=0;g<arguments.length;g++){var y=arguments[g];if(y){var C=typeof y;if(C==="string"||C==="number")d.push(y);else if(Array.isArray(y)){if(y.length){var v=f.apply(null,y);v&&d.push(v)}}else if(C==="object")if(y.toString===Object.prototype.toString)for(var b in y)m.call(y,b)&&y[b]&&d.push(b);else d.push(y.toString())}}return d.join(" ")}G.exports?(f.default=f,G.exports=f):(e=[],o=function(){return f}.apply(s,e),o!==void 0&&(G.exports=o))})()},98767:G=>{G.exports=s;function s(o){if(o)return e(o)}function e(o){for(var m in s.prototype)o[m]=s.prototype[m];return o}s.prototype.on=s.prototype.addEventListener=function(o,m){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(m),this},s.prototype.once=function(o,m){function f(){this.off(o,f),m.apply(this,arguments)}return f.fn=m,this.on(o,f),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(o,m){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var f=this._callbacks["$"+o];if(!f)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var d,g=0;g<f.length;g++)if(d=f[g],d===m||d.fn===m){f.splice(g,1);break}return f.length===0&&delete this._callbacks["$"+o],this},s.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var m=new Array(arguments.length-1),f=this._callbacks["$"+o],d=1;d<arguments.length;d++)m[d-1]=arguments[d];if(f){f=f.slice(0);for(var d=0,g=f.length;d<g;++d)f[d].apply(this,m)}return this},s.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},s.prototype.hasListeners=function(o){return!!this.listeners(o).length}},27484:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";var s="millisecond",e="second",o="minute",m="hour",f="day",d="week",g="month",y="quarter",C="year",v="date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},O=function(T,A,W){var j=String(T);return!j||j.length>=A?T:""+Array(A+1-j.length).join(W)+T},w={s:O,z:function(T){var A=-T.utcOffset(),W=Math.abs(A),j=Math.floor(W/60),Z=W%60;return(A<=0?"+":"-")+O(j,2,"0")+":"+O(Z,2,"0")},m:function T(A,W){if(A.date()<W.date())return-T(W,A);var j=12*(W.year()-A.year())+(W.month()-A.month()),Z=A.clone().add(j,g),J=W-Z<0,Q=A.clone().add(j+(J?-1:1),g);return+(-(j+(W-Z)/(J?Z-Q:Q-Z))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:g,y:C,w:d,d:f,D:v,h:m,m:o,s:e,ms:s,Q:y}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return T===void 0}},_="en",a={};a[_]=E;var l=function(T){return T instanceof R},P=function(T,A,W){var j;if(!T)return _;if(typeof T=="string")a[T]&&(j=T),A&&(a[T]=A,j=T);else{var Z=T.name;a[Z]=T,j=Z}return!W&&j&&(_=j),j||!W&&_},S=function(T,A){if(l(T))return T.clone();var W=typeof A=="object"?A:{};return W.date=T,W.args=arguments,new R(W)},M=w;M.l=P,M.i=l,M.w=function(T,A){return S(T,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var R=function(){function T(W){this.$L=P(W.locale,null,!0),this.parse(W)}var A=T.prototype;return A.parse=function(W){this.$d=function(j){var Z=j.date,J=j.utc;if(Z===null)return new Date(NaN);if(M.u(Z))return new Date;if(Z instanceof Date)return new Date(Z);if(typeof Z=="string"&&!/Z$/i.test(Z)){var Q=Z.match(b);if(Q){var ne=Q[2]-1||0,te=(Q[7]||"0").substring(0,3);return J?new Date(Date.UTC(Q[1],ne,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,te)):new Date(Q[1],ne,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,te)}}return new Date(Z)}(W),this.$x=W.x||{},this.init()},A.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},A.$utils=function(){return M},A.isValid=function(){return this.$d.toString()!=="Invalid Date"},A.isSame=function(W,j){var Z=S(W);return this.startOf(j)<=Z&&Z<=this.endOf(j)},A.isAfter=function(W,j){return S(W)<this.startOf(j)},A.isBefore=function(W,j){return this.endOf(j)<S(W)},A.$g=function(W,j,Z){return M.u(W)?this[j]:this.set(Z,W)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(W,j){var Z=this,J=!!M.u(j)||j,Q=M.p(W),ne=function(oe,z){var ie=M.w(Z.$u?Date.UTC(Z.$y,z,oe):new Date(Z.$y,z,oe),Z);return J?ie:ie.endOf(f)},te=function(oe,z){return M.w(Z.toDate()[oe].apply(Z.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(z)),Z)},B=this.$W,V=this.$M,re=this.$D,le="set"+(this.$u?"UTC":"");switch(Q){case C:return J?ne(1,0):ne(31,11);case g:return J?ne(1,V):ne(0,V+1);case d:var ae=this.$locale().weekStart||0,q=(B<ae?B+7:B)-ae;return ne(J?re-q:re+(6-q),V);case f:case v:return te(le+"Hours",0);case m:return te(le+"Minutes",1);case o:return te(le+"Seconds",2);case e:return te(le+"Milliseconds",3);default:return this.clone()}},A.endOf=function(W){return this.startOf(W,!1)},A.$set=function(W,j){var Z,J=M.p(W),Q="set"+(this.$u?"UTC":""),ne=(Z={},Z[f]=Q+"Date",Z[v]=Q+"Date",Z[g]=Q+"Month",Z[C]=Q+"FullYear",Z[m]=Q+"Hours",Z[o]=Q+"Minutes",Z[e]=Q+"Seconds",Z[s]=Q+"Milliseconds",Z)[J],te=J===f?this.$D+(j-this.$W):j;if(J===g||J===C){var B=this.clone().set(v,1);B.$d[ne](te),B.init(),this.$d=B.set(v,Math.min(this.$D,B.daysInMonth())).$d}else ne&&this.$d[ne](te);return this.init(),this},A.set=function(W,j){return this.clone().$set(W,j)},A.get=function(W){return this[M.p(W)]()},A.add=function(W,j){var Z,J=this;W=Number(W);var Q=M.p(j),ne=function(V){var re=S(J);return M.w(re.date(re.date()+Math.round(V*W)),J)};if(Q===g)return this.set(g,this.$M+W);if(Q===C)return this.set(C,this.$y+W);if(Q===f)return ne(1);if(Q===d)return ne(7);var te=(Z={},Z[o]=6e4,Z[m]=36e5,Z[e]=1e3,Z)[Q]||1,B=this.$d.getTime()+W*te;return M.w(B,this)},A.subtract=function(W,j){return this.add(-1*W,j)},A.format=function(W){var j=this;if(!this.isValid())return"Invalid Date";var Z=W||"YYYY-MM-DDTHH:mm:ssZ",J=M.z(this),Q=this.$locale(),ne=this.$H,te=this.$m,B=this.$M,V=Q.weekdays,re=Q.months,le=function(z,ie,ue,de){return z&&(z[ie]||z(j,Z))||ue[ie].substr(0,de)},ae=function(z){return M.s(ne%12||12,z,"0")},q=Q.meridiem||function(z,ie,ue){var de=z<12?"AM":"PM";return ue?de.toLowerCase():de},oe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:B+1,MM:M.s(B+1,2,"0"),MMM:le(Q.monthsShort,B,re,3),MMMM:le(re,B),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:le(Q.weekdaysMin,this.$W,V,2),ddd:le(Q.weekdaysShort,this.$W,V,3),dddd:V[this.$W],H:String(ne),HH:M.s(ne,2,"0"),h:ae(1),hh:ae(2),a:q(ne,te,!0),A:q(ne,te,!1),m:String(te),mm:M.s(te,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:J};return Z.replace(x,function(z,ie){return ie||oe[z]||J.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(W,j,Z){var J,Q=M.p(j),ne=S(W),te=6e4*(ne.utcOffset()-this.utcOffset()),B=this-ne,V=M.m(this,ne);return V=(J={},J[C]=V/12,J[g]=V,J[y]=V/3,J[d]=(B-te)/6048e5,J[f]=(B-te)/864e5,J[m]=B/36e5,J[o]=B/6e4,J[e]=B/1e3,J)[Q]||B,Z?V:M.a(V)},A.daysInMonth=function(){return this.endOf(g).$D},A.$locale=function(){return a[this.$L]},A.locale=function(W,j){if(!W)return this.$L;var Z=this.clone(),J=P(W,j,!0);return J&&(Z.$L=J),Z},A.clone=function(){return M.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},T}(),N=R.prototype;return S.prototype=N,[["$ms",s],["$s",e],["$m",o],["$H",m],["$W",f],["$M",g],["$y",C],["$D",v]].forEach(function(T){N[T[1]]=function(A){return this.$g(A,T[0],T[1])}}),S.extend=function(T,A){return T.$i||(T(A,R,S),T.$i=!0),S},S.locale=P,S.isDayjs=l,S.unix=function(T){return S(1e3*T)},S.en=a[_],S.Ls=a,S.p={},S})},28734:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e,o){var m=e.prototype,f=m.format;o.en.ordinal=function(d){var g=["th","st","nd","rd"],y=d%100;return"["+d+(g[(y-20)%10]||g[y]||g[0])+"]"},m.format=function(d){var g=this,y=this.$locale(),C=this.$utils(),v=(d||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(b){switch(b){case"Q":return Math.ceil((g.$M+1)/3);case"Do":return y.ordinal(g.$D);case"gggg":return g.weekYear();case"GGGG":return g.isoWeekYear();case"wo":return y.ordinal(g.week(),"W");case"w":case"ww":return C.s(g.week(),b==="w"?1:2,"0");case"W":case"WW":return C.s(g.isoWeek(),b==="W"?1:2,"0");case"k":case"kk":return C.s(String(g.$H===0?24:g.$H),b==="k"?1:2,"0");case"X":return Math.floor(g.$d.getTime()/1e3);case"x":return g.$d.getTime();case"z":return"["+g.offsetName()+"]";case"zzz":return"["+g.offsetName("long")+"]";default:return b}});return f.bind(this)(v)}}})},90850:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e,o){var m=e.prototype,f=m.parse;m.parse=function(d){d.date=function(g){var y=g.date,C=g.utc;return Array.isArray(y)?C?y.length?new Date(Date.UTC.apply(null,y)):new Date:y.length===1?o(String(y[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(y))):y}.bind(this)(d),f.bind(this)(d)}}})},94712:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e,o){var m="h:mm A",f={lastDay:"[Yesterday at] "+m,sameDay:"[Today at] "+m,nextDay:"[Tomorrow at] "+m,nextWeek:"dddd [at] "+m,lastWeek:"[Last] dddd [at] "+m,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(d,g){var y=g||this.$locale().calendar||f,C=o(d||void 0).startOf("d"),v=this.diff(C,"d",!0),b=v<-6?"sameElse":v<-1?"lastWeek":v<0?"lastDay":v<1?"sameDay":v<2?"nextDay":v<7?"nextWeek":"sameElse",x=y[b]||f[b];return typeof x=="function"?x.call(this,o()):this.format(x)}}})},10285:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=function(O,w){return O.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,a,l){var P=l&&l.toUpperCase();return a||w[l]||s[l]||w[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,M,R){return M||R.slice(1)})})},o=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,m=/\d\d/,f=/\d\d?/,d=/\d*[^\s\d-_:/()]+/,g={},y=function(O){return function(w){this[O]=+w}},C=[/[+-]\d\d:?(\d\d)?/,function(O){(this.zone||(this.zone={})).offset=function(w){if(!w)return 0;var _=w.match(/([+-]|\d\d)/g),a=60*_[1]+(+_[2]||0);return a===0?0:_[0]==="+"?-a:a}(O)}],v=function(O){var w=g[O];return w&&(w.indexOf?w:w.s.concat(w.f))},b=function(O,w){var _,a=g.meridiem;if(a){for(var l=1;l<=24;l+=1)if(O.indexOf(a(l,0,w))>-1){_=l>12;break}}else _=O===(w?"pm":"PM");return _},x={A:[d,function(O){this.afternoon=b(O,!1)}],a:[d,function(O){this.afternoon=b(O,!0)}],S:[/\d/,function(O){this.milliseconds=100*+O}],SS:[m,function(O){this.milliseconds=10*+O}],SSS:[/\d{3}/,function(O){this.milliseconds=+O}],s:[f,y("seconds")],ss:[f,y("seconds")],m:[f,y("minutes")],mm:[f,y("minutes")],H:[f,y("hours")],h:[f,y("hours")],HH:[f,y("hours")],hh:[f,y("hours")],D:[f,y("day")],DD:[m,y("day")],Do:[d,function(O){var w=g.ordinal,_=O.match(/\d+/);if(this.day=_[0],w)for(var a=1;a<=31;a+=1)w(a).replace(/\[|\]/g,"")===O&&(this.day=a)}],M:[f,y("month")],MM:[m,y("month")],MMM:[d,function(O){var w=v("months"),_=(v("monthsShort")||w.map(function(a){return a.substr(0,3)})).indexOf(O)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[d,function(O){var w=v("months").indexOf(O)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,y("year")],YY:[m,function(O){O=+O,this.year=O+(O>68?1900:2e3)}],YYYY:[/\d{4}/,y("year")],Z:C,ZZ:C},E=function(O,w,_){try{var a=function(V){for(var re=(V=e(V,g&&g.formats)).match(o),le=re.length,ae=0;ae<le;ae+=1){var q=re[ae],oe=x[q],z=oe&&oe[0],ie=oe&&oe[1];re[ae]=ie?{regex:z,parser:ie}:q.replace(/^\[|\]$/g,"")}return function(ue){for(var de={},fe=0,ye=0;fe<le;fe+=1){var pe=re[fe];if(typeof pe=="string")ye+=pe.length;else{var we=pe.regex,Me=pe.parser,je=ue.substr(ye),De=we.exec(je)[0];Me.call(de,De),ue=ue.replace(De,"")}}return function(me){var ce=me.afternoon;if(ce!==void 0){var ge=me.hours;ce?ge<12&&(me.hours+=12):ge===12&&(me.hours=0),delete me.afternoon}}(de),de}}(w)(O),l=a.year,P=a.month,S=a.day,M=a.hours,R=a.minutes,N=a.seconds,T=a.milliseconds,A=a.zone,W=new Date,j=S||(l||P?1:W.getDate()),Z=l||W.getFullYear(),J=0;l&&!P||(J=P>0?P-1:W.getMonth());var Q=M||0,ne=R||0,te=N||0,B=T||0;return A?new Date(Date.UTC(Z,J,j,Q,ne,te,B+60*A.offset*1e3)):_?new Date(Date.UTC(Z,J,j,Q,ne,te,B)):new Date(Z,J,j,Q,ne,te,B)}catch(V){return new Date("")}};return function(O,w,_){_.p.customParseFormat=!0;var a=w.prototype,l=a.parse;a.parse=function(P){var S=P.date,M=P.utc,R=P.args;this.$u=M;var N=R[1];if(typeof N=="string"){var T=R[2]===!0,A=R[3]===!0,W=T||A,j=R[2];A&&(j=R[2]),g=this.$locale(),!T&&j&&(g=_.Ls[j]),this.$d=E(S,N,M),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),W&&S!==this.format(N)&&(this.$d=new Date("")),g={}}else if(N instanceof Array)for(var Z=N.length,J=1;J<=Z;J+=1){R[1]=N[J-1];var Q=_.apply(this,R);if(Q.isValid()){this.$d=Q.$d,this.$L=Q.$L,this.init();break}J===Z&&(this.$d=new Date(""))}else l.call(this,P)}}})},92997:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.dayOfYear=function(o){var m=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return o==null?m:this.add(o-m,"day")}}})},1646:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";var s,e,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,f={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},d=function(E){return E instanceof x},g=function(E,O,w){return new x(E,w,O.$l)},y=function(E){return e.p(E)+"s"},C=function(E){return E<0},v=function(E){return C(E)?Math.ceil(E):Math.floor(E)},b=function(E,O){return E?C(E)?{negative:!0,format:""+function(w){return Math.abs(w)}(E)+O}:{negative:!1,format:""+E+O}:{negative:!1,format:""}},x=function(){function E(w,_,a){var l=this;if(this.$d={},this.$l=a,_)return g(w*f[y(_)],this);if(typeof w=="number")return this.$ms=w,this.parseFromMilliseconds(),this;if(typeof w=="object")return Object.keys(w).forEach(function(S){l.$d[y(S)]=w[S]}),this.calMilliseconds(),this;if(typeof w=="string"){var P=w.match(m);if(P)return this.$d.years=P[2],this.$d.months=P[3],this.$d.weeks=P[4],this.$d.days=P[5],this.$d.hours=P[6],this.$d.minutes=P[7],this.$d.seconds=P[8],this.calMilliseconds(),this}return this}var O=E.prototype;return O.calMilliseconds=function(){var w=this;this.$ms=Object.keys(this.$d).reduce(function(_,a){return _+(w.$d[a]||0)*f[a]},0)},O.parseFromMilliseconds=function(){var w=this.$ms;this.$d.years=v(w/31536e6),w%=31536e6,this.$d.months=v(w/2592e6),w%=2592e6,this.$d.days=v(w/864e5),w%=864e5,this.$d.hours=v(w/36e5),w%=36e5,this.$d.minutes=v(w/6e4),w%=6e4,this.$d.seconds=v(w/1e3),w%=1e3,this.$d.milliseconds=w},O.toISOString=function(){var w=b(this.$d.years,"Y"),_=b(this.$d.months,"M"),a=+this.$d.days||0;this.$d.weeks&&(a+=7*this.$d.weeks);var l=b(a,"D"),P=b(this.$d.hours,"H"),S=b(this.$d.minutes,"M"),M=this.$d.seconds||0;this.$d.milliseconds&&(M+=this.$d.milliseconds/1e3);var R=b(M,"S"),N=w.negative||_.negative||l.negative||P.negative||S.negative||R.negative,T=P.format||S.format||R.format?"T":"",A=(N?"-":"")+"P"+w.format+_.format+l.format+T+P.format+S.format+R.format;return A==="P"||A==="-P"?"P0D":A},O.toJSON=function(){return this.toISOString()},O.format=function(w){var _=w||"YYYY-MM-DDTHH:mm:ss",a={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return _.replace(o,function(l,P){return P||String(a[l])})},O.as=function(w){return this.$ms/f[y(w)]},O.get=function(w){var _=this.$ms,a=y(w);return a==="milliseconds"?_%=1e3:_=a==="weeks"?v(_/f[a]):this.$d[a],_===0?0:_},O.add=function(w,_,a){var l;return l=_?w*f[y(_)]:d(w)?w.$ms:g(w,this).$ms,g(this.$ms+l*(a?-1:1),this)},O.subtract=function(w,_){return this.add(w,_,!0)},O.locale=function(w){var _=this.clone();return _.$l=w,_},O.clone=function(){return g(this.$ms,this)},O.humanize=function(w){return s().add(this.$ms,"ms").locale(this.$l).fromNow(!w)},O.milliseconds=function(){return this.get("milliseconds")},O.asMilliseconds=function(){return this.as("milliseconds")},O.seconds=function(){return this.get("seconds")},O.asSeconds=function(){return this.as("seconds")},O.minutes=function(){return this.get("minutes")},O.asMinutes=function(){return this.as("minutes")},O.hours=function(){return this.get("hours")},O.asHours=function(){return this.as("hours")},O.days=function(){return this.get("days")},O.asDays=function(){return this.as("days")},O.weeks=function(){return this.get("weeks")},O.asWeeks=function(){return this.as("weeks")},O.months=function(){return this.get("months")},O.asMonths=function(){return this.as("months")},O.years=function(){return this.get("years")},O.asYears=function(){return this.as("years")},E}();return function(E,O,w){s=w,e=w().$utils(),w.duration=function(l,P){var S=w.locale();return g(l,{$l:S},P)},w.isDuration=d;var _=O.prototype.add,a=O.prototype.subtract;O.prototype.add=function(l,P){return d(l)&&(l=l.asMilliseconds()),_.bind(this)(l,P)},O.prototype.subtract=function(l,P){return d(l)&&(l=l.asMilliseconds()),a.bind(this)(l,P)}}})},66607:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e,o){e.prototype.isBetween=function(m,f,d,g){var y=o(m),C=o(f),v=(g=g||"()")[0]==="(",b=g[1]===")";return(v?this.isAfter(y,d):!this.isBefore(y,d))&&(b?this.isBefore(C,d):!this.isAfter(C,d))||(v?this.isBefore(y,d):!this.isAfter(y,d))&&(b?this.isAfter(C,d):!this.isBefore(C,d))}}})},10423:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},79212:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.isSameOrAfter=function(o,m){return this.isSame(o,m)||this.isAfter(o,m)}}})},37412:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.isSameOrBefore=function(o,m){return this.isSame(o,m)||this.isBefore(o,m)}}})},96671:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";var s="month",e="quarter";return function(o,m){var f=m.prototype;f.quarter=function(y){return this.$utils().u(y)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(y-1))};var d=f.add;f.add=function(y,C){return y=Number(y),this.$utils().p(C)===e?this.add(3*y,s):d.bind(this)(y,C)};var g=f.startOf;f.startOf=function(y,C){var v=this.$utils(),b=!!v.u(C)||C;if(v.p(y)===e){var x=this.quarter()-1;return b?this.month(3*x).startOf(s).startOf("day"):this.month(3*x+2).endOf(s).endOf("day")}return g.bind(this)(y,C)}}})},84110:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e,o){s=s||{};var m=e.prototype,f={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(y,C,v,b){return m.fromToBase(y,C,v,b)}o.en.relativeTime=f,m.fromToBase=function(y,C,v,b,x){for(var E,O,w,_=v.$locale().relativeTime||f,a=s.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],l=a.length,P=0;P<l;P+=1){var S=a[P];S.d&&(E=b?o(y).diff(v,S.d,!0):v.diff(y,S.d,!0));var M=(s.rounding||Math.round)(Math.abs(E));if(w=E>0,M<=S.r||!S.r){M<=1&&P>0&&(S=a[P-1]);var R=_[S.l];x&&(M=x(""+M)),O=typeof R=="string"?R.replace("%d",M):R(M,C,S.l,w);break}}if(C)return O;var N=w?_.future:_.past;return typeof N=="function"?N(O):N.replace("%s",O)},m.to=function(y,C){return d(y,C,this,!0)},m.from=function(y,C){return d(y,C,this)};var g=function(y){return y.$u?o.utc():o()};m.toNow=function(y){return this.to(g(this),y)},m.fromNow=function(y){return this.from(g(this),y)}}})},29387:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";var s={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(o,m,f){var d,g=f().utcOffset(),y=function(x,E,O){O===void 0&&(O={});var w=new Date(x);return function(_,a){a===void 0&&(a={});var l=a.timeZoneName||"short",P=_+"|"+l,S=e[P];return S||(S=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:l}),e[P]=S),S}(E,O).formatToParts(w)},C=function(x,E){for(var O=y(x,E),w=[],_=0;_<O.length;_+=1){var a=O[_],l=a.type,P=a.value,S=s[l];S>=0&&(w[S]=parseInt(P,10))}var M=w[3],R=M===24?0:M,N=w[0]+"-"+w[1]+"-"+w[2]+" "+R+":"+w[4]+":"+w[5]+":000",T=+x;return(f.utc(N).valueOf()-(T-=T%1e3))/6e4},v=m.prototype;v.tz=function(x,E){x===void 0&&(x=d);var O=this.utcOffset(),w=this.toDate().toLocaleString("en-US",{timeZone:x}),_=Math.round((this.toDate()-new Date(w))/1e3/60),a=f(w).$set("millisecond",this.$ms).utcOffset(g-_,!0);if(E){var l=a.utcOffset();a=a.add(O-l,"minute")}return a.$x.$timezone=x,a},v.offsetName=function(x){var E=this.$x.$timezone||f.tz.guess(),O=y(this.valueOf(),E,{timeZoneName:x}).find(function(w){return w.type.toLowerCase()==="timezonename"});return O&&O.value};var b=v.startOf;v.startOf=function(x,E){if(!this.$x||!this.$x.$timezone)return b.call(this,x,E);var O=f(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return b.call(O,x,E).tz(this.$x.$timezone,!0)},f.tz=function(x,E,O){var w=O&&E,_=O||E||d,a=C(+f(),_);if(typeof x!="string")return f(x).tz(_);var l=function(R,N,T){var A=R-60*N*1e3,W=C(A,T);if(N===W)return[A,N];var j=C(A-=60*(W-N)*1e3,T);return W===j?[A,W]:[R-60*Math.min(W,j)*1e3,Math.max(W,j)]}(f.utc(x,w).valueOf(),a,_),P=l[0],S=l[1],M=f(P).utcOffset(S);return M.$x.$timezone=_,M},f.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},f.tz.setDefault=function(x){d=x}}})},70178:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e,o){var m=e.prototype;o.utc=function(b){return new e({date:b,utc:!0,args:arguments})},m.utc=function(b){var x=o(this.toDate(),{locale:this.$L,utc:!0});return b?x.add(this.utcOffset(),"minute"):x},m.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var f=m.parse;m.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),f.call(this,b)};var d=m.init;m.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else d.call(this)};var g=m.utcOffset;m.utcOffset=function(b,x){var E=this.$utils().u;if(E(b))return this.$u?0:E(this.$offset)?g.call(this):this.$offset;var O=Math.abs(b)<=16?60*b:b,w=this;if(x)return w.$offset=O,w.$u=b===0,w;if(b!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(O+_,"minute")).$offset=O,w.$x.$localOffset=_}else w=this.utc();return w};var y=m.format;m.format=function(b){var x=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,x)},m.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*b},m.isUTC=function(){return!!this.$u},m.toISOString=function(){return this.toDate().toISOString()},m.toString=function(){return this.toDate().toUTCString()};var C=m.toDate;m.toDate=function(b){return b==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():C.call(this)};var v=m.diff;m.diff=function(b,x,E){if(b&&this.$u===b.$u)return v.call(this,b,x,E);var O=this.local(),w=o(b).local();return v.call(O,w,x,E)}}})},55183:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";var s="week",e="year";return function(o,m,f){var d=m.prototype;d.week=function(g){if(g===void 0&&(g=null),g!==null)return this.add(7*(g-this.week()),"day");var y=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var C=f(this).startOf(e).add(1,e).date(y),v=f(this).endOf(s);if(C.isBefore(v))return 1}var b=f(this).startOf(e).date(y).startOf(s).subtract(1,"millisecond"),x=this.diff(b,s,!0);return x<0?f(this).startOf("week").week():Math.ceil(x)},d.weeks=function(g){return g===void 0&&(g=null),this.week(g)}}})},6833:function(G){(function(s,e){G.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.weekday=function(o){var m=this.$locale().weekStart||0,f=this.$W,d=(f<m?f+7:f)-m;return this.$utils().u(o)?d:this.subtract(d,"day").add(o,"day")}}})},10251:(G,s,e)=>{var o=Array.prototype.slice,m=e(41705),f=e(45539),d=G.exports=function(v,b,x){return x||(x={}),v===b?!0:v instanceof Date&&b instanceof Date?v.getTime()===b.getTime():!v||!b||typeof v!="object"&&typeof b!="object"?x.strict?v===b:v==b:C(v,b,x)};function g(v){return v==null}function y(v){return!(!v||typeof v!="object"||typeof v.length!="number"||typeof v.copy!="function"||typeof v.slice!="function"||v.length>0&&typeof v[0]!="number")}function C(v,b,x){var E,O;if(g(v)||g(b)||v.prototype!==b.prototype)return!1;if(f(v))return f(b)?(v=o.call(v),b=o.call(b),d(v,b,x)):!1;if(y(v)){if(!y(b)||v.length!==b.length)return!1;for(E=0;E<v.length;E++)if(v[E]!==b[E])return!1;return!0}try{var w=m(v),_=m(b)}catch(a){return!1}if(w.length!=_.length)return!1;for(w.sort(),_.sort(),E=w.length-1;E>=0;E--)if(w[E]!=_[E])return!1;for(E=w.length-1;E>=0;E--)if(O=w[E],!d(v[O],b[O],x))return!1;return typeof v==typeof b}},45539:(G,s)=>{var e=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";s=G.exports=e?o:m,s.supported=o;function o(f){return Object.prototype.toString.call(f)=="[object Arguments]"}s.unsupported=m;function m(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},41705:(G,s)=>{s=G.exports=typeof Object.keys=="function"?Object.keys:e,s.shim=e;function e(o){var m=[];for(var f in o)m.push(f);return m}},9996:G=>{"use strict";var s=function(P){return e(P)&&!o(P)};function e(l){return!!l&&typeof l=="object"}function o(l){var P=Object.prototype.toString.call(l);return P==="[object RegExp]"||P==="[object Date]"||d(l)}var m=typeof Symbol=="function"&&Symbol.for,f=m?Symbol.for("react.element"):60103;function d(l){return l.$$typeof===f}function g(l){return Array.isArray(l)?[]:{}}function y(l,P){return P.clone!==!1&&P.isMergeableObject(l)?_(g(l),l,P):l}function C(l,P,S){return l.concat(P).map(function(M){return y(M,S)})}function v(l,P){if(!P.customMerge)return _;var S=P.customMerge(l);return typeof S=="function"?S:_}function b(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(P){return l.propertyIsEnumerable(P)}):[]}function x(l){return Object.keys(l).concat(b(l))}function E(l,P){try{return P in l}catch(S){return!1}}function O(l,P){return E(l,P)&&!(Object.hasOwnProperty.call(l,P)&&Object.propertyIsEnumerable.call(l,P))}function w(l,P,S){var M={};return S.isMergeableObject(l)&&x(l).forEach(function(R){M[R]=y(l[R],S)}),x(P).forEach(function(R){O(l,R)||(E(l,R)&&S.isMergeableObject(P[R])?M[R]=v(R,S)(l[R],P[R],S):M[R]=y(P[R],S))}),M}function _(l,P,S){S=S||{},S.arrayMerge=S.arrayMerge||C,S.isMergeableObject=S.isMergeableObject||s,S.cloneUnlessOtherwiseSpecified=y;var M=Array.isArray(P),R=Array.isArray(l),N=M===R;return N?M?S.arrayMerge(l,P,S):w(l,P,S):y(P,S)}_.all=function(P,S){if(!Array.isArray(P))throw new Error("first argument should be an array");return P.reduce(function(M,R){return _(M,R,S)},{})};var a=_;G.exports=a},65987:G=>{"use strict";var s={single_source_shortest_paths:function(e,o,m){var f={},d={};d[o]=0;var g=s.PriorityQueue.make();g.push(o,0);for(var y,C,v,b,x,E,O,w,_;!g.empty();){y=g.pop(),C=y.value,b=y.cost,x=e[C]||{};for(v in x)x.hasOwnProperty(v)&&(E=x[v],O=b+E,w=d[v],_=typeof d[v]=="undefined",(_||w>O)&&(d[v]=O,g.push(v,O),f[v]=C))}if(typeof m!="undefined"&&typeof d[m]=="undefined"){var a=["Could not find a path from ",o," to ",m,"."].join("");throw new Error(a)}return f},extract_shortest_path_from_predecessor_list:function(e,o){for(var m=[],f=o,d;f;)m.push(f),d=e[f],f=e[f];return m.reverse(),m},find_path:function(e,o,m){var f=s.single_source_shortest_paths(e,o,m);return s.extract_shortest_path_from_predecessor_list(f,m)},PriorityQueue:{make:function(e){var o=s.PriorityQueue,m={},f;e=e||{};for(f in o)o.hasOwnProperty(f)&&(m[f]=o[f]);return m.queue=[],m.sorter=e.sorter||o.default_sorter,m},default_sorter:function(e,o){return e.cost-o.cost},push:function(e,o){var m={value:e,cost:o};this.queue.push(m),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};G.exports=s},17837:(G,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.attributeNames=s.elementNames=void 0,s.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),s.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(G,s,e){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(R){for(var N,T=1,A=arguments.length;T<A;T++){N=arguments[T];for(var W in N)Object.prototype.hasOwnProperty.call(N,W)&&(R[W]=N[W])}return R},o.apply(this,arguments)},m=this&&this.__createBinding||(Object.create?function(R,N,T,A){A===void 0&&(A=T),Object.defineProperty(R,A,{enumerable:!0,get:function(){return N[T]}})}:function(R,N,T,A){A===void 0&&(A=T),R[A]=N[T]}),f=this&&this.__setModuleDefault||(Object.create?function(R,N){Object.defineProperty(R,"default",{enumerable:!0,value:N})}:function(R,N){R.default=N}),d=this&&this.__importStar||function(R){if(R&&R.__esModule)return R;var N={};if(R!=null)for(var T in R)T!=="default"&&Object.prototype.hasOwnProperty.call(R,T)&&m(N,R,T);return f(N,R),N};Object.defineProperty(s,"__esModule",{value:!0});var g=d(e(99960)),y=e(45863),C=e(17837),v=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function b(R,N){if(R)return Object.keys(R).map(function(T){var A,W,j=(A=R[T])!==null&&A!==void 0?A:"";return N.xmlMode==="foreign"&&(T=(W=C.attributeNames.get(T))!==null&&W!==void 0?W:T),!N.emptyAttrs&&!N.xmlMode&&j===""?T:T+'="'+(N.decodeEntities!==!1?y.encodeXML(j):j.replace(/"/g,"&quot;"))+'"'}).join(" ")}var x=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function E(R,N){N===void 0&&(N={});for(var T=("length"in R)?R:[R],A="",W=0;W<T.length;W++)A+=O(T[W],N);return A}s.default=E;function O(R,N){switch(R.type){case g.Root:return E(R.children,N);case g.Directive:case g.Doctype:return l(R);case g.Comment:return M(R);case g.CDATA:return S(R);case g.Script:case g.Style:case g.Tag:return a(R,N);case g.Text:return P(R,N)}}var w=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=new Set(["svg","math"]);function a(R,N){var T;N.xmlMode==="foreign"&&(R.name=(T=C.elementNames.get(R.name))!==null&&T!==void 0?T:R.name,R.parent&&w.has(R.parent.name)&&(N=o(o({},N),{xmlMode:!1}))),!N.xmlMode&&_.has(R.name)&&(N=o(o({},N),{xmlMode:"foreign"}));var A="<"+R.name,W=b(R.attribs,N);return W&&(A+=" "+W),R.children.length===0&&(N.xmlMode?N.selfClosingTags!==!1:N.selfClosingTags&&x.has(R.name))?(N.xmlMode||(A+=" "),A+="/>"):(A+=">",R.children.length>0&&(A+=E(R.children,N)),(N.xmlMode||!x.has(R.name))&&(A+="</"+R.name+">")),A}function l(R){return"<"+R.data+">"}function P(R,N){var T=R.data||"";return N.decodeEntities!==!1&&!(!N.xmlMode&&R.parent&&v.has(R.parent.name))&&(T=y.encodeXML(T)),T}function S(R){return"<![CDATA["+R.children[0].data+"]]>"}function M(R){return"<!--"+R.data+"-->"}},99960:(G,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.Doctype=s.CDATA=s.Tag=s.Style=s.Script=s.Comment=s.Directive=s.Text=s.Root=s.isTag=s.ElementType=void 0;var e;(function(m){m.Root="root",m.Text="text",m.Directive="directive",m.Comment="comment",m.Script="script",m.Style="style",m.Tag="tag",m.CDATA="cdata",m.Doctype="doctype"})(e=s.ElementType||(s.ElementType={}));function o(m){return m.type===e.Tag||m.type===e.Script||m.type===e.Style}s.isTag=o,s.Root=e.Root,s.Text=e.Text,s.Directive=e.Directive,s.Comment=e.Comment,s.Script=e.Script,s.Style=e.Style,s.Tag=e.Tag,s.CDATA=e.CDATA,s.Doctype=e.Doctype},47915:function(G,s,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(C,v,b,x){x===void 0&&(x=b),Object.defineProperty(C,x,{enumerable:!0,get:function(){return v[b]}})}:function(C,v,b,x){x===void 0&&(x=b),C[x]=v[b]}),m=this&&this.__exportStar||function(C,v){for(var b in C)b!=="default"&&!Object.prototype.hasOwnProperty.call(v,b)&&o(v,C,b)};Object.defineProperty(s,"__esModule",{value:!0}),s.DomHandler=void 0;var f=e(97790);m(e(97790),s);var d=/\s+/g,g={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},y=function(){function C(v,b,x){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof b=="function"&&(x=b,b=g),typeof v=="object"&&(b=v,v=void 0),this._callback=v!=null?v:null,this._options=b!=null?b:g,this._elementCB=x!=null?x:null}return C.prototype.onparserinit=function(v){this._parser=v},C.prototype.onreset=function(){var v;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(v=this._parser)!==null&&v!==void 0?v:null},C.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},C.prototype.onerror=function(v){this.handleCallback(v)},C.prototype.onclosetag=function(){this._lastNode=null;var v=this._tagStack.pop();!v||!this._parser||(this._options.withEndIndices&&(v.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(v))},C.prototype.onopentag=function(v,b){var x=new f.Element(v,b);this.addNode(x),this._tagStack.push(x)},C.prototype.ontext=function(v){var b=this._options.normalizeWhitespace,x=this._lastNode;if(x&&x.type==="text")b?x.data=(x.data+v).replace(d," "):x.data+=v;else{b&&(v=v.replace(d," "));var E=new f.Text(v);this.addNode(E),this._lastNode=E}},C.prototype.oncomment=function(v){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=v;return}var b=new f.Comment(v);this.addNode(b),this._lastNode=b},C.prototype.oncommentend=function(){this._lastNode=null},C.prototype.oncdatastart=function(){var v=new f.Text(""),b=new f.NodeWithChildren("cdata",[v]);this.addNode(b),v.parent=b,this._lastNode=v},C.prototype.oncdataend=function(){this._lastNode=null},C.prototype.onprocessinginstruction=function(v,b){var x=new f.ProcessingInstruction(v,b);this.addNode(x)},C.prototype.handleCallback=function(v){if(typeof this._callback=="function")this._callback(v,this.dom);else if(v)throw v},C.prototype.addNode=function(v){var b=this._tagStack[this._tagStack.length-1],x=b?b.children:this.dom,E=x[x.length-1];this._parser&&(this._options.withStartIndices&&(v.startIndex=this._parser.startIndex),this._options.withEndIndices&&(v.endIndex=this._parser.endIndex)),x.push(v),E&&(v.prev=E,E.next=v),b&&(v.parent=b),this._lastNode=null},C.prototype.addDataNode=function(v){this.addNode(v),this._lastNode=v},C}();s.DomHandler=y,s.default=y},97790:function(G,s){"use strict";var e=this&&this.__extends||function(){var O=function(w,_){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var P in l)Object.prototype.hasOwnProperty.call(l,P)&&(a[P]=l[P])},O(w,_)};return function(w,_){O(w,_);function a(){this.constructor=w}w.prototype=_===null?Object.create(_):(a.prototype=_.prototype,new a)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(O){for(var w,_=1,a=arguments.length;_<a;_++){w=arguments[_];for(var l in w)Object.prototype.hasOwnProperty.call(w,l)&&(O[l]=w[l])}return O},o.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.cloneNode=s.Element=s.NodeWithChildren=s.ProcessingInstruction=s.Comment=s.Text=s.DataNode=s.Node=void 0;var m=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),f=function(){function O(w){this.type=w,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(O.prototype,"nodeType",{get:function(){var w;return(w=m.get(this.type))!==null&&w!==void 0?w:1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"parentNode",{get:function(){return this.parent},set:function(w){this.parent=w},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"previousSibling",{get:function(){return this.prev},set:function(w){this.prev=w},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"nextSibling",{get:function(){return this.next},set:function(w){this.next=w},enumerable:!1,configurable:!0}),O.prototype.cloneNode=function(w){return w===void 0&&(w=!1),x(this,w)},O}();s.Node=f;var d=function(O){e(w,O);function w(_,a){var l=O.call(this,_)||this;return l.data=a,l}return Object.defineProperty(w.prototype,"nodeValue",{get:function(){return this.data},set:function(_){this.data=_},enumerable:!1,configurable:!0}),w}(f);s.DataNode=d;var g=function(O){e(w,O);function w(_){return O.call(this,"text",_)||this}return w}(d);s.Text=g;var y=function(O){e(w,O);function w(_){return O.call(this,"comment",_)||this}return w}(d);s.Comment=y;var C=function(O){e(w,O);function w(_,a){var l=O.call(this,"directive",a)||this;return l.name=_,l}return w}(d);s.ProcessingInstruction=C;var v=function(O){e(w,O);function w(_,a){var l=O.call(this,_)||this;return l.children=a,l}return Object.defineProperty(w.prototype,"firstChild",{get:function(){var _;return(_=this.children[0])!==null&&_!==void 0?_:null},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"childNodes",{get:function(){return this.children},set:function(_){this.children=_},enumerable:!1,configurable:!0}),w}(f);s.NodeWithChildren=v;var b=function(O){e(w,O);function w(_,a,l){l===void 0&&(l=[]);var P=O.call(this,_==="script"?"script":_==="style"?"style":"tag",l)||this;return P.name=_,P.attribs=a,P.attribs=a,P}return Object.defineProperty(w.prototype,"tagName",{get:function(){return this.name},set:function(_){this.name=_},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"attributes",{get:function(){var _=this;return Object.keys(this.attribs).map(function(a){return{name:a,value:_.attribs[a]}})},enumerable:!1,configurable:!0}),w}(v);s.Element=b;function x(O,w){switch(w===void 0&&(w=!1),O.type){case"text":return new g(O.data);case"directive":{var _=O;return new C(_.name,_.data)}case"comment":return new y(O.data);case"tag":case"script":case"style":{var a=O,l=w?E(a.children):[],P=new b(a.name,o({},a.attribs),l);return l.forEach(function(R){return R.parent=P}),P}case"cdata":{var S=O,l=w?E(S.children):[],M=new v("cdata",l);return l.forEach(function(N){return N.parent=M}),M}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}s.cloneNode=x;function E(O){for(var w=O.map(function(a){return x(a,!0)}),_=1;_<w.length;_++)w[_].prev=w[_-1],w[_-1].next=w[_];return w}},16996:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getFeed=void 0;var o=e(43346),m=e(23905);function f(w){var _=b(O,w);return _?_.name==="feed"?d(_):g(_):null}s.getFeed=f;function d(w){var _,a=w.children,l={type:"atom",items:(0,m.getElementsByTagName)("entry",a).map(function(M){var R,N=M.children,T={media:v(N)};E(T,"id","id",N),E(T,"title","title",N);var A=(R=b("link",N))===null||R===void 0?void 0:R.attribs.href;A&&(T.link=A);var W=x("summary",N)||x("content",N);W&&(T.description=W);var j=x("updated",N);return j&&(T.pubDate=new Date(j)),T})};E(l,"id","id",a),E(l,"title","title",a);var P=(_=b("link",a))===null||_===void 0?void 0:_.attribs.href;P&&(l.link=P),E(l,"description","subtitle",a);var S=x("updated",a);return S&&(l.updated=new Date(S)),E(l,"author","email",a,!0),l}function g(w){var _,a,l=(a=(_=b("channel",w.children))===null||_===void 0?void 0:_.children)!==null&&a!==void 0?a:[],P={type:w.name.substr(0,3),id:"",items:(0,m.getElementsByTagName)("item",w.children).map(function(M){var R=M.children,N={media:v(R)};E(N,"id","guid",R),E(N,"title","title",R),E(N,"link","link",R),E(N,"description","description",R);var T=x("pubDate",R);return T&&(N.pubDate=new Date(T)),N})};E(P,"title","title",l),E(P,"link","link",l),E(P,"description","description",l);var S=x("lastBuildDate",l);return S&&(P.updated=new Date(S)),E(P,"author","managingEditor",l,!0),P}var y=["url","type","lang"],C=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function v(w){return(0,m.getElementsByTagName)("media:content",w).map(function(_){for(var a=_.attribs,l={medium:a.medium,isDefault:!!a.isDefault},P=0,S=y;P<S.length;P++){var M=S[P];a[M]&&(l[M]=a[M])}for(var R=0,N=C;R<N.length;R++){var M=N[R];a[M]&&(l[M]=parseInt(a[M],10))}return a.expression&&(l.expression=a.expression),l})}function b(w,_){return(0,m.getElementsByTagName)(w,_,!0,1)[0]}function x(w,_,a){return a===void 0&&(a=!1),(0,o.textContent)((0,m.getElementsByTagName)(w,_,a,1)).trim()}function E(w,_,a,l,P){P===void 0&&(P=!1);var S=x(a,l,P);S&&(w[_]=S)}function O(w){return w==="rss"||w==="feed"||w==="rdf:RDF"}},74975:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.uniqueSort=s.compareDocumentPosition=s.removeSubsets=void 0;var o=e(63317);function m(g){for(var y=g.length;--y>=0;){var C=g[y];if(y>0&&g.lastIndexOf(C,y-1)>=0){g.splice(y,1);continue}for(var v=C.parent;v;v=v.parent)if(g.includes(v)){g.splice(y,1);break}}return g}s.removeSubsets=m;function f(g,y){var C=[],v=[];if(g===y)return 0;for(var b=(0,o.hasChildren)(g)?g:g.parent;b;)C.unshift(b),b=b.parent;for(b=(0,o.hasChildren)(y)?y:y.parent;b;)v.unshift(b),b=b.parent;for(var x=Math.min(C.length,v.length),E=0;E<x&&C[E]===v[E];)E++;if(E===0)return 1;var O=C[E-1],w=O.children,_=C[E],a=v[E];return w.indexOf(_)>w.indexOf(a)?O===y?20:4:O===g?10:2}s.compareDocumentPosition=f;function d(g){return g=g.filter(function(y,C,v){return!v.includes(y,C+1)}),g.sort(function(y,C){var v=f(y,C);return v&2?-1:v&4?1:0}),g}s.uniqueSort=d},89432:function(G,s,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(d,g,y,C){C===void 0&&(C=y),Object.defineProperty(d,C,{enumerable:!0,get:function(){return g[y]}})}:function(d,g,y,C){C===void 0&&(C=y),d[C]=g[y]}),m=this&&this.__exportStar||function(d,g){for(var y in d)y!=="default"&&!Object.prototype.hasOwnProperty.call(g,y)&&o(g,d,y)};Object.defineProperty(s,"__esModule",{value:!0}),s.hasChildren=s.isDocument=s.isComment=s.isText=s.isCDATA=s.isTag=void 0,m(e(43346),s),m(e(85010),s),m(e(26765),s),m(e(98043),s),m(e(23905),s),m(e(74975),s),m(e(16996),s);var f=e(63317);Object.defineProperty(s,"isTag",{enumerable:!0,get:function(){return f.isTag}}),Object.defineProperty(s,"isCDATA",{enumerable:!0,get:function(){return f.isCDATA}}),Object.defineProperty(s,"isText",{enumerable:!0,get:function(){return f.isText}}),Object.defineProperty(s,"isComment",{enumerable:!0,get:function(){return f.isComment}}),Object.defineProperty(s,"isDocument",{enumerable:!0,get:function(){return f.isDocument}}),Object.defineProperty(s,"hasChildren",{enumerable:!0,get:function(){return f.hasChildren}})},23905:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getElementsByTagType=s.getElementsByTagName=s.getElementById=s.getElements=s.testElement=void 0;var o=e(63317),m=e(98043),f={tag_name:function(O){return typeof O=="function"?function(w){return(0,o.isTag)(w)&&O(w.name)}:O==="*"?o.isTag:function(w){return(0,o.isTag)(w)&&w.name===O}},tag_type:function(O){return typeof O=="function"?function(w){return O(w.type)}:function(w){return w.type===O}},tag_contains:function(O){return typeof O=="function"?function(w){return(0,o.isText)(w)&&O(w.data)}:function(w){return(0,o.isText)(w)&&w.data===O}}};function d(O,w){return typeof w=="function"?function(_){return(0,o.isTag)(_)&&w(_.attribs[O])}:function(_){return(0,o.isTag)(_)&&_.attribs[O]===w}}function g(O,w){return function(_){return O(_)||w(_)}}function y(O){var w=Object.keys(O).map(function(_){var a=O[_];return Object.prototype.hasOwnProperty.call(f,_)?f[_](a):d(_,a)});return w.length===0?null:w.reduce(g)}function C(O,w){var _=y(O);return _?_(w):!0}s.testElement=C;function v(O,w,_,a){a===void 0&&(a=1/0);var l=y(O);return l?(0,m.filter)(l,w,_,a):[]}s.getElements=v;function b(O,w,_){return _===void 0&&(_=!0),Array.isArray(w)||(w=[w]),(0,m.findOne)(d("id",O),w,_)}s.getElementById=b;function x(O,w,_,a){return _===void 0&&(_=!0),a===void 0&&(a=1/0),(0,m.filter)(f.tag_name(O),w,_,a)}s.getElementsByTagName=x;function E(O,w,_,a){return _===void 0&&(_=!0),a===void 0&&(a=1/0),(0,m.filter)(f.tag_type(O),w,_,a)}s.getElementsByTagType=E},26765:(G,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.prepend=s.prependChild=s.append=s.appendChild=s.replaceElement=s.removeElement=void 0;function e(y){if(y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),y.parent){var C=y.parent.children;C.splice(C.lastIndexOf(y),1)}}s.removeElement=e;function o(y,C){var v=C.prev=y.prev;v&&(v.next=C);var b=C.next=y.next;b&&(b.prev=C);var x=C.parent=y.parent;if(x){var E=x.children;E[E.lastIndexOf(y)]=C}}s.replaceElement=o;function m(y,C){if(e(C),C.next=null,C.parent=y,y.children.push(C)>1){var v=y.children[y.children.length-2];v.next=C,C.prev=v}else C.prev=null}s.appendChild=m;function f(y,C){e(C);var v=y.parent,b=y.next;if(C.next=b,C.prev=y,y.next=C,C.parent=v,b){if(b.prev=C,v){var x=v.children;x.splice(x.lastIndexOf(b),0,C)}}else v&&v.children.push(C)}s.append=f;function d(y,C){if(e(C),C.parent=y,C.prev=null,y.children.unshift(C)!==1){var v=y.children[1];v.prev=C,C.next=v}else C.next=null}s.prependChild=d;function g(y,C){e(C);var v=y.parent;if(v){var b=v.children;b.splice(b.indexOf(y),0,C)}y.prev&&(y.prev.next=C),C.parent=v,C.prev=y.prev,C.next=y,y.prev=C}s.prepend=g},98043:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.findAll=s.existsOne=s.findOne=s.findOneChild=s.find=s.filter=void 0;var o=e(63317);function m(v,b,x,E){return x===void 0&&(x=!0),E===void 0&&(E=1/0),Array.isArray(b)||(b=[b]),f(v,b,x,E)}s.filter=m;function f(v,b,x,E){for(var O=[],w=0,_=b;w<_.length;w++){var a=_[w];if(v(a)&&(O.push(a),--E<=0))break;if(x&&(0,o.hasChildren)(a)&&a.children.length>0){var l=f(v,a.children,x,E);if(O.push.apply(O,l),E-=l.length,E<=0)break}}return O}s.find=f;function d(v,b){return b.find(v)}s.findOneChild=d;function g(v,b,x){x===void 0&&(x=!0);for(var E=null,O=0;O<b.length&&!E;O++){var w=b[O];if((0,o.isTag)(w))v(w)?E=w:x&&w.children.length>0&&(E=g(v,w.children));else continue}return E}s.findOne=g;function y(v,b){return b.some(function(x){return(0,o.isTag)(x)&&(v(x)||x.children.length>0&&y(v,x.children))})}s.existsOne=y;function C(v,b){for(var x,E=[],O=b.filter(o.isTag),w;w=O.shift();){var _=(x=w.children)===null||x===void 0?void 0:x.filter(o.isTag);_&&_.length>0&&O.unshift.apply(O,_),v(w)&&E.push(w)}return E}s.findAll=C},43346:function(G,s,e){"use strict";var o=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(s,"__esModule",{value:!0}),s.innerText=s.textContent=s.getText=s.getInnerHTML=s.getOuterHTML=void 0;var m=e(63317),f=o(e(97220)),d=e(99960);function g(x,E){return(0,f.default)(x,E)}s.getOuterHTML=g;function y(x,E){return(0,m.hasChildren)(x)?x.children.map(function(O){return g(O,E)}).join(""):""}s.getInnerHTML=y;function C(x){return Array.isArray(x)?x.map(C).join(""):(0,m.isTag)(x)?x.name==="br"?`
`:C(x.children):(0,m.isCDATA)(x)?C(x.children):(0,m.isText)(x)?x.data:""}s.getText=C;function v(x){return Array.isArray(x)?x.map(v).join(""):(0,m.hasChildren)(x)&&!(0,m.isComment)(x)?v(x.children):(0,m.isText)(x)?x.data:""}s.textContent=v;function b(x){return Array.isArray(x)?x.map(b).join(""):(0,m.hasChildren)(x)&&(x.type===d.ElementType.Tag||(0,m.isCDATA)(x))?b(x.children):(0,m.isText)(x)?x.data:""}s.innerText=b},85010:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.prevElementSibling=s.nextElementSibling=s.getName=s.hasAttrib=s.getAttributeValue=s.getSiblings=s.getParent=s.getChildren=void 0;var o=e(63317),m=[];function f(E){var O;return(O=E.children)!==null&&O!==void 0?O:m}s.getChildren=f;function d(E){return E.parent||null}s.getParent=d;function g(E){var O,w,_=d(E);if(_!=null)return f(_);for(var a=[E],l=E.prev,P=E.next;l!=null;)a.unshift(l),O=l,l=O.prev;for(;P!=null;)a.push(P),w=P,P=w.next;return a}s.getSiblings=g;function y(E,O){var w;return(w=E.attribs)===null||w===void 0?void 0:w[O]}s.getAttributeValue=y;function C(E,O){return E.attribs!=null&&Object.prototype.hasOwnProperty.call(E.attribs,O)&&E.attribs[O]!=null}s.hasAttrib=C;function v(E){return E.name}s.getName=v;function b(E){for(var O,w=E.next;w!==null&&!(0,o.isTag)(w);)O=w,w=O.next;return w}s.nextElementSibling=b;function x(E){for(var O,w=E.prev;w!==null&&!(0,o.isTag)(w);)O=w,w=O.prev;return w}s.prevElementSibling=x},63317:function(G,s,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(v,b,x,E){E===void 0&&(E=x);var O=Object.getOwnPropertyDescriptor(b,x);(!O||("get"in O?!b.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return b[x]}}),Object.defineProperty(v,E,O)}:function(v,b,x,E){E===void 0&&(E=x),v[E]=b[x]}),m=this&&this.__exportStar||function(v,b){for(var x in v)x!=="default"&&!Object.prototype.hasOwnProperty.call(b,x)&&o(b,v,x)};Object.defineProperty(s,"__esModule",{value:!0}),s.DomHandler=void 0;var f=e(99960),d=e(50943);m(e(50943),s);var g=/\s+/g,y={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},C=function(){function v(b,x,E){this.dom=[],this.root=new d.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof x=="function"&&(E=x,x=y),typeof b=="object"&&(x=b,b=void 0),this.callback=b!=null?b:null,this.options=x!=null?x:y,this.elementCB=E!=null?E:null}return v.prototype.onparserinit=function(b){this.parser=b},v.prototype.onreset=function(){this.dom=[],this.root=new d.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},v.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},v.prototype.onerror=function(b){this.handleCallback(b)},v.prototype.onclosetag=function(){this.lastNode=null;var b=this.tagStack.pop();this.options.withEndIndices&&(b.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(b)},v.prototype.onopentag=function(b,x){var E=this.options.xmlMode?f.ElementType.Tag:void 0,O=new d.Element(b,x,void 0,E);this.addNode(O),this.tagStack.push(O)},v.prototype.ontext=function(b){var x=this.options.normalizeWhitespace,E=this.lastNode;if(E&&E.type===f.ElementType.Text)x?E.data=(E.data+b).replace(g," "):E.data+=b,this.options.withEndIndices&&(E.endIndex=this.parser.endIndex);else{x&&(b=b.replace(g," "));var O=new d.Text(b);this.addNode(O),this.lastNode=O}},v.prototype.oncomment=function(b){if(this.lastNode&&this.lastNode.type===f.ElementType.Comment){this.lastNode.data+=b;return}var x=new d.Comment(b);this.addNode(x),this.lastNode=x},v.prototype.oncommentend=function(){this.lastNode=null},v.prototype.oncdatastart=function(){var b=new d.Text(""),x=new d.NodeWithChildren(f.ElementType.CDATA,[b]);this.addNode(x),b.parent=x,this.lastNode=b},v.prototype.oncdataend=function(){this.lastNode=null},v.prototype.onprocessinginstruction=function(b,x){var E=new d.ProcessingInstruction(b,x);this.addNode(E)},v.prototype.handleCallback=function(b){if(typeof this.callback=="function")this.callback(b,this.dom);else if(b)throw b},v.prototype.addNode=function(b){var x=this.tagStack[this.tagStack.length-1],E=x.children[x.children.length-1];this.options.withStartIndices&&(b.startIndex=this.parser.startIndex),this.options.withEndIndices&&(b.endIndex=this.parser.endIndex),x.children.push(b),E&&(b.prev=E,E.next=b),b.parent=x,this.lastNode=null},v}();s.DomHandler=C,s.default=C},50943:function(G,s,e){"use strict";var o=this&&this.__extends||function(){var T=function(A,W){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,Z){j.__proto__=Z}||function(j,Z){for(var J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&(j[J]=Z[J])},T(A,W)};return function(A,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");T(A,W);function j(){this.constructor=A}A.prototype=W===null?Object.create(W):(j.prototype=W.prototype,new j)}}(),m=this&&this.__assign||function(){return m=Object.assign||function(T){for(var A,W=1,j=arguments.length;W<j;W++){A=arguments[W];for(var Z in A)Object.prototype.hasOwnProperty.call(A,Z)&&(T[Z]=A[Z])}return T},m.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.cloneNode=s.hasChildren=s.isDocument=s.isDirective=s.isComment=s.isText=s.isCDATA=s.isTag=s.Element=s.Document=s.NodeWithChildren=s.ProcessingInstruction=s.Comment=s.Text=s.DataNode=s.Node=void 0;var f=e(99960),d=new Map([[f.ElementType.Tag,1],[f.ElementType.Script,1],[f.ElementType.Style,1],[f.ElementType.Directive,1],[f.ElementType.Text,3],[f.ElementType.CDATA,4],[f.ElementType.Comment,8],[f.ElementType.Root,9]]),g=function(){function T(A){this.type=A,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(T.prototype,"nodeType",{get:function(){var A;return(A=d.get(this.type))!==null&&A!==void 0?A:1},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(A){this.parent=A},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(A){this.prev=A},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(A){this.next=A},enumerable:!1,configurable:!0}),T.prototype.cloneNode=function(A){return A===void 0&&(A=!1),R(this,A)},T}();s.Node=g;var y=function(T){o(A,T);function A(W,j){var Z=T.call(this,W)||this;return Z.data=j,Z}return Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.data},set:function(W){this.data=W},enumerable:!1,configurable:!0}),A}(g);s.DataNode=y;var C=function(T){o(A,T);function A(W){return T.call(this,f.ElementType.Text,W)||this}return A}(y);s.Text=C;var v=function(T){o(A,T);function A(W){return T.call(this,f.ElementType.Comment,W)||this}return A}(y);s.Comment=v;var b=function(T){o(A,T);function A(W,j){var Z=T.call(this,f.ElementType.Directive,j)||this;return Z.name=W,Z}return A}(y);s.ProcessingInstruction=b;var x=function(T){o(A,T);function A(W,j){var Z=T.call(this,W)||this;return Z.children=j,Z}return Object.defineProperty(A.prototype,"firstChild",{get:function(){var W;return(W=this.children[0])!==null&&W!==void 0?W:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return this.children},set:function(W){this.children=W},enumerable:!1,configurable:!0}),A}(g);s.NodeWithChildren=x;var E=function(T){o(A,T);function A(W){return T.call(this,f.ElementType.Root,W)||this}return A}(x);s.Document=E;var O=function(T){o(A,T);function A(W,j,Z,J){Z===void 0&&(Z=[]),J===void 0&&(J=W==="script"?f.ElementType.Script:W==="style"?f.ElementType.Style:f.ElementType.Tag);var Q=T.call(this,J,Z)||this;return Q.name=W,Q.attribs=j,Q}return Object.defineProperty(A.prototype,"tagName",{get:function(){return this.name},set:function(W){this.name=W},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"attributes",{get:function(){var W=this;return Object.keys(this.attribs).map(function(j){var Z,J;return{name:j,value:W.attribs[j],namespace:(Z=W["x-attribsNamespace"])===null||Z===void 0?void 0:Z[j],prefix:(J=W["x-attribsPrefix"])===null||J===void 0?void 0:J[j]}})},enumerable:!1,configurable:!0}),A}(x);s.Element=O;function w(T){return(0,f.isTag)(T)}s.isTag=w;function _(T){return T.type===f.ElementType.CDATA}s.isCDATA=_;function a(T){return T.type===f.ElementType.Text}s.isText=a;function l(T){return T.type===f.ElementType.Comment}s.isComment=l;function P(T){return T.type===f.ElementType.Directive}s.isDirective=P;function S(T){return T.type===f.ElementType.Root}s.isDocument=S;function M(T){return Object.prototype.hasOwnProperty.call(T,"children")}s.hasChildren=M;function R(T,A){A===void 0&&(A=!1);var W;if(a(T))W=new C(T.data);else if(l(T))W=new v(T.data);else if(w(T)){var j=A?N(T.children):[],Z=new O(T.name,m({},T.attribs),j);j.forEach(function(te){return te.parent=Z}),T.namespace!=null&&(Z.namespace=T.namespace),T["x-attribsNamespace"]&&(Z["x-attribsNamespace"]=m({},T["x-attribsNamespace"])),T["x-attribsPrefix"]&&(Z["x-attribsPrefix"]=m({},T["x-attribsPrefix"])),W=Z}else if(_(T)){var j=A?N(T.children):[],J=new x(f.ElementType.CDATA,j);j.forEach(function(B){return B.parent=J}),W=J}else if(S(T)){var j=A?N(T.children):[],Q=new E(j);j.forEach(function(B){return B.parent=Q}),T["x-mode"]&&(Q["x-mode"]=T["x-mode"]),W=Q}else if(P(T)){var ne=new b(T.name,T.data);T["x-name"]!=null&&(ne["x-name"]=T["x-name"],ne["x-publicId"]=T["x-publicId"],ne["x-systemId"]=T["x-systemId"]),W=ne}else throw new Error("Not implemented yet: ".concat(T.type));return W.startIndex=T.startIndex,W.endIndex=T.endIndex,T.sourceCodeLocation!=null&&(W.sourceCodeLocation=T.sourceCodeLocation),W}s.cloneNode=R;function N(T){for(var A=T.map(function(j){return R(j,!0)}),W=1;W<A.length;W++)A[W].prev=A[W-1],A[W-1].next=A[W];return A}},62378:G=>{"use strict";G.exports=function(e){for(var o=[],m=e.length,f=0;f<m;f++){var d=e.charCodeAt(f);if(d>=55296&&d<=56319&&m>f+1){var g=e.charCodeAt(f+1);g>=56320&&g<=57343&&(d=(d-55296)*1024+g-56320+65536,f+=1)}if(d<128){o.push(d);continue}if(d<2048){o.push(d>>6|192),o.push(d&63|128);continue}if(d<55296||d>=57344&&d<65536){o.push(d>>12|224),o.push(d>>6&63|128),o.push(d&63|128);continue}if(d>=65536&&d<=1114111){o.push(d>>18|240),o.push(d>>12&63|128),o.push(d>>6&63|128),o.push(d&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer}},44076:function(G,s,e){"use strict";var o=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(s,"__esModule",{value:!0}),s.decodeHTML=s.decodeHTMLStrict=s.decodeXML=void 0;var m=o(e(59323)),f=o(e(29591)),d=o(e(2586)),g=o(e(26)),y=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;s.decodeXML=C(d.default),s.decodeHTMLStrict=C(m.default);function C(x){var E=b(x);return function(O){return String(O).replace(y,E)}}var v=function(x,E){return x<E?1:-1};s.decodeHTML=function(){for(var x=Object.keys(f.default).sort(v),E=Object.keys(m.default).sort(v),O=0,w=0;O<E.length;O++)x[w]===E[O]?(E[O]+=";?",w++):E[O]+=";";var _=new RegExp("&(?:"+E.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=b(m.default);function l(P){return P.substr(-1)!==";"&&(P+=";"),a(P)}return function(P){return String(P).replace(_,l)}}();function b(x){return function(O){if(O.charAt(1)==="#"){var w=O.charAt(2);return w==="X"||w==="x"?g.default(parseInt(O.substr(3),16)):g.default(parseInt(O.substr(2),10))}return x[O.slice(1,-1)]||O}}},26:function(G,s,e){"use strict";var o=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(s,"__esModule",{value:!0});var m=o(e(33600)),f=String.fromCodePoint||function(g){var y="";return g>65535&&(g-=65536,y+=String.fromCharCode(g>>>10&1023|55296),g=56320|g&1023),y+=String.fromCharCode(g),y};function d(g){return g>=55296&&g<=57343||g>1114111?"\uFFFD":(g in m.default&&(g=m.default[g]),f(g))}s.default=d},87322:function(G,s,e){"use strict";var o=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(s,"__esModule",{value:!0}),s.escapeUTF8=s.escape=s.encodeNonAsciiHTML=s.encodeHTML=s.encodeXML=void 0;var m=o(e(2586)),f=v(m.default),d=b(f);s.encodeXML=P(f);var g=o(e(59323)),y=v(g.default),C=b(y);s.encodeHTML=w(y,C),s.encodeNonAsciiHTML=P(y);function v(S){return Object.keys(S).sort().reduce(function(M,R){return M[S[R]]="&"+R+";",M},{})}function b(S){for(var M=[],R=[],N=0,T=Object.keys(S);N<T.length;N++){var A=T[N];A.length===1?M.push("\\"+A):R.push(A)}M.sort();for(var W=0;W<M.length-1;W++){for(var j=W;j<M.length-1&&M[j].charCodeAt(1)+1===M[j+1].charCodeAt(1);)j+=1;var Z=1+j-W;Z<3||M.splice(W,Z,M[W]+"-"+M[j])}return R.unshift("["+M.join("")+"]"),new RegExp(R.join("|"),"g")}var x=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,E=String.prototype.codePointAt!=null?function(S){return S.codePointAt(0)}:function(S){return(S.charCodeAt(0)-55296)*1024+S.charCodeAt(1)-56320+65536};function O(S){return"&#x"+(S.length>1?E(S):S.charCodeAt(0)).toString(16).toUpperCase()+";"}function w(S,M){return function(R){return R.replace(M,function(N){return S[N]}).replace(x,O)}}var _=new RegExp(d.source+"|"+x.source,"g");function a(S){return S.replace(_,O)}s.escape=a;function l(S){return S.replace(d,O)}s.escapeUTF8=l;function P(S){return function(M){return M.replace(_,function(R){return S[R]||O(R)})}}},45863:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.decodeXMLStrict=s.decodeHTML5Strict=s.decodeHTML4Strict=s.decodeHTML5=s.decodeHTML4=s.decodeHTMLStrict=s.decodeHTML=s.decodeXML=s.encodeHTML5=s.encodeHTML4=s.escapeUTF8=s.escape=s.encodeNonAsciiHTML=s.encodeHTML=s.encodeXML=s.encode=s.decodeStrict=s.decode=void 0;var o=e(44076),m=e(87322);function f(v,b){return(!b||b<=0?o.decodeXML:o.decodeHTML)(v)}s.decode=f;function d(v,b){return(!b||b<=0?o.decodeXML:o.decodeHTMLStrict)(v)}s.decodeStrict=d;function g(v,b){return(!b||b<=0?m.encodeXML:m.encodeHTML)(v)}s.encode=g;var y=e(87322);Object.defineProperty(s,"encodeXML",{enumerable:!0,get:function(){return y.encodeXML}}),Object.defineProperty(s,"encodeHTML",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(s,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return y.encodeNonAsciiHTML}}),Object.defineProperty(s,"escape",{enumerable:!0,get:function(){return y.escape}}),Object.defineProperty(s,"escapeUTF8",{enumerable:!0,get:function(){return y.escapeUTF8}}),Object.defineProperty(s,"encodeHTML4",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(s,"encodeHTML5",{enumerable:!0,get:function(){return y.encodeHTML}});var C=e(44076);Object.defineProperty(s,"decodeXML",{enumerable:!0,get:function(){return C.decodeXML}}),Object.defineProperty(s,"decodeHTML",{enumerable:!0,get:function(){return C.decodeHTML}}),Object.defineProperty(s,"decodeHTMLStrict",{enumerable:!0,get:function(){return C.decodeHTMLStrict}}),Object.defineProperty(s,"decodeHTML4",{enumerable:!0,get:function(){return C.decodeHTML}}),Object.defineProperty(s,"decodeHTML5",{enumerable:!0,get:function(){return C.decodeHTML}}),Object.defineProperty(s,"decodeHTML4Strict",{enumerable:!0,get:function(){return C.decodeHTMLStrict}}),Object.defineProperty(s,"decodeHTML5Strict",{enumerable:!0,get:function(){return C.decodeHTMLStrict}}),Object.defineProperty(s,"decodeXMLStrict",{enumerable:!0,get:function(){return C.decodeXML}})},16129:G=>{"use strict";const s={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3"};G.exports=s},14531:(G,s,e)=>{"use strict";e.d(s,{A:()=>o});const o={postAuthor:"custom-css-email-post-author",avatar:"custom-css-email-avatar",digestPostEmbed:"custom-css-email-digest-post-embed"}},82626:(G,s,e)=>{"use strict";e.d(s,{Substitutions:()=>o});const o={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",NUM_REFERRALS_REQUIRED:"%%num_referrals_required%%",REWARD_DESCRIPTION:"%%reward_description%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},91004:(G,s,e)=>{"use strict";e.d(s,{B8:()=>M,BZ:()=>P,O1:()=>R,Po:()=>S,Ui:()=>a,Vn:()=>_,WZ:()=>l,Wn:()=>x,b6:()=>w,lc:()=>E,sn:()=>O});var o=e(4605),m=e(3258),f=e(58884),d=e(39419),g=e.n(d),y=e(15045),C=e(70444),v=e(83322);function b(N,T,A){const{shareUrl:W,post:j,pub:Z,utm_campaign:J}=A;(0,m.j)(m.FP.SHARE_LINK_CLICKED,{name:N,post_id:j?j.id:null,source:J});const Q=T(W);Q&&typeof Q=="string"&&(Q.startsWith("http")?window.open(Q,"_blank"):document.location.href=Q),(0,f.ex)(`${Z==null?void 0:Z.subdomain} shared`,!0)}function x(N){const{pub:T,post:A,sharingSelfPub:W,shareName:j}=N,Z=(T==null?void 0:T.twitter_screen_name)||T&&v.twitterScreenNames[T.subdomain];let J=j;T&&W?J="I just started a Substack! You can subscribe to it here":(T&&!A&&(J=`Subscribe to ${J}`),Z&&(!A||T&&(!A.publishedBylines.length||A.publishedBylines.some(Q=>Q.id===T.author_id)))&&(J+=`, by @${Z}`)),b("twitter",Q=>(0,y.pathWithQuery)("https://twitter.com/share",{url:Q,text:J}),N)}function E(N){b("linkedin",T=>(0,y.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:T}),N)}function O(N){b("reddit",T=>(0,y.pathWithQuery)("https://www.reddit.com/submit/",{url:T,title:N.shareName}),N)}function w(N){b("hackernews",T=>(0,y.pathWithQuery)("https://news.ycombinator.com/submitlink",{url:T,title:N.shareName}),N)}function _(N){b("pinterest",T=>(0,y.pathWithQuery)("https://www.pinterest.com/pin/create/button",{u:T,description:N.shareName}),N)}function a(N){b("copy",T=>((0,d.copyToClipboard)(T),!1),N),(0,o.ZP)("Link copied to clipboard")}function l(N){b("email",T=>(0,y.pathWithQuery)("mailto:",{subject:N.shareName,body:T}),N)}function P(N){b("notes",T=>(0,y.pathWithQuery)((0,C.TK)({message:T})),N)}function S(N){b("facebook",T=>(0,y.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:T}),N)}function M(N={}){const{post:T,pub:A,profile:W}=N;return T?T.title:A?A.name:W?`${W.name} on Substack`:document.title}function R(N,T={}){const{pub:A,post:W,profile:j,user:Z,utm_campaign:J,medium:Q}=T,ne={r:Z!=null&&Z.id?Z.id.toString(36):null,utm_campaign:J||(W?"post":j?"profile":A?"pub":"unknown"),utm_medium:Q||"web",utm_source:N};return A!=null&&A.subdomain&&(W!=null&&W.slug)?(0,y.getPostAppLinkUrl)(A.subdomain,W.slug,{params:ne}):(0,y.pathWithQuery)(`${W?(0,y.getPostUrl)(A,W):A?`${A.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,ne)}},36487:(G,s,e)=>{"use strict";e.d(s,{u:()=>m});var o=e(83322);function m(f){let d;try{d=new URL(f)}catch(C){return console.error("Failed to parse URL",f,C),f}d.hostname=d.hostname.replace(/^www\./,""),d.pathname=d.pathname.replace(/\/+$/,""),d.hash="";const g=[];d.hostname.includes("youtube")&&g.push("v"),d.searchParams.forEach((C,v)=>{g.includes(v)||d.searchParams.delete(v)});const y=d.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return y?(0,o.truncateText)(y,40):f}},55687:(G,s,e)=>{"use strict";e.d(s,{u:()=>m});const o=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function m(f){return o.format(f)}},80076:(G,s,e)=>{"use strict";e.d(s,{d:()=>o});function o(m){return Array.from(m.items).filter(f=>f.kind==="file"&&f.type.startsWith("image/")).length>0}},62952:(G,s,e)=>{"use strict";e.d(s,{h:()=>f});var o=e(30396),m=e(80076);function f({onAddFiles:d}){const g=(0,o.sO)(),y=(0,o.sO)(),[C,v]=(0,o.eJ)(!1),b=w=>{w instanceof DragEvent&&!w.defaultPrevented&&w.dataTransfer&&(0,m.d)(w.dataTransfer)&&(w.preventDefault(),d(Array.from(w.dataTransfer.files)),v(!1))},x=w=>{const{current:_}=g,{target:a}=w;!C&&_&&a&&a instanceof HTMLDivElement&&(_===a||_.contains(a))&&w.dataTransfer&&(0,m.d)(w.dataTransfer)&&(w.preventDefault(),y.current=a,v(!0))},E=w=>{y.current&&w.preventDefault()},O=w=>{const{current:_}=y;_&&w.relatedTarget!==_&&!_.contains(w.relatedTarget)&&(y.current=void 0,v(!1))};return{isDragging:C,props:{onDragEnter:x,onDragOver:E,onDragLeave:O,onDragEnd:O,onDrop:b,ref:g}}}},4070:(G,s,e)=>{"use strict";e.d(s,{Z:()=>Z});var o=e(30396);function m(ne){var te,B;let V=0;if(ne)if(ne.content&&ne.content.length>0)for(const re of ne.content)V+=m(re);else V+=(B=(te=ne.text)==null?void 0:te.length)!=null?B:0;return V}var f=e(83322),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(ne,te,B)=>te in ne?d(ne,te,{enumerable:!0,configurable:!0,writable:!0,value:B}):ne[te]=B,E=(ne,te)=>{for(var B in te||(te={}))v.call(te,B)&&x(ne,B,te[B]);if(C)for(var B of C(te))b.call(te,B)&&x(ne,B,te[B]);return ne},O=(ne,te)=>g(ne,y(te));function w(ne,{limit:te=420}={}){var B,V,re,le;let ae=null,q=0,oe=!1;if(ne)if(te<=0)oe=!0;else if(ne.content&&ne.content.length>0){ae=O(E({},ne),{content:[]});for(const z of ne.content){const ie=w(z,{limit:te-q});if(ie.doc){if((B=ae.content)==null||B.push(ie.doc),q+=ie.length,ie.isTruncated){oe=!0;break}}else{oe=!0;break}}}else ae=O(E({},ne),{text:(V=(0,f.truncateText)(ne.text,te))!=null?V:void 0}),q+=(le=(re=ae.text)==null?void 0:re.length)!=null?le:0,ne.text!==ae.text&&(oe=!0);return{doc:ae,length:q,isTruncated:oe}}var _=e(36487),a=Object.defineProperty,l=Object.defineProperties,P=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,N=(ne,te,B)=>te in ne?a(ne,te,{enumerable:!0,configurable:!0,writable:!0,value:B}):ne[te]=B,T=(ne,te)=>{for(var B in te||(te={}))M.call(te,B)&&N(ne,B,te[B]);if(S)for(var B of S(te))R.call(te,B)&&N(ne,B,te[B]);return ne},A=(ne,te)=>l(ne,P(te));const W=420,j=380;function Z(ne,{limit:te=W,triggerLimit:B=j}={}){return(0,o.Ye)(()=>{var V;const re=(V=ne==null?void 0:ne.body_json)!=null?V:ne!=null&&ne.body?J(ne.body):null,le=Q(re);if(m(le)<=B)return{bodyJson:le,truncatedBodyJson:le,isTruncated:!1};const ae=w(le,{limit:te});return{bodyJson:le,truncatedBodyJson:ae.doc,isTruncated:ae.isTruncated}},[ne==null?void 0:ne.body,ne==null?void 0:ne.body_json])}function J(ne){return{type:"dov",attrs:{schemaVersion:"v1"},content:ne.split(`

`).map(te=>({type:"paragraph",content:[{type:"text",text:te}]}))}}function Q(ne){var te,B;let V=null;if(ne)if(V=A(T({},ne),{content:void 0,text:void 0}),ne!=null&&ne.content){V.content=[];for(const re of ne.content){const le=Q(re);le&&V.content.push(le)}}else{const re=(te=ne.marks)==null?void 0:te.find(le=>le.type==="link");(B=re==null?void 0:re.attrs)!=null&&B.href?V.text=(0,_.u)(re.attrs.href):V.text=ne.text}return V}},95582:(G,s,e)=>{"use strict";e.d(s,{L:()=>f});var o=e(30396),m=(d,g,y)=>new Promise((C,v)=>{var b=O=>{try{E(y.next(O))}catch(w){v(w)}},x=O=>{try{E(y.throw(O))}catch(w){v(w)}},E=O=>O.done?C(O.value):Promise.resolve(O.value).then(b,x);E((y=y.apply(d,g)).next())});function f(d,g){const[y,C]=(0,o._Y)(d,g),v=(0,o.sO)(y);v.current=y;const b=(0,o.Ye)(()=>x=>m(this,null,function*(){if(typeof x=="function")return yield x(b,()=>v.current);C(x)}),[]);return[y,b]}},92298:(G,s,e)=>{"use strict";e.d(s,{j:()=>v,l:()=>b});var o=Object.defineProperty,m=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(x,E,O)=>E in x?o(x,E,{enumerable:!0,configurable:!0,writable:!0,value:O}):x[E]=O,y=(x,E)=>{for(var O in E||(E={}))f.call(E,O)&&g(x,O,E[O]);if(m)for(var O of m(E))d.call(E,O)&&g(x,O,E[O]);return x};let C={};function v(x){C=y({},x)}function b(){return y({},C)}},8461:(G,s,e)=>{"use strict";e.d(s,{IU:()=>C});var o=e(15045),m=e(83322),f=e(86405),d=e(28876),g=e(32081);function y(E,O,{quantity:w=1,plan:_,isSubscription:a,coupon:l}){var P;const S=(E/100).toFixed(2),M=(E/w/100).toFixed(2);O=O.toUpperCase(),C();const R=getConfig(),N=getPublicationFbPixelId();N&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Purchase&cd[value]=${S}&cd[currency]=${O}`),N&&a&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Subscribe&cd[value]=${S}&cd[currency]=${O}`),recordTwitterEvent("purchase",{price:Number(M),quantity:w});const T=randomString(),A=((P=_.amount)!=null?P:0)*w;let W;l&&l.percent_off?W=Math.round(A*((l.percent_off_precise||l.percent_off)/100)):l&&l.amount_off&&(W=Math.max(0,l.amount_off));const j=_.name;sendPublisherGa4Event("purchase",{transaction_id:T,value:S,currency:O,coupon:(l==null?void 0:l.name)||(l==null?void 0:l.id),items:[{item_id:_&&_.id,item_name:_&&(j||_.nickname||_.id)||"subscription",coupon:(l==null?void 0:l.name)||(l==null?void 0:l.id),discount:W,index:0,price:M,quantity:w}]}),sendPublisherGaEvent("transaction",{ti:T,tr:S,cu:O}),sendPublisherGaEvent("item",{ti:T,in:_&&(j||_.nickname||_.id)||"subscription",ip:M,iq:w,ic:_&&_.id,cu:O});const Z="7AeECMLq68wDEKuN5pYB";sendLocalGaEvent("conversion",R!=null&&R.adwordsAccountId&&(R!=null&&R.adwordsEventSendTo)?{send_to:`${R.adwordsAccountId}/${Z}`}:{});const J=b();if(J){const{id:Q,label:ne}=J;new Image().src=`//www.googleadservices.com/pagead/conversion/${Q}/?value=${S}&currency_code=${O}&label=${ne}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${_&&(j||_.nickname||_.id)||""} Subscription`),x()==="bankless"){const Q=_?`paid_${_.interval}ly`:"paid";window.history.replaceState({},document.title,updateQuery({plan:Q})),page()}}function C(){const E=(0,d.iE)();if(E.properties.is_free_subscribed)return;E.properties.is_free_subscribed=!0,(0,d.Hx)("sign_up"),(0,d.XY)("event",{ec:"Signup",ea:"Signup Success"});const O="Yo9oCMOM1MYDEKuN5pYB";(0,d.NA)("conversion",E!=null&&E.adwordsAccountId&&(E!=null&&E.adwordsEventSendTo)?{send_to:`${E.adwordsAccountId}/${O}`}:{});const w=(0,d.xL)();w&&(new Image().src=`https://www.facebook.com/tr?id=${w}&ev=CompleteRegistration`),(0,f.g)("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),x()==="bankless"&&(window.history.replaceState({},document.title,(0,o.updateQuery)({plan:"free"})),(0,g.Md)())}function v(E={}){sendLocalGaEvent("Publication Created",E)}function b(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function x(){var E,O;const w=typeof window!="undefined"&&((E=window._preloads)==null?void 0:E.pub);return((O=w==null?void 0:w.parent_publication)==null?void 0:O.subdomain)||(w==null?void 0:w.subdomain)}},3258:(G,s,e)=>{"use strict";e.d(s,{A:()=>f.A,FP:()=>f.FP,IU:()=>o.IU,K8:()=>f.K8,XY:()=>m.XY,j:()=>f.j,jA:()=>f.jA,jJ:()=>f.jJ,uF:()=>d.S,x6:()=>f.x6,xG:()=>f.xG});var o=e(8461),m=e(28876),f=e(32081),d=e(31256)},31256:(G,s,e)=>{"use strict";e.d(s,{S:()=>y});var o=e(39419),m=e.n(o),f=e(28876),d=e(32081);let g=null;function y(){var C;typeof window!="undefined"&&((C=window==null?void 0:window.navigator)!=null&&C.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,f.LH)(),(0,f.dl)(),(0,f.jP)(),(0,d.Md)(),(0,o.windowReady)(()=>{const v=g;g=null,v&&v.length>0&&(0,d.At)(v)})}},31032:(G,s,e)=>{"use strict";e.d(s,{W:()=>m});var o=e(83322);const m=(0,o.randomString)()},28876:(G,s,e)=>{"use strict";e.d(s,{Hx:()=>x,LH:()=>w,NA:()=>E,XY:()=>O,dl:()=>v,iE:()=>b,jP:()=>_,xL:()=>l});var o=e(15045),m=e(39776),f=e(39419),d=e.n(f),g=e(31032);function y(P,{toHead:S=!1}={}){(0,f.windowReady)(()=>{const M=document.createElement("script");if(M.async=!0,M.src=P,S)document.head.appendChild(M);else{const R=document.getElementsByTagName("script")[0];R.parentNode&&R.parentNode.insertBefore(M,R)}})}function C(){return typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token}function v(){var P,S,M;if(typeof window=="undefined")return;const R=(S=(P=window==null?void 0:window._preloads)==null?void 0:P.pub)==null?void 0:S.google_tag_manager_token;if(!R)return;const N=C();if(R===N)return;window.dataLayer=window.dataLayer||[],(0,m.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const T=b();(M=T.user)!=null&&M.id&&window.dataLayer.push({userId:T.user.id.toString()}),y(`https://www.googletagmanager.com/gtm.js?id=${R}`,{toHead:!0})}function b(){let P;return typeof window!="undefined"&&(P=window._analyticsConfig),P||(P={}),P.properties||(P.properties={}),P.properties.browserSessionId=g.W,P}function x(P,S={}){var M;if(typeof window=="undefined"||!(window!=null&&window.publisherGA4gtag))return;const R=b();(M=R.user)!=null&&M.id&&(S.user_id=R.user.id.toString()),R.anonymousId&&(S.client_id=R.anonymousId),window.publisherGA4gtag("event",P,S)}function E(P,S){typeof window=="undefined"||!(window!=null&&window.gtag)||window.gtag("event",P,S)}function O(P,S={}){var M;const R=b(),N=a();if(!N)return;const T=(0,o.parseQuery)(window.location.href);S=Object.assign({v:1,t:P,tid:N,cid:R.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:T.utm_campaign,cs:T.utm_source,cm:T.utm_medium,ck:T.utm_term,cc:T.utm_content,ci:T.utm_id},S),(M=R.user)!=null&&M.id&&(S.uid=R.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${(0,o.serializeQuery)(S)}`}function w(){var P;if(typeof window=="undefined")return;const S=C();if(!S)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var R;(R=window.GA4DataLayer)==null||R.push(arguments)},window.publisherGA4gtag("js",new Date),window.publisherGA4gtag("config",S);const M=b();(P=M.user)!=null&&P.id&&window.publisherGA4gtag("config",S,{user_id:M.user.id.toString()}),M.anonymousId&&window.publisherGA4gtag("set","client_id",M.anonymousId),y(`https://www.googletagmanager.com/gtm.js?id=${S}&l=GA4DataLayer`,{toHead:!0})}function _(){var P;if(typeof window=="undefined")return;const S=b();!S.localGaPixelId&&!S.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var M;(M=window==null?void 0:window.localGaDataLayer)==null||M.push(arguments)},window.gtag("js",new Date),S.localGaPixelId&&window.gtag("config",S.localGaPixelId),S.adwordsAccountId&&window.gtag("config",S.adwordsAccountId),(P=S.user)!=null&&P.id&&window.gtag("userId",S.user.id.toString()),y(`https://www.googletagmanager.com/gtag/js?id=${S.localGaPixelId}&l=localGaDataLayer`))}function a(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id}function l(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},32081:(G,s,e)=>{"use strict";e.d(s,{A:()=>T,At:()=>B,FP:()=>S,K8:()=>J,Md:()=>ne,j:()=>A,jA:()=>Q,jJ:()=>j,x6:()=>W,xG:()=>Z});var o=e(85928),m=e.n(o),f=e(44043),d=e(15045),g=e(63830),y=e(86405),C=e(39419),v=e.n(C),b=e(92298),x=e(31032),E=e(28876),O=Object.defineProperty,w=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(re,le,ae)=>le in re?O(re,le,{enumerable:!0,configurable:!0,writable:!0,value:ae}):re[le]=ae,P=(re,le)=>{for(var ae in le||(le={}))_.call(le,ae)&&l(re,ae,le[ae]);if(w)for(var ae of w(le))a.call(le,ae)&&l(re,ae,le[ae]);return re};const S=f.F,M=10,R=typeof window!="undefined"&&window!=window.top&&(0,g.l)(C.uuidV4),N=null;function T(){return R}function A(re,le={}){var ae;if(["development","test"].includes((ae="production")!=null?ae:"")&&!re)throw new Error("`undefined` event passed to FRONTEND track call");te(re,Object.assign({},le))}function W(re,le,ae={}){A(S.PUBLICATION_VISITED,P({visited_publication_id:re.id,visited_publication_subdomain:re.subdomain,source:le},ae))}function j({post:re,hasPaywall:le,surface:ae}){A(S.POST_SEEN,{post_id:re.id,post_audience:re.audience,post_type:re.type,has_paywall:le,post_age_minutes:re.post_date&&m()().diff(re.post_date,"minute"),surface:ae})}function Z({post:re,hasPaywall:le,surface:ae}){A(S.POST_BOTTOM_SEEN,{post_id:re.id,post_audience:re.audience,post_type:re.type,has_paywall:le,surface:ae})}function J({post:re}){re!=null&&re.id&&(A(S.POST_PAGE_PINGBACK,{seconds:0,post_id:re.id}),setTimeout(()=>{A(S.POST_PAGE_PINGBACK,{seconds:10,post_id:re.id})},1e4))}function Q({previous:re,url:le}){re&&(le.includes("_no_an=true")||ne())}function ne(re={}){var le,ae;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((ae=(le=window==null?void 0:window._preloads)==null?void 0:le.pub)!=null&&ae.embed_tracking_disabled))return;te(S.PAGES,Object.assign(V(),re));const q=(0,E.xL)();q&&(new Image().src=`https://www.facebook.com/tr?id=${q}&ev=PageView`),(0,y.g)("pageview"),(0,E.XY)("pageview"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function te(re,le={}){var ae,q;if(typeof window=="undefined")return;const oe={event:re,properties:Object.assign({browserSessionId:x.W,iframeVisitId:R},le),context:{client_type:"web",page:{referrer:document.referrer,title:document.title,url:document.location.href},campaign:(0,b.l)()}},z=(0,C.base64encode)(JSON.stringify(oe));N&&N.length<M?N.push(z):new Image().src=(0,d.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:z}),(q=(ae=window==null?void 0:window._preloads)==null?void 0:ae.user)!=null&&q.is_global_admin&&console.log(`EVENT: ${re}`,le)}function B(re){typeof window!="undefined"&&(new Image().src=(0,d.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:re.join(",")}))}function V(){const re={};if(typeof window!="undefined"){const le=window._preloads&&window._preloads.post,ae=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);ae&&le&&ae[1]===le.slug&&(re.post_id=le.id,re.post_audience=le.audience,re.post_type=le.type)}return re}},66141:(G,s,e)=>{"use strict";e.d(s,{Z:()=>x});var o=e(15103),m=e(48583),f=e(95495),d=e(3258),g=e(85928),y=e.n(g),C=e(58884);const v=()=>{},b=(0,f.xu)(O=>(0,o.cn)({key:O,value:!1}));function x(O,w=null,_=v){const[a,l]=(0,m.KO)(b(O));if(!O)return[!0,v];const P=()=>{_(),(0,d.j)(d.FP.DASHBOARD_ACTION_BOX_DISMISSED,{key:O});const M=new Date;(0,C.ex)(O,M.toString()),l({key:O,value:!0})};return[a.value||E(O,w),P]}function E(O,w){let _;const a=typeof window=="undefined"?new Date().toString():(0,C.mM)(O);return a&&w?_=y()(a).add(w,"second").isAfterNow():_=!!a,_}},63030:(G,s,e)=>{"use strict";e.r(s),e.d(s,{getNewPubPodcastSettings:()=>l,getNewSectionPodcastSettings:()=>_,getPodcastEpisodeImageUrl:()=>P,getPubPodcastSettings:()=>a,getSectionPodcastSettings:()=>w});var o=e(15045),m=e(83322),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(S,M,R)=>M in S?f(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,x=(S,M)=>{for(var R in M||(M={}))C.call(M,R)&&b(S,R,M[R]);if(y)for(var R of y(M))v.call(M,R)&&b(S,R,M[R]);return S},E=(S,M)=>d(S,g(M));const O=S=>{if(!S)return[];const M=[];for(const R of S){if(M.length===2)break;const N=R.toLowerCase();for(const[T,A]of Object.entries(m.PODCAST_CATEGORIES)){if(M.length===2)break;if(T.toLowerCase()===N||T.toLowerCase().split(" & ").includes(N)){M.push({category:T});break}for(const W of A){if(M.length===2)break;if(W.toLowerCase()===N||W.toLowerCase().split(" & ").includes(N)){M.push({category:T,subcategory:W});break}}}}return M},w=({pub:S,section:M})=>{var R,N,T,A,W,j,Z,J;const Q=M==null?void 0:M.podcastSettings,ne=(N=(R=Q==null?void 0:Q.podcast_title)!=null?R:M==null?void 0:M.name)!=null?N:null,te=(A=(T=Q==null?void 0:Q.podcast_description)!=null?T:M==null?void 0:M.description)!=null?A:null,B=(W=Q==null?void 0:Q.itunes_podcast_primary_category)!=null?W:null,V=(j=Q==null?void 0:Q.itunes_podcast_primary_subcategory)!=null?j:null,re=(Z=Q==null?void 0:Q.itunes_podcast_secondary_category)!=null?Z:null,le=(J=Q==null?void 0:Q.itunes_podcast_secondary_subcategory)!=null?J:null,ae=(Q==null?void 0:Q.itunes_explicit)||!1,q=(Q==null?void 0:Q.podcast_art_url)||(0,o.getDefaultPodcastArtUrlCDN)(),oe=(Q==null?void 0:Q.paid_podcast_episode_art_url)||null,z=(Q==null?void 0:Q.podcast_byline)||S.podcast_byline||S.author_name||"",ie=(Q==null?void 0:Q.language)||S.podcast_language||"",ue=!!Q&&!!Q.podcast_feed_url,de=ue?Q.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:E(x({},S),{section:M})});return{title:ne,description:te,primaryCategory:B,primarySubcategory:V,secondaryCategory:re,secondarySubcategory:le,isExplicit:ae,artUrl:q,byline:z,language:ie,isRedirected:ue,podcastRssUrl:de,paidEpisodeArtUrl:oe}},_=({pub:S,section:M})=>{var R,N;const T=(R=M==null?void 0:M.name)!=null?R:null,A=(N=M==null?void 0:M.description)!=null?N:null,W=null,j=null,Z=null,J=null,Q=!1,ne=(0,o.getDefaultPodcastArtUrlCDN)(),te=S.podcast_byline||S.author_name||"",B=S.podcast_language||"";return{title:T,description:A,primaryCategory:W,primarySubcategory:j,secondaryCategory:Z,secondarySubcategory:J,isExplicit:Q,artUrl:ne,byline:te,language:B,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},a=({pub:S})=>{var M,R;const N=S.podcast_title||S.name,T=S.podcast_description||S.hero_text,A=S.itunes_podcast_primary_category,W=S.itunes_podcast_primary_subcategory,j=S.itunes_podcast_secondary_category,Z=S.itunes_podcast_secondary_subcategory,J=(M=S.itunes_explicit)!=null?M:!1,Q=S.podcast_art_url||(0,o.getDefaultPodcastArtUrlCDN)(),ne=S.podcast_byline||S.author_name,te=S.podcast_language||"",B=!!S.show_pub_podcast_tab,V=!!S.podcast_feed_url,re=x({},S);delete re.section;const le=V?S.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:re});return{title:N,description:T,primaryCategory:A,primarySubcategory:W,secondaryCategory:j,secondarySubcategory:Z,isExplicit:J,artUrl:Q,byline:ne,language:te,isRedirected:V,podcastRssUrl:le,showPodcastTab:B,paidEpisodeArtUrl:(R=S.paid_podcast_episode_art_url)!=null?R:null}},l=({pub:S,publication:M})=>{var R,N,T;const[A,W]=O(M.tags.map(({canonical_name:q})=>q)),j=`${S.name} Podcast`,Z=S.hero_text,J=A==null?void 0:A.category,Q=(R=A==null?void 0:A.subcategory)!=null?R:null,ne=W==null?void 0:W.category,te=(N=W==null?void 0:W.subcategory)!=null?N:null,B=S.explicit||!1,V=(0,o.getDefaultPodcastArtUrlCDN)(),re=S.author_name;return{title:j,description:Z,primaryCategory:J,primarySubcategory:Q,secondaryCategory:ne,secondarySubcategory:te,isExplicit:B,artUrl:V,byline:re,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(T=S.paid_podcast_episode_art_url)!=null?T:null}};function P(S,M){return(M==null?void 0:M.cover_image)||(M==null?void 0:M.podcast_art_url)||(S==null?void 0:S.podcast_art_url)}},69229:(G,s,e)=>{"use strict";e.d(s,{b:()=>d});var o=e(85928),m=e.n(o);function f(g){var y;return`${[g.is_primary,((y=g.publication)==null?void 0:y.author_id)===g.user_id,g.role==="admin",g.role==="contributor"].map(v=>v?"0":"1").join("")}-${m()(g.created_at).valueOf()}`}function d(g){return g.slice(0).sort((y,C)=>f(y)>f(C)?1:-1)}},16527:(G,s,e)=>{"use strict";e.d(s,{Q:()=>m});var o=e(20042);function m(f,d,{native:g=!1,newTab:y=!1}={}){f.defaultPrevented||(f.preventDefault(),g?y||f.metaKey||f.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:d}).click():window.location.assign(d):(0,o.route)(d))}},86405:(G,s,e)=>{"use strict";e.d(s,{g:()=>C});var o=e(20501);const m=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,f=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,d=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,g=(v,b=null)=>{const x=m();if(!x)return;const E={p_id:"Twitter",p_user_id:0,txn_id:x,events:JSON.stringify([[v,b]]),tw_sale_amount:(b==null?void 0:b.value)||0,tw_order_quantity:(b==null?void 0:b.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};y(E)},y=v=>{new Image().src=`https://t.co/i/adsct?${(0,o.serializeQuery)(v)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${(0,o.serializeQuery)(v)}`},C=(v,{quantity:b,price:x}={})=>{if(v==="purchase"){const E=d();E&&typeof window.twq=="function"&&window.twq("event",E),g("purchase",{num_items:b,value:x})}else if(v==="signup"){const E=f();E&&typeof window.twq=="function"&&window.twq("event",E),g("signup")}else g("pageview")}},8479:(G,s,e)=>{"use strict";e.d(s,{NL:()=>Q,Wf:()=>T,do:()=>N,ib:()=>J,kp:()=>te,rd:()=>ne,x8:()=>A});var o=e(30396),m=e(28599),f=e.n(m),d=e(73955),g=e.n(d),y=e(80569),C=e.n(y),v=e(39419),b=e.n(v),x=Object.defineProperty,E=Object.defineProperties,O=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(re,le,ae)=>le in re?x(re,le,{enumerable:!0,configurable:!0,writable:!0,value:ae}):re[le]=ae,P=(re,le)=>{for(var ae in le||(le={}))_.call(le,ae)&&l(re,ae,le[ae]);if(w)for(var ae of w(le))a.call(le,ae)&&l(re,ae,le[ae]);return re},S=(re,le)=>E(re,O(le)),M=(re,le)=>{var ae={};for(var q in re)_.call(re,q)&&le.indexOf(q)<0&&(ae[q]=re[q]);if(re!=null&&w)for(var q of w(re))le.indexOf(q)<0&&a.call(re,q)&&(ae[q]=re[q]);return ae},R=(re,le,ae)=>new Promise((q,oe)=>{var z=de=>{try{ue(ae.next(de))}catch(fe){oe(fe)}},ie=de=>{try{ue(ae.throw(de))}catch(fe){oe(fe)}},ue=de=>de.done?q(de.value):Promise.resolve(de.value).then(z,ie);ue((ae=ae.apply(re,le)).next())});const N={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function T(re,le,{auto:ae,initialResult:q}={}){const[oe,z]=(0,o.eJ)({result:q||null,isLoading:!!ae,hasLoadedOnce:!1,error:null,promise:null}),ie=()=>{z(S(P({},oe),{error:null}))},ue=(fe={})=>{var ye=fe,{abortController:pe=new(f())}=ye,we=M(ye,["abortController"]);const Me=re(S(P({},we),{signal:pe.signal})).then(je=>{if(!pe.signal.aborted)return z({isLoading:!1,hasLoadedOnce:!0,error:null,result:je,promise:null}),je},je=>{if(!pe.signal.aborted)return console.error("There was an error fetching resource",je),z(De=>S(P({},De),{isLoading:!1,error:je,result:null,promise:null})),je});return z(je=>S(P({},je),{isLoading:!0,error:null,promise:Me})),Me},de=fe=>{z(ye=>S(P({},ye),{error:null,result:fe,isLoading:!1,promise:null}))};return(0,o.d4)(()=>{if(ae){const fe=new(f());return ue({abortController:fe}),()=>{fe.abort()}}},le||[]),S(P({},oe),{refetch:ue,setResult:de,clearError:ie})}function A(re,le){switch(le.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const ae=re.slice(),{page:q,id:oe}=le.payload;return ae[q]={result:null,id:oe,isLoading:!0,error:null},ae}case"page_load":{const{id:ae,result:q}=le.payload;return re.map(oe=>oe.id===ae?S(P({},oe),{isLoading:!1,result:q,error:null}):oe)}case"page_error":{const{id:ae,error:q}=le.payload;return re.map(oe=>oe.id===ae?S(P({},oe),{isLoading:!1,result:null,error:q}):oe)}}return re}function W(re,le,{auto:ae,initialResult:q,pages:oe,dispatch:z}={}){var ie;const[ue,de]=(0,o._Y)(A,[{result:q||null,isLoading:!!ae,error:null}]),fe=oe!=null?oe:ue,ye=z!=null?z:de,pe=(me={})=>{var ce=me,{abortController:ge=new(f()),page:Ie=fe.length}=ce,Re=M(ce,["abortController","page"]);const Ke=fe[Ie-1],ut=g()();return ye({type:"page_start",payload:{page:Ie,id:ut}}),re({options:Re,signal:ge.signal,page:Ie,lastPage:Ke}).then(_t=>{if(!ge.signal.aborted)return ye({type:"page_load",payload:{page:Ie,id:ut,result:_t}}),_t},_t=>{if(!ge.signal.aborted)return ye({type:"page_error",payload:{page:Ie,id:ut,error:_t}}),_t})},we=me=>(ye({type:"page_reset"}),pe(S(P({},me),{page:0})));(0,o.d4)(()=>{if(ae){const me=new(f());return we({abortController:me}),()=>{me.abort()}}},le||[]);let Me=!1;const je=()=>R(this,null,function*(){if(!Me){const me=fe[fe.length-1];if(!me.isLoading&&!me.error)return Me=!0,yield pe()}}),De=fe[fe.length-1];return{pages:fe,page:fe.length,lastPage:De,fetchMore:je,canFetchMore:De&&!De.isLoading&&!De.error,fetchFirstPage:we,hasLoadedOnce:!!((ie=fe[0])!=null&&ie.result)}}function j(re){var le=re,{auto:ae,initialResult:q,deps:oe}=le,z=M(le,["auto","initialResult","deps"]);return T(ie=>R(this,null,function*(){var ue=ie,{signal:de}=ue,fe=M(ue,["signal"]);const{pathname:ye="",query:pe,body:we,method:Me="get"}=P(P({},z),fe),je=request(Me.toUpperCase(),ye);pe&&je.query(pe),we&&je.send(we),de.addEventListener("abort",()=>{je.abort()});const De=yield je;if(de.aborted)return;const me=De.error;if(me)throw me;return De.body}),oe||[],{auto:ae,initialResult:q})}const Z=new Map;function J(re){var le=re,{pathname:ae,auto:q,initialResult:oe,deps:z,cacheTtl:ie}=le,ue=M(le,["pathname","auto","initialResult","deps","cacheTtl"]);const de=T(ye=>{var pe=ye,{pathname:we}=pe,Me=M(pe,["pathname"]);if(!ae)throw new Error("useFetch requires a pathname");if(ie){const De=Z.get(ae);if(De){const{ts:me,ttl:ce,promise:ge}=De;if(me+ce>Date.now())return ge}}const je=ne(we!=null?we:ae,P(P({},ue),Me));return ie&&Z.set(ae,{ts:Date.now(),ttl:ie,promise:je}),je},z||[],{auto:q,initialResult:oe}),fe=ye=>{ae&&ie&&Z.set(ae,{ts:Date.now(),ttl:ie,promise:Promise.resolve(ye)}),de.setResult(ye)};return S(P({},de),{setResult:fe})}function Q(re){var le=re,{pathname:ae,auto:q,initialResult:oe,deps:z,getPageInit:ie,pages:ue,dispatch:de}=le,fe=M(le,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return W(({page:ye,lastPage:pe,options:we})=>{if(!ae)throw new Error("useFetch requires a pathname");const Me=ie({init:P(P({},fe),we),page:ye,lastPage:pe});return ne(ae,Me)},z||[],{auto:q,initialResult:oe,pages:ue,dispatch:de})}function ne(re){return R(this,arguments,function*(le,ae={}){var q;const z=P({cache:"no-cache"},ae),{query:ie,json:ue}=z,de=M(z,["query","json"]);let fe=le;if(ie){let pe;ie instanceof URLSearchParams?pe=ie:pe=new URLSearchParams(Object.entries(ie).reduce((Me,[je,De])=>(De!==void 0&&(Array.isArray(De)?De.forEach(me=>{me!==void 0&&Me.push([je,me])}):Me.push([je,De])),Me),[]));const we=pe.toString();we&&(le.indexOf("?")!==-1?fe+=`&${we}`:fe+=`?${we}`)}ue&&(de.body=JSON.stringify(ue),de.headers instanceof Headers||(de.headers=new Headers(de.headers)),de.headers.set("Content-Type","application/json"));const ye=yield fetch(fe,de);if(!ye.ok){let pe;try{pe=yield ye.json()}catch(we){pe={}}throw new te(ye,pe)}return["DELETE","HEAD"].includes((q=de==null?void 0:de.method)!=null?q:"")?{}:ye.json()})}class te extends Error{constructor(le,ae){super(),this.response=le,this.body=ae}getMessage(le){return(0,v.getNetworkErrorMessageFromResponse)(this.body,le)}}function B(re,le="Something went wrong."){return re instanceof te?re.getMessage():le}function V(re,le,ae){const[q,oe]=useState(null);return useCallback((...z)=>{clearTimeout(q),oe(null),oe(setTimeout(()=>re(...z),le))},[q,...ae])}},11533:(G,s,e)=>{"use strict";e.d(s,{j:()=>f});var o=e(30396),m=e(20042);function f(g,y){(0,o.d4)(()=>{const C=v=>{g(v)};return m.subscribers.push(C),()=>{m.subscribers.splice(m.subscribers.indexOf(C)>>>0,1)}},y)}function d({path:g}={}){const[y,C]=useState({}),v=useRef(null);f(E=>{v.current=E,C({})},[]);const b=v.current||getCurrentUrl(),x=b.replace(/\?.+$/,"");return v.current=null,[{url:b,path:x,matches:g&&exec(x,g,{})||null},route]}},26686:(G,s,e)=>{"use strict";e.d(s,{_:()=>C});var o=e(83757),m=e(8479),f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(v,b)=>{var x={};for(var E in v)d.call(v,E)&&b.indexOf(E)<0&&(x[E]=v[E]);if(v!=null&&f)for(var E of f(v))b.indexOf(E)<0&&g.call(v,E)&&(x[E]=v[E]);return x};function C(v,b={},x){var E=b,{deps:O,auto:w=!0}=E,_=y(E,["deps","auto"]);return(0,o.ZP)(w?O?[...O,v]:v:null,()=>(0,m.rd)(v,_),x)}},6742:(G,s,e)=>{"use strict";e.d(s,{UM:()=>g,th:()=>y});var o=e(30396),m=e(39419),f=e.n(m);function d(C,v,{root:b,threshold:x=0,rootMargin:E,disabled:O=!1}={}){(0,o.d4)(()=>{if(typeof IntersectionObserver=="undefined"||!C.current||O)return;const w=new IntersectionObserver(a=>{v(a.some(l=>l.isIntersecting))},{root:b,threshold:x,rootMargin:E});w.observe(C.current);function _(){w.disconnect()}return _},[C,v,b,x,E,O])}function g(C,v,{root:b,threshold:x=0,rootMargin:E,disabled:O=!1}={}){const w=(0,o.sO)(!1),_=(0,o.I4)(a=>{a&&!w.current&&(w.current=!0,v())},[v,w]);d(C,_,{root:b,threshold:x,rootMargin:E,disabled:O||w.current})}function y(C){const[v,b]=(0,o.eJ)(!1);return(0,o.d4)(()=>{const x=()=>{const E=(0,m.isWindowVisible)();b(E),C==null||C(E)};return(0,m.onWindowVisibilityChange)(x),()=>{(0,m.offWindowVisibilityChange)(x)}},[C]),v}},36868:(G,s,e)=>{"use strict";e.d(s,{P:()=>o});const o=(m,f)=>f.payments_state==="enabled"?m.is_subscribed:m.is_free_subscribed},62246:(G,s,e)=>{"use strict";e.d(s,{fe:()=>m.f,mz:()=>f.m,r6:()=>o.r,u_:()=>m.u,xB:()=>o.x});var o=e(28079),m=e(53940),f=e(29354)},21958:(G,s,e)=>{"use strict";e.d(s,{L:()=>_});var o=e(6400),m=e(98661),f=e(94184),d=e.n(f),g=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,E=(a,l,P)=>l in a?g(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,O=(a,l)=>{for(var P in l||(l={}))b.call(l,P)&&E(a,P,l[P]);if(v)for(var P of v(l))x.call(l,P)&&E(a,P,l[P]);return a},w=(a,l)=>y(a,C(l));function _(a,l="div",P){return(0,m.forwardRef)((S,M)=>(0,o.createElement)(l,w(O(O({},P),S),{ref:M,className:d()(a,S==null?void 0:S.className)})))}},66399:(G,s,e)=>{"use strict";e.d(s,{HZ:()=>m.H,xu:()=>g.x,zx:()=>f.zx,hE:()=>d.h,XZ:()=>M.X,ji:()=>R.j,iz:()=>C.i,hs:()=>v.hs,tu:()=>v.tu,gq:()=>v.gq,hU:()=>f.hU,Tz:()=>y.Tz,u_:()=>E.u_,xB:()=>E.xB,xv:()=>a.xv,oi:()=>Q.o,gx:()=>J.g,FN:()=>P.FN,u:()=>l.u,pm:()=>P.pm,dd:()=>P.dd});var o=e(11059),m=e(83787),f=e(17685),d=e(91041),g=e(84606),y=e(15187),C=e(48960),v=e(51126),b=e(94016),x=e(56288),E=e(62246),O=e(76235),w=e(92106),_=e(65414),a=e(65919),l=e(92630),P=e(75425),S=e(69045),M=e(53570),R=e(71346),N=e(6400);const T={container:"frontend-pencraft-form-FieldGroup-module__container--GuL2k"},A=({children:V,label:re})=>h(FlexColumn,null,re&&h(Text.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},re),h(FlexColumn,{className:css.container,padding:16,radius:12,gap:16},V));var W=e(2019),j=e(96427);const Z=({details:V,helpText:re,label:le,name:ae,options:q,paddingBottom:oe,paddingTop:z,value:ie,onChange:ue})=>h(Field,{label:le,details:V,helpText:re,paddingTop:z,paddingBottom:oe,wrapWithLabel:!0},h(Select,{name:ae,value:ie,onChange:ue},q.map(de=>h("option",{value:de.value},de.label))));var J=e(27885),Q=e(34394),ne=e(30396);const te=({details:V,disabled:re,helpText:le,label:ae,paddingBottom:q,paddingTop:oe,value:z,onChange:ie})=>{const ue=useCallback(de=>{ie(de.target.value)},[ie]);return h(Field,{label:ae,details:V,helpText:le,paddingTop:oe,paddingBottom:q,wrapWithLabel:!0},h(TextInput,{disabled:re,value:z,onChange:ue}))},B=({details:V,disabled:re,helpText:le,label:ae,paddingBottom:q,paddingTop:oe,value:z,onChange:ie})=>{const ue=useCallback(de=>{ie(de.target.value)},[ie]);return h(Field,{details:V,helpText:le,label:ae,paddingBottom:q,paddingTop:oe,wrapWithLabel:!0},h(Textarea,{disabled:re,value:z,onChange:ue}))}},50292:(G,s,e)=>{"use strict";e.d(s,{SJ:()=>g});var o=e(6400),m=e(30396);const f=(0,o.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function d(y,{shouldShowGetAppPill:C=!0,style:v,alwaysPinTitle:b,backAction:x,onRefresh:E}={}){const O=g();return useLayoutEffect(()=>{O.setChildOptions({title:y,style:v,alwaysPinTitle:b,backAction:x,shouldShowGetAppPill:C,onRefresh:E})},[O,y,v,x,C,E]),useLayoutEffect(()=>{O.setPinTitle(!1)},[]),O}function g(){return(0,m.qp)(f)}},19696:(G,s,e)=>{"use strict";e.d(s,{L:()=>o.L});var o=e(21958)},41474:(G,s,e)=>{"use strict";e.d(s,{CD:()=>l,Kr:()=>N,MJ:()=>a,rw:()=>O,zi:()=>E});var o=e(3258),m=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,v=(T,A,W)=>A in T?m(T,A,{enumerable:!0,configurable:!0,writable:!0,value:W}):T[A]=W,b=(T,A)=>{for(var W in A||(A={}))y.call(A,W)&&v(T,W,A[W]);if(g)for(var W of g(A))C.call(A,W)&&v(T,W,A[W]);return T},x=(T,A)=>f(T,d(A));function E(T,A,{extraEventProps:W={},tabId:j}={}){_("seen",T,A,{extraEventProps:W,tabId:j})}function O(T,A,W,{extraEventProps:j={},tabId:Z}={}){_("clicked",T,A,{extraEventProps:x(b({clicked_element:W},j),{tabId:Z})})}function w(T,A){var W,j,Z,J;return{item_entity_key:"entity_key"in T?T.entity_key:"",item_type:T.type,item_context_type:"context"in T?T.context.type:"",item_context_timestamp:new Date("context"in T?T.context.timestamp:new Date).toISOString(),item_context_user_id:"context"in T?(W=T.context.users[0])==null?void 0:W.id:void 0,item_publication_id:"publication"in T?(j=T.publication)==null?void 0:j.id:void 0,item_post_id:(Z=T.post)==null?void 0:Z.id,item_comment_id:(J=T.comment)==null?void 0:J.id,item_can_reply:"canReply"in T?T.canReply:!0,tab_id:A!=null?A:void 0}}function _(T,A,W,{extraEventProps:j={},tabId:Z}={}){const J=w(A,Z!=null?Z:null);(0,o.j)(T==="seen"?o.FP.FEED_ITEM_SEEN:o.FP.FEED_ITEM_CLICKED,b(b({surface:W,tabId:Z},J),j))}function a(T,A,{extraEventProps:W={}}={}){P("seen",T,A,{extraEventProps:W})}function l(T,A,W,{extraEventProps:j={}}={}){P("clicked",T,A,{extraEventProps:b({clicked_element:W},j)})}function P(T,A,W,{extraEventProps:j={}}={}){var Z,J,Q,ne;(0,o.j)(T==="seen"?o.FP.FEED_USER_SUGGESTION_SEEN:o.FP.FEED_USER_SUGGESTION_CLICKED,b({suggested_user_id:A.user.id,suggested_publication_id:(J=(Z=A.publication)==null?void 0:Z.id)!=null?J:null,suggestion_source:(Q=A.source)!=null?Q:null,suggestion_id:(ne=A.id)!=null?ne:null,surface:W},j))}function S(T,{utm_source:A}={}){track(EVENTS.FEED_SCREEN_VIEWED,{utm_source:A,tab_id:T})}function M(T,{utm_source:A}={}){const W=w(T,null);track(EVENTS.FEED_PERMALINK_SCREEN_VIEWED,b({utm_source:A},W))}function R(T){const A=w(T,null);track(EVENTS.FEED_HIDDEN_REPLIES_VIEWED,b({},A))}function N(T,A,{tabId:W,noteId:j}={}){(0,o.j)(o.FP.FEED_HIDDEN_ATTACHMENT_SHOWN,{attachmentId:T,reason:A,tabId:W,noteId:j})}},91870:(G,s,e)=>{"use strict";e.d(s,{I0:()=>M,RR:()=>S,d6:()=>T,ev:()=>N,kc:()=>A});var o=e(6400),m=e(30396),f=e(70444),d=e(20501),g=e(95582),y=e(8479),C=e(39419),v=e.n(C),b=Object.defineProperty,x=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(B,V,re)=>V in B?b(B,V,{enumerable:!0,configurable:!0,writable:!0,value:re}):B[V]=re,l=(B,V)=>{for(var re in V||(V={}))w.call(V,re)&&a(B,re,V[re]);if(O)for(var re of O(V))_.call(V,re)&&a(B,re,V[re]);return B},P=(B,V)=>x(B,E(V));const S=(0,o.createContext)({dispatch:()=>{}});function M(){return(0,m.qp)(S).dispatch}const R={isSigningIn:!1,signInNoExit:!1,pages:[],posts:new Map,publications:new Map,comments:new Map,unhiddenReplyCommentIds:new Set},N=(0,o.createContext)(R);function T({initialItem:B}={}){return(0,g.L)(W,()=>B?Z(R,B):R)}function A(){return(0,m.qp)(N)}function W(B,V){var re,le,ae,q;switch(V.type){case"sign_in":return P(l({},B),{lastDispatchType:V.type,isSigningIn:V.payload.isSigningIn,signInNoExit:(re=V.payload.signInNoExit)!=null?re:!1});case"page_load":{const{result:oe}=V.payload;return P(l({},j(B,oe.items)),{lastDispatchType:V.type,pages:(0,y.x8)(B.pages,V)})}case"post_load":{const{post:oe,publication:z}=V.payload,ie=new Map(B.posts);ie.set(oe.id,l(l({},ie.get(oe.id)),oe));const ue=new Map(B.publications);return ue.set(z.id,l(l({},ue.get(z.id)),z)),P(l({},B),{posts:ie})}case"post_like":{const{postId:oe,isLiked:z}=V.payload,ie=B.posts.get(oe);return J(B,V.type,oe,Q(ie,z))}case"post_restack":{const{postId:oe,isRestacked:z}=V.payload,ie=B.posts.get(oe);return ie?J(B,V.type,oe,ne(ie,z)):B}case"post_delete":{const{publication:oe,post:z}=V.payload,ie=new Map(B.posts);ie.delete(z.id);const ue=new Map([...B.comments].filter(([de,fe])=>fe.post_id!==z.id));return[(0,d.getFeedPostUrl)(z.id,{noBase:!0}),(0,d.getFeedShortPostUrl)(oe,z,{noBase:!0})].includes(window.location.pathname)&&(0,C.redirect)(f.Ds,{replace:!0}),P(l({},B),{lastDispatchType:V.type,posts:ie,comments:ue,pages:B.pages.map(de=>P(l({},de),{result:de.result?P(l({},de.result),{items:de.result.items.filter(fe=>{var ye;return((ye=fe.post)==null?void 0:ye.id)!==z.id})}):de.result}))})}case"post_save":{const{postId:oe,isSaved:z}=V.payload;return B.posts.get(oe)?J(B,V.type,oe,{is_saved:z}):B}case"comment_like":{const{commentId:oe,isLiked:z}=V.payload,ie=B.comments.get(oe);return P(l({},B),{lastDispatchType:V.type,comments:te(B.comments,oe,P(l({},ie),{reaction:z?"\u2764":void 0,reactions:P(l({},ie.reactions),{"\u2764":(((le=ie.reactions)==null?void 0:le["\u2764"])||0)+(z?1:-1)}),reaction_count:(ie.reaction_count||0)+(z?1:-1)}))})}case"comment_restack":{const{commentId:oe,isRestacked:z}=V.payload,ie=B.comments.get(oe);return P(l({},B),{lastDispatchType:V.type,comments:ie?te(B.comments,oe,P(l({},ie),{restacked:z,restacks:(ie.restacks||0)+(z?1:-1)})):B.comments})}case"comment_delete":{const{comment:oe}=V.payload,z=new Map(B.posts),ie=new Map([...B.comments].filter(([fe,ye])=>ye.id!==oe.id&&!new RegExp(`(^|.)${oe.id}(.|$)`).test(ye.ancestor_path))),ue=z.get(oe.post_id),de=oe.ancestor_path&&ie.get(Number(oe.ancestor_path.split(".").pop()));return de?ie.set(de.id,P(l({},de),{children_count:(de.children_count||1)-1,children:(de.children||[]).filter(fe=>fe.id!==oe.id)})):ue&&z.set(ue.id,P(l({},ue),{child_comment_count:(ue.child_comment_count||1)-1})),[(0,d.getFeedCommentUrl)(oe,{noBase:!0})].includes(window.location.pathname)&&(0,C.redirect)(f.Ds,{replace:!0}),P(l({},B),{lastDispatchType:V.type,posts:z,comments:ie,pages:B.pages.map(fe=>P(l({},fe),{result:fe.result?P(l({},fe.result),{items:fe.result.items.filter(ye=>{var pe;return((pe=ye.comment)==null?void 0:pe.id)!==oe.id&&!(ye.parentComments||[]).filter(Boolean).map(we=>we.id).includes(oe.id)})}):fe.result}))})}case"new_post":return P(l({},B),{lastDispatchType:V.type,publications:new Map([...B.publications].concat([[V.payload.publication.id,V.payload.publication]])),posts:new Map([...B.posts].concat([[V.payload.post.id,V.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:(0,f.vy)(V.payload.post.id),publication:V.payload.publication,post:V.payload.post,context:V.payload.context||{}}]}},...B.pages]});case"new_comment":{const{comment:oe}=V.payload,z=new Map(B.posts),ie=z.get(oe.post_id);ie&&z.set(ie.id,P(l({},ie),{child_comment_count:(ie.child_comment_count||0)+1}));const ue=new Map(B.comments);ue.set(oe.id,oe);const de=(((ae=oe.ancestor_path)==null?void 0:ae.split("."))||[]).map(Number).filter(Boolean).map(we=>ue.get(we)||null),fe=(q=de[de.length-1])!=null?q:null;fe&&ue.set(fe.id,P(l({},fe),{children_count:(fe.children_count||0)+1,children:[oe].concat(fe.children||[])}));const pe=[{error:null,isLoading:!1,result:{items:[{type:"comment",entity_key:(0,f.It)(oe.id),comment:oe,parentComments:de,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}}]}},...B.pages];return P(l({},B),{lastDispatchType:V.type,posts:z,comments:ue,pages:pe})}case"edit_comment":{const{comment:oe}=V.payload,z=new Map(B.comments);return z.set(oe.id,oe),P(l({},B),{lastDispatchType:V.type,comments:z})}case"comments_load":{const{comments:oe}=V.payload,z=[],ie=oe.slice();for(;ie.length>0;){const ue=ie.pop();z.push(ue),ie.push(...ue.children||[])}return P(l({},B),{lastDispatchType:V.type,comments:new Map([...B.comments].concat(z.map(ue=>[ue.id,ue])))})}case"item_load":{const{item:oe}=V.payload;return P(l({},Z(B,oe)),{lastDispatchType:V.type})}case"items_load":{const{items:oe}=V.payload;return P(l({},j(B,oe)),{lastDispatchType:V.type})}case"new_feed_items":{const oe=[...B.pages];if(V.payload.insertLocation){const z={error:null,isLoading:!1,result:{items:V.payload.feedItems}};V.payload.insertLocation==="prepend"?oe.unshift(z):V.payload.insertLocation==="append"&&oe.push(z)}return P(l({},j(B,V.payload.feedItems)),{lastDispatchType:V.type,pages:oe})}case"reply_unhidden":{const{comment_id:oe}=V.payload,z=B.comments.get(oe),ie=new Map(B.comments);return ie.set(oe,P(l({},z),{hide_reply:!1})),P(l({},B),{lastDispatchType:V.type,comments:ie,unhiddenReplyCommentIds:new Set([...B.unhiddenReplyCommentIds,oe])})}}return P(l({},B),{lastDispatchType:V.type,pages:(0,y.x8)(B.pages,V)})}function j(B,V){const re=new Map(B.publications),le=new Map(B.posts),ae=new Map(B.comments);for(const q of V){if("publication"in q&&q.publication&&re.set(q.publication.id,q.publication),"post"in q){const{post:oe}=q;oe&&le.set(oe.id,oe)}if("comment"in q){const{comment:oe}=q;if(oe&&(ae.set(oe.id,oe),oe.attachments))for(const z of oe.attachments)z.type==="post"&&(le.set(z.post.id,z.post),re.set(z.publication.id,z.publication))}if("parentComments"in q)for(const oe of q.parentComments)oe&&ae.set(oe.id,oe)}return P(l({},B),{publications:re,posts:le,comments:ae})}function Z(B,V){var re;return P(l({},B),{posts:V.post?te(B.posts,V.post.id,V.post):B.posts,publications:V.publication?te(B.publications,V.publication.id,V.publication):B.publications,comments:new Map([...B.comments].concat([V.comment,...(re=V.parentComments)!=null?re:[]].filter(Boolean).map(le=>[le.id,le])))})}function J(B,V,re,le){const ae=new Map(B.posts),q=ae.get(re);return q&&ae.set(q.id,l(l({},q),le)),P(l({},B),{lastDispatchType:V,posts:ae})}function Q(B,V){var re;const le=V!=null?V:!B.reaction,ae="\u2764";return{reaction:le,reactions:{[ae]:(((re=B.reactions)==null?void 0:re[ae])||0)+(V?1:-1)}}}function ne(B,V){return{restacked:V,restacks:(B.restacks||0)+(V?1:-1)}}function te(B,V,re){const le=new Map(B);return le.set(V,re),le}},73413:(G,s,e)=>{"use strict";e.d(s,{L:()=>m});var o=e(30123);const m=document.location.origin===o.tE},4948:(G,s,e)=>{"use strict";e.d(s,{M:()=>m});var o=e(30396);function m(f,d,{shouldCheck:g,threshold:y=200,bodyRef:C}){const v=(0,o.sO)(),b=C!=null?C:v,x=()=>{const E=b.current;if(E){const{bottom:O}=E.getBoundingClientRect();O<window.innerHeight+y&&f()}};return(0,o.d4)(()=>{if(g)return window.addEventListener("scroll",x,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",x,{capture:!0})}},d),{bodyRef:b,check:x}}},44396:(G,s,e)=>{"use strict";e.d(s,{XA:()=>y});var o=e(30396),m=e(1852),f=e.n(m),d=e(39419),g=e.n(d);function y(){return(0,m.useMediaQuery)({maxWidth:650})}function C(){return useMediaQuery({maxWidth:1400})}function v(){const[b,x]=useState(!1);return useLayoutEffect(()=>{x(isIOs())},[]),b}},72307:(G,s,e)=>{"use strict";e.d(s,{Th:()=>a,Y0:()=>P,_V:()=>M,e:()=>_,lV:()=>w});var o=e(6400),m=e(30396),f=e(8479),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(R,N,T)=>N in R?d(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,E=(R,N)=>{for(var T in N||(N={}))v.call(N,T)&&x(R,T,N[T]);if(C)for(var T of C(N))b.call(N,T)&&x(R,T,N[T]);return R},O=(R,N)=>g(R,y(N));function w(R){const N=(0,f.ib)({pathname:"/api/v1/subscriptions",auto:R,deps:[]});return(0,m.Ye)(()=>O(E({},N),{result:N.result?O(E({},N.result),{publicationMap:new Map(N.result.publications.map(A=>[A.id,A])),subscriptionMap:new Map(N.result.subscriptions.map(A=>[A.publication_id,A])),publicationUserMap:new Map(N.result.publicationUsers.map(A=>[A.publication_id,A]))}):null}),[N])}const _=(0,o.createContext)(f.do);function a(){return(0,m.qp)(_)}function l(R){var N;const{subscriptionMap:T,publicationUserMap:A,publicationsWithPledges:W}=(N=a().result)!=null?N:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},j=T.get(R),Z=A.get(R);return{subscription:j,publicationUser:Z,is_pledged:!!(W!=null&&W.includes(R))}}function P(R){const{subscription:N,publicationUser:T,is_pledged:A}=l(R),W=(N==null?void 0:N.membership_state)==="free_signup",j=(N==null?void 0:N.membership_state)==="subscribed",Z=!!(N!=null&&N.is_founding),J=!!(T&&["contributor","admin"].includes(T.role));return{subscription:N,publicationUser:T,isFreeSubscribed:W,isPaid:j,isAuthor:J,isFounding:Z,isPledged:A}}function S(){var R,N,T;const{publicationUsers:A,publicationMap:W}=(R=a().result)!=null?R:{publicationMap:new Map,publicationUsers:[]},j=(T=(N=A.find(Z=>Z.is_primary))!=null?N:A.find(Z=>Z.role==="admin"))!=null?T:A.find(Z=>Z.role==="contributor");return j&&W.get(j.publication_id)}function M(R){var N,T;const{publicationUsers:A}=(N=a().result)!=null?N:{publicationUsers:[]};return(T=A.find(W=>W.publication_id===R))!=null?T:null}},82622:(G,s,e)=>{"use strict";e.d(s,{COMMENT_STATUS:()=>x,Hz:()=>C,Ng:()=>O,Sh:()=>v,Zu:()=>d,_N:()=>w,hO:()=>b,us:()=>y});var o=e(85200),m=e(46131);const f=1e4,d=9999;var g=(a=>(a.everyone="everyone",a.free_subscriber="free_subscriber",a.paid_subscriber="paid_subscriber",a))(g||{}),y=(a=>(a.comments_disabled="comments_disabled",a.free_subscription_required="free_subscription_required",a.paid_subscription_required="paid_subscription_required",a))(y||{});const C=({likesEnabled:a=!0}={})=>{const l=[];return l.push({key:"most_recent_first",text:"New First",description:"Newest first (good for live events)"}),a&&l.push({key:"best_first",text:"Top First",description:"Top ranked first"}),l.push({key:"oldest_first",text:"Chronological",description:"Chronological order (oldest first)"}),l},v=a=>C().find(l=>l.key===a).text,b=function(a,l){if(Symbol.iterator in Object(a)){for(const P of a)if(l(P)===!1||b(P.children||[],l)===!1)return!1}},x={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required"},E=new Set([x.review_required,x.edit_review_required,x.published,x.moderator_approved,x.new_commenter_approval_required]),O=a=>a.deleted?!1:E.has(a.status);function w(a,l){const{attachments:P}=a;if(P&&P.length>0){for(const S of P)if(S.type==="post"){for(const M of S.post.publishedBylines)if(M.id===l)return!0;if((0,o.wN)(S.publication,l))return!0}else if(S.type==="comment"){if(S.comment.user_id===l)return!0}else if(S.type==="publication"&&(0,o.wN)(S.publication,l))return!0}return!!_(a).has(l)}function _(a){var l;const P=[];if(a.body_json)for(const S of(0,m.Z)(a.body_json))S.type==="substack_mention"&&P.push((l=S.attrs)==null?void 0:l.id);return new Set(P)}},44043:(G,s,e)=>{"use strict";e.d(s,{F:()=>o});const o={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_PRESUBSCRIBE_CLICKED:"Account Card Presubscribe Clicked",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED:"Account Card Unpresubscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_AUDIO_CLICKED:"Add Episode Audio Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",CONNECT_FACEBOOK_SCREEN_COMPLETED:"Connect Facebook Screen Completed",CONNECT_FACEBOOK_SCREEN_VIEWED:"Connect Facebook Screen Viewed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_SHOWN:"Cover Page Shown",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DASHBOARD_ACTION_BOX_DISMISSED:"Dashboard Action Box Dismissed",DASHBOARD_ACTION_BOX_SHOWN:"Dashboard Action Box Shown",DASHBOARD_ACTION_CTA_CLICKED:"Dashboard Action Cta Clicked",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FACEBOOK_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Suggestions Screen Completed",FACEBOOK_SUGGESTIONS_SCREEN_VIEWED:"Facebook Suggestions Screen Viewed",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_HIDDEN_ATTACHMENT_SHOWN:"Feed Hidden Attachment Shown",FEED_HIDDEN_REPLIES_VIEWED:"Feed Hidden Replies Viewed",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_PROFILE_SCREEN_VIEWED:"Feed Profile Screen Viewed",FEED_PUBLICATION_SCREEN_VIEWED:"Feed Publication Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_POST_CLICKED:"Inbox Post Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",LATEST_POST_CLICKED:"Latest Post Clicked",LATEX_BLOCK_ADDED:"Latex Block Added",LAUNCH_CHECKLIST_ITEM_CLICKED:"Launch Checklist Item Clicked",LAUNCH_CHECKLIST_SEEN:"Launch Checklist Seen",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTES_TAB_ANNOUNCEMENT_CLICKED:"Notes Tab Announcement Clicked",NOTES_TAB_ANNOUNCEMENT_DISMISSED:"Notes Tab Announcement Dismissed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYMENT_SUGGESTION_MODAL_ERROR:"Payment Suggestion Modal Error",PAYMENT_SUGGESTION_MODAL_SEEN:"Payment Suggestion Modal Seen",PAYMENT_SUGGESTION_MODAL_STRIPE_ERROR:"Payment Suggestion Modal Stripe Error",PAYMENT_SUGGESTION_MODAL_SUBMITTED:"Payment Suggestion Modal Submitted",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PLAN_PURCHASE_BOX_ERROR:"Plan Purchase Box Error",PLAN_PURCHASE_BOX_SEEN:"Plan Purchase Box Seen",PLAN_PURCHASE_BOX_STRIPE_ERROR:"Plan Purchase Box Stripe Error",PLAN_PURCHASE_BOX_SUBMITTED:"Plan Purchase Box Submitted",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POSTS_PAGE_FILTERED:"Posts Page Filtered",POSTS_PAGE_SORTED:"Posts Page Sorted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_AUDIO_CLICKED:"Processing Episode Audio Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_DIALOG_MORE_OPTION_CLICKED:"Share Dialog More Option Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",STREAKS_MODAL_SEEN:"Streaks Modal Seen",STREAKS_MODAL_TURN_ON_CLICKED:"Streaks Modal Turn On Clicked",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_NOT_NOW:"Subscriber Referrals Setup Modal Not Now",SUBSCRIBER_REFERRALS_SETUP_MODAL_SHOWN:"Subscriber Referrals Setup Modal Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_SUBMITTED:"Subscriber Referrals Setup Modal Submitted",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_PUBS_UPSELL_SCREEN_FREE_SUBSCRIPTION_ERROR:"Suggested Pubs Upsell Screen Free Subscription Error",SUGGESTED_PUBS_UPSELL_SCREEN_SHOWN:"Suggested Pubs Upsell Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},m={APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MANAGE_SUBSCRIPTION_EXPLANATION_SHOWN:"Manage Subscription Explanation Shown",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed"}},61782:(G,s,e)=>{"use strict";e.d(s,{L:()=>o});const o=1653592864},48971:(G,s,e)=>{"use strict";e.r(s),e.d(s,{DEFAULT_MINIMUM_RATES:()=>f,MAX_MONTHLY_RATE:()=>d,MAX_YEARLY_RATE:()=>g,MINIMUM_CURRENCY_SPECIFIC_RATES:()=>m,currencyFormattedPledgePriceString:()=>C,validatePledgePrices:()=>y});var o=e(83322);const m={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},f={month:5,year:50,founding:50},d=100,g=1e3,y=v=>{const{value:b,interval:x,is_founding:E,currency:O}=v,w=(m[O.toLowerCase()]||f)[E?"founding":x],_=x==="month"?d:g;return b<w?`${(0,o.toTitleCase)(x)}ly plan price must be at least ${C(w,O)}`:b>_?`${(0,o.toTitleCase)(x)}ly${v.is_founding?" founding":""} plan price must be less than ${C(_,O)}`:null},C=(v,b)=>(0,o.centsToPriceString)(v*((0,o.isZeroDecimalCurrency)(b)?1:100),b)},6385:(G,s,e)=>{"use strict";e.r(s),e.d(s,{getAllAudiences:()=>O,getAudiencesForPublicListing:()=>w,getCommentAuthor:()=>ne,getCoverImageUrl:()=>te,getFoundingAudiences:()=>a,getPaidAudiences:()=>_,getPostAuthor:()=>Q,isFoundingAudience:()=>P,isPaidAudience:()=>l,previewSubHasFullAccessToPost:()=>J,pubRoleHasFullAccessToPost:()=>j,pubRolesHaveFullAccessToPost:()=>Z,subHasFullAccessToPost:()=>T,subHasFullAccessToPostAudience:()=>A,userHasFullAccessToPost:()=>R});var o=Object.defineProperty,m=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,g=(B,V,re)=>V in B?o(B,V,{enumerable:!0,configurable:!0,writable:!0,value:re}):B[V]=re,y=(B,V)=>{for(var re in V||(V={}))f.call(V,re)&&g(B,re,V[re]);if(m)for(var re of m(V))d.call(V,re)&&g(B,re,V[re]);return B},C=(B,V)=>{var re={};for(var le in B)f.call(B,le)&&V.indexOf(le)<0&&(re[le]=B[le]);if(B!=null&&m)for(var le of m(B))V.indexOf(le)<0&&d.call(B,le)&&(re[le]=B[le]);return re};const v=["founding","only_paid","everyone","only_free"],b=["founding","only_paid","everyone"],x=["founding","only_paid"],E=["founding"];function O(){return[...v]}function w(){return[...b]}function _(){return[...x]}function a(){return[...E]}function l(B){return _().includes(B)}function P(B){return a().includes(B)}function S(B,V,re){if(!V&&!re||(B==null?void 0:B.subscription_publication_id)===V||(B==null?void 0:B.subscription_publication_id)===re){if(B!=null&&B.is_founding||B!=null&&B.is_contributor)return"founding";if(B!=null&&B.is_subscribed)return"paid"}return"free"}function M(B){switch(B){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${B}`)}}function R(B,V,re){if(!V)return!1;if(!V.audience)throw new Error("Post has no audience");const le=S(B,V.publication_id,re==null?void 0:re.parent_publication_id);return M(V.audience).includes(le)}function N(B,V){if(!V||(B==null?void 0:B.publication_id)===V){if((B==null?void 0:B.membership_state)==="subscribed"&&(B!=null&&B.is_founding))return"founding";if((B==null?void 0:B.membership_state)==="subscribed")return"paid"}return"free"}function T(B,V){if(!V)return!1;if(!V.audience)throw new Error("Post has no audience");const re=N(B,V.publication_id);return M(V.audience).includes(re)}function A(B,V){const re=N(B);return M(V).includes(re)}function W(B){return(B==null?void 0:B.role)==="admin"||(B==null?void 0:B.role)==="contributor"||(B==null?void 0:B.membership_state)==="subscribed"&&(B!=null&&B.is_founding)?"founding":(B==null?void 0:B.membership_state)==="subscribed"?"paid":"free"}function j(B,V){if(!V)return!1;if(!V.audience)throw new Error("Post has no audience");const re=W(B);return M(V.audience).includes(re)}function Z(B,V){return!!(V&&(j(B==null?void 0:B[V.publication_id],V)||V.parent_publication_id&&j(B==null?void 0:B[V.parent_publication_id],V)))}function J(B,V){if(!V)return!1;if(!V.audience)throw new Error("Post has no audience");const re=B;return M(V.audience).includes(re)}function Q(B,V){var re;const le=(re=V==null?void 0:V.publishedBylines)==null?void 0:re[0];if(le)return le;const ae=B.contributors.find(oe=>oe.owner);if(ae){const oe=ae,{user_id:z}=oe,ie=C(oe,["user_id"]);return y({id:z},ie)}const q=B.contributors.find(oe=>["admin","contributor"].includes(oe.role));if(q){const oe=q,{user_id:z}=oe,ie=C(oe,["user_id"]);return y({id:z},ie)}return{id:B.author_id,name:B.author_name,photo_url:B.author_photo_url,bio:B.author_bio}}function ne(B){var V,re,le,ae,q,oe,z,ie,ue,de,fe,ye,pe,we,Me;return{id:(le=(re=(V=B.user)==null?void 0:V.id)!=null?re:B.user_id)!=null?le:-1,name:(oe=(q=(ae=B.user)==null?void 0:ae.name)!=null?q:B.name)!=null?oe:"",handle:(ie=(z=B.user)==null?void 0:z.handle)!=null?ie:B.handle,photo_url:(de=(ue=B.user)==null?void 0:ue.photo_url)!=null?de:B.photo_url,bestseller_tier:(pe=(ye=(fe=B.user)==null?void 0:fe.bestseller_tier)!=null?ye:B.user_bestseller_tier)!=null?pe:null,primary_publication:(Me=(we=B.user)==null?void 0:we.primary_publication)!=null?Me:B.user_primary_publication}}function te(B){return!B.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(B.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(B.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(B.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(B.cover_image)?null:B.cover_image}},85200:(G,s,e)=>{"use strict";e.d(s,{Im:()=>f,ab:()=>d,wN:()=>g});var o=e(83322);const m=function(y){const C=y.trim();return(0,o.endsWithPunctuation)(C)?C:`${C}.`},f=function(y,C=3){if(!(y!=null&&y.length)||!y[0].owner)return null;const v=y[0].name;if(y.length===1)return{owner:v,others:null};let b=y.slice(1);if(b.length>C&&(b=b.filter(x=>x.role==="admin")),b.length&&b.length<=C){const x=b.map(E=>E.name);return{owner:v,others:(0,o.oxfordComma)(x).toString()}}return{owner:v,others:null}},d=function(y,C,v,b,x){const E=y?m(y):"";let O;C&&!C.others?b.toLowerCase().includes(C.owner.toLowerCase())?O="":O=` by ${C.owner},`:O="";let w;return v?w=` a Substack publication with ${v}.`:x?w=` a Substack publication. ${x}.`:w=" a Substack publication.",m(`${E} Click to read ${b},${O}${w}`)};function g(y,C){if(y){if(y.author_id===C)return!0;for(const v of y.contributors)if(v.user_id===C)return!0}return!1}},91613:(G,s,e)=>{"use strict";e.d(s,{x:()=>m});var o=e(6385);const m=(f,d,g,y,C)=>!(!C&&!(f!=null&&f.has_publication)||y.invite_only||(0,o.isPaidAudience)(g.audience)||!d.enable_restacking)},82771:(G,s,e)=>{"use strict";e.d(s,{Rg:()=>l,hd:()=>a});var o=e(85928),m=e.n(o),f=e(6385),d=e(15045),g=e(83322),y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(S,M,R)=>M in S?y(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,w=(S,M)=>{for(var R in M||(M={}))x.call(M,R)&&O(S,R,M[R]);if(b)for(var R of b(M))E.call(M,R)&&O(S,R,M[R]);return S},_=(S,M)=>C(S,v(M));function a(S,{name:M,url:R,description:N,potentialAction:T}={}){return T===void 0&&(T={"@type":"SearchAction",name:`Search ${S.name}`,target:`${S.base_url}${(0,d.getBaseArchiveUrl)(S)}?utm_source=google&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:M||S.name,publisher:w(w({"@type":"Organization",name:S.name,url:S.base_url},S.logo_url?{logo:{"@type":"ImageObject",url:S.logo_url}}:{}),S.twitter_screen_name?{sameAs:[`https://twitter.com/${S.twitter_screen_name}`]}:{}),url:R||S.base_url,mainEntityOfPage:{"@type":"WebPage",url:R||S.base_url},description:N||S.hero_text,potentialAction:T}}function l(S,M){var R,N,T,A;const W=(0,g.getBylineUsers)(M),j=w(w(_(w({"@type":"Organization",name:(S.parent_publication||S).name,url:(0,d.getBaseUrl)(S.parent_publication||S),description:(S.parent_publication||S).hero_text},S.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:S.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${(S.parent_publication||S).id}`}),(S.parent_publication||S).logo_url&&{logo:{"@type":"ImageObject",url:(S.parent_publication||S).logo_url,contentUrl:(0,d.imginary)((R=(S.parent_publication||S).logo_url)!=null?R:""),thumbnailUrl:(0,d.imginary)((N=(S.parent_publication||S).logo_url)!=null?N:"",128,{height:128})},image:{"@type":"ImageObject",url:(S.parent_publication||S).logo_url,contentUrl:(0,d.imginary)((T=(S.parent_publication||S).logo_url)!=null?T:""),thumbnailUrl:(0,d.imginary)((A=(S.parent_publication||S).logo_url)!=null?A:"",128,{height:128})}}),(S.parent_publication||S).twitter_screen_name&&{sameAs:[`https://twitter.com/${(S.parent_publication||S).twitter_screen_name}`]});return _(w({"@context":"https://schema.org","@type":"NewsArticle",url:(0,d.getPostUrl)(S,M),mainEntityOfPage:(0,d.getPostUrl)(S,M),headline:M.search_engine_title||M.social_title||M.title,description:M.search_engine_description||M.description,image:M.cover_image?[{"@type":"ImageObject",url:M.cover_image}]:[],datePublished:m()(M.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:m()(M.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!(0,f.isPaidAudience)(M.audience)},M.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:W.length>0?W.map(Z=>w(w({"@type":"Person",name:Z.name,url:(0,d.getReaderProfileUrl)(Z),description:Z.bio,identifier:`user:${Z.id}`},Z.twitter_screen_name&&{sameAs:[`https://twitter.com/${Z.twitter_screen_name}`]}),Z.photo_url&&{image:{"@type":"ImageObject",contentUrl:(0,d.imginary)(Z.photo_url),thumbnailUrl:(0,d.imginary)(Z.photo_url,128,{height:128})}})):j,publisher:j})}function P(S){return w({"@context":"https://schema.org","@type":"Person",image:(S==null?void 0:S.photo_url)&&imginary(S.photo_url),name:`${S==null?void 0:S.name}`,url:S&&getReaderProfileUrl(S),jobTitle:S==null?void 0:S.bio,description:S==null?void 0:S.bio},S!=null&&S.twitter_screen_name?{sameAs:[`https://twitter.com/${S.twitter_screen_name}`]}:{})}},86418:(G,s,e)=>{"use strict";e.d(s,{P:()=>f});const o=new Set(["subscribed","free_signup"]);function m(d){return o.has(d)}function f(d,g){if(!d)return!1;if(!g)return!0;const y=["unsubscribed","free_signup","subscribed"];return y.indexOf(d)>=y.indexOf(g)}},21125:(G,s,e)=>{"use strict";e.d(s,{gg:()=>f});var o=e(25235);function m(g){return g&&d(g)[0]||null}function f(g){return g&&d(g).pop()||null}function d(g){return(0,o.find)(g).filter(y=>y.type==="url"&&y.href.startsWith("http"))}},46131:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});function*o(m){if(yield m,m.content)for(const f of m.content)yield*o(f)}},81470:(G,s,e)=>{"use strict";e.d(s,{Uo:()=>o});var o=(d=>(d.Feed="feed",d.FeedSidebar="feed-sidebar",d.Suggestions="suggestions",d.Permalink="permalink",d.Profile="profile",d.Post="post",d.PostEmbed="post-embed",d.Publication="publication",d.RestacksList="restacks-list",d))(o||{}),m=(d=>(d.ForYou="for-you",d.Subscribed="subscribed",d.Subscribers="subscribers",d.Writers="writers-v2",d.Everyone="everyone",d.FirstNote="first-note",d.Substack="substack",d.ForYouBeta="for-you-beta",d))(m||{});const f={["for-you"]:"Home",subscribed:"Subscribed",subscribers:"My subscribers",["writers-v2"]:"[Bestsellers]",everyone:"[Everyone]",["first-note"]:"[First notes]",substack:"Substack",["for-you-beta"]:"[Home/beta]"}},20501:(G,s,e)=>{"use strict";e.r(s),e.d(s,{CDN_URL:()=>m.L4,CHAT_EXAMPLES_URL:()=>Ke,CHAT_FAQ_URL:()=>Re,FEED_PATH:()=>f.Ds,FEED_PATH_NAME:()=>f.qB,OLD_FEED_PATH:()=>f.Z3,_getUrl:()=>m.JD,extractDimensionsFromImageUrl:()=>ce,feedPathRegex:()=>f.Qe,fixOldFeedPath:()=>f.sm,getAddPodcastToSectionUrl:()=>Be,getBaseAppLinkUrl:()=>q,getBaseUrl:()=>m.SV,getBillingDetailsUrl:()=>N,getBillingHistoryUrl:()=>T,getCancelOrUncancelUrl:()=>Qe,getChangeEmailUrl:()=>j,getChatAppLinkUrl:()=>ie,getCommentDeepLinkUrl:()=>f.z5,getCommentEntityKey:()=>f.It,getCommentFallbackUrl:()=>f.NZ,getCommunityCommentAppLinkUrl:()=>ye,getCommunityPostAppLinkUrl:()=>fe,getCommunityPostEntityKey:()=>f.AO,getConnectFacebookUrl:()=>Oe,getConnectTwitterUrl:()=>nt,getCreateCollabPostUrl:()=>sn,getCreateNotesUrl:()=>f.TK,getCustomPublicationThemeDisablePreviewUrl:()=>Ie,getCustomPublicationThemePreviewUrl:()=>ge,getDashboardHomeUrl:()=>B,getDonateSubscriptionUrl:()=>M,getEditPostUrlById:()=>d.getEditPostUrlById,getEditProfileUrl:()=>g.qv,getEditPubPodcastUrl:()=>Tt,getEditSectionPodcastUrl:()=>xt,getEmailTestUrl:()=>A,getFeedCommentAppLinkUrl:()=>pe,getFeedCommentUrl:()=>f.Sg,getFeedPeopleYouMayKnowUrl:()=>f.kM,getFeedPostRestacksUrl:()=>f.Oi,getFeedPostUrl:()=>f.rc,getFeedShortPostUrl:()=>f.mx,getFeedUrl:()=>f.E2,getGiftsUrl:()=>W,getGroupManagementUrl:()=>ne,getHcProfileViolationFormUrl:()=>He,getHostname:()=>m.Fo,getImginariedFavicons:()=>ke,getImportPodcastToSectionUrl:()=>lt,getInboxAppLinkUrl:()=>oe,getLeaderboardUrl:()=>Pt,getLikelyLoggedInParam:()=>d.getLikelyLoggedInParam,getLinkToVideo:()=>d.getLinkToVideo,getLinkableElementIdForVideo:()=>d.getLinkableElementIdForVideo,getManageSubscriptionUrl:()=>Z,getMeetingAdminUrl:()=>ae,getMeetingOrderUrl:()=>re,getMeetingsUrl:()=>le,getMentionsUrl:()=>_t,getNavigationBarItemUrl:()=>Ue,getNoteCommentPreviewUrl:()=>f.IY,getNoteEntityKey:()=>f.D2,getNoteRestacksUrl:()=>f.Ed,getNoteUrl:()=>f.gt,getOfferSubscribeUrl:()=>R,getPodcastArchiveUrl:()=>je,getPodcastRssUrlFromIds:()=>Nt,getPostDashboardUrl:()=>te,getPostDeepLinkUrl:()=>f.sH,getPostDetailsPageUrl:()=>ct,getPostEntityKey:()=>f.vy,getPostTagUrl:()=>We,getPostUrl:()=>d.getPostUrl,getPostUrlBySlug:()=>d.getPostUrlBySlug,getPresubscribeUrl:()=>P,getProfileConnectionsUrl:()=>g.Fh,getProfileHandleUrl:()=>g.NJ,getProfileSubdomain:()=>g.t$,getProfileUrlById:()=>g.GR,getPubAccountSettingsUrl:()=>d.getPubAccountSettingsUrl,getPubConnectTwitterUrl:()=>Ge,getPublicationAppLinkUrl:()=>ue,getPublicationChatAppLinkUrl:()=>de,getPublishBaseUrl:()=>J,getPublishSettingsUrl:()=>Q,getReaderPostUrl:()=>K,getReaderProfileUrl:()=>g.NN,getSectionUrl:()=>be,getSharePublicationUrl:()=>a,getStreakGraphicUrl:()=>ht,getStripeInvoiceUrl:()=>yt,getStripePlanUrl:()=>an,getSubdomainOrCustomDomain:()=>he,getSubscribeUrl:()=>l,getSubscriberDashboardUrl:()=>V,getSubstackUrl:()=>m.ZJ,getSubstackUrlWithDomain:()=>m.y,getThreadCommentsLandingPageUrl:()=>Me,getThreadsLandingPageUrl:()=>we,getUserAppLinkUrl:()=>z,getWebChatUrl:()=>S,imginary:()=>De,isFeedPath:()=>f.Z2,isHostedBySubstack:()=>Ne,isHostedByUnsplash:()=>Ve,isOldFeedPath:()=>f.p8,isOpenSubstackPostUrl:()=>Fe,matchCommentPath:()=>f.Th,matchFeedSubpath:()=>f.Iw,matchNoteId:()=>f.WF,matchNotePath:()=>f.Po,matchOldCommentPath:()=>f.Qd,matchPostPath:()=>f.nY,parsePostUrl:()=>ft,parseUrl:()=>ut,pathWithQuery:()=>m.n1,serializeQuery:()=>m.Y$,shareSamePub:()=>Te,stripeBaseUrl:()=>Gt,substackBaseUrl:()=>m.tE,substackDomain:()=>m.T9,substackUrl:()=>m.pv,unimginary:()=>me});var o=e(87251),m=e(30123),f=e(70444),d=e(36250),g=e(2731),y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(Et,Ot,at)=>Ot in Et?y(Et,Ot,{enumerable:!0,configurable:!0,writable:!0,value:at}):Et[Ot]=at,w=(Et,Ot)=>{for(var at in Ot||(Ot={}))x.call(Ot,at)&&O(Et,at,Ot[at]);if(b)for(var at of b(Ot))E.call(Ot,at)&&O(Et,at,Ot[at]);return Et},_=(Et,Ot)=>C(Et,v(Ot));const a=(Et,Ot={})=>{const at=w({utm_source:"substack",utm_medium:"email",utm_content:"share",action:"share"},Ot),Ht=(0,m.SV)(Et);return(0,m.n1)(Ht,w(w({},at),Ot))};function l(Et,{root:Ot,user:at,addBase:Ht,params:zt={}}={}){return Ot?/[&?]$/.test(Ot)||(Ot.includes("?")||Ot.endsWith("%%")?Ot+="&":Ot+="?"):Ot=Ht?`${(0,m.SV)(Et)}/subscribe?`:"/subscribe?",at!=null&&at.email&&(zt.autoSubmit=!0,zt.email=at==null?void 0:at.email),Ot+(0,m.Y$)(zt)}function P(Et){return`/api/v1/presubscribe/${Et.id}`}function S({pubId:Et,postId:Ot,commentId:at,params:Ht}){return(0,m.n1)(`${(0,m.ZJ)()}/chat${Et?`/${Et}`:""}${Ot?`/post/${Ot}`:""}${at?`/reply/${at}`:""}`,Ht)}function M(Et,{root:Ot,addBase:at,params:Ht={}}={}){return Ot?/[&?]$/.test(Ot)||(Ot.includes("?")||Ot.endsWith("%%")?Ot+="&":Ot+="?"):Ot=at?`${(0,m.SV)(Et)}/donate?`:"/donate?",Ot+(0,m.Y$)(Ht)}function R(Et,{root:Ot,user:at,addBase:Ht,offerCode:zt,params:on={}}){return Ot?/[&?]$/.test(Ot)||(Ot.includes("?")||Ot.endsWith("%%")?Ot+="&":Ot+="?"):Ot=Ht?`${(0,m.SV)(Et)}/subscribe/offer/${zt}?`:`/subscribe/offer/${zt}?`,at!=null&&at.email&&(on.autoSubmit=!0,on.email=at==null?void 0:at.email),Ot+(0,m.Y$)(on)}function N(Et,{utm_source:Ot}={}){return(0,m.n1)(`${(0,m.SV)(Et)}/account/billing?details`,{utm_source:Ot})}function T(Et,{utm_source:Ot}={}){return(0,m.n1)(`${(0,m.SV)(Et)}/account/receipts`,{utm_source:Ot})}function A(Et,{utm_source:Ot}={}){return(0,m.n1)(`${(0,m.SV)(Et)}/account/email-test`,{utm_source:Ot})}function W({pub:Et}){return`${(0,m.SV)(Et)}/account/gifts`}function j({utm_source:Et}={}){return(0,m.n1)(`${(0,m.ZJ)()}/account/email`,{utm_source:Et})}function Z(Et){return`${(0,m.SV)(Et)}/account`}function J(Et,{addBase:Ot,baseUrlOptions:at}={}){return`${Ot?(0,m.SV)(Et,at):""}/publish`}function Q(Et,{addBase:Ot=!1,baseUrlOptions:at={},section:Ht="",params:zt}={}){let on=(0,m.n1)(`${J(Et,{addBase:Ot,baseUrlOptions:at})}/settings`,zt);return Ht&&(on+=`#${Ht}`),on}function ne(Et,{addBase:Ot=!1,baseUrlOptions:at={},params:Ht}={}){return(0,m.n1)(`${J(Et,{addBase:Ot,baseUrlOptions:at})}/groups`,Ht)}function te(Et,{addBase:Ot,params:at}={}){const zt=`${Ot?(0,m.SV)(Et):""}/publish`;return at?(0,m.n1)(zt,at):zt}function B(Et,{addBase:Ot,params:at}={}){const zt=`${Ot?(0,m.SV)(Et):""}/publish/home`;return at?(0,m.n1)(zt,at):zt}function V(Et,{addBase:Ot,params:at}={}){const zt=`${Ot?(0,m.SV)(Et):""}/publish/subscribers`;return at?(0,m.n1)(zt,at):zt}function re(Et,Ot,{addBase:at,params:Ht,referrer:zt}={}){const hn=`${at?(0,m.SV)(Et):""}/meetings/book/${Ot}`,gn=_(w({},Ht),{referrer:zt});return Ht||zt?(0,m.n1)(hn,gn):hn}function le(Et,{addBase:Ot,params:at,referrer:Ht}={}){const on=`${Ot?(0,m.SV)(Et):""}/meetings`,hn=_(w({},at),{referrer:Ht});return at||Ht?(0,m.n1)(on,hn):on}function ae(Et,{addBase:Ot,params:at,filter:Ht}={}){const on=`${Ot?(0,m.SV)(Et):""}/publish/meetings/${Ht!=null?Ht:"upcoming"}`;return at?(0,m.n1)(on,at):on}function q(){return(0,m.JD)(`open.${m.T9}`)}function oe({utm_source:Et,utm_campaign:Ot,redirect:at}){return(0,m.n1)(`${q()}/inbox`,{utm_source:Et,utm_campaign:Ot,redirect:at})}function z({user_id:Et,user_name:Ot,utm_source:at,utm_campaign:Ht,redirect:zt}){let on=`${q()}/users/${Et}`;const hn=(0,o.cleanSlug)(Ot,{hashIfEmpty:!0});return hn&&(on+=`-${hn}`),(0,m.n1)(on,{utm_source:at,utm_campaign:Ht,redirect:zt})}function ie({utm_source:Et,utm_campaign:Ot}){return(0,m.n1)(`${q()}/chat`,{utm_source:Et,utm_campaign:Ot})}function ue({subdomain:Et,utm_source:Ot,utm_campaign:at,redirect:Ht}){return(0,m.n1)(`${q()}/pub/${Et}`,{utm_source:Ot,utm_campaign:at,redirect:Ht})}function de({pubKey:Et,utm_source:Ot,utm_campaign:at,redirect:Ht,modal:zt}){return(0,m.n1)(`${q()}/pub/${Et}/chat`,{utm_source:Ot,utm_campaign:at,redirect:Ht,modal:zt})}function fe({postId:Et,utm_source:Ot,utm_campaign:at,redirect:Ht,modal:zt}){return(0,m.n1)(`${q()}/chat/posts/${Et}`,{utm_source:Ot,utm_campaign:at,redirect:Ht,modal:zt})}function ye({commentId:Et,targetReplyId:Ot,utm_source:at,utm_campaign:Ht,redirect:zt,modal:on}){return(0,m.n1)(`${q()}/chat/replies/${Et}`,{target_reply_id:Ot,utm_source:at,utm_campaign:Ht,redirect:zt,modal:on})}function pe(Et,{urlParams:Ot}={}){return(0,f.Sg)(Et,{baseUrl:q(),urlParams:Ot})}function we({pub:Et,postId:Ot,modal:at,query:Ht}){return(0,m.n1)(`${(0,m.SV)(Et)}/chat${Ot?`/posts/${Ot}`:""}`,w({modal:at},Ht))}function Me({pub:Et,commentId:Ot,targetReplyId:at,modal:Ht,query:zt}){return(0,m.n1)(`${(0,m.SV)(Et)}/chat${Ot?`/replies/${Ot}`:""}`,w({modal:Ht,target_reply_id:at},zt))}function je({pub:Et,params:Ot,section:at}){return at?(0,m.n1)(`${(0,m.SV)(Et)}/listen/${at.slug}/archive`,Ot):(0,m.n1)(`${(0,m.SV)(Et)}/podcast/archive`,Ot)}function De(Et,Ot,{quality:at="auto:good",format:Ht="auto",crop:zt="limit",lossy:on=!1,gravity:hn=null,height:gn=null,aspect:bn=null,version:Un=null,smartCrop:qn=!1,portraitCrop:cr=!1,skipDomainValidation:hr=!1,leadingSegments:pr=[],trailingSegments:Lr=[]}={}){var oo;if(!Et)return Et;Et.startsWith("/")&&!Et.startsWith("//")&&(Et=(0,m.ZJ)()+Et),Et=me(Et);try{if(new URL(Et).hostname.endsWith(".localhost"))return Et}catch(Nr){}if(typeof window!="undefined"&&((oo=window==null?void 0:window.location)!=null&&oo.hostname)&&["subwit.com","herokuapp.com"].reduce((Nr,Hr)=>Nr||window.location.hostname.endsWith(Hr),!1)&&(Et=Et.replace("//substack.com",`//${window.location.hostname}`)),Et.startsWith("https://substackcdn.com")||Et.startsWith(m.L4))return Et;if(Et.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return Et.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,m.L4);if(Et.startsWith("https://res.cloudinary.com"))return Et.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,m.L4);if(!hr&&!Et.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return Et;if(qn&&Ot&&gn){const Nr=ce(Et);if(Nr){const Hr=Ot/gn,Ur=Nr.width/Nr.height;(Hr<1&&Ur>=1||Hr>=1&&Ur<1||Hr===1&&Ur>=1||Hr===1&&Ur<=1)&&Math.abs(Hr-Ur)>=.5&&(zt="fill",hn=hn!=null?hn:"auto")}}if(qn&&(zt="fill",hn=hn!=null?hn:"auto"),bn&&Ot&&gn==null){const[Nr,Hr]=bn.split(":").map(Number);gn=Math.round(Ot*Hr/Nr)}const Kr=[Ot&&`w_${Ot}`,gn&&`h_${gn}`,zt&&(Ot||gn)&&`c_${zt}`,Ht&&`f_${Ht}`,at&&`q_${at}`,`fl_${on?"lossy":"progressive:steep"}`,hn&&`g_${hn}`].filter(Boolean).join(","),co=[Ot&&`w_${Ot}`,Ht&&`f_${Ht}`,at&&`q_${at}`,`fl_${on?"lossy":"progressive:steep"}`].filter(Boolean).join(","),lo=[zt&&(Ot||gn)&&`c_${zt}`,hn&&`g_${hn}`,bn?`ar_${bn}`:"ar_1"].filter(Boolean).join(","),dr=cr?[co,"/if_ar_lt_1.0/",lo,"/if_end"].join(""):[Kr].filter(Boolean).join(",");return`${m.L4}/image/fetch/${pr.concat([dr]).concat(Lr).join("/")}/${encodeURIComponent(Et+(Un?`${Et.indexOf("?")!==-1?"&":"?"}version=${Un}`:""))}`}function me(Et){if(!Et)return Et;const Ot=[/^https:\/\/substackcdn\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/[^/]+\/(.+)$/i];for(const at of Ot){const Ht=at.exec(Et);if(Ht)return decodeURIComponent(Ht[1])}return Et}function ce(Et){const Ot=Et.match(/(\d+)x(\d+)\.\w+$/);return Ot?{width:+Ot[1],height:+Ot[2]}:null}function ge(Et,Ot){return`${(0,m.SV)(Et)}/api/v1/custom-publication-theme/${Ot.id}/preview`}function Ie(Et){return`${(0,m.SV)(Et)}/api/v1/custom-publication-theme/disable-preview`}const Re="https://substack.link/chat-faq",Ke="https://substack.link/chat-examples";function ut(Et){const Ot=Et.trim();if(/\s/.test(Ot))return null;try{const at=new URL(Ot);return["http:","https:"].includes(at.protocol)?at:null}catch(at){return null}}const _t=(Et,Ot,at,Ht)=>{switch(Et){case"user":default:return z({user_id:Ot,user_name:at,utm_source:"mentions"});case"pub":return Ht?(0,m.n1)(Ht,{utm_source:"mentions"}):""}};function ft(Et){var Ot;const at=ut(Et);if(!at)return null;const Ht=(Ot=at.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:Ot[1];if(!Ht)return null;let zt,on;return at.hostname.endsWith(`.${m.pv.hostname}`)?zt=at.hostname.split(".")[0]:on=at.hostname,{slug:Ht,subdomain:zt,customDomain:on}}function We(Et,Ot,{addBase:at=!1,query:Ht={}}={}){return(0,m.n1)(`${at?(0,m.SV)(Et):""}/t/${Ot.slug}`,Ht)}const Be=({section:Et})=>`/publish/settings/new_podcast/${Et.id}`,lt=({section:Et})=>Et?`/publish/import/podcast/${Et.id}`:"",Tt=({pub:Et,addBase:Ot})=>`${Ot?(0,m.SV)(Et):""}/publish/settings/podcast/edit`,xt=({pub:Et,section:Ot,addBase:at,referrer:Ht})=>Ot?`${at?(0,m.SV)(Et):""}/publish/settings/podcast/${Ot.id}${Ht?`?referrer=${Ht}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),Gt="https://dashboard.stripe.com",an=(Et,Ot)=>`${Gt}/${Et.stripe_user_id}/prices/${Ot}`,yt=(Et,Ot)=>`${Gt}/${Et.stripe_user_id}/invoices/${Ot}`;function ke(Et){const Ot=Et.html.map(at=>{var Ht;const zt=(Ht=at.match(/href="([^"]+)"/))==null?void 0:Ht[1];return zt?at.replace(zt,De(zt)):at});return _(w({},Et),{html:Ot})}function Ve(Et){return Et?Et.startsWith("https://images.unsplash.com/"):!1}function Ne(Et){if(Et){if(Et.startsWith(m.L4)||Et.startsWith("https://res.cloudinary.com")||Et.startsWith("https://bucketeer"))return!0;const{SUBSTACK_POST_MEDIA_BUCKET_NAME:Ot}=e(83322),at=`https://${Ot}.s3.amazonaws.com`;if(console.log("bucketPrefix",at),Et.startsWith(at))return!0}return!1}function Fe(Et){if(!Et)return!1;const{hostname:Ot,pathname:at}=new URL(Et);return Ot.startsWith("open.substack.com")?at.startsWith("/pub/")&&at.includes("/p/"):!1}function Ue(Et,Ot,{addBase:at}={}){var Ht,zt;return Ot.section?be(Et,{addBase:at,section:Ot.section}):Ot.post?(0,d.getPostUrl)(Et,Ot.post,{noBase:!at}):Ot.postTag?We(Et,Ot.postTag,{addBase:at}):at&&/^\/[^/]/.test((Ht=Ot.link_url)!=null?Ht:"")?`${(0,m.SV)(Et)}${Ot.link_url}`:(zt=Ot.link_url)!=null?zt:""}function be(Et,{addBase:Ot,section:at}={}){if(at=at||(Et==null?void 0:Et.section),!at)throw new Error("Section not found");return`${Ot?(0,m.SV)(Et):""}/s/${at.slug||at.id}`}const Ge=(Et,{addBase:Ot,params:at}={})=>{const Ht=Ot&&Et?wp.getBaseUrl(Et):"";return nt(w({base:Ht},at))},nt=Et=>{var Ot;const at=`${(Ot=Et==null?void 0:Et.base)!=null?Ot:""}/api/v1/twitter/authorize`;return Et?(0,m.n1)(at,Et):at},Oe=Et=>{var Ot;const at=`${(Ot=Et==null?void 0:Et.base)!=null?Ot:""}/api/v1/fb/auth`;return Et?(0,m.n1)(at,Et):at};function K(Et,Ot){return(0,m.n1)(`${(0,m.SV)()}/inbox/post/${Et}`,Ot)}function Y(Et){const Ot=/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/,at=/^https?:\/\/([^\.]+)\.substack\.com/;let Ht=Et.match(Ot);return!Ht&&(Ht=Et.match(at),!Ht)?null:Ht[1]}function he(Et){Et=(Et||"").toLowerCase();const Ot=Et.match(/^\s*(\w+)\s*$/);if(Ot)return Ot[1];const at=Et.match(/\w+(\.\w+)+/);if(at){let Ht=at[0];return Ht.includes("substack")&&(Ht=Ht.split(".")[0]),Ht}}function Te({url:Et,currentSubdomain:Ot,currentCustomDomain:at}){return Fe(Et)?Ot===Y(Et):at?at===he(Et):Ot===Y(Et)}function He(Et){return`${(0,m.ZJ)()}/profile/${Et}/hc-violation-form`}const Qe=(Et,{addBase:Ot,params:at}={})=>{const Ht=Ot?(0,m.SV)(Et):"";return(0,m.n1)(`${Ht}/account/cancel`,at)},ht=(Et,Ot,at)=>`${(0,m.SV)(Et)}/api/v1/streak.jpg?n=${Ot}&pct=${at}`,ct=(Et,Ot,{addBase:at,referrer:Ht,params:zt}={})=>{const hn=`${at?(0,m.SV)(Et):""}/publish/posts/detail/${Ot}`,gn=_(w({},zt),{referrer:Ht});return zt||Ht?(0,m.n1)(hn,gn):hn},Pt=(Et,{addBase:Ot,params:at}={})=>{const Ht=Ot?(0,m.SV)(Et):"";return(0,m.n1)(`${Ht}/leaderboard`,at)};function Nt({pubId:Et,sectionId:Ot,token:at}){if(Ot){let zt=`${(0,m.SV)({subdomain:"api"})}/feed/podcast/${Et}/s/`;return at?zt+=`${Ot}/private/${at}.rss`:zt+=`${Ot}.rss`,zt}let Ht=`${(0,m.SV)({subdomain:"api"})}/feed/podcast/${Et}`;return at?Ht+=`/private/${at}.rss`:Ht+=".rss",Ht}const sn=(Et,{params:Ot}={})=>(0,m.n1)("/publish/collab",Ot)},30123:(G,s,e)=>{"use strict";e.d(s,{Fo:()=>v,JD:()=>g,L4:()=>d,Q2:()=>_,SV:()=>E,T9:()=>m,Y$:()=>b,ZJ:()=>O,n1:()=>x,pv:()=>C,tE:()=>y,y:()=>w});var o=e(8221);const m=o.S?`${o.S}.substack.info`:"substack.com",f=null,d="https://substackcdn.com";function g(a){let l="https://",P="";return l+a+P}const y=g(m),C=new URL(y);function v(a,{forceSubdomain:l=!1}={}){if(a&&a.custom_domain&&!a.custom_domain_optional&&!l)return a.custom_domain;let P=m;return a&&a.subdomain!=="www"&&(P=`${a.subdomain}.${P}`),P}function b(a){return Object.keys(a).filter(l=>typeof a[l]!="undefined"&&a[l]!==null).map(l=>`${encodeURIComponent(l)}=${encodeURIComponent(a[l])}`).join("&")}function x(a,l){if(!a)return"";if(!l)return a;const P=b(l),S=P?a.indexOf("?")===-1?"?":"&":"";return`${a}${S}${P}`}function E(a,{forceSubdomain:l=!1}={}){if(a!=null&&a.rss_website_url)try{return new URL(a.rss_website_url).origin}catch(S){return a.rss_website_url}else if(a!=null&&a.base_url)return a.base_url;const P=v(a,{forceSubdomain:l});return g(P)}function O(){return E()}function w(a){return g(a)}function _(a,{noBase:l,urlParams:P}={}){const S=l?"":E();return x(`${S}${a}`,P)}},70444:(G,s,e)=>{"use strict";e.d(s,{AO:()=>pe,D2:()=>de,Ds:()=>E,E2:()=>V,Ed:()=>ue,IY:()=>De,It:()=>fe,Iw:()=>T,NZ:()=>oe,Oi:()=>ie,Po:()=>te,Qd:()=>ne,Qe:()=>N,Sg:()=>ae,TK:()=>je,Th:()=>J,WF:()=>B,Z2:()=>_,Z3:()=>O,gt:()=>q,kM:()=>re,mx:()=>le,nY:()=>Z,p8:()=>W,qB:()=>x,rc:()=>z,sH:()=>Me,sm:()=>j,vy:()=>ye,z5:()=>we});var o=e(6385),m=e(30123),f=e(2731),d=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,v=(me,ce,ge)=>ce in me?d(me,ce,{enumerable:!0,configurable:!0,writable:!0,value:ge}):me[ce]=ge,b=(me,ce)=>{for(var ge in ce||(ce={}))y.call(ce,ge)&&v(me,ge,ce[ge]);if(g)for(var ge of g(ce))C.call(ce,ge)&&v(me,ge,ce[ge]);return me};const x="notes",E=`/${x}`,O="/feed",w=`${E}/`;function _(me){return me===E||me.startsWith(w)}const a=/^([cp])-(\d+)$/,l=/^\/note\/([cp])-(\d+)$/,P=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,S=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,M=/^\/@[^\/]+\/note\/c-(\d+)$/,R=/^\/@[^\/]+\/note\/p-(\d+)$/,N=new RegExp(`${E}/(short|post)/p-(\\d+)`);function T(me){const ce=J(me);if(ce)return ce;const ge=Z(me);if(ge)return ge;const Ie=te(me);return Ie||null}const A=new RegExp(`^${O}(/?)`);function W(me){return!!me.match(A)}function j(me){return me.replace(A,`${E}$1`)}function Z(me){const ce=me.match(S);if(ce)return{type:"post",id:Number(ce[3]),author:{id:Number(ce[1]),name:ce[2]}};const ge=me.match(R);if(ge)return{type:"post",id:Number(ge[1])};const Ie=me.match(N);return Ie?{type:Ie[1]==="short"?"post":"postViewer",id:Number(Ie[2])}:null}function J(me){const ce=me.match(P);if(ce)return{type:"comment",id:Number(ce[3]),author:{id:Number(ce[1]),name:ce[2]}};const ge=me.match(M);return ge?{type:"comment",id:Number(ge[1])}:null}const Q=new RegExp(`^${O}/comment/(d+)$`);function ne(me){return me.match(Q)}function te(me){const ce=me.match(l);return ce?{type:ce[1]==="c"?"comment":"post",id:Number(ce[2])}:null}function B(me){const ce=me.match(a);return ce?{type:ce[1]==="c"?"comment":"post",id:Number(ce[2])}:null}function V({baseUrl:me,urlParams:ce}={}){let ge=E;const Ie=me!=null?me:(0,m.ZJ)();return(typeof window=="undefined"||!window.location.href.startsWith(Ie))&&(ge=Ie+ge),(0,m.n1)(ge,ce)}function re({baseUrl:me,urlParams:ce}={}){const ge=V({baseUrl:me});return(0,m.n1)(`${ge}/suggestions`,ce)}function le(me,ce,{noBase:ge,urlParams:Ie}={}){var Re,Ke;const ut=(Re=ce.publishedBylines)!=null&&Re[0]?(Ke=ce.publishedBylines)==null?void 0:Ke[0]:me?(0,o.getPostAuthor)(me,ce):{id:0,name:"someone"};return(0,m.n1)(`${(0,f.NN)(ut,{noBase:ge,extraParams:Ie})}/note/${ye(ce.id)}`,Ie)}function ae(me,{noBase:ce,baseUrl:ge,urlParams:Ie,noHandle:Re}={}){return me.user_id?(0,m.n1)(`${(0,f.NN)((0,o.getCommentAuthor)(me),{baseUrl:ge,noBase:ce,noHandle:Re})}/note/${fe(me.id)}`,Ie):V({baseUrl:ge})}function q(me,{noBase:ce,baseUrl:ge,urlParams:Ie}={}){const Re=ce?"":ge!=null?ge:(0,m.ZJ)();return(0,m.n1)(`${Re}/note/${me}`,Ie)}function oe(me,{noBase:ce,urlParams:ge}={}){const Ie=ce?"":(0,m.SV)();return(0,m.n1)(`${Ie}/note/${fe(me)}`,ge)}function z(me,{noBase:ce,urlParams:ge}={}){const Ie=ce?"":(0,m.SV)();return(0,m.n1)(`${Ie}${E}/post/${ye(me)}`,ge)}function ie(me,ce){return(0,m.Q2)(`/note/${ye(me)}/restacks`,ce)}function ue(me,ce,ge){return(0,m.Q2)(`/note/${me}/restacks${ce==="notes"?"/notes":""}`,ge)}function de(me,ce){return`${ce==="comment"?"c":"p"}-${me}`}function fe(me){return`c-${me}`}function ye(me){return`p-${me}`}function pe(me){return`cp-${me}`}function we(me){return`substack://notes/${fe(me)}`}function Me(me){return`substack://notes/${ye(me)}`}function je(me){return(0,m.n1)(V(),b({action:"compose"},me))}function De(me,{noBase:ce}={}){return`${ce?"":(0,m.SV)()}/note/${fe(me)}/preview.jpg`}},36250:(G,s,e)=>{"use strict";e.r(s),e.d(s,{getCommentUrl:()=>P,getEditPostUrlById:()=>_,getLikelyLoggedInParam:()=>a,getLinkToVideo:()=>w,getLinkableElementIdForVideo:()=>O,getPostCommentsUrl:()=>E,getPostUrl:()=>b,getPostUrlBySlug:()=>x,getPubAccountSettingsUrl:()=>l});var o=e(30123),m=e(70444),f=Object.defineProperty,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(S,M,R)=>M in S?f(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,v=(S,M)=>{for(var R in M||(M={}))g.call(M,R)&&C(S,R,M[R]);if(d)for(var R of d(M))y.call(M,R)&&C(S,R,M[R]);return S};function b(S,M,{noBase:R,edit:N,email:T,comments:A,commentId:W,commentInput:j,highlightComment:Z,replyToComment:J,commentContextId:Q,uuid:ne,urlParams:te,signedIn:B=!1,feedViewer:V=!1}={}){if(S&&(S=[S].concat(S.child_publications||[]).find(ae=>ae.id===(M==null?void 0:M.publication_id))||S),(S==null?void 0:S.type)==="rss"&&M)return M.canonical_url||S.rss_website_url;const re=M?ne?M.uuid:M.slug:null;if((N||!re)&&S&&(M!=null&&M.id))return`${R?"":(0,o.SV)(S)}${_(S,M.id,te)}`;if((M==null?void 0:M.type)==="restack"&&(M!=null&&M.id))return`${R?"":(0,o.SV)(S)}/cp/${M.id}`;if(V||!S||!M||!re){const ae=R?"":(0,o.SV)();return W?(0,m.NZ)(W,{noBase:R,urlParams:te}):M?(0,m.rc)(M.id,{noBase:R,urlParams:te}):(0,o.n1)(`${ae}${m.Ds}`,te)}const le=a(B,S);return x(S,re,{noBase:R,email:T,comments:A,commentId:W,commentInput:j,highlightComment:Z,replyToComment:J,commentContextId:Q,urlParams:v({lli:le},te)})}function x(S,M,{noBase:R,email:N,comments:T,commentId:A,commentInput:W,highlightComment:j,replyToComment:Z,commentContextId:J,urlParams:Q}={}){let ne="";return R||(ne+=(0,o.SV)(S)),ne+=`/p/${M}`,T&&(!A||j)&&(ne+="/comments"),A&&!j&&!J&&(ne+=`/comment/${A}`),N&&(ne+="/email"),Q&&(ne=(0,o.n1)(ne,Q)),A&&(j||Z)?ne+=`#comment-${A}${Z?"-reply":""}`:W&&(ne+="#input"),A&&J&&(ne+=`/comment/${J}#comment-${A}`),ne}function E(S,M,R,N){return b(S,M,v({comments:!0,commentId:R==null?void 0:R.id},N))}function O({mediaUploadId:S}){return`media-${S}`}function w({pub:S,post:M,mediaUploadId:R}){return`${b(S,M)}#${O({mediaUploadId:R})}`}function _(S,M,R){return(0,o.n1)(`/publish/post/${M}`,R)}function a(S,M){return M.custom_domain&&S?"1":void 0}function l(S,{addBase:M,params:R,signedIn:N}={}){const T=a(N,S),A=M?(0,o.SV)(S):"";return(0,o.n1)(`${A}/account`,v({lli:T},R))}function P(S,M,R,N){return M.post_id?E(R!=null?R:void 0,S!=null?S:void 0,M,N):(0,m.Sg)(M,N)}},2731:(G,s,e)=>{"use strict";e.d(s,{Fh:()=>_,GR:()=>b,NJ:()=>x,NN:()=>w,qv:()=>O,t$:()=>E});var o=e(87251),m=e(30123),f=Object.defineProperty,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(a,l,P)=>l in a?f(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,v=(a,l)=>{for(var P in l||(l={}))g.call(l,P)&&C(a,P,l[P]);if(d)for(var P of d(l))y.call(l,P)&&C(a,P,l[P]);return a};function b(a,l,{searchParams:P,noBase:S,baseUrl:M}={}){let N=`${S?"":M!=null?M:(0,m.ZJ)()}/profile/${a}`;const T=(0,o.cleanSlug)(l,{hashIfEmpty:!0});return T&&(N+=`-${T}`),(0,m.n1)(N,P)}const x=(a,{searchParams:l,noBase:P,baseUrl:S}={})=>{const R=`${P?"":S!=null?S:(0,m.ZJ)()}/@${a}`;return(0,m.n1)(R,l)};function E(a,{searchParams:l,noBase:P,baseUrl:S}={}){const R=`${P?"":S!=null?S:(0,m.ZJ)()}/@${a}`;return(0,m.n1)(R,l)}function O(){return`${(0,m.ZJ)()}/profile/edit`}function w(a,{utm_source:l,utm_content:P,noBase:S,baseUrl:M,noHandle:R,extraParams:N}={}){const T=l||P?{utm_source:l,utm_content:P}:void 0,A=v(v({},N),T),W=R?void 0:(a==null?void 0:a.handle)||(a==null?void 0:a.author_handle);return W?x(W,{noBase:S,baseUrl:M,searchParams:A}):b(a.author_id||a.user_id||a.id,a.user_profile_name||a.author_name||a.name,{noBase:S,baseUrl:M,searchParams:A})}function _(a,l,P){return(0,m.Q2)(`${w(a,{noBase:!0})}/${l!=null?l:"subscribers"}`,P)}},76193:(G,s,e)=>{"use strict";e.r(s),e.d(s,{MOBILE_USER_AGENT_FIRST_4_PATTERN:()=>m,MOBILE_USER_AGENT_PATTERN:()=>o,getIosVersion:()=>g,isAndroid:()=>b,isAndroidUserAgent:()=>v,isIos:()=>y,isMobile:()=>f,isMobileUserAgent:()=>d});const o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,m=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function f(x={}){let E=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!E&&typeof window!="undefined"&&(E=window.opera),E?d(E,x):!1}function d(x,{checkFirst4:E}={}){return o.lastIndex=0,m.lastIndex=0,!!(o.test(x)||E&&m.test(x.substr(0,4)))}function g(){if(typeof navigator=="undefined")return null;const x=navigator.userAgent;if(!x.match(/iPad/i)&&!x.match(/iPhone/i))return null;const E=x.indexOf("OS ");return E===-1?null:parseInt(x.substr(E+3,3).replace("_","."))||null}function y(){return!!g()}const C=/Android/i;function v(x){return C.lastIndex=0,!!x&&C.test(x)}function b(){return typeof navigator=="undefined"?!1:v(navigator.userAgent)}},63830:(G,s,e)=>{"use strict";e.d(s,{l:()=>o});const o=(m,{utm_source:f}={})=>{const d={id:m(),timestamp:new Date};return f&&(d.utm_source=f),d}},83322:(G,s,e)=>{"use strict";e.r(s),e.d(s,{AUDIENCE_ADJECTIVES:()=>ut,AppError:()=>Fe,CENTS_PER_EMAIL:()=>Ne,COMMUNITY_PICKS_CATEGORY_NAME:()=>lt,CONTENT_MODERATION_REASONS:()=>ge,ChatError:()=>Ue,DEFAULT_PREVIEW_LIMIT:()=>pe,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>we,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>ye,DEFAULT_THEME_COLORS:()=>yt,GIFT_LENGTH_MONTHS:()=>We,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>fe,GRACE_PERIOD_DAYS:()=>ie,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>ft,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>ue,MAX_BYLINES:()=>mn,MAX_FILE_SIZE:()=>j,MAX_MEDIA_FILE_SIZE:()=>A,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>W,MAX_PODCAST_FILE_SIZE:()=>T,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>Me,MISSING_IMAGE_HEIGHT:()=>me,MISSING_IMAGE_URL:()=>De,MISSING_IMAGE_WIDTH:()=>ce,MONTH_NAMES:()=>Gt,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>ke,NO_REPLY_EMAIL:()=>ht,OLD_PODCAST_CATEGORIES:()=>xt,PODCAST_CATEGORIES:()=>Be,PUBLICATION_TIER_DESCRIPTIONS:()=>wt,SECURITY_QUESTIONS:()=>Ke,SPECIAL_SUBDOMAINS:()=>Re,STRIPE_DAYS_UNTIL_DUE:()=>de,STRIPE_TAX_ID_TYPES:()=>an,SUBSCRIPTION_WORDS:()=>no,SUBSTACK_POST_MEDIA_BUCKET_NAME:()=>Ie,SUBSTACK_PUBLICATION_IDS:()=>ae,SUBSTACK_PUBLICATION_ID_BETA:()=>B,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>te,SUBSTACK_PUBLICATION_ID_COMPANY:()=>J,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>Q,SUBSTACK_PUBLICATION_ID_ON:()=>Z,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>le,SUBSTACK_PUBLICATION_ID_READ:()=>V,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>ne,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>re,SUBSTACK_USER_ID:()=>q,SUBSTACK_USER_IDS:()=>z,SUBSTACK_WRITERS_USER_ID:()=>oe,SUPPORTED_CURRENCIES:()=>cr,TASTEMAKER_CATEGORY_NAME:()=>Tt,TERSE_AUDIENCE_ADJECTIVES:()=>_t,TRANSPARENT_IMAGE_URL:()=>je,TWEET_PLACEHOLDER_DATA_URI:()=>l,WEEK_IN_SECONDS:()=>Ve,anonymousName:()=>wr,areCommentsLocked:()=>_o,assertIsDefined:()=>P,assertIsError:()=>S,balanceTextWithCharacterWidths:()=>qn,baschezScoreToEmojis:()=>At,baschezToCategory:()=>Rn,canDeleteComment:()=>di,canDeletePost:()=>ti,canEditComment:()=>ki,canPostComments:()=>xi,canReplyToPost:()=>Qe,canReportComment:()=>li,canSeeCommenterEmails:()=>gi,canSeeComments:()=>vi,canSeeTranscription:()=>oa,centsToDollarString:()=>dr,centsToPriceString:()=>lo,colorLightness:()=>$r,colorLuma:()=>xr,commentsEnabledForPost:()=>si,couldPostCommentsIfSubscribed:()=>Bi,coverPageFreeSubscriberCount:()=>Er,currencySymbol:()=>Kr,decimalToPercent:()=>Br,deep_equals:()=>Po,defaultAudienceForPub:()=>Ye,defaultCommentLevelForPub:()=>gt,defaultSendEmailForPub:()=>kt,dollarFormatter:()=>Nr,dollarStringToCents:()=>Hr,endsWithPunctuation:()=>Ht,escapeNewlines:()=>fo,flat:()=>bo,formatArray:()=>en,formatBytes:()=>Sn,formatEllipsis:()=>at,formatPercentForDisplay:()=>yr,formatPodcastDuration:()=>or,formattedBytesToNumber:()=>fr,foundingMemberDescription:()=>To,getByLine:()=>be,getBylineUsers:()=>un,getCurrencyForCountry:()=>hr,getGiftValueText:()=>mo,getInitalPayment:()=>uo,getNext5HoursAfterMidnight:()=>Fn,getOpennodePaymentUrl:()=>Oi,getPlanTitle:()=>vr,getPostCtaPresentParticiple:()=>St,getPostCtaText:()=>vt,getPostEmbedMeta:()=>Oe,getPrintedByline:()=>tn,getPrintedPostType:()=>Mt,getReadableAttribution:()=>yi,getReaderRecommendationEmailSubject:()=>gr,getRestackEmailSubject:()=>Ft,getScheduledAt:()=>ao,getSubscribeText:()=>nt,getSubscriptionWord:()=>qo,getSuperscriptNumberString:()=>Uo,getTrialEndOverride:()=>Bt,getWithIndefiniteArticle:()=>Wr,get_month_name:()=>Pe,group_by:()=>_i,guessFirstName:()=>Se,guessLastName:()=>_e,handleDocumentLinkClick:()=>ur,hashString:()=>Tr,hexToHSV:()=>Lo,hexToRgb:()=>Bo,hidePaidPostsFor:()=>K,isNotMainEntry:()=>tr,isNotesAttribution:()=>ko,isPaidPub:()=>et,isPinnable:()=>ln,isProbablyEmail:()=>tt,isSearchEngineCrawlerQuick:()=>rr,isUUID:()=>dn,isValidCommentLevel:()=>pt,isZeroDecimalCurrency:()=>Lr,joinLines:()=>Yt,kFormatter:()=>Ir,longestSetOfWordsBelowCost:()=>Un,mode:()=>mt,normalizeHex:()=>Mo,numberToHumanFileSize:()=>Ji,numberToOrderOfMagnitude:()=>er,numberToOrderOfMagnitudeShortString:()=>Nn,numberToOrderOfMagnitudeString:()=>Jn,numberToOrdinal:()=>An,numberToRoughRankingString:()=>Pr,numberToString:()=>zn,objectMap:()=>Ho,onlyOwnsRootComment:()=>So,oxfordComma:()=>$e,paymentPeriodToPlan:()=>Zt,planBasePricing:()=>yo,pluralize:()=>Sr,possessive:()=>Ao,postSocialDescription:()=>Cr,pubCurrency:()=>pr,pubHasPaymentsEnabled:()=>Di,pubUsesZeroDecimalCurrency:()=>oo,pubsWithCustomSubscriptionWords:()=>kr,randomString:()=>Wt,resolveTwitterShareText:()=>Ge,restacksEnabledForPost:()=>oi,rgbToHex:()=>Qr,roundPriceUp:()=>Ur,sanitizeInlineText:()=>ot,satoshiToBitcoin:()=>co,secondsToHHMMSS:()=>Xo,secondsToLargestUnit:()=>Oo,setDateToMidnightPST:()=>Dn,shouldHidePostFromArchive:()=>Vt,shouldUseInlineComments:()=>Y,showCommentsOnPost:()=>ci,simpleBalanceText:()=>on,sortSubscriptions:()=>Te,spellOutNumber:()=>to,splitArray:()=>Vo,stringCost:()=>bn,stripInvalidBytes:()=>ct,subscriptionTypeText:()=>He,textLengthAlphaNumericMinimumValidator:()=>sr,toMap:()=>No,toMillis:()=>xn,toSentenceCase:()=>vn,toTitleCase:()=>rn,transformDocumentLink:()=>Wn,truncAndFormatArray:()=>$t,truncateBytes:()=>Pt,truncateNumber:()=>nn,truncateText:()=>sn,truncateToValidBytes:()=>Nt,truncateWords:()=>Et,twitterScreenNames:()=>a,validCommentLevels:()=>Xe,validateColor:()=>Yr,validateHex:()=>Go,videoPlayerDimensions:()=>Pn});var o=e(57824),m=e.n(o),f=e(82626),d=e(82622);const g={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(Ce,it,L)=>it in Ce?y(Ce,it,{enumerable:!0,configurable:!0,writable:!0,value:L}):Ce[it]=L,w=(Ce,it)=>{for(var L in it||(it={}))x.call(it,L)&&O(Ce,L,it[L]);if(b)for(var L of b(it))E.call(it,L)&&O(Ce,L,it[L]);return Ce},_=(Ce,it)=>C(Ce,v(it));const a=g,l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function P(Ce){if(Ce==null)throw new Fe(`Expected value to be defined, but received ${Ce}`)}function S(Ce){if(!(Ce instanceof Error))throw new Fe(`Expected value to be an Error, but received ${Ce}`)}const M="\u2026",R=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],N=["CA","AU","HK","NZ"],T=350*1024*1024,A=20*1024*1024*1024,W=50*1024*1024,j=700*1024*1024,Z=1,J=46438,Q=86696,ne=81318,te=87805,B=508885,V=737237,re=1014268,le=1056696,ae=[Z,J,Q,ne,te,B,V,re,le],q=81309935,oe=41856304,z=[q,oe],ie=16,ue=45,de=30,fe=0,ye=1e3,pe=356,we=256,Me=6,je="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",De="/img/missing-image.png",me=455,ce=728,ge=["illegal","private_information","general","spam","hate","impersonation","plagiarism","porn"].sort(),Ie="substack-post-media";console.log("bucket",Ie);const Re=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],Ke=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],ut={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},_t={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},ft=new Date("2020-01-16"),We=1,Be={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},lt="writer favorites",Tt="featured recommenders",xt={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},Gt=["January","February","March","April","May","June","July","August","September","October","November","December"],an=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],yt=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],ke=["IN"],Ve=60*60*24*7,Ne=.0064;class Fe extends Error{constructor(it,{status:L=500,userVisible:F=!1,messageHtml:$=null,responseBody:se=null}={}){super(it),this.name=this.constructor.name,this.status=L,this.userVisible=!!se||F||!1,this.messageHtml=$,this.response={body:se||(this.userVisible?$?{errors:[{msg:it,msgHTML:$}]}:{error:it}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Ue extends Error{constructor({status:it=500,errType:L="SERVER_ERROR",errMessage:F="",pub:$=null}){super(F),this.name=this.constructor.name,this.status=it,this.response={body:{status:L,error:F}},$&&(this.response.body.publication=$),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function be(Ce,{skipMultiContributorCheck:it=!1}={}){var L,F,$,se;if(Ce.subdomain==="popularinformation")return"Judd Legum";if(Ce.subdomain==="whyisthisinteresting")return"Noah & Colin";if(Ce.subdomain==="informant")return"Nick Martin";if(Ce.subdomain==="colinmeloy")return"Colin Meloy";if(Ce.subdomain==="petition"||Ce.subdomain==="russiandissent")return null;if(Ce.subdomain==="mattlabash")return"Matt Labash";if(!it&&((L=Ce.contributors)==null?void 0:L.length)>1)return null;const Ee=Ce.name||Ce.subdomain,Ae=[($=(F=Ce.contributors)==null?void 0:F[0])==null?void 0:$.name,Ce.author_name,Ce.email_from_name,(se=Ce==null?void 0:Ce.author)==null?void 0:se.name];for(let Ze of Ae)if(Ze&&(Ze=Ze.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),Ze&&!Ze.startsWith(Ee)&&!Ee.startsWith(Ze)&&!Ze.endsWith(Ee)&&!Ee.endsWith(Ze)))return Ze;return null}function Ge({pub:Ce,post:it}){var L;const F=(Ce==null?void 0:Ce.twitter_screen_name)||Ce&&a[Ce==null?void 0:Ce.subdomain];let $=(L=it==null?void 0:it.title)!=null?L:Ce==null?void 0:Ce.name;return Ce&&!it&&($=`Subscribe to ${$}`),F&&(!it||Ce&&(!it.publishedBylines.length||it.publishedBylines.some(se=>se.id===Ce.author_id)))&&($+=`, by @${F}`),$}function nt(Ce,{now:it=!1,isFreeSubscribed:L=!1,isMobile:F=!1,skipTranslation:$=!1,isPledged:se=!1,pledgesEnabled:Ee=!1}={}){const Ae=L&&Ce.plans?vn(qo(Ce,F?"upgrade":"upgradeToPaid")):L&&Ee&&!se?"Pledge your support":vn(qo(Ce,"subscribe"));return $?Ae+(it?" now":""):I(Ae)+(it?I(" now"):"")}function Oe({date:Ce,bylines:it,like_count:L,comment_count:F}){const $=e(85928),se=[];return se.push($(Ce).fromNow()),L&&se.push(Sr(L,"like")),F&&se.push(Sr(F,"comment")),it&&it.length&&se.push(en(it.map(Ee=>Ee.name))),se.join(" \xB7 ")}const K=["astralcodexten"];function Y(Ce,it){return Ce.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(Ce==null?void 0:Ce.subdomain)||(it==null?void 0:it.type)==="video")}const he=(Ce="")=>Ce.toUpperCase().replace(/^(THE|A|AN)\s+/,"");function Te(Ce){return Ce.sort((it,L)=>{var F,$;if(!it)return 1;if(!L||it.membership_state==="subscribed"&&L.membership_state!=="subscribed")return-1;if(L.membership_state==="subscribed"&&it.membership_state!=="subscribed")return 1;const se=he((F=it.publication)==null?void 0:F.name),Ee=he(($=L.publication)==null?void 0:$.name);return se<Ee?-1:se>Ee?1:0})}function He(Ce){if(Ce.expiry&&new Date(Ce.expiry)>new Date)switch(Ce.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!Ce.email_disabled||Ce.email_settings&&Object.values(Ce.email_settings||{}).some(it=>it==="individual")?"Free Subscriber":Ce.digest_enabled||Ce.email_settings&&Object.values(Ce.email_settings||{}).some(it=>it==="digest")?"Follows in Digests":"Emails Disabled"}function Qe({post:Ce,user:it}){return!!(Ce&&it&&it.has_publication&&!it.is_admin&&!it.is_contributor&&Ce.slug!=="coming-soon")}const ht="no-reply@substack.com";function ct(Ce){if(!Ce||typeof Ce!="string")return Ce;try{return encodeURIComponent(Ce),Ce}catch(it){}return Ce.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,it=>it.length>1?it:"")}function Pt(Ce,it){const L=new TextEncoder().encode(Ce);return L.length>it?new TextDecoder().decode(L.slice(0,it)):Ce}function Nt(Ce){for(;;)try{return encodeURIComponent(Ce),Ce}catch(it){Ce=Ce.substring(0,Ce.length-1)}}function sn(Ce,it,{words:L=null,ellipsis:F=M,extension:$=null}={}){if(!Ce)return Ce;let se=!1;if(L){const Ee=new RegExp(`^(\\w+\\W+){${L-1}}\\w+`).exec(Ce);Ee&&(se=!0,Ce=Ee[0])}return it&&Ce.length>it&&(se=!0,Ce=Ce.substring(0,it-F.length)),se&&(Ce=Nt(Ce),Ce+=F,$&&(Ce+=$)),Ce}function Et(Ce,it,{ellipsis:L=M,quotationMarks:F=!1}={}){if(!Ce)return Ce;F&&(it-=2);let $=Ce;if(Ce&&Ce.length>it){const se=Ce.split(/\s+/),Ee=[];let Ae=0;for(;Ae<=it;){const Ze=se.shift();if(!Ze||Ae+Ze.length>it)break;Ee.push(Ze),Ae+=Ze.length+1}$=at(Ee.join(" "),L)}return F&&($.endsWith(" ")||$.startsWith(" "))&&($=$.trim()),F?`"${$}"`:$}const Ot=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function at(Ce,it=M){return`${Ce.replace(Ot,"")}${it}`}function Ht(Ce){return/[!.?](?:\s+)?$/.test(Ce)}const zt=new Set([" ","-"]);function on(Ce,{maxCharsPerLine:it=55,maxLines:L=2,preferWide:F=!1}={}){if(Ce.length<=it)return[Ce];const $=it*L;if(Ce.length>$){let rt=$;for(;rt>=0&&Ce.charAt(rt)!==" ";)rt--;Ce=at(Ce.slice(0,rt))}const se=F?it:Math.floor(Ce.length/L);let Ee=-1,Ae=0;const Ze=[];for(;Ae+se<Ce.length-1;){for(Ae=Ae+se;Ae<=Ce.length-1&&!zt.has(Ce.charAt(Ae));)Ae++;const rt=Ce.charAt(Ae)==="-";Ze.push(Ce.slice(Ee+1,rt?Ae+1:Ae)),Ee=Ae}return Ae<Ce.length-1&&Ze.push(Ce.slice(Ee+1)),Ze}const hn=Ce=>/[A-Z]/.test(Ce),gn=Ce=>/[\s-]/.test(Ce);function bn(Ce,it){let L=0;for(let F=0;F<Ce.length;F+=1){const $=Ce[F];hn($)?L+=it:L+=1}return L}function Un(Ce,it,L){const F=[];let $=0,se=!1;for(let Ze=0;Ze<Ce.length;Ze+=1){const rt=Ce[Ze];if(gn(rt)){se=!0;continue}else se&&(F.push(Ce.slice($,Ze)),$=Ze,se=!1)}if($<Ce.length&&F.push(Ce.slice($)),!F.length)return"";const Ee=[F[0]];let Ae=bn(F[0],it);for(const Ze of F.slice(1)){const rt=bn(Ze,it);if(Ae+=rt,Ae<=L)Ee.push(Ze);else break}return Ee.join("")}function qn(Ce,{maxCostPerLine:it=55,maxLines:L=2,capitalCost:F=1.2}={}){const $=Ce;if(bn(Ce,F)<=it)return[Ce];const Ee=[];for(let Ae=0;Ae<L;Ae+=1){const Ze=Un(Ce,F,it);if(Ze)Ee.push(Ze),Ce=Ce.slice(Ze.length);else break}return Ee.reduce((Ae,Ze)=>Ae+Ze.length,0)<$.length&&(Ee[Ee.length-1]=at(Ee[Ee.length-1].slice(0,Ee[Ee.length-1].length-1))),Ee}const cr=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr"];function hr(Ce){switch(Ce){case"AU":return"aud";case"CA":return"cad";case"AT":case"BE":case"CY":case"EE":case"FI":case"FR":case"DE":case"GR":case"HR":case"IE":case"IT":case"LV":case"LT":case"LU":case"MT":case"NL":case"PT":case"SK":case"SI":case"ES":return"eur";case"GB":return"gbp";case"US":return"usd";default:return null}}const pr=Ce=>{var it,L;return((L=(it=Ce.draft_plans)==null?void 0:it[0])==null?void 0:L.currency)||"usd"};function Lr(Ce){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(Ce.toUpperCase())}function oo(Ce){const it=pr(Ce);return Lr(it)}function Kr(Ce){return new Intl.NumberFormat("en-US",{style:"currency",currency:Ce,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}const co=Ce=>Ce/1e8;function lo(Ce,it,{forceDecimals:L=!1}={}){let $=new Intl.NumberFormat("en-US",{style:"currency",currency:it,minimumFractionDigits:L||Ce%100?2:0,maximumFractionDigits:it==="btc"?8:2}).format(it==="btc"?co(Ce):Lr(it)?Ce:Ce/100);return it==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&N.includes(window._preloads.country)&&($=`US${$}`),$}function dr(Ce){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(Ce/100)}const Nr=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function Hr(Ce){if(!Ce)return null;if(typeof Ce!="string")throw new Error("Bad type for dollar string");const it=Ce.replace(/[^0-9.]/g,"");return it?Math.round(Number(it)*100):null}function Ur(Ce){let it=Ce/100;return it=it<50?Math.ceil(it):Math.ceil(it/5)*5,it*100}function uo(Ce,{quantity:it=1,coupon:L=null,noTrial:F=!1,trial_end_override:$=null}={}){if(!F&&(Ce.trial_period_days||L&&L.trial_period_days||$&&$>Date.now()/1e3+120))return 0;let se=Ce.amount*it;return L&&L.percent_off?se=Math.round(se*(1-(L.percent_off_precise||L.percent_off)/100)):L&&L.amount_off&&(se=Math.max(0,se-L.amount_off)),se}function mo(Ce,{interval:it="month",interval_count:L=We,multiplier:F=1,min:$=0}={}){let se,Ee,Ae;for(const Lt of Ce){if(!Ae)Ae=Lt.currency;else if(Ae!=Lt.currency)continue;Lt.interval=="month"?(!se||Lt.amount<se)&&(se=Lt.amount):Lt.interval=="year"&&(!Ee||Lt.amount<Ee)&&(Ee=Lt.amount)}let Ze=se;if(!Ze&&Ee&&(Ze=Ee/12),!Ze)return null;let rt;switch(it){case"month":rt=Ze;break;case"day":rt=Ze/30;break;case"year":rt=Ee||Ze*12;break;default:throw new Error(`bad interval: ${it}`)}let dt=rt*L*F;return dt<$?null:(dt=Math.floor(dt/100)*100,lo(dt,Ae))}function yo(Ce,{amount:it,interval:L=""}={}){let F=lo(it!=null?it:Ce.amount,Ce.currency);return Ce.interval!=="forever"&&(Ce.interval_count===1?F+=`/${L||Ce.interval}`:F+=`/${Ce.interval_count==3?"three ":""}${Sr(Ce.interval_count,Ce.interval,{just_word:Ce.interval_count==3})}`),F}function Oo(Ce,{secondsCutoff:it,minutesCutoff:L,hoursCutoff:F,daysCutoff:$,weeksCutoff:se,long:Ee,noNumber:Ae,noWord:Ze,lessThanMinute:rt}={}){let dt,Lt,Kt;return Ce=Math.round(Ce),Ce<(it||60)?(dt=Ce,Lt=Ee?"second":"sec"):Ce<(L||3600)?(dt=Ce/60,Lt=Ee?"minute":"min",rt&&(Kt=!0)):Ce<(F||86400)?(dt=Ce/60/60,Lt=Ee?"hour":"hr"):Ce<($||604800)?(dt=Ce/60/60/24,Lt="day"):Ce<(se||31557600)?(dt=Ce/60/60/24/7,Lt=Ee?"week":"wk"):(dt=Ce/60/60/24/365.25,Lt=Ee?"year":"yr"),dt=Math.round(dt),[Kt&&"less than",!Ae&&(Ze?dt:dt.toFixed(0)),!Ze&&(Ee?Sr(dt,Lt,{just_word:!0}):Lt)].filter(Boolean).join(" ")}function Xo(Ce){const it=Math.floor(Ce/60/60),L=Math.floor(Ce/60)%60,F=Math.floor(Ce%60);return`${(it?`${it}:`:"")+(it?`0${L}`.slice(-2):L)}:${`0${F}`.slice(-2)}`}function Go(Ce){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(Ce)}function Mo(Ce){return Ce[0]!=="#"&&(Ce=`#${Ce}`),Ce=Ce.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(it,L,F,$)=>L+L+F+F+$+$),Ce}function Lo(Ce){Ce=Mo(Ce);function it(Kt,wn){typeof Kt=="string"&&Kt.indexOf(".")!=-1&&parseFloat(Kt)===1&&(Kt="100%");const Tn=typeof Kt=="string"&&Kt.indexOf("%")!=-1;return Kt=Math.min(wn,Math.max(0,parseFloat(Kt))),Tn&&(Kt=parseInt(Kt*wn,10)/100),Math.abs(Kt-wn)<1e-6?1:Kt%wn/parseFloat(wn)}const L=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Ce);let F=parseInt(L[1],16),$=parseInt(L[2],16),se=parseInt(L[3],16);F=it(F,255),$=it($,255),se=it(se,255);const Ee=Math.max(F,$,se),Ae=Math.min(F,$,se);let Ze;const rt=Ee,dt=Ee-Ae,Lt=Ee===0?0:dt/Ee;if(Ee==Ae)Ze=0;else{switch(Ee){case F:Ze=($-se)/dt+($<se?6:0);break;case $:Ze=(se-F)/dt+2;break;case se:Ze=(F-$)/dt+4;break}Ze/=6}return{h:Ze,s:Lt,v:rt}}function Bo(Ce){const it=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Mo(Ce));return it?{r:parseInt(it[1],16),g:parseInt(it[2],16),b:parseInt(it[3],16)}:null}function Qr({r:Ce,g:it,b:L}){return`#${Ce.toString(16).padStart(2,"0")}${it.toString(16).padStart(2,"0")}${L.toString(16).padStart(2,"0")}`}function Yr(Ce){const it=Lo(Ce);if(it.h>.11&&it.h<.56)if(it.s>.25&&it.v>.5){if(it.s<.6&&it.v>.8)return!0;if(it.s>.6)return!0}else return!1;else if(it.s>.25&&it.v>.5)return!0;return!1}function $r(Ce,it){const L=Bo(Ce);return L?(L.r=Math.max(0,Math.min(255,Math.round(L.r*it))),L.g=Math.max(0,Math.min(255,Math.round(L.g*it))),L.b=Math.max(0,Math.min(255,Math.round(L.b*it))),Qr(L)):Ce}function xr(Ce){let{r:it,g:L,b:F}=Bo(Ce);return it=it/255,L=L/255,F=F/255,it=it<=.03928?it/12.92:Math.pow((it+.055)/1.055,2.4),L=L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4),F=F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4),.2126*it+.7152*L+.0722*F}function $t(Ce,it,{name:L=Ae=>Ae,restWord:F="other",noNames:$="people",pluralizeRest:se=!0,showRestCount:Ee=!0}={}){const Ae=Ce.map(L).filter(Boolean).slice(0,it);if(Ae.length===0)Ae.push(Sr(Ce.length,$));else if(Ae.length<Ce.length){const Ze=Ce.length-Ae.length;Ae.push(`${Ee?Ze:""} ${F}${Ze>1&&se?"s":""}`)}return en(Ae)}function en(Ce){let it="";return Ce.length===1?it=Ce[0]:Ce.length===2?it=Ce.join(" and "):Ce.length>2&&(it=`${Ce.slice(0,-1).join(", ")}, and ${Ce.slice(-1)}`),it}function nn(Ce,{minSignificantDigits:it=1}={}){if(Ce<1e3)return Ce.toString();let L;Math.round(Ce/1e3)<1e3?(Ce/=1e3,L="k"):Math.round(Ce/1e6)<1e3?(Ce/=1e6,L="m"):Math.round(Ce/1e9)<1e3?(Ce/=1e9,L="b"):(Ce/=1e12,L="t");const F=Math.max(it-1-Math.floor(Math.log10(Ce)),0);return Ce=Math.round(Ce*Math.pow(10,F))/Math.pow(10,F),`${Ce}${L}`}const Rn=Ce=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(Ce,1))/Math.LN10+1e-9))-1),At=Ce=>"\u{1F525}".repeat(Rn(Ce));function Yt(Ce,it,L){const F=(Ce||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(se=>se.trim()).filter(se=>se),$=[];for(;F.length>0;){const se=F.shift(),Ee=$[$.length-1];Ee&&Ee.length<L?$[$.length-1]+=it+se:$.push(se)}return $.join(`
`)}function Wt(){return Math.random().toString(36).replace(/^0\./,"")}function rn(Ce){return Ce.trim().split(/\s+/).filter(Boolean).map(it=>it[0].toUpperCase()+it.substr(1).toLowerCase()).join(" ")}function vn(Ce,it){const L=it?Ce.substr(1).toLowerCase():Ce.substr(1);return Ce[0].toUpperCase()+L}function An(Ce){const it=["th","st","nd","rd"],L=Ce%100;return Ce+(it[(L-20)%10]||it[L]||it[0])}function zn(Ce,it=0){return typeof Ce=="string"&&(Ce=Number(Ce.replace(/,/g,""))),new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:it}).format(Ce)}function er(Ce){return Math.pow(10,Math.floor(Math.log10(Ce)))||0}function Jn(Ce){return Ce<100?"tens":Ce<1e3?"hundreds":Ce<1e4?"thousands":Ce<1e5?"tens of thousands":Ce<1e6?"hundreds of thousands":Ce<1e7?"millions":Ce<1e8?"tens of millions":Ce<1e9?"hundreds of millions":Ce<1e10?"billions":Ce<1e11?"tens of billions":Ce<1e12?"hundreds of billions":Ce<1e13?"trillions":Ce<1e14?"tens of trillions":Ce<1e15?"hundreds of trillions":"gagillions"}function Nn(Ce){return Ce<100?"10+":Ce<1e3?"100+":Ce<1e4?"1K+":Ce<1e5?"10K+":Ce<1e6?"100K+":Ce<1e7?"1M+":Ce<1e8?"10M+":Ce<1e9?"100M+":Ce<1e10?"1B+":Ce<1e11?"10B+":Ce<1e12?"100B+":Ce<1e13?"1T+":Ce<1e14?"10T+":Ce<1e15?"100T+":"gagillions"}function Pr(Ce){return Ce<=10?`#${Ce}`:Ce<=25?"Top 25":Ce<=50?"Top 50":Ce<=100?"Top 100":""}function Er(Ce){if(Ce<1e3)return null;let F=Math.floor(Ce/1e3)*1e3;return F>=1e6&&(F=Math.floor(Ce/1e5)*1e5),`Over ${zn(F)} subscribers`}const yr=Ce=>Ce<1?"< 1%":`${Ce}%`;function Br(Ce,{rounded:it=!1,display:L=!1,decimalPlaces:F=-1}={}){let $=parseFloat(Ce)*100;return F>=0&&($=$.toFixed(F)),it&&($=Math.floor($)),L?yr(Number($)):$}function ao(Ce){var it;if((it=Ce==null?void 0:Ce.postSchedules)!=null&&it.length&&Ce.postSchedules[0].trigger_at)return new Date(Ce.postSchedules[0].trigger_at);if("scheduled_at"in Ce&&!(!Ce||!Ce.scheduled_at)&&!(Ce.email_sent_at&&Ce.should_send_email))return new Date(Math.max(new Date(Ce.scheduled_at).getTime(),Date.now()))}function to(Ce){return Ce===0?"zero":Ce===1?"one":Ce===2?"two":Ce===3?"three":Ce===4?"four":Ce===5?"five":Ce===6?"six":Ce===7?"seven":Ce===8?"eight":Ce===9?"nine":Ce===10?"ten":Ce===11?"eleven":Ce===12?"twelve":zn(Ce)}function Sr(Ce,it,{zero_fallback:L="",just_word:F}={}){let $,se;const Ee=it.lastIndexOf(" ")+1,Ae=it.substr(Ee),Ze=it.substr(0,Ee);return["person","people"].includes(Ae)?($=`${Ze}person`,se=`${Ze}people`):["reply","replies"].includes(Ae)?($=`${Ze}reply`,se=`${Ze}replies`):["entry","entries"].includes(Ae)?($=`${Ze}entry`,se=`${Ze}entries`):["match","matches"].includes(Ae)?($=`${Ze}match`,se=`${Ze}matches`):($=it,se=`${it}s`),F||($=`${zn(Ce)} ${$}`,se=`${zn(Ce)} ${se}`),!Ce&&L?L:Ce==1?$:se}function Ao(Ce){return`${Ce}\u2019${Ce[Ce.length-1]==="s"?"":"s"}`}function fo(Ce){return Ce.replace(/\n/g,"\\n")}const Ho=(Ce,it,L)=>{const F={};for(const $ in Ce)F[$]=it.call(L,Ce[$],$,Ce);return F};function Po(Ce,it){if(isNaN(Ce))return isNaN(it);if(Ce===null)return it===null;switch(typeof Ce){case"undefined":case"boolean":case"number":case"string":return Ce===it}const L=Object.keys(Ce).sort(),F=Object.keys(it).sort();if(L.length!==F.length)return!1;for(let $=0;$<L.length;$+=1){const se=L[$];if(se!==F[$]||!Po(Ce[se],it[se]))return!1}return!0}const No=(Ce,it="id")=>{const L={};for(const F of Ce)typeof it=="function"?L[it(F)]=F:L[F[it]]=F;return L};function Vo(Ce,it){const L=[],F=[];for(const $ of Ce)it($)?L.push($):F.push($);return[L,F]}const bo=(Ce,it=1)=>{const L=[];function F($,se){for(const Ee of $)Array.isArray(Ee)&&se>0?F(Ee,se-1):L.push(Ee)}return F(Ce,it),L},_i=(Ce,it,L)=>{if(typeof it=="string"){const F=it.split(".");it=$=>F.reduce((se,Ee)=>se[Ee],$)}return[].reduce.call(Ce,(F,$,se)=>{const Ee=it.call(L,$,se,Ce),Ae=F.get(Ee);return Ae?Ae.push($):F.set(Ee,[$]),F},new Map)};function si({publication:Ce,post:it}){return["adhoc_email","page"].includes(it==null?void 0:it.type)?!1:Ce.community_enabled&&it&&it.write_comment_permissions!=="none"}function oi({publication:Ce,post:it}){return!!(Ce.community_enabled&&it)}function ci({publication:Ce,post:it}){return(it==null?void 0:it.type)==="adhoc_email"||(it==null?void 0:it.slug)==="coming-soon"?!1:it&&it.comment_count>0||si({publication:Ce,post:it})}const gi=Ce=>!!(Ce&&Ce.is_contributor);function vi(Ce,it,{bypassContentAccessCheck:L=!1}={}){const{userHasFullAccessToPost:F}=e(6385);return Ce&&it.publishedBylines&&it.publishedBylines.find($=>$.id===Ce.id)?!0:new Date(it.post_date)<new Date("2018-11-08T19:00:00.000Z")?!!(Ce&&(Ce.is_subscribed||Ce.is_contributor)):L||F(Ce,it)}function oa(Ce,it,{bypassContentAccessCheck:L=!1}={}){const{userHasFullAccessToPost:F}=e(6385);return Ce&&it.publishedBylines&&it.publishedBylines.find($=>$.id===Ce.id)?!0:L||F(Ce,it)}const _o=Ce=>Ce.type==="thread"&&Ce.write_comment_permissions==="none";function xi(Ce,it,L){const F=Ce&&"id"in Ce?Ce.id:null;if(F&&it.publishedBylines&&it.publishedBylines.find($=>$.id===F))return{canReply:!0};if(Ce&&Ce.is_contributor)return{canReply:!0};switch(it.write_comment_permissions||L.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:d.us.comments_disabled};case"only_paid":{const $=!!(Ce&&Ce.is_subscribed);return{canReply:$,repliesDisabledReason:$?void 0:d.us.paid_subscription_required}}}return{canReply:!1}}function Bi(Ce,it,L){return xi(_(w({},Ce),{is_subscribed:!0}),it,L).canReply}const ki=(Ce,it)=>!!(it&&Ce&&Ce.id===it.user_id);function di(Ce,it,{pub:L,post:F,parentComments:$}){if(!Ce||!it)return!1;if(Ce.is_contributor||Ce.id===it.user_id)return!0;if(it.publication_id&&it.post_id){if(ti(Ce,L,F))return!0}else if(So({user:Ce,comment:it,parentComments:$}))return!0;return!1}function So({user:Ce,comment:it,parentComments:L}){var F;if(!Ce||!it||it.publication_id&&it.post_id||Ce.id===it.user_id||Ce.is_contributor)return!1;const $=Number((F=it.ancestor_path)==null?void 0:F.split(".").filter(Boolean)[0]);if(!$)return!1;const se=L==null?void 0:L.find(Ee=>(Ee==null?void 0:Ee.id)===$);return Ce.id===(se==null?void 0:se.user_id)}function ti(Ce,it,L){return Ce?!!(Ce.is_contributor||Ce.id===(it==null?void 0:it.author_id)||it!=null&&it.contributors.find(F=>F.user_id===Ce.id&&["admin","contributor"].includes(F.role))):!1}function li(Ce,it){return!(!Ce||!it||Ce.id===it.user_id)}function Di(Ce){return!!Ce.plans}function et(Ce){return!!(Ce.plans||Ce.has_subscribers)}function Ye(Ce,{type:it,coupon:L}={}){return!Ce.plans||it==="page"?"everyone":L?"only_free":"only_paid"}function Xe(Ce,it,L){if(it==="thread")switch(Ce){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(Ce){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return L?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}}function pt(Ce,it,L,F){return Ce!=null&&Xe(it,L,F).includes(Ce)}function gt(Ce,it,L,F){return pt(L.default_write_comment_permissions,Ce,it,F)?L.default_write_comment_permissions:Xe(Ce,it,F)[0]}function kt(Ce,it,L){return it==="page"?!1:L==="only_free"?!0:!!Ce.default_post_publish_send_email}function Bt(Ce,it,L){return it&&it.interval==="forever"?0:Math.max(0,...[Ce.trial_end_override>Date.now()/1e3?Ce.trial_end_override:0,it&&it.trial_period_days&&Math.round((Date.now()+it.trial_period_days*24*60*60*1e3)/1e3),L&&L.trial_period_days&&Math.round((Date.now()+L.trial_period_days*24*60*60*1e3)/1e3)].filter(F=>F))}function Se(Ce,{prependSpace:it=!1}={}){return Ce?(it?" ":"")+Ce.trim().split(/\s+/g)[0]:""}function _e(Ce){return Ce?Ce.trim().split(/\s+/g).slice(1).slice(-1)[0]:""}const Pe=Ce=>Gt[new Date(Ce).getMonth()];function $e(Ce,{noBreakSpace:it}={}){const L=it?"\xA0":" ";let F=[];if(Ce.length==1)F=[Ce[0]];else if(Ce.length==2)F=[Ce[0],`${L}and${L}`,Ce[1]];else if(Ce.length>=3)for(let $=0;$<Ce.length;$++)F.push(Ce[$]),$<Ce.length-2?F.push(`,${L}`):$===Ce.length-2&&F.push(`,${L}and${L}`);return F.toString=()=>F.join(""),F}function mt(Ce){const it=new Map;for(const L of Ce){let F=it.get(L);F=(F||0)+1,it.set(L,F)}return Array.from(it).sort((L,F)=>F[1]-L[1])[0][0]}function vt(Ce){return Ce.type==="thread"?"View thread":Ce.type==="podcast"?"Listen":"Read"}function St(Ce,{isFinalWord:it}={}){return Ce==="podcast"?`listening${it?"":" to"}`:Ce==="video"?"watching":"reading"}function Mt(Ce){return Ce==="newsletter"?"post":Ce==="podcast"?"episode":Ce==="adhoc_email"?"email":Ce}function Ft(Ce){return`${sn(Ce.title||"Untitled post",115)}`}function Vt(Ce){return Ce.publication_id===10475&&Ce.section_id===18994}function un(Ce,{isDraft:it=!1}={}){return Ce?((it?Ce.draftBylines:Ce.publishedBylines)||[]).filter(F=>F.name):[]}function tn(Ce,it,{isDraft:L=!1}={}){const F=un(it,{isDraft:L});return F.length>0?en(F.map($=>$.name)):null}const dn=Ce=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(Ce);function xn(Ce){return typeof Ce=="string"?m()(Ce)||0:typeof Ce=="number"?Ce:0}function Wn(Ce){const it=L=>new RegExp(`^.*${L}`);if(Ce){if(Ce.includes(f.Substitutions.CHECKOUT_URL))return Ce.replace(it(f.Substitutions.CHECKOUT_URL),"/subscribe?");if(Ce.includes(f.Substitutions.FOUNDING_CHECKOUT_URL))return Ce.replace(it(f.Substitutions.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(Ce.includes(f.Substitutions.REFERRAL_URL))return Ce.replace(it(f.Substitutions.REFERRAL_URL),"/?showWelcome=true");if(Ce.includes(f.Substitutions.UNSUBSCRIBE_URL))return Ce.replace(it(f.Substitutions.UNSUBSCRIBE_URL),"/account?");if(Ce.includes(f.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL))return Ce.replace(it(f.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(Ce))return null}else return Ce;return Ce}function ur(Ce){const it=Wn(Ce);if(it){const L=window.open(it,"_blank");L!=null&&L.focus&&L.focus()}}function tr(Ce){if(!Ce)return!0;const it=document.location&&document.location.pathname||"";return["publish","account"].includes(it.split("/")[1])}function Sn(Ce,it=2){if(Ce===0)return"0 Bytes";const L=1024,F=it<0?0:it,$=Math.floor(Math.log(Ce)/Math.log(L));return`${parseFloat((Ce/Math.pow(L,$)).toFixed(F))} ${R[$]}`}function fr(Ce=""){if(!Ce)return 0;const[it,L]=Ce.split(" "),F=R.indexOf(L);return F<0?0:Number(it)*Math.pow(1024,F)}function rr(Ce){return/Googlebot/i.test(Ce||"")?"Google":/bingbot/i.test(Ce||"")||/BingPreview/i.test(Ce||"")?"Bing":/Slurp/i.test(Ce||"")?"Yahoo":/DuckDuckBot/i.test(Ce||"")?"DDG":/Baiduspider/i.test(Ce||"")?"Baidu":!1}function wr(Ce,it,L,F){return Ce.name?Ce.name:(L&&L.author_id===F.id||it&&it.publishedBylines&&it.publishedBylines.find($=>$.id===F.id))&&Ce.email||"Someone"}function Cr(Ce,it){return Ce&&Ce.description||it.hero_text||`Get ${it.name} in your inbox`}const no=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}],po={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},kr=no.flatMap(Ce=>Ce.pubs);function qo(Ce,it){const L=no.find($=>{var se;return $.pubs.includes(((se=Ce==null?void 0:Ce.parent_publication)==null?void 0:se.subdomain)||(Ce==null?void 0:Ce.subdomain))});let F=L&&L[it];if(!F&&(F=po[it],!F))throw new Error(`${it} is not a valid subscription word`);return F}function Uo(Ce){const it={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${Ce}`).map(L=>it[L]))}const To=Ce=>{var it,L,F;return(F=(L=(it=Ce==null?void 0:Ce.plans)==null?void 0:it.find($=>{var se;return(se=$.metadata)==null?void 0:se.founding}))==null?void 0:L.metadata)==null?void 0:F.short_description},Oi=Ce=>`https://checkout.opennode.com/${Ce}`;function Ji(Ce=0){const it=Ce===0?0:Math.floor(Math.log(Ce)/Math.log(1024));return`${+(Ce/Math.pow(1024,it)).toPrecision(3)}${["B","KB","MB","GB","TB"][it]}`}function yi(Ce){if(!Ce)return null;const it="Substack Network";if(ko(Ce))return it;const L={"blog.substack.com":it,"library.substack.com":it,"on.substack.com":it,"post-end-cta":"Post Footer CTA","stories.substack.com":it,"substack-app":it,"substack-boost":it,"substack-categories-discovery":it,"substack-categories-discovery-search":it,"substack-comment-links":it,"substack-cross-posts":it,"substack-facepiles":it,"substack-mentions":it,"substack-onboarding-discovery":it,"substack-post-embeds":it,"substack-post-reply-comment":it,"substack-presubscribe":it,"substack-publication-embeds":it,"substack-reader-discovery":it,"substack-reader-profile-discovery":it,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":`${it} \u2014 Your Weekly Stack`,"substack-recommendation-email":it,"substack-referral":it,"substack-signup-flow":it,"substack-subscriber-referral":it,"substack-twitter-link":it,"substack-twitter-suggest":it,"substack-xp-post-template":it,"substack-xp-read-next":it,"substack.com":it,"t.co":"Twitter","www.substack.com":it,external:"external form / api","googleads.g.doubleclick.net":"Google","score-upsell":"Boost upsell to engaged subscribers"}[Ce];return L||(/(\b|\.)facebook\./.test(Ce)?"Facebook":/(\b|\.)instagram\./.test(Ce)?"Instagram":/(\b|\.)linkedin\./.test(Ce)?"LinkedIn":/(\b|\.)youtube\./.test(Ce)?"YouTube":/(\b|\.)duckduckgo\./.test(Ce)?"DuckDuckGo":/(\b|\.)medium\./.test(Ce)?"Medium":/(\b|\.)reddit\./.test(Ce)?"Reddit":/(\b|\.)bing\./.test(Ce)?"Bing":/(\b|\.)google\./.test(Ce)?"Google":Ce!=null&&Ce.includes(".")?Ce:rn(Ce.replace(/-/g," ")))}function ko(Ce){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(Ce)}const tt=Ce=>/^\S+@\S+\.\S+$/.test(Ce),ot=Ce=>(Ce||"").replace(/\s+/g," "),wt={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function Zt(Ce){return Ce?Ce<3456e3?"monthly":Ce<8121600?"quarterly":Ce<16070400?"semiannual":Ce<3456e4?"annual":Ce>3888e3?"lifetime":"other":"free"}function ln(Ce){return Ce&&(Ce.homepage_type==="newspaper"||Ce.homepage_type==="magaziney")}const mn=35;function Pn(Ce,{isStatic:it}={}){let L,F;return Ce.width>=Ce.height*1.7777777777777777?(L=it?550:960,F=Math.round(L*(Ce.height/Ce.width))):Ce.width>=Ce.height?(L=it?550:728,F=Math.round(L*(Ce.height/Ce.width))):L=F=it?550:728,{height:F,width:L}}function Dn(Ce){const it=e(85928),L=it(Ce);return it.utc([L.year(),L.month(),L.date(),8,0,0]).toDate()}function Fn({now:Ce}={}){const it=e(85928),L=Ce?it(Ce):it();let F=L.utc().startOf("day").add(5,"hour");return F.isBefore(L)&&(F=F.utc().add(1,"day")),F}function or(Ce){const it=Math.round(Ce/60),L=Math.floor(it/60),F=it%60;return`${L?`${L}HR `:""}${F}M`}function jn(Ce){const it=Ce.toLowerCase()[0];return["a","e","i","o","u"].includes(it)}function jr(Ce){return Ce.toLowerCase().startsWith("uni watch")?"a":jn(Ce)?"an":"a"}function Wr(Ce){return`${jr(Ce)} ${Ce}`}function Tr(Ce){return Ce.split("").reduce((it,L)=>(it<<5)-it+L.charCodeAt(0)|0,0)}function Ir(Ce){return Math.abs(Ce)>9999?`${Math.sign(Ce)*(Math.abs(Ce)/1e3).toFixed(1)}K`:(Math.sign(Ce)*Math.abs(Ce)).toString()}function gr({recommendedPubs:Ce}){let it=null;for(const L of Ce){for(const F of L.recommendations)if(F.hasOwnProperty("blurb")&&F.blurb){it=`${F.name} recommended ${L.name}`;break}if(it)break}return it!=null?it:"Recommendations from your Substacks"}function vr(Ce){return Ce.metadata.short_description?Ce.metadata.short_description:Ce.interval==="year"?"Annual":Ce.interval==="forever"?"Founding Membership":Ce.interval==="month"&&Ce.interval_count===3?"Quarterly":Ce.interval==="month"&&Ce.interval_count===6?"Semiannually":`${rn(Ce.interval)}ly`}const sr=({minLength:Ce,maxLength:it,minAlphaNumeric:L}={})=>F=>{if(!F)return"Missing input";if(Ce&&F.length<Ce)return`Must be at least ${Ce} characters long`;if(it&&F.length>it)return`Must be at most ${it} characters long`;const $=new RegExp("\\P{P}|`","gu"),se=F.match($);if(!se||(se==null?void 0:se.length)<(L!=null?L:Ce))return`Must contain at least ${L!=null?L:Ce} non-punctuation characters`;const Ee=["`"];let Ae=0;return se.forEach(Ze=>{Ee.includes(Ze)&&(Ae+=1)}),se.length-Ae<(L!=null?L:Ce)?`Must contain at least ${L!=null?L:Ce} non-punctuation characters`:null}},25597:(G,s,e)=>{"use strict";e.d(s,{Z:()=>y});var o=e(6400),m=e(13639),f=e(36377),d=e(11851);const y=({audience:C,className:v,size:b=16,isStatic:x,thin:E})=>C==="only_paid"?E?(0,o.h)(d.Z,{className:v,height:b,isStatic:x}):(0,o.h)(m.Z,{className:v,size:b}):C==="founding"?(0,o.h)(f.Z,{className:v,height:b,isStatic:x}):null},45809:(G,s,e)=>{"use strict";e.d(s,{M:()=>f});var o=e(6400),m=e(83322);function f({array:d,limit:g,formatter:y=x=>x,restWord:C="other",showRestCount:v=!0,pluralizeRest:b=!0}){const x=d.map(y).filter(Boolean).slice(0,g);if(x.length===0)return(0,m.pluralize)(d.length,"people");const E=d.length-x.length;return E>0&&x.push(`${v?E:""} ${C}${E>1&&b?"s":""}`),x.length===1?x[0]:x.length===2?(0,o.h)(o.Fragment,null,x[0]," and ",x[1]):(0,o.h)(o.Fragment,null,x.slice(0,-1).map(O=>(0,o.h)(o.Fragment,null,O,", "))," ","and ",x[x.length-1])}},85344:(G,s,e)=>{"use strict";e.d(s,{q:()=>x});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(51126),y=e(65919),C=e(11688),v=e(31471);const b={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S"};function x({className:O,assets:w,readOnly:_,isRestack:a,isPreview:l,onClick:P,aspect:S}){let M=w;w.length>6&&(M=M.slice(0,5));const[R,N]=(0,m.eJ)(null),T=(A,W)=>{A.preventDefault(),N({index:W})};return(0,o.h)(g.hs,{className:d()(b.imageGroup,b[`size-${Math.min(w.length,6)}`],a&&b.restack,l&&b.preview,O),alignSelf:"stretch",gap:4},M.map((A,W)=>(0,o.h)(E,{key:A,asset:A,index:W,total:w.length,readOnly:_,aspect:S,onClick:_?void 0:j=>{j.preventDefault(),P&&P(),T(j,W)}})),w.length>6&&(0,o.h)(E,{asset:w[6],index:5,total:6,count:w.length-M.length,readOnly:_,onClick:P,aspect:S}),!_&&(0,o.h)(C.cr,{module:"./ImageViewerModal",resolve:A=>A.ImageViewerModal,onRequest:()=>e.e(934).then(e.bind(e,55661)),showModal:!!R,modalContent:w.map(A=>({attrs:{src:A}})),onClose:()=>{N(null)},step:R?R.index:void 0,includeDownloadButton:!1}))}function E({asset:O,onClick:w,index:_,total:a,count:l,readOnly:P,aspect:S}){return(0,o.h)(g.hs,{className:d()(b.image,!P&&b.clickable,_===0&&b.topLeft,(_===0&&a===1||_===1&&a===2||_===1&&a===4||_===2&&a!==4)&&b.topRight,(_===0&&a<=3||_===2&&a===4||_===3&&a>4)&&b.bottomLeft,(_+1===a||_==2&&a===5)&&b.bottomRight),flex:"grow",radius:4,onClick:w},(0,o.h)(v.e,{src:O,maxWidth:1e3,imageProps:{aspect:S||"1:1",smartCrop:!0,portraitCrop:a===1}}),l!=null&&(0,o.h)(g.hs,{className:b.imageCount,justifyContent:"center",alignItems:"center"},(0,o.h)(y.xv.H2,{color:"bg-light"},"+",l)))}},55661:(G,s,e)=>{"use strict";e.r(s),e.d(s,{ImageViewerContents:()=>P,ImageViewerModal:()=>l});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(2564),y=e(56743),C=e(71375),v=e(71212),b=e(15045),x=e(39419),E=e(92271),O=e(51126),w=e(62246),_=e(15822);const a={chrome:"frontend-components-ImageViewerModal-module__chrome--gsoD8",inactive:"frontend-components-ImageViewerModal-module__inactive--Sgv0p",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--ln8Of",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--iFgnX",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--tfJya",modalBody:"frontend-components-ImageViewerModal-module__modalBody--gyZLM",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--WVmHg",img:"frontend-components-ImageViewerModal-module__img--gfPkO",isLoading:"frontend-components-ImageViewerModal-module__isLoading--bv0nq",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--lE2ip",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--T6aTx",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--CCZCY"};function l({showModal:R,modalContent:N,onClose:T,step:A,includeDownloadButton:W=!0}){(0,m.d4)(()=>{R?(document.body.style.backgroundColor="black",document.body.style.transform="background-color 0.2s"):document.body.style.removeProperty("background-color")},[R]);const j=Z=>{Z.stopPropagation(),T()};return(0,o.h)(w.u_,{isOpen:R,onClose:T,position:"full",opacity:"dark",onEscape:j},(0,o.h)(P,{modalContent:N,onClose:T,stepDefault:A,includeDownloadButton:W}))}function P({modalContent:R=[],onClose:N,stepDefault:T,includeDownloadButton:A}){const[W,j]=(0,m.eJ)(T),[Z,J]=(0,m.eJ)(!0),Q=(0,x.isMobileBrowser)(),ne=ue=>{ue.currentTarget===ue.target&&N()},[te,B]=(0,m.eJ)(!1);(0,m.d4)(()=>{if(!Q){let ue;const de=ye=>{const{key:pe}=ye;["ArrowRight","ArrowDown"].includes(pe)?(re(),ye.stopPropagation()):["ArrowLeft","ArrowUp"].includes(pe)&&(V(),ye.stopPropagation())},fe=ye=>{(ye==null?void 0:ye.type)==="keydown"&&de(ye),clearTimeout(ue),B(!1),ue=setTimeout(()=>{B(!0)},2e3)};return window.addEventListener("pointermove",fe,{capture:!0,passive:!0}),window.addEventListener("pointerdown",fe,{capture:!0,passive:!0}),window.addEventListener("keydown",fe,{capture:!0,passive:!0}),fe(),()=>{clearTimeout(ue),window.removeEventListener("pointermove",fe,{capture:!0}),window.removeEventListener("pointerdown",fe,{capture:!0}),window.removeEventListener("keydown",fe,{capture:!0})}}},[Q,W]);const V=()=>{W!==0&&(j(W-1),J(!0))},re=()=>{W!==R.length-1&&(j(W+1),J(!0))},le=R[W],{attrs:{src:ae,alt:q,title:oe}}=le,z=Q?8:16,ie="#FFFFFF";return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:d()(a.chrome,te&&a.inactive)},W<R.length-1&&(0,o.h)(S,{buttonFunction:re,style:{right:0,padding:z},isSidebar:!0,icon:(0,o.h)(g.Z,{size:20,strokeWidth:2,stroke:ie})}),W>0&&(0,o.h)(S,{buttonFunction:V,style:{left:0,padding:z},isSidebar:!0,icon:(0,o.h)(y.Z,{size:20,strokeWidth:2,stroke:ie})}),(0,o.h)(S,{buttonFunction:N,style:{position:"absolute",right:z,top:z},isSidebar:!1,icon:(0,o.h)(C.Z,{size:20,strokeWidth:2,stroke:ie})}),A&&(0,o.h)(S,{buttonFunction:ue=>{ue.stopPropagation(),M(oe,ae)},style:{position:"absolute",left:z,top:z},isSidebar:!1,icon:(0,o.h)(v.Z,{size:20,strokeWidth:2,stroke:ie})})),(0,o.h)("div",{className:a.imgContainer,onClick:ne},(0,o.h)("img",{className:d()(a.img,Z&&a.isLoading),onLoad:()=>{J(!1)},alt:q,title:oe,src:(0,b.imginary)(ae,void 0,{quality:"auto:good"}),key:ae,onClick:ne})),Z&&(0,o.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},(0,o.h)(_.S,{className:a.imgDrunkSpin})))}function S({buttonFunction:R,style:N,isSidebar:T,icon:A,tetherRef:W}){return(0,o.h)(O.hs,{className:d()(a.modalImageButtonContainer,T?a.modalImageSidebar:null),style:N,alignItems:"center",justifyContent:"center",onClick:R,ref:W},(0,o.h)(E.z,{className:a.modalImageButton,look:"circle"},A))}function M(R,N){const T=document.createElement("a");return document.body.appendChild(T),T.href=N,T.target="_blank",T.click(),document.body.removeChild(T),null}},35442:(G,s,e)=>{"use strict";e.r(s),e.d(s,{Metadata:()=>O});var o=e(6400),m=e(53836),f=e.n(m),d=e(15045),g=e(63030),y=Object.defineProperty,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(_,a,l)=>a in _?y(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,E=(_,a)=>{for(var l in a||(a={}))v.call(a,l)&&x(_,l,a[l]);if(C)for(var l of C(a))b.call(a,l)&&x(_,l,a[l]);return _};function O({badge:_,title:a,socialTitle:l,searchDescription:P,description:S,themeColor:M,image:R,seoProps:N,isLargeImage:T=!1,imageWidth:A,imageHeight:W,isPodcast:j=!1,isVideo:Z=!1,slug:J,pub:Q,post:ne,siteName:te,publishedTime:B,meta:V=[],siteConfigs:re={}}){const le={meta:[...V,{property:"og:type",content:"article"}]};_&&(le.titleTemplate=`(${_}) %s`),a&&(le.title=a,le.meta.push({property:"og:title",content:l||a},{name:"twitter:title",content:l||a})),(S||P)&&le.meta.push({name:"description",content:P||S},{property:"og:description",content:S},{name:"twitter:description",content:S}),M&&le.meta.push({name:"theme-color",content:M});const ae=!!Q&&Q.invite_only,q=!!ne&&ne.audience==="everyone",oe=!ae&&q,z=oe&&re.twitter_player_card_enabled,ie=(Q==null?void 0:Q.subdomain)&&w.includes(Q.subdomain)&&oe;if(j&&Q&&ne){const ue=(0,g.getPodcastEpisodeImageUrl)(Q,ne);ue&&(R=(0,d.imginary)(ue,1200,{height:600,smartCrop:!0,format:"jpg"}),T=!0)}if(R){let ue="summary";T&&(ue="summary_large_image"),(j&&z||Z&&ie)&&(ue="player"),le.meta.push({property:"og:image",content:R},{name:"twitter:image",content:R},{name:"twitter:card",content:ue}),A&&le.meta.push({property:"og:image:width",content:A}),W&&le.meta.push({property:"og:image:height",content:W})}if(N){const ue=Object.entries(N).filter(([de,fe])=>fe).map(([de])=>de).join(", ");ue&&le.meta.push({name:"robots",content:ue})}return Q!=null&&Q.explicit&&le.meta.push({name:"rating",content:"adult"}),j&&z&&le.meta.push({name:"twitter:player",content:`${(0,d.getBaseUrl)(Q)}/embed/podcast/${J}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),Z&&ie&&le.meta.push({name:"twitter:player",content:`${(0,d.getBaseUrl)(Q)}/embed/video/${J}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),te&&le.meta.push({property:"og:site_name",content:te}),B&&le.meta.push({property:"og:published_time",content:B}),(0,o.h)(f(),E({},le))}const w=["pinespodcast","test1"]},74285:(G,s,e)=>{"use strict";e.d(s,{X:()=>g,h:()=>y});var o=e(6400),m=e(98661),f=e(30396);const d=(0,o.createContext)(null);function g({root:C,children:v}){const b=(0,f.sO)(C);return(0,o.h)(d.Provider,{value:b},v,!C&&(0,o.h)("div",{ref:b}))}function y({children:C}){const v=(0,f.qp)(d).current;return v?(0,m.createPortal)(C,v):null}},91001:(G,s,e)=>{"use strict";e.d(s,{o:()=>N});var o=e(6400),m=e(30396),f=e(20501),d=e(92643),g=e(3258),y=e(8479),C=e(17685),v=e(51126),b=e(65919),x=e(75425),E=Object.defineProperty,O=Object.defineProperties,w=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,P=(T,A,W)=>A in T?E(T,A,{enumerable:!0,configurable:!0,writable:!0,value:W}):T[A]=W,S=(T,A)=>{for(var W in A||(A={}))a.call(A,W)&&P(T,W,A[W]);if(_)for(var W of _(A))l.call(A,W)&&P(T,W,A[W]);return T},M=(T,A)=>O(T,w(A)),R=(T,A,W)=>new Promise((j,Z)=>{var J=te=>{try{ne(W.next(te))}catch(B){Z(B)}},Q=te=>{try{ne(W.throw(te))}catch(B){Z(B)}},ne=te=>te.done?j(te.value):Promise.resolve(te.value).then(J,Q);ne((W=W.apply(T,A)).next())});const N=({profile:T,requireLogin:A,source:W})=>{const j=(0,x.pm)(),{refetch:Z,isLoading:J,error:Q}=(0,y.ib)({pathname:T?(0,f.getPresubscribeUrl)(T):"",auto:!1,deps:[T]}),{refetch:ne}=(0,d.Un)({subjectId:T.id,subjectName:T.name}),te=(0,m.I4)(()=>R(void 0,null,function*(){var re;if((0,g.j)(g.FP.ACCOUNT_CARD_PRESUBSCRIBE_CLICKED,W),A){A();return}yield Z({method:"POST",json:{source:(re=W.utmSource)!=null?re:W.type}}),j.popToast(le=>(0,o.h)(x.FN,M(S({},le),{text:`You're subscribed to ${T.name||"<no name>"}! You'll get an email when they create a publication`}))),ne(T.id)}),[Z,ne,T,j,A,W]),B=(0,m.I4)(()=>R(void 0,null,function*(){(0,g.j)(g.FP.ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED,W),yield Z({method:"DELETE"}),j.popToast(re=>(0,o.h)(x.FN,M(S({},re),{text:`You're unsubscribed from ${T.name||"<no name>"}! `}))),ne(T.id)}),[Z,ne,j,T,W]);if(!T)return null;const V=!!T.isPresubscribed;return(0,o.h)(o.Fragment,null,!!Q&&(0,o.h)(v.gq,{justifyContent:"center"},(0,o.h)(b.xv.B4,{weight:"bold",color:"error",paddingBottom:20},"Something went wrong. Please refresh the page.")),V?(0,o.h)(C.zx,{priority:"secondary",fill:"outline",rounded:!0,disabled:J,onClick:re=>{B(),re.stopPropagation()},title:T.name},"Subscribed"):(0,o.h)(C.zx,{priority:"primary",disabled:J,rounded:!0,onClick:re=>{te(),re.stopPropagation()},title:T.name},"Subscribe"))}},80332:(G,s,e)=>{"use strict";e.d(s,{Ct:()=>we,L0:()=>pe,PP:()=>ut});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(71375),y=e(25380),C=e(80569),v=e.n(C),b=e(15045),x=e(20501),E=e(76193),O=e(83322),w=e(92643),_=e(63270),a=e(67963),l=e(3258),P=e(69229),S=e(66399),M=e(17685),R=e(48960),N=e(51126),T=e(94016),A=e(65919),W=e(10186),j=e(55886),Z=e(68262),J=e(44695),Q=e(45809),ne=e(91001),te=e(27797),B=Object.defineProperty,V=Object.defineProperties,re=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,oe=(We,Be,lt)=>Be in We?B(We,Be,{enumerable:!0,configurable:!0,writable:!0,value:lt}):We[Be]=lt,z=(We,Be)=>{for(var lt in Be||(Be={}))ae.call(Be,lt)&&oe(We,lt,Be[lt]);if(le)for(var lt of le(Be))q.call(Be,lt)&&oe(We,lt,Be[lt]);return We},ie=(We,Be)=>V(We,re(Be)),ue=(We,Be)=>{var lt={};for(var Tt in We)ae.call(We,Tt)&&Be.indexOf(Tt)<0&&(lt[Tt]=We[Tt]);if(We!=null&&le)for(var Tt of le(We))Be.indexOf(Tt)<0&&q.call(We,Tt)&&(lt[Tt]=We[Tt]);return lt},de=(We,Be,lt)=>new Promise((Tt,xt)=>{var Gt=ke=>{try{yt(lt.next(ke))}catch(Ve){xt(Ve)}},an=ke=>{try{yt(lt.throw(ke))}catch(Ve){xt(Ve)}},yt=ke=>ke.done?Tt(ke.value):Promise.resolve(ke.value).then(Gt,an);yt((lt=lt.apply(We,Be)).next())});const fe=3,ye=1;function pe(We){return"id"in We&&"name"in We}function we(We){var Be=We,{dontStopPropagation:lt,inline:Tt,children:xt}=Be,Gt=ue(Be,["dontStopPropagation","inline","children"]);const an=Me(Gt);return(0,E.isMobile)()?(0,o.h)(o.Fragment,null,xt):(0,o.h)("div",ie(z(z({className:d()("profile-hover-card-target",te.Z.profileHoverCardTarget,Tt&&te.Z.inline,Gt.className&&Gt.className)},an.triggerProps),an.hoverProps),{onClick:yt=>{lt||yt.stopPropagation()}}),xt,an.layer)}function Me(We){var Be=We,{subject:lt,utmSource:Tt,placement:xt}=Be,Gt=ue(Be,["subject","utmSource","placement"]);const{loading:an,refetch:yt,viewerProfile:ke,subjectProfile:Ve}=(0,w.Un)({subjectId:(lt==null?void 0:lt.author_id)||(lt==null?void 0:lt.user_id)||(lt==null?void 0:lt.id),subjectName:lt==null?void 0:lt.name,delayLoading:!0}),Ne=lt&&ke&&(lt==null?void 0:lt.id)===ke.id,Fe=lt==null?void 0:lt.id,Ue=(0,m.I4)(()=>{var Ge;Fe&&!Ve&&yt(Fe);const nt=(((Ge=Ve==null?void 0:Ve.publicationUsers)==null?void 0:Ge.length)||0)>0;Ve&&(0,l.j)(l.FP.ACCOUNT_CARD_SHOWN,{profile_user_id:Ve.id,is_self:!!Ne,has_publication:!!nt})},[yt,Fe,Ve,Ne]),be=(0,T.o)(z({className:te.Z.profileHoverCard,onOpen:Ue,loading:an&&!Ve,hideOnScroll:!0,layerOptions:{placement:xt!=null?xt:"right-center"},content:Ve?(0,o.h)(ut,{profile:Ve,subject:lt,utmSource:Tt,forceRefresh:()=>yt(Fe)}):null},Gt));return(0,E.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:be}const je="account-card";function De(We){let Be=[];We&&We.subscriptions&&(Be=(0,O.sortSubscriptions)(We.subscriptions.filter(Tt=>!!Tt)));let lt=null;return Be.length>fe&&(lt=`See all (${(0,O.numberToString)(Be.length)})`),Be=Be.slice(0,fe),{subscriptions:Be,moreSubsLabel:lt}}function me(We){let Be=[];We&&We.publicationUsers&&(Be=We.publicationUsers.filter(Tt=>!!Tt),Be=Be&&(0,P.b)(Be));let lt=null;return Be.length>ye&&(lt=`See all (${(0,O.numberToString)(Be.length)})`),Be=Be.slice(0,ye),{publications:Be,morePubsLabel:lt}}function ce({pub:We,isWrites:Be,isFounding:lt,isPaid:Tt,utmSource:xt}){const Gt=(0,b.getPubUrl)(We,{params:{utm_source:xt||je,utm_content:Be?"writes":"reads"},signedIn:!!(0,a.aF)()});return We?(0,o.h)("a",{href:Gt,target:"_blank",onClick:()=>{(0,l.j)(Be?l.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED:l.FP.ACCOUNT_CARD_READS_LINK_CLICKED),(0,l.x6)(We,"hover_profile")},className:te.Z.hoverCardAvatar,rel:"noopener"},(0,o.h)(Z.F,{pub:We,size:32,badgeType:lt?"founder":Tt?"subscribed":null}),(0,o.h)(A.xv.B4,{weight:"medium",title:We.name},We.name)):null}function ge({pub:We,utmSource:Be}){const lt=(0,b.getPubUrl)(We,{params:{utm_source:Be||je,utm_content:"writes"},signedIn:!!(0,a.aF)()}),Tt=(0,O.getByLine)(We);return(0,o.h)(N.tu,{as:"a",href:lt,target:"_blank",onClick:()=>{(0,l.j)(l.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED),(0,l.x6)(We,"hover_profile")},rel:"noopener",padding:12,gap:12,className:te.Z.writesCard,radius:8},(0,o.h)(N.gq,{gap:12},(0,o.h)(Z.F,{pub:We,size:40}),(0,o.h)(N.tu,{flex:"grow",minWidth:0,justifyContent:"center"},(0,o.h)(A.xv.B4,{weight:"semibold"},We.name),Tt&&(0,o.h)(A.xv.B4,{color:"secondary"},"By ",Tt))),We.hero_text&&(0,o.h)(A.xv.B4,{color:"secondary",clamp:3},We.hero_text))}function Ie({subject:We,subscriptions:Be,moreSubsLabel:lt,utmSource:Tt}){return(0,o.h)(N.tu,null,(0,o.h)(J.GF,{sectionTitle:"Reads",seeAllLabel:lt,link:_t(We,{utmSource:Tt})}),(0,o.h)(N.tu,null,Be.map(xt=>(0,o.h)(ce,{pub:xt.publication,isPaid:xt.membership_state==="subscribed",isFounding:xt.is_founding,utmSource:Tt}))))}function Re({publication:We,utmSource:Be}){return We?(0,o.h)(ge,{pub:We,utmSource:Be}):null}function Ke({pub:We,isSubscribed:Be,user:lt,utmSource:Tt,forceRefreshCard:xt}){const[Gt,an]=(0,m.eJ)(!1),{popToast:yt}=(0,S.pm)(),ke=()=>de(this,null,function*(){lt||yt(Ne=>(0,o.h)(S.FN,ie(z({},Ne),{text:"Something went wrong. Please try again.",Icon:g.Z}))),an(!0);try{yield v().post("/api/v1/reader/signup/pub").send({publication_id:We.id,email:lt==null?void 0:lt.email,visibility:"private",source:"subscribes-feed"}),(0,l.j)(l.FP.FEED_ONE_CLICK_SUBSCRIBE,{source:"subscribes-feed",publication_id:We.id}),yt(Ne=>(0,o.h)(S.FN,ie(z({},Ne),{text:`Subscribed to ${(We==null?void 0:We.name)||(lt==null?void 0:lt.name)||"user"}`,Icon:y.Z}))),xt()}catch(Ne){yt(Fe=>(0,o.h)(S.FN,ie(z({},Fe),{text:"There was an issue subscribing to this profile.",Icon:g.Z})))}an(!1)}),Ve=We?(0,x.getSubscribeUrl)(We,{user:lt,addBase:!0,params:{utm_source:Tt||je,utm_content:"subscribes",next:document.location.href}}):"";return We&&(Be?(0,o.h)(M.zx,{priority:"secondary",fill:"outline",href:Ve,rounded:!0,onClick:()=>{(0,l.j)(l.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,l.x6)(We,"hover_profile")},title:We.name},"Subscribed"):Tt==="feed"&&lt?(0,o.h)(M.zx,{priority:"primary",rounded:!0,onClick:()=>{ke()},title:We.name,disabled:Gt},"Subscribe"):(0,o.h)(M.zx,{priority:"primary",href:Ve,localNavigation:!1,rounded:!0,onClick:()=>{(0,l.j)(l.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,l.x6)(We,"hover_profile")},title:We.name},"Subscribe"))}function ut({profile:We,subject:Be,themed:lt,className:Tt,utmSource:xt,hideSubscribeButtons:Gt,forceRefresh:an}){var yt,ke;const{getConfigFor:Ve}=(0,_.xR)(),Ne=(0,a.aF)();if(!We)return null;const{subscriptions:Fe,moreSubsLabel:Ue}=De(We),{publications:be,morePubsLabel:Ge}=me(We),nt=_t(Be,{utmSource:xt}),Oe=(Be==null?void 0:Be.name)||"",K=We.primaryPublication&&((yt=We.publicationUsers.find(ct=>{var Pt;return ct.publication_id===((Pt=We==null?void 0:We.primaryPublication)==null?void 0:Pt.id)}))==null?void 0:yt.publication),Y=Be&&Be.id===(Ne==null?void 0:Ne.id),he=Y&&We&&!We.profile_set_up_at,Te=be.length>0&&!he,He=Fe.length>0&&!he&&!Te,Qe=Ne?null:()=>{window.location.href=(0,b.getSigninUrl)({redirect:`${window.location.href}`})},ht=(ke=We==null?void 0:We.handle)!=null?ke:null;return(0,o.h)("div",{className:d()(te.Z.card,Tt)},(0,o.h)(N.tu,{gap:16,padding:8},(0,o.h)(N.gq,{justifyContent:"space-between"},(0,o.h)("a",{href:nt},(0,o.h)(W.qE,{user:Be,size:64})),he?(0,o.h)(M.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,b.getProfileSetupUrl)({utm_source:xt||je})},"Set up profile"):Y?(0,o.h)(M.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,b.getEditProfileUrl)()},"Edit profile"):Gt?null:K?(0,o.h)(Ke,{pub:K,isSubscribed:We.isSubscribed,user:Ne,utmSource:xt,forceRefreshCard:an}):Ve("enable_presubscriptions")?(0,o.h)(ne.o,{profile:We,requireLogin:Qe,source:{type:"card",utmSource:xt}}):null),(0,o.h)(N.tu,{gap:6},(0,o.h)(J.Sz,{themed:lt,title:Oe,handle:ht,blurb:We.bio,url:nt,userId:Be.id,bestsellerTier:We.bestseller_tier})),Te&&(0,o.h)(Re,{publication:K,utmSource:xt}),He&&(0,o.h)(o.Fragment,null,(0,o.h)(R.i,null),(0,o.h)(Ie,{subject:Be,subscriptions:Fe,moreSubsLabel:Ue,utmSource:xt})),We.mutuals&&(0,o.h)(ft,{mutuals:We.mutuals,utmSource:xt})))}function _t(We,{utmSource:Be}={}){const lt=typeof window!="undefined"&&window.location.href.startsWith((0,x.getSubstackUrl)());return(0,b.getReaderProfileUrl)(We,{noBase:lt,utm_source:Be||je})}function ft({mutuals:We,utmSource:Be}){const{paidSubscribers:xt,freeSubscribers:Gt,recommenders:an}=We;let yt,ke;xt.length>0?(yt="paid",ke=xt):an.length>0?(yt="recommended",ke=an):(yt="free",ke=Gt);const Ve=ke.sort(Ne=>Ne.photo_url?1:-1);return Ve.length===0?null:(0,o.h)(N.hs,{paddingTop:16,alignItems:"center",gap:12,borderTop:"detail"},(0,o.h)(N.hs,{style:{paddingLeft:6}},Ve.slice(0,3).map(Ne=>(0,o.h)(N.hs,{as:"a",key:Ne.id,href:(0,b.getReaderProfileUrl)(Ne,{utm_source:"profile-card"})},(0,o.h)(j.t,{className:te.Z.facepileFace,src:Ne.photo_url||(0,b.getDefaultUserPhotoById)(Ne.id),size:24})))),(0,o.h)(A.xv,{font:"text",color:"secondary",size:12},yt==="recommended"&&"Recommended by ",(0,o.h)(Q.M,{array:Ve,limit:3,formatter:Ne=>(0,o.h)(A.hh,{href:_t(Ne,{utmSource:Be})},Ne.name)}),yt==="paid"?ke.length>1?" are paid subscribers":" is a paid subscriber":yt==="free"&&(ke.length>1?" subscribe":" subscribes"),"."))}},96098:(G,s,e)=>{"use strict";e.d(s,{h:()=>f});var o=e(6400),m=e(61864);function f({children:d}){return(0,o.h)("div",{className:m.Z.pubTheme},d)}},35291:(G,s,e)=>{"use strict";e.d(s,{p:()=>g});var o=e(6400),m=e(94184),f=e.n(m),d=e(1602);const g=({name:y,label:C,info:v,checked:b,disabled:x,onChange:E,isRow:O=!0,className:w})=>{const _=(0,o.h)(o.Fragment,null,(0,o.h)("span",{className:f()("big-checkbox",{checked:b,disabled:x}),onClick:()=>!x&&(E==null?void 0:E(!b)),onKeyDown:a=>{a.key===" "&&(E==null||E(!b))},role:"checkbox","aria-checked":b,"aria-label":C||y,tabIndex:0},(0,o.h)(d.Z,{fill:"#ffffff"})));return(0,o.h)("label",{className:f()("big-checkbox-input",w,{"big-checkbox-input-row":O})},!O&&_,(0,o.h)("div",{onClick:()=>{(C||v)&&!x&&(E==null||E(!b))}},C,v&&(0,o.h)("div",{className:"info"},v)),O&&_,(0,o.h)("input",{type:"hidden",name:y,"data-testid":y,value:String(b)}))}},7922:(G,s,e)=>{"use strict";e.d(s,{Z:()=>S,k:()=>M});var o=e(6400),m=e(98661),f=e(94184),d=e.n(f),g=e(39419),y=e.n(g),C=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,w=(R,N,T)=>N in R?C(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,_=(R,N)=>{for(var T in N||(N={}))E.call(N,T)&&w(R,T,N[T]);if(x)for(var T of x(N))O.call(N,T)&&w(R,T,N[T]);return R},a=(R,N)=>v(R,b(N)),l=(R,N)=>{var T={};for(var A in R)E.call(R,A)&&N.indexOf(A)<0&&(T[A]=R[A]);if(R!=null&&x)for(var A of x(R))N.indexOf(A)<0&&O.call(R,A)&&(T[A]=R[A]);return T};const S=R=>{var N=R,{children:T,className:A=void 0,disabled:W=void 0,loading:j=void 0,type:Z="button",href:J=void 0,localNavigation:Q=!1,onClick:ne=void 0,forwardedRef:te=void 0,newTab:B=void 0}=N,V=l(N,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab"]);const re=le=>{if(W||j){le&&le.preventDefault();return}ne?ne(le):J?(0,g.redirect)(J,{event:le,local_navigation:Q,newTab:B}):Z!=="submit"&&console.log("No onClick set!")};return(0,o.h)("button",a(_({tabIndex:0},V),{type:Z,className:d()("button",A,{disabled:W}),disabled:W||j,onClick:re,ref:te}),j?"Please wait...":T)},M=(0,m.forwardRef)((R,N)=>{var T=R,{onClick:A,href:W,localNavigation:j,newTab:Z}=T,J=l(T,["onClick","href","localNavigation","newTab"]);const Q=W?ne=>{A&&(A.call(ne.target,ne),ne.defaultPrevented)||(0,g.redirect)(W,{event:ne,local_navigation:j,newTab:Z})}:A;return(0,o.h)("button",a(_({tabIndex:0},J),{ref:N,onClick:Q}))})},22939:(G,s,e)=>{"use strict";e.d(s,{E:()=>m});var o=e(30396);function m(){const f=(0,o.sO)(null);return[f,()=>{var g;return(g=f.current)==null?void 0:g.toggle()}]}},43615:(G,s,e)=>{"use strict";e.d(s,{FF:()=>ge,Pn:()=>De,ZP:()=>Me});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(25380),y=e(71375),C=e(49770),v=e(80569),b=e.n(v),x=e(15045),E=e(83322),O=e(67963),w=e(96283),_=e(3258),a=e(8479),l=e(39419),P=e(17685),S=e(51126),M=e(62246),R=e(65919),N=e(75425),T=e(10186),A=e(33510),W=e(44695);const j=40,Z=.5*j,J=.2,Q=2;function ne(Re){return{width:(Re-1)*j*(1-J)+j+2*Q,height:j+2*Q}}function te({faces:Re}){const ut=Re.slice(0).reverse().map(({id:We,photo_url:Be},lt)=>({id:We,photo_url:Be||getDefaultUserPhotoById(We),x:(Re.length-lt-1)*(1-J)*j+Q})),{width:_t,height:ft}=ne(Re.length);return h("svg",{version:"1.1",width:_t,height:ft,viewBox:`0 0 ${_t} ${ft}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,ut.map(({id:We,photo_url:Be,x:lt})=>h("pattern",{id:`image-${We}`,x:lt,y:Q,patternUnits:"userSpaceOnUse",height:j,width:j},h("image",{height:j,width:j,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:Be})))),ut.map(({id:We,x:Be})=>h("circle",{cx:Be+Z,cy:Z+Q,r:Z,fill:`url(#image-${We})`,stroke:"#fff","stroke-width":Q})))}var B=e(80332),V=e(31471),re=e(30105);const le={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"};var ae=Object.defineProperty,q=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,de=(Re,Ke,ut)=>Ke in Re?ae(Re,Ke,{enumerable:!0,configurable:!0,writable:!0,value:ut}):Re[Ke]=ut,fe=(Re,Ke)=>{for(var ut in Ke||(Ke={}))ie.call(Ke,ut)&&de(Re,ut,Ke[ut]);if(z)for(var ut of z(Ke))ue.call(Ke,ut)&&de(Re,ut,Ke[ut]);return Re},ye=(Re,Ke)=>q(Re,oe(Ke)),pe=(Re,Ke)=>{var ut={};for(var _t in Re)ie.call(Re,_t)&&Ke.indexOf(_t)<0&&(ut[_t]=Re[_t]);if(Re!=null&&z)for(var _t of z(Re))Ke.indexOf(_t)<0&&ue.call(Re,_t)&&(ut[_t]=Re[_t]);return ut},we=(Re,Ke,ut)=>new Promise((_t,ft)=>{var We=Tt=>{try{lt(ut.next(Tt))}catch(xt){ft(xt)}},Be=Tt=>{try{lt(ut.throw(Tt))}catch(xt){ft(xt)}},lt=Tt=>Tt.done?_t(Tt.value):Promise.resolve(Tt.value).then(We,Be);lt((ut=ut.apply(Re,Ke)).next())});function Me(Re){var Ke=Re,{faces:ut,secondaryFaces:_t,maximum:ft=5,pileLabel:We,modalLabel:Be,secondaryLabel:lt,secondaryHref:Tt,enableModal:xt,className:Gt,totalCount:an,detailUtmSource:yt,onDialogOpen:ke,showFaces:Ve=!0,reverse:Ne,showBlanks:Fe=!1}=Ke,Ue=pe(Ke,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","reverse","showBlanks"]);const[be,Ge]=(0,m.eJ)(!1),[nt,Oe]=(0,m.eJ)(!1);let Y=ut.concat((_t==null?void 0:_t.filter(he=>!ut.find(Te=>Te.id===he.id)))||[]).filter(({photo_url:he})=>Fe?!0:!!he).slice(0,ft);return Ne||(Y=Y.slice(0).reverse()),(0,o.h)(S.hs,{alignItems:"center",gap:8,flex:"grow",className:d()("facepile",Gt)},Ve&&(0,o.h)(je,ye(fe({},Ue),{className:Gt,faces:Y,maximum:ft})),We&&(0,o.h)(ce,{label:We,clickable:!!(xt&&ut.length),onClick:()=>{!xt||!(ut!=null&&ut.length)||(Ge(!0),ke&&ke())}}),lt&&(0,o.h)(R.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),lt&&(0,o.h)(ce,{label:lt,clickable:!!(xt&&(_t!=null&&_t.length)),href:Tt,onClick:Tt?void 0:()=>{!xt||!(_t!=null&&_t.length)||(Oe(!0),ke&&ke())}}),be&&(0,o.h)(ge,{isOpen:be,modalLabel:Be,faces:ut,totalCount:an,onClose:()=>Ge(!1),utmSource:yt}),nt&&_t&&(0,o.h)(ge,{isOpen:nt,modalLabel:lt,faces:_t,totalCount:_t.length,onClose:()=>Oe(!1),utmSource:yt}))}function je({faces:Re,loading:Ke,className:ut,clickable:_t=!0,hoverProfiles:ft,faceUtmSource:We,elevated:Be,showBlanks:lt=!1,maximum:Tt=5,size:xt=40}){const Gt=(0,l.isMobileBrowser)(),an=Re.filter(({photo_url:yt})=>lt?!0:!!yt).slice(0,Tt);return(0,o.h)(S.hs,{alignItems:"center"},!Ke&&an.length>0&&(0,o.h)(S.hs,{alignItems:"center",className:d()(le.faces,le[`size-${xt}`],ut)},an.map(({id:yt,name:ke,photo_url:Ve,className:Ne,tooltipTitle:Fe,tooltipContent:Ue,noLink:be},Ge)=>{const nt=(0,x.getReaderProfileUrl)({id:yt,name:ke},{utm_source:We});return be||!_t?(0,o.h)(V.e,{className:d()("facepile-face",le.face,le[`size-${xt}`],Ne,Ge===0&&le.first,Ge===an.length-1&&le.last,Be&&le.elevated),maxWidth:xt*2,src:(0,x.imginary)(Ve||(0,x.getDefaultUserPhotoById)(yt),64)}):(0,o.h)(B.Ct,{disabled:!ft||Gt,key:yt,subject:{id:yt,name:ke,photo_url:Ve},utmSource:We},(0,o.h)(re.L,{disabled:!Fe&&!Ue,title:Fe,content:Ue,className:"inverse bottom"},(0,o.h)(S.hs,{as:"a",flex:"auto",href:nt,target:"_blank",rel:"noopener"},(0,o.h)(V.e,{className:d()("facepile-face",le.face,le[`size-${xt}`],Ne,Ge===0&&le.first,Ge===an.length-1&&le.last,Be&&le.elevated),maxWidth:xt*2,src:(0,x.imginary)(Ve||(0,x.getDefaultUserPhotoById)(yt),64)}))))})),Ke&&(0,o.h)(me,{maximum:Tt,size:xt}))}function De({pub:Re,post:Ke}){var ut;const _t=(0,x.imginary)(`${(0,x.getBaseUrl)(Re)}/p/${Ke.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:ft,width:We}=ne((ut=Ke==null?void 0:Ke.publishedBylines)==null?void 0:ut.length);return(0,o.h)("img",{src:_t,width:We,height:ft})}function me({maximum:Re,size:Ke}){return(0,o.h)(S.hs,{gap:12},new Array(Re).fill(null).map(()=>(0,o.h)(A.Vm,{type:"circle",height:Ke,width:Ke})))}function ce({label:Re,clickable:Ke,href:ut,onClick:_t}){return(0,o.h)(R.xv.B4,null,(0,o.h)(w.hh,{className:Ke?le.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:Ke?"hover-underline":"none",onClick:_t,href:ut},Re))}function ge(Re){var Ke=Re,{isOpen:ut,onClose:_t}=Ke,ft=pe(Ke,["isOpen","onClose"]);return(0,o.h)(M.u_,{isOpen:!!ut,onClose:_t,width:500},(0,o.h)(Ie,fe({onClose:_t},ft)))}function Ie({faces:Re,modalLabel:Ke,onClose:ut,openLinksInNewTab:_t,totalCount:ft,utmSource:We}){const Be=We||"facepile",lt=(Ue,be,Ge)=>we(this,null,function*(){try{Ge?(yield b().post("/api/v1/reader/signup/pub").send({email:Ve==null?void 0:Ve.email,publication_id:Ge.id,visibility:"private",source:Be}),We!=null&&We.match(/^(notes)|(feed)[-_]/)&&(0,_.j)(_.FP.FEED_ONE_CLICK_SUBSCRIBE,{publication_id:Ge.id,source:Be})):yield b().post(`/api/v1/presubscribe/${Ue}`).send({source:Be}),Gt([...xt!=null?xt:[],Ue]),ke(nt=>(0,o.h)(N.FN,ye(fe({},nt),{text:`Subscribed to ${(Ge==null?void 0:Ge.name)||be||"user"}`,Icon:g.Z})))}catch(nt){ke(Oe=>(0,o.h)(N.FN,ye(fe({},Oe),{text:(0,l.getNetworkErrorMessage)(nt),Icon:y.Z})))}}),Tt=(Ue,be,Ge)=>we(this,null,function*(){var nt;try{if(Ge){if((yield b().get("/api/v1/subscription/publications?only_full=true")).body.some(K=>K.id===Ge.id))return(0,l.redirect)((0,x.getPubAccountSettingsUrl)(Ge,{addBase:!0}),{local_navigation:!1,newTab:_t});yield b().delete("/api/v1/free").send({publication_id:Ge.id,source:Be})}else yield b().delete(`/api/v1/presubscribe/${Ue}`);Gt((nt=xt==null?void 0:xt.filter(Oe=>Oe!==Ue))!=null?nt:null),ke(Oe=>{var K;return(0,o.h)(N.FN,ye(fe({},Oe),{text:`Unsubscribed from ${(K=Ge==null?void 0:Ge.name)!=null?K:be}.`,Icon:g.Z}))})}catch(Oe){const K=(Oe==null?void 0:Oe.status)===404?`Already unsubscribed to ${(Ge==null?void 0:Ge.name)||be||"this user"}`:"Something went wrong. Please try again";ke(Y=>(0,o.h)(N.FN,ye(fe({},Y),{text:K,Icon:y.Z})))}}),{result:xt,setResult:Gt,isLoading:an,error:yt}=(0,a.ib)({pathname:"/api/v1/subscription/users",query:{ids:JSON.stringify(Re.map(Ue=>Ue.id))},auto:!0,initialResult:Re.filter(Ue=>Ue.is_subscribed).map(Ue=>Ue.id)}),{popToast:ke}=(0,N.pm)(),Ve=(0,O.aF)();(0,m.d4)(()=>{Ve&&yt&&alert((0,l.getNetworkErrorMessage)(yt))},[yt,Ve]);const Ne=(ft||0)-Re.length,Fe=(0,l.isMobileBrowser)();return(0,o.h)(o.Fragment,null,(0,o.h)(S.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,o.h)(R.xv.H2,null," ",Ke),ut&&(0,o.h)(P.hU,{onClick:ut},(0,o.h)(y.Z,{height:20}))),(0,o.h)(S.tu,{overflowY:"auto",className:le.column},(0,o.h)(S.tu,{gap:4,padding:8,flex:"grow"},Re.map(Ue=>{const{id:be,name:Ge,photo_url:nt,primary_publication:Oe,writes:K,className:Y,noLink:he}=Ue,Te=(0,x.getReaderProfileUrl)({id:be,name:Ge},{utm_source:We}),He=xt==null?void 0:xt.includes(be);return(0,o.h)(S.hs,{key:be,flex:"grow"},he?(0,o.h)(S.hs,{gap:16,padding:8,radius:8,className:le.row,alignItems:"center",flex:"grow"},(0,o.h)(T.BG,{user:Ue,pub:Oe,size:40,className:Y}),(0,o.h)(S.tu,{minWidth:0,flex:"grow"},(0,o.h)(R.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(le.link,d()({"no-name":!(Ge||"").trim().length}))},Ge))):(0,o.h)(S.hs,fe({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:8,className:le.row,href:Te},_t?{target:"_blank"}:{}),(0,o.h)(T.BG,{user:Ue,pub:Oe,size:40,className:Y}),(0,o.h)(S.tu,{minWidth:0,flex:"grow"},(0,o.h)(B.Ct,{disabled:he||Fe,subject:{id:be,name:Ge,photo_url:nt},utmSource:We,className:le.link},(0,o.h)(R.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(le.link,d()({"no-name":!(Ge||"").trim().length}))},Ge)),K&&Oe&&(0,o.h)(W.Sm,{disabled:Fe,publication_id:Oe==null?void 0:Oe.id,className:le.link},(0,o.h)(R.xv.B4,{color:"secondary",decoration:"hover-underline",className:d()(le.link,{"no-name":!(Ge||"").trim().length})},K))),Ve&&Ve.id!==be&&(0,o.h)(P.zx,{fill:"empty",disabled:an,priority:He?"secondary":"primary",className:le.button,onClick:Qe=>{Qe.preventDefault(),He?Tt(be,Ge,Oe):lt(be,Ge,Oe)}},He?"Subscribed":"Subscribe")))}),Ne>0&&(0,o.h)(S.hs,{gap:16,alignItems:"center",padding:8},(0,o.h)(S.hs,{className:le.avatarOther,alignItems:"center",justifyContent:"center"},(0,o.h)(C.Z,{className:le.avatarOtherIcon,size:20})),(0,o.h)(R.xv.B4,{color:"secondary"},"+",(0,E.pluralize)(Ne,"other reader"))))))}},45634:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?f(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,x=(a,l)=>{for(var P in l||(l={}))C.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>d(a,g(l)),O=(a,l)=>{var P={};for(var S in a)C.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{name:P,children:S}=l,M=O(l,["name","children"]);return(0,o.h)(m.l,E(x({},M),{name:P,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),S)}},47819:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(45634),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.Z,E(x({},_),{name:"ActivationUsersIcon"}),(0,o.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}))},32127:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,o.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,o.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},1782:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,o.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,o.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},99758:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:"#1C110B"}}),(0,o.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")},1602:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?f(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,x=(a,l)=>{for(var P in l||(l={}))C.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>d(a,g(l)),O=(a,l)=>{var P={};for(var S in a)C.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{fill:P}=l,S=O(l,["fill"]);return(0,o.h)(m.l,E(x({},S),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:P||"white"}}),(0,o.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:P||"white"}))}},26059:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),(0,o.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},46595:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,o.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,o.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,o.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,o.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},78041:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}))},71765:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M11.9977 23.9949C18.6238 23.9949 23.9953 18.6234 23.9953 11.9975C23.9953 5.37147 18.6238 0 11.9977 0C5.37156 0 0 5.37147 0 11.9975C0 18.6234 5.37156 23.9949 11.9977 23.9949Z",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},36377:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,o.h)("circle",{cx:"4.17266",cy:"5.83001",r:"3.48929","stroke-width":"1"}),(0,o.h)("path",{d:"M8.98932 9.48406C8.98932 11.4111 7.42711 12.9733 5.50003 12.9733C3.57295 12.9733 2.01075 11.4111 2.01075 9.48406C2.01075 7.55698 3.57295 5.99478 5.50003 5.99478C7.42711 5.99478 8.98932 7.55698 8.98932 9.48406Z","stroke-width":"1"}),(0,o.h)("path",{d:"M12.3286 9.48406C12.3286 11.4111 10.7664 12.9733 8.83935 12.9733C6.91227 12.9733 5.35006 11.4111 5.35006 9.48406C5.35006 7.55698 6.91227 5.99478 8.83935 5.99478C10.7664 5.99478 12.3286 7.55698 12.3286 9.48406Z","stroke-width":"1"}),(0,o.h)("circle",{cx:"7.15874",cy:"3.83929",r:"3.48929","stroke-width":"1"}),(0,o.h)("circle",{cx:"10.1449",cy:"5.83001",r:"3.48929","stroke-width":"1"}))},51889:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,o.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}))},54813:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,o.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,o.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,o.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},24491:(G,s,e)=>{"use strict";var o=e(6400);function m({className:d}){return h("svg",{className:d,width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("g",null,h("path",{style:{backdropFilter:"blur(5px)"},d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"white","fill-opacity":"0.9"}),h("path",{opacity:"0.7",d:"M20 17.8685C20 17.0698 20.8901 16.5934 21.5547 17.0365L30.7519 23.168C31.3457 23.5638 31.3457 24.4362 30.7519 24.8321L21.5547 30.9635C20.8901 31.4066 20 30.9302 20 30.1315V17.8685Z",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"})))}var f=null},48963:(G,s,e)=>{"use strict";var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const O=_=>h(SvgIcon,E(x({},_),{name:"TwitterIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99998 3.01998C4.80189 3.01998 3.01998 4.80189 3.01998 6.99998V17C3.01998 19.1981 4.80189 20.98 6.99998 20.98H17C19.1981 20.98 20.98 19.1981 20.98 17V6.99998C20.98 4.80189 19.1981 3.01998 17 3.01998H6.99998ZM0.97998 6.99998C0.97998 3.67523 3.67523 0.97998 6.99998 0.97998H17C20.3247 0.97998 23.02 3.67523 23.02 6.99998V17C23.02 20.3247 20.3247 23.02 17 23.02H6.99998C3.67523 23.02 0.97998 20.3247 0.97998 17V6.99998Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4982 8.89054C11.8532 8.7949 11.1944 8.90507 10.6157 9.20538C10.0369 9.50569 9.56756 9.98085 9.27441 10.5633C8.98126 11.1457 8.87922 11.8057 8.98281 12.4495C9.0864 13.0933 9.39034 13.688 9.85141 14.149C10.3125 14.6101 10.9072 14.9141 11.5509 15.0176C12.1947 15.1212 12.8547 15.0192 13.4372 14.726C14.0196 14.4329 14.4948 13.9635 14.7951 13.3848C15.0954 12.806 15.2056 12.1473 15.1099 11.5023C15.0123 10.8444 14.7058 10.2353 14.2355 9.76498C13.7652 9.29468 13.1561 8.9881 12.4982 8.89054ZM9.78664 7.60766C10.7015 7.13297 11.7427 6.95883 12.7622 7.11001C13.8021 7.26422 14.7649 7.74881 15.5083 8.49219C16.2516 9.23557 16.7362 10.1983 16.8904 11.2383C17.0416 12.2578 16.8675 13.299 16.3928 14.2138C15.9181 15.1286 15.167 15.8705 14.2464 16.3339C13.3258 16.7972 12.2825 16.9585 11.265 16.7948C10.2474 16.631 9.30739 16.1506 8.57861 15.4218C7.84984 14.6931 7.36941 13.753 7.20567 12.7355C7.04193 11.7179 7.20322 10.6746 7.66659 9.75402C8.12996 8.83341 8.87181 8.08235 9.78664 7.60766Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.6 6.5001C16.6 6.00304 17.0029 5.6001 17.5 5.6001H17.51C18.007 5.6001 18.41 6.00304 18.41 6.5001C18.41 6.99715 18.007 7.4001 17.51 7.4001H17.5C17.0029 7.4001 16.6 6.99715 16.6 6.5001Z"}));var w=null},64484:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,o.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,o.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,o.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},53668:(G,s,e)=>{"use strict";var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const O=_=>h(SvgIcon,E(x({},_),{name:"LinkedinIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.35951 21.3538V8.96983H2.24333V21.3538H6.35951V21.3538ZM4.3014 7.27902C5.7368 7.27902 6.63021 6.32807 6.63021 5.13966C6.60346 3.9245 5.7368 2.99994 4.32863 2.99994C2.92061 2.99994 2 3.9245 2 5.13966C2 6.32807 2.89322 7.27902 4.27457 7.27902H4.30132H4.3014Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.63708 21.3538H12.7532V14.4381C12.7532 14.0679 12.78 13.6982 12.8887 13.4336C13.1862 12.6941 13.8635 11.9282 15.0006 11.9282C16.4901 11.9282 17.0859 13.0639 17.0859 14.7286V21.3538H21.2017V14.253C21.2017 10.4492 19.171 8.67924 16.4629 8.67924C14.2423 8.67924 13.2675 9.92041 12.7259 10.7658H12.7533V8.96983H8.6372C8.69121 10.1319 8.6372 21.3538 8.6372 21.3538H8.63708Z"}));var w=null},11851:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?f(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,x=(a,l)=>{for(var P in l||(l={}))C.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>d(a,g(l)),O=(a,l)=>{var P={};for(var S in a)C.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{color:P="#262626"}=l,S=O(l,["color"]);return(0,o.h)(m.l,E(x({},S),{name:"LockThinIcon",svgParams:{height:16,width:16}}),(0,o.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:P}),(0,o.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:P,stroke:P}))}},15440:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(13808),f=e(34755),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&x(a,P,l[P]);if(C)for(var P of C(l))b.call(l,P)&&x(a,P,l[P]);return a},O=(a,l)=>g(a,y(l));function w(a){return(0,o.h)(f.l,O(E({},a),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(m.Z,{height:24,stroke:a.stroke,fill:a.fill,strokeWidth:a.strokeWidth}))}const _=w},63295:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(7617),f=e(34755),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&x(a,P,l[P]);if(C)for(var P of C(l))b.call(l,P)&&x(a,P,l[P]);return a},O=(a,l)=>g(a,y(l));const _=a=>(0,o.h)(f.l,O(E({},a),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(m.Z,{height:24,stroke:a.stroke,fill:a.fill,strokeWidth:a.strokeWidth}))},12650:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(8618),f=e(34755),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&x(a,P,l[P]);if(C)for(var P of C(l))b.call(l,P)&&x(a,P,l[P]);return a},O=(a,l)=>g(a,y(l));const _=a=>(0,o.h)(f.l,O(E({},a),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(m.Z,{height:24,stroke:a.stroke,fill:a.fill,strokeWidth:a.strokeWidth}))},19698:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"LucideMute",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}))},43498:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(4675),f=e(34755),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&x(a,P,l[P]);if(C)for(var P of C(l))b.call(l,P)&&x(a,P,l[P]);return a},O=(a,l)=>g(a,y(l));const _=a=>(0,o.h)(f.l,O(E({},a),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(m.Z,{height:24,stroke:a.stroke,fill:a.fill,strokeWidth:a.strokeWidth}))},11628:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":_.strokeWidth,fill:_.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},73416:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:_.fill,stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:_.fill,stroke:"none"}))},31517:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},29820:(G,s,e)=>{"use strict";e.d(s,{Z:()=>v});var o=e(6400),m=Object.defineProperty,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(b,x,E)=>x in b?m(b,x,{enumerable:!0,configurable:!0,writable:!0,value:E}):b[x]=E,C=(b,x)=>{for(var E in x||(x={}))d.call(x,E)&&y(b,E,x[E]);if(f)for(var E of f(x))g.call(x,E)&&y(b,E,x[E]);return b};function v(b){return(0,o.h)("svg",C({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-secondary)"},b),(0,o.h)("g",{transform:"translate(0, -2)"},(0,o.h)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),(0,o.h)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))}},11762:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,o.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,o.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,o.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},21302:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,o.h)("g",null,(0,o.h)("g",null,(0,o.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))))},40353:(G,s,e)=>{"use strict";e.d(s,{Z:()=>a});var o=e(6400),m=e(83322),f=e(34755),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(l,P,S)=>P in l?d(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,E=(l,P)=>{for(var S in P||(P={}))v.call(P,S)&&x(l,S,P[S]);if(C)for(var S of C(P))b.call(P,S)&&x(l,S,P[S]);return l},O=(l,P)=>g(l,y(P)),w=(l,P)=>{var S={};for(var M in l)v.call(l,M)&&P.indexOf(M)<0&&(S[M]=l[M]);if(l!=null&&C)for(var M of C(l))P.indexOf(M)<0&&b.call(l,M)&&(S[M]=l[M]);return S};function _(l){var P=l,{fill:S="#FF6719"}=P,M=w(P,["fill"]);const R=(0,m.colorLuma)(S)>.6?"black":"white";return(0,o.h)(f.l,O(E({},M),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:S,stroke:"none"}),(0,o.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:R,stroke:"none"}),(0,o.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:R,stroke:"none"}),(0,o.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:R,stroke:"none"}))}const a=_},64234:(G,s,e)=>{"use strict";e.d(s,{A:()=>d});var o=e(6400);const m="#FF6719";var f=e(34755);function d({className:y,type:C,accentColor:v}){return(0,o.h)(f.l,{name:"ReaderBadgeIcon",className:y,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,o.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,o.h)("circle",{cx:"11",cy:"11",r:"9",fill:v||m}),C==="subscribed"?(0,o.h)(o.Fragment,null,(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,o.h)(o.Fragment,null,(0,o.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,o.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,o.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,o.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,o.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}const g=null},7370:(G,s,e)=>{"use strict";e.d(s,{Z:()=>E});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(O,w,_)=>w in O?f(O,w,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[w]=_,v=(O,w)=>{for(var _ in w||(w={}))g.call(w,_)&&C(O,_,w[_]);if(d)for(var _ of d(w))y.call(w,_)&&C(O,_,w[_]);return O},b=(O,w)=>{var _={};for(var a in O)g.call(O,a)&&w.indexOf(a)<0&&(_[a]=O[a]);if(O!=null&&d)for(var a of d(O))w.indexOf(a)<0&&y.call(O,a)&&(_[a]=O[a]);return _};function x(O){var w=b(O,[]);return(0,o.h)(m.l,v({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},w),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const E=x},85362:(G,s,e)=>{"use strict";e.d(s,{Z:()=>E});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(O,w,_)=>w in O?f(O,w,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[w]=_,v=(O,w)=>{for(var _ in w||(w={}))g.call(w,_)&&C(O,_,w[_]);if(d)for(var _ of d(w))y.call(w,_)&&C(O,_,w[_]);return O},b=(O,w)=>{var _={};for(var a in O)g.call(O,a)&&w.indexOf(a)<0&&(_[a]=O[a]);if(O!=null&&d)for(var a of d(O))w.indexOf(a)<0&&y.call(O,a)&&(_[a]=O[a]);return _};function x(O){var w=b(O,[]);return(0,o.h)(m.l,v({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},w),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_24306_47333"},(0,o.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const E=x},65665:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,o.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,o.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,o.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})))},26523:(G,s,e)=>{"use strict";var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(E,O,w)=>O in E?f(E,O,{enumerable:!0,configurable:!0,writable:!0,value:w}):E[O]=w,v=(E,O)=>{for(var w in O||(O={}))g.call(O,w)&&C(E,w,O[w]);if(d)for(var w of d(O))y.call(O,w)&&C(E,w,O[w]);return E};const b=E=>h(SvgIcon,v({name:"RoundedInformationIcon",svgParams:{viewBox:"0 0 21 21",height:20,width:20,stroke:"white"}},E),h("path",{d:"M10.4998 18.3337C15.1022 18.3337 18.8332 14.6027 18.8332 10.0003C18.8332 5.39795 15.1022 1.66699 10.4998 1.66699C5.89746 1.66699 2.1665 5.39795 2.1665 10.0003C2.1665 14.6027 5.89746 18.3337 10.4998 18.3337Z","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 13.3333V10","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 6.66699H10.5092","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}));var x=null},7775:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},41874:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,o.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}))},68227:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,o.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325807"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},17835:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,o.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,o.h)("stop",{"stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,o.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,o.h)("clipPath",{id:"clip0_23936_14598"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325810"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},33705:(G,s,e)=>{"use strict";e.d(s,{Z:()=>l});var o=e(6400),m=e(89018),f=e.n(m),d=e(34755),g=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,E=(P,S,M)=>S in P?g(P,S,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[S]=M,O=(P,S)=>{for(var M in S||(S={}))b.call(S,M)&&E(P,M,S[M]);if(v)for(var M of v(S))x.call(S,M)&&E(P,M,S[M]);return P},w=(P,S)=>y(P,C(S)),_=(P,S)=>{var M={};for(var R in P)b.call(P,R)&&S.indexOf(R)<0&&(M[R]=P[R]);if(P!=null&&v)for(var R of v(P))S.indexOf(R)<0&&x.call(P,R)&&(M[R]=P[R]);return M};const l=P=>{var S=P,{color:M=m.substack_color}=S,R=_(S,["color"]);return(0,o.h)(d.l,w(O({},R),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:M,stroke:"none"}}),(0,o.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,o.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,o.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,o.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,o.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,o.h)("path",{d:"M16 0H0V2H16V0Z"}))},1138:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?f(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,x=(a,l)=>{for(var P in l||(l={}))C.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>d(a,g(l)),O=(a,l)=>{var P={};for(var S in a)C.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{stroke:P,size:S=36}=l,M=O(l,["stroke","size"]);return(0,o.h)(m.l,E(x({},M),{name:"ThinCircleCheckmarkIcon2",svgParams:{viewBox:"0 0 36 36",height:S,width:S,fill:"none"}}),(0,o.h)("path",{d:"M34.6667 16.4666V17.9999C34.6646 21.594 33.5008 25.0911 31.3489 27.9696C29.1969 30.8482 26.1721 32.9541 22.7256 33.9731C19.279 34.9921 15.5954 34.8698 12.2241 33.6242C8.85279 32.3787 5.97441 30.0768 4.01825 27.0617C2.0621 24.0467 1.13297 20.48 1.36945 16.8938C1.60592 13.3075 2.99533 9.89381 5.33045 7.16173C7.66558 4.42964 10.8213 2.52557 14.327 1.73351C17.8326 0.941453 21.5004 1.30383 24.7833 2.7666",stroke:P||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{transform:"translate(11.67, 3.34)",d:"M22.6667 1.66663L6 18.35L1 13.35",stroke:P||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},96733:(G,s,e)=>{"use strict";var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const O=_=>h(SvgIcon,E(x({},_),{name:"TikTokSimpleIcon",svgParams:{height:24,width:24}}),h("path",{d:"M18.7113 6.09867C18.5721 6.02672 18.4366 5.94785 18.3053 5.86234C17.9234 5.60988 17.5733 5.31241 17.2624 4.97633C16.4847 4.08645 16.1942 3.18367 16.0872 2.5516H16.0915C16.0022 2.02695 16.0391 1.6875 16.0447 1.6875H12.5024V15.3851C12.5024 15.569 12.5024 15.7507 12.4946 15.9304C12.4946 15.9527 12.4925 15.9733 12.4912 15.9974C12.4912 16.0073 12.4912 16.0176 12.489 16.0279C12.489 16.0305 12.489 16.033 12.489 16.0356C12.4517 16.5271 12.2942 17.0019 12.0303 17.4181C11.7664 17.8344 11.4042 18.1795 10.9757 18.423C10.529 18.6771 10.0239 18.8104 9.51002 18.8097C7.85959 18.8097 6.52197 17.4639 6.52197 15.8019C6.52197 14.1398 7.85959 12.7941 9.51002 12.7941C9.82244 12.7938 10.1329 12.8429 10.43 12.9397L10.4343 9.33293C9.53252 9.21645 8.61641 9.28811 7.74373 9.54341C6.87106 9.7987 6.06076 10.2321 5.36396 10.8162C4.75341 11.3467 4.24011 11.9797 3.84717 12.6866C3.69764 12.9445 3.13346 13.9804 3.06514 15.6618C3.02217 16.6161 3.30877 17.6048 3.44541 18.0135V18.0221C3.53135 18.2627 3.86435 19.0838 4.40705 19.7761C4.84466 20.3313 5.36168 20.8191 5.94146 21.2237V21.2151L5.95006 21.2237C7.66494 22.389 9.56631 22.3125 9.56631 22.3125C9.89545 22.2992 10.998 22.3125 12.2501 21.7191C13.6389 21.0613 14.4295 20.0811 14.4295 20.0811C14.9346 19.4955 15.3362 18.8281 15.6172 18.1076C15.9377 17.265 16.0447 16.2543 16.0447 15.8504V8.58355C16.0877 8.60934 16.66 8.98789 16.66 8.98789C16.66 8.98789 17.4846 9.51641 18.7711 9.86059C19.694 10.1055 20.9376 10.1571 20.9376 10.1571V6.64051C20.5019 6.68777 19.6171 6.55027 18.7113 6.09867Z"}));var w=null},59736:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}))},95950:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,o.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}))},51736:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?f(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,x=(a,l)=>{for(var P in l||(l={}))C.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>d(a,g(l)),O=(a,l)=>{var P={};for(var S in a)C.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{fill:P="#FF6719"}=l,S=O(l,["fill"]);return(0,o.h)(m.l,E(x({},S),{fill:P,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:P,stroke:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))}},47052:(G,s,e)=>{"use strict";e.d(s,{Z:()=>w});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const w=_=>(0,o.h)(m.l,E(x({},_),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))},81243:(G,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?f(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,x=(a,l)=>{for(var P in l||(l={}))C.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>d(a,g(l)),O=(a,l)=>{var P={};for(var S in a)C.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{strokeWidth:P=1.5}=l,S=O(l,["strokeWidth"]);return(0,o.h)(m.l,E(x({},S),{name:"UserIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),(0,o.h)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21","stroke-width":P,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z","stroke-width":P,"stroke-linecap":"round","stroke-linejoin":"round"}))}},63861:(G,s,e)=>{"use strict";var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>d(_,g(a));const O=_=>h(SvgIcon,E(x({},_),{name:"YoutubeIcon",svgParams:{height:24,width:24}}),h("path",{d:"M21.582 6.07467C21.352 5.21467 20.674 4.53667 19.814 4.30667C18.254 3.88867 12 3.88867 12 3.88867C12 3.88867 5.746 3.88867 4.186 4.30667C3.326 4.53667 2.648 5.21467 2.418 6.07467C2 7.63467 2 11.8887 2 11.8887C2 11.8887 2 16.1427 2.418 17.7027C2.648 18.5627 3.326 19.2407 4.186 19.4707C5.746 19.8887 12 19.8887 12 19.8887C12 19.8887 18.254 19.8887 19.814 19.4707C20.675 19.2407 21.352 18.5627 21.582 17.7027C22 16.1427 22 11.8887 22 11.8887C22 11.8887 22 7.63467 21.582 6.07467ZM10 15.3527V8.42467L16 11.8887L10 15.3527Z"}));var w=null},34755:(G,s,e)=>{"use strict";e.d(s,{l:()=>E});var o=e(6400),m=e(15045),f=e(89867),d=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,v=(O,w,_)=>w in O?d(O,w,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[w]=_,b=(O,w)=>{for(var _ in w||(w={}))y.call(w,_)&&v(O,_,w[_]);if(g)for(var _ of g(w))C.call(w,_)&&v(O,_,w[_]);return O},x=(O,w)=>{var _={};for(var a in O)y.call(O,a)&&w.indexOf(a)<0&&(_[a]=O[a]);if(O!=null&&g)for(var a of g(O))w.indexOf(a)<0&&C.call(O,a)&&(_[a]=O[a]);return _};const E=O=>{var w=O,{name:_,svgParams:a,isStatic:l,height:P,fill:S,stroke:M,version:R=4,strokeWidth:N=1.8,strokeLinecap:T,strokeLinejoin:A,alt:W,additionalStaticParams:j={},children:Z}=w,J=x(w,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","strokeLinecap","strokeLinejoin","alt","additionalStaticParams","children"]);const Q=P?(a.width||1)*P/(a.height||1):a.width||1,ne=P||a.height||1;return l?(0,o.h)(f.Z,b(b({src:(0,m.imginary)((0,m.pathWithQuery)(`/icon/${_}`,{v:R||4,height:ne*2,fill:S,stroke:M,strokeWidth:N*2,strokeLinecap:T,strokeLinejoin:A}),Q*2,{format:"png",crop:"scale"}),width:Q,height:ne,style:{maxWidth:`${Q}px`},alt:W||""},j),J)):(0,o.h)("svg",b({role:"img",style:P?{height:`${ne}px`,width:`${Q}px`}:void 0,width:Q,height:ne,viewBox:a.viewBox||`0 0 ${a.width} ${a.height}`,fill:S||a.fill||"none",strokeWidth:N||typeof N=="number"?Number(N):typeof a.strokeWidth=="number"?a.strokeWidth:1,stroke:M||a.stroke||"#000",strokeLinecap:T,strokeLinejoin:A,xmlns:"http://www.w3.org/2000/svg"},J),(0,o.h)("g",null,(0,o.h)("title",null,W||""),Z))}},11862:(G,s,e)=>{"use strict";var o=e(6400);function m({className:d}){return h("svg",{className:d,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 20.1456C2.33682 19.7895 2.25 19.3992 2.25 19V18V14V12C2.25 9.41414 3.27723 6.93419 5.10571 5.10571C6.93419 3.27723 9.41414 2.25 12 2.25C14.5859 2.25 17.0658 3.27723 18.8943 5.10571C20.7228 6.93419 21.75 9.41414 21.75 12V14V18V19C21.75 19.3992 21.6632 19.7895 21.5 20.1456V20.3889C21.4583 20.3889 21.4169 20.3875 21.3759 20.3848C21.2578 20.5874 21.1133 20.7758 20.9445 20.9445C20.4288 21.4603 19.7293 21.75 19 21.75H18C17.2707 21.75 16.5712 21.4603 16.0555 20.9445C15.5397 20.4288 15.25 19.7293 15.25 19V16C15.25 15.2707 15.5397 14.5712 16.0555 14.0555C16.5712 13.5397 17.2707 13.25 18 13.25H19.6528V12.2083C19.6528 10.1787 18.8465 8.23218 17.4113 6.797C15.9762 5.36183 14.0296 4.55556 12 4.55556C9.97036 4.55556 8.02384 5.36183 6.58867 6.797C5.15349 8.23218 4.34722 10.1787 4.34722 12.2083V13.25H6C6.72935 13.25 7.42882 13.5397 7.94454 14.0555C8.46027 14.5712 8.75 15.2707 8.75 16V19C8.75 19.7293 8.46027 20.4288 7.94454 20.9445C7.42882 21.4603 6.72935 21.75 6 21.75H5C4.27065 21.75 3.57118 21.4603 3.05546 20.9445C2.88674 20.7758 2.74221 20.5874 2.6241 20.3848C2.58309 20.3875 2.5417 20.3889 2.5 20.3889V20.1456Z"}))}var f=null},91704:(G,s,e)=>{"use strict";e.d(s,{HA:()=>O});var o=e(6400),m=e(34755),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?f(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,x=(a,l)=>{for(var P in l||(l={}))C.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>d(a,g(l));function O(a){return(0,o.h)("svg",x({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},a),(0,o.h)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"}))}function w(a){return h(SvgIcon,E(x({},a),{name:"reader2__ReplyIcon",svgParams:{height:22,width:22,stroke:"none"}}),h("circle",{cx:"11",cy:"11",r:"11",fill:"#1DA1F2"}),h("g",{transform:"translate(5 5)"},h("path",{fill:"#ffffff",d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"})))}var _=null},38199:(G,s,e)=>{"use strict";var o=e(6400);function m({className:d}){return h("svg",{className:d,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.7848 3.78723C4.2873 3.28318 4.96884 3 5.67949 3H18.3205C19.0312 3 19.7127 3.28318 20.2152 3.78723C20.7177 4.29129 21 4.97494 21 5.68778V14.4027C21 15.1155 20.7177 15.7992 20.2152 16.3032C19.7127 16.8073 19.0312 17.0905 18.3205 17.0905H7.9309L4.2475 20.7853C4.0385 20.9949 3.72419 21.0576 3.45112 20.9442C3.17805 20.8307 3 20.5634 3 20.2669V5.68778C3 4.97494 3.2823 4.29129 3.7848 3.78723Z"}))}var f=null},56790:(G,s,e)=>{"use strict";var o=e(6400);function m({className:d}){return h("svg",{className:d,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.83333 5C1.26853 5 0 6.11207 0 7.48387V16.5161C0 17.8879 1.26853 19 2.83333 19H14.1667C15.7315 19 17 17.8879 17 16.5161V7.48387C17 6.11207 15.7315 5 14.1667 5H2.83333ZM18 14.7264L21.6962 17.5549C22.0546 17.8238 22.4334 18 22.8123 18C23.529 18 24 17.527 24 16.8037V7.19629C24 6.47295 23.529 6 22.8123 6C22.4334 6 22.0546 6.1762 21.6962 6.44513L18 9.25502V14.7264Z"}))}var f=null},49786:(G,s,e)=>{"use strict";e.d(s,{hF:()=>Q,_q:()=>J,G0:()=>j,RH:()=>Z});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(36808),y=e(85928),C=e.n(y),v=e(20501),b=e(83322),x=e(63270),E=e(3258),O=e(39419),w=e(17685),_=e(51126),a=e(62246),l=e(65919);const P={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var S=Object.defineProperty,M=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,T=(ne,te,B)=>te in ne?S(ne,te,{enumerable:!0,configurable:!0,writable:!0,value:B}):ne[te]=B,A=(ne,te)=>{for(var B in te||(te={}))R.call(te,B)&&T(ne,B,te[B]);if(M)for(var B of M(te))N.call(te,B)&&T(ne,B,te[B]);return ne};const W="like_upsell_last_shown_at",j=()=>{const ne=g.get(W);if(ne){const te=C()(ne),B=C()().subtract(30,"days");if(te.isAfter(B))return!1}return!0},Z=ne=>{g.set(W,C()().format(),A({expires:365*10},!ne.custom_domain&&{domain:`.${new URL((0,v.getBaseUrl)()).hostname}`}))},J=({pub:ne})=>{var te,B;const V=(0,x.xR)(),[re,le]=(0,m.eJ)((te=ne==null?void 0:ne.plans)==null?void 0:te[0]),ae=V.getConfigFor("disable_monthly_subscriptions");return(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:4},(0,o.h)(l.xv.H4,{weight:"semibold"},"Support ",ne.name),(0,o.h)(l.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",ne.name," with a subscription?")),(0,o.h)("form",{className:P.form},(0,o.h)(_.tu,{gap:12},(B=ne==null?void 0:ne.plans)==null?void 0:B.map(q=>{if(!(q.interval==="month"&&ae))return(0,o.h)("label",{className:P.label,key:q.id},(0,o.h)(_.gq,{gap:12,alignItems:"center"},(0,o.h)("input",{name:"plan",type:"radio",value:q.id,onInput:()=>le(q),checked:re&&re.id===q.id,className:d()({[P.selectedInput]:re&&re.id===q.id},P.input)}),(0,o.h)(_.gq,{gap:8},(0,o.h)(l.xv.B4,{as:"span",weight:"semibold",color:re&&re.id===q.id?"primary":"secondary"},(0,b.getPlanTitle)(q)),(0,o.h)(l.xv.B4,{as:"span",color:"secondary"},(0,b.planBasePricing)(q)))))}))),(0,o.h)(w.zx,{onClick:()=>{(0,E.j)(E.FP.LIKE_UPSELL_PLAN_SELECTED),(0,O.redirect)((0,v.getSubscribeUrl)(ne,{params:A({utm_source:"like-button-upsell"},re&&{selectedPlanId:re.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},Q=({pub:ne})=>{const te=j(),[B,V]=(0,m.eJ)(te),[re,le]=(0,m.eJ)(te);(0,m.d4)(()=>{te||(0,O.removeQueryParam)("show_reaction_upsell")},[te]),(0,m.d4)(()=>{re&&B&&((0,E.j)(E.FP.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:"paid"}),Z(ne))},[re,B,ne]);const ae=()=>{V(!B),le(!1),(0,O.removeQueryParam)("show_reaction_upsell")};return(0,o.h)(o.Fragment,null,re?(0,o.h)(a.u_,{isOpen:B,onClose:ae},(0,o.h)(a.fe,null,(0,o.h)(J,{pub:ne}))):null)}},65726:(G,s,e)=>{"use strict";e.d(s,{Z:()=>x});var o=e(6400),m=Object.defineProperty,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(E,O,w)=>O in E?m(E,O,{enumerable:!0,configurable:!0,writable:!0,value:w}):E[O]=w,C=(E,O)=>{for(var w in O||(O={}))d.call(O,w)&&y(E,w,O[w]);if(f)for(var w of f(O))g.call(O,w)&&y(E,w,O[w]);return E},v=(E,O)=>{var w={};for(var _ in E)d.call(E,_)&&O.indexOf(_)<0&&(w[_]=E[_]);if(E!=null&&f)for(var _ of f(E))O.indexOf(_)<0&&g.call(E,_)&&(w[_]=E[_]);return w};const x=E=>{var O=E,{children:w,href:_,onClick:a}=O,l=v(O,["children","href","onClick"]);return(0,o.h)("a",C(C({role:"button",tabIndex:0,href:_!=null?_:"javascript:void(0)"},a&&{onClick:P=>{P.stopPropagation(),a(P)}}),l),w)}},86602:(G,s,e)=>{"use strict";e.r(s),e.d(s,{chatMentionsSearch:()=>W,default:()=>R,mentionsSearch:()=>T});var o=e(6400),m=e(80569),f=e.n(m),d=e(20501),g=e(92643),y=e(44695),C=e(80332);const v={mention:"frontend-components-mention-module__mention--UisMf"};var b=Object.defineProperty,x=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(j,Z,J)=>Z in j?b(j,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):j[Z]=J,l=(j,Z)=>{for(var J in Z||(Z={}))w.call(Z,J)&&a(j,J,Z[J]);if(O)for(var J of O(Z))_.call(Z,J)&&a(j,J,Z[J]);return j},P=(j,Z)=>x(j,E(Z)),S=(j,Z,J)=>new Promise((Q,ne)=>{var te=re=>{try{V(J.next(re))}catch(le){ne(le)}},B=re=>{try{V(J.throw(re))}catch(le){ne(le)}},V=re=>re.done?Q(re.value):Promise.resolve(re.value).then(te,B);V((J=J.apply(j,Z)).next())});const R=({name:j,id:Z,type:J,url:Q,photo_url:ne,uuid:te,mentionText:B,isStatic:V=!1,isEditorContext:re=!1})=>{if(V)return(0,o.h)("span",{className:v.mention,"data-component-name":"MentionStatic"},(0,o.h)("a",{href:(0,d.getMentionsUrl)(J,Z,j,Q)},j));if(J==="user"){const le={id:Z,name:j,photo_url:ne};return(0,o.h)(g.am,null,(0,o.h)(C.Ct,{subject:le,utmSource:"mention"},(0,o.h)("a",{className:v.mention,href:re?void 0:(0,d.getMentionsUrl)(J,Z,j,Q),target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:j,id:Z,type:J,url:Q,photo_url:ne,uuid:te}),onClick:ae=>ae.stopPropagation(),"data-component-name":"MentionUser"},B!=null?B:j)))}return J==="pub"?(0,o.h)(y.Sm,{publication_id:Z,utmSource:"mention"},(0,o.h)("a",{className:v.mention,href:Q,target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:j,id:Z,type:J,url:re?void 0:(0,d.getMentionsUrl)(J,Z,j,Q),uuid:te}),onClick:le=>le.stopPropagation(),"data-component-name":"MentionPub"},B!=null?B:j)):(0,o.h)("a",{className:v.mention,target:"_blank",rel:"noopener",href:(0,d.getMentionsUrl)(J,Z,j,Q),"data-attrs":JSON.stringify({name:j,id:Z,type:J,url:Q,photo_url:ne,uuid:te}),"data-component-name":"Mention"},B!=null?B:j)},N={},T=(j,...Z)=>S(void 0,[j,...Z],function*(J,{pathname:Q="/api/v1/posts/mention"}={}){if(N[J])return N[J];const ne=yield f().get(Q).query({query:J}),{profiles:te,publications:B}=ne.body,V=new Map;return te&&te.length&&V.set("Writers",te.map(re=>P(l({},re),{type:"user"}))),B&&B.length&&V.set("Publications",B==null?void 0:B.map(re=>P(l({},re),{type:"pub",url:(0,d.getPublicationAppLinkUrl)({subdomain:re.subdomain}),photo_url:re.logo_url}))),N[J]=V,V}),A={},W=(j,...Z)=>S(void 0,[j,...Z],function*(J,{pathname:Q="/api/v1/community/mention"}={}){const ne=`${Q}-${J}`;if(A[ne])return A[ne];const te=yield f().get(Q).query({query:J}),{results:B}=te.body,V=new Map;return B&&V.set("Writers",B.map(re=>P(l({},re),{type:"user",id:re.user_id}))),A[ne]=V,V})},53206:(G,s,e)=>{"use strict";e.d(s,{mt:()=>Et,_2:()=>Pt,Mp:()=>Bo,L9:()=>Lo,RY:()=>Mo,pD:()=>co,yT:()=>Qr,Ng:()=>Ur,fh:()=>Xo,TJ:()=>cr,z5:()=>uo,Er:()=>mo,Cz:()=>yo,F6:()=>Oo,sV:()=>at,vk:()=>Un,c1:()=>hr});var o=e(6400),m=e(98661),f=e(30396),d=e(94184),g=e.n(d),y=e(12297),C=e.n(y),v=e(23493),b=e.n(v),x=e(80587),E=e(65207),O=e(13808),w=e(18794),_=e(8618),a=e(31131),l=e(28596),P=e(99869),S=e(67358),M=e(80569),R=e.n(M),N=e(68227),T=e(17835),A=e(9e3),W=e(66839),j=e(69427),Z=e(91004),J=e(4190),Q=e(82626),ne=e(85928),te=e.n(ne),B=e(6385),V=e(91613),re=e(15045),le=e(20501),ae=e(83322),q=e(2405),oe=e(85065),z=e(32076),ie=e(63270),ue=e(18597),de=e(18492),fe=e(3258),ye=e(58884),pe=e(8479),we=e(35225),Me=e(36868),je=e(39419),De=e(17685),me=e(51126),ce=e(76235),ge=e(65919),Ie=e(75425),Re=e(16742),Ke=e(25597),ut=e(19826),_t=e(47819),ft=e(15440),We=e(63295),Be=e(12650),lt=e(43498),Tt=e(11628),xt=e(31517),Gt=e(11762),an=e(49786),yt=e(50615),ke=e(80332),Ve=e(31533),Ne=e(49715);const Fe={shareIconContainer:"frontend-components-post_ufi-module__shareIconContainer--zMOR2",offset:"frontend-components-post_ufi-module__offset--dqjJJ",divider:"frontend-components-post_ufi-module__divider--nNbTB",newMenuItemContainer:"frontend-components-post_ufi-module__newMenuItemContainer--LCEDu"};var Ue=Object.defineProperty,be=Object.defineProperties,Ge=Object.getOwnPropertyDescriptors,nt=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Y=($t,en,nn)=>en in $t?Ue($t,en,{enumerable:!0,configurable:!0,writable:!0,value:nn}):$t[en]=nn,he=($t,en)=>{for(var nn in en||(en={}))Oe.call(en,nn)&&Y($t,nn,en[nn]);if(nt)for(var nn of nt(en))K.call(en,nn)&&Y($t,nn,en[nn]);return $t},Te=($t,en)=>be($t,Ge(en)),He=($t,en,nn)=>new Promise((Rn,At)=>{var Yt=vn=>{try{rn(nn.next(vn))}catch(An){At(An)}},Wt=vn=>{try{rn(nn.throw(vn))}catch(An){At(An)}},rn=vn=>vn.done?Rn(vn.value):Promise.resolve(vn.value).then(Yt,Wt);rn((nn=nn.apply($t,en)).next())});function Qe($t,en){return $t==="button"&&en==="verbose"?16:$t==="button"?20:$t==="tabs"?24:$t==="compressed"?16:0}const ht=2,ct=({isFullWidth:$t,children:en})=>$t?(0,o.h)(me.gq,{className:"post-ufi-button-wrapper",gap:8},en):en;function Pt({post:$t,pub:en,user:nn,style:Rn,justified:At,isStatic:Yt,hideReactions:Wt,hideComments:rn,hideShare:vn,hideSavePost:An,useShareLabel:zn,allowEdit:er,editButtonIsLast:Jn,onChange:Nn,addedPodcastComments:Pr,hidePinning:Er,showEmailSent:yr,allowSendEmail:Br,footerHidden:ao,onCommentsClick:to,labelStyle:Sr,showPreamble:Ao,preambleConfig:fo={},position:Ho,hideByDisabling:Po,showRestackButton:No,showRestackModal:Vo,hideFeedRestackButton:bo}){const{getExperimentVariant:_i}=(0,J.jc)(),si=(0,ue.Tf)(),{showPins:oi,showAudience:ci,showDate:gi,showDatetime:vi,showAuthor:oa,showPublicationName:_o,showCrossPostedPublicationName:xi}=fo;Wt=Wt||!en.community_enabled||!$t.slug||$t.is_draft;const Bi=C()(Object.values(($t==null?void 0:$t.reactions)||{})),ki=yr?!!$t.email_sent_at:null,di=(0,q.LC)(),So=er&&(nn==null?void 0:nn.is_contributor)&&!di,ti=Nt({post:$t,pub:en,user:nn,defaultOpen:No&&Vo&&Ho!=="post-footer"&&Ho!=="post-footer-full-width"}),li=(0,o.h)(Hr,{style:Rn,pub:en,post:$t,user:nn,hidePinning:Er,emailSent:ki!=null?ki:void 0,allowSendEmail:Br,footerHidden:ao,canBeCrossPosted:No}),Di=!bo&&en.community_enabled&&$t.slug&&!$t.is_draft,et=No&&!Ao&&(Po||Wt&&rn&&vn&&!So),Ye=Sr==="counts-or-none"&&Bi?"count":Sr==="labels"?"cta":"none",Xe=Sr==="counts-or-none"&&$t.comment_count?"count":Sr==="labels"?"cta":"none",pt=Ho==="post-footer-full-width",gt=_i("share_dialog_modal_or_dropdown");return(0,o.h)("div",{className:g()("post-ufi",`style-${Rn}`,{justified:At,themed:si,"single-full-width-button":et})},(0,o.h)(ct,{isFullWidth:pt},Ao&&fo&&(0,o.h)(Go,{pub:en,post:$t,showPins:oi,showAudience:ci,showDate:gi,showDatetime:vi,showEmailSent:yr,showAuthor:oa,showPublicationName:_o,showCrossPostedPublicationName:xi}),So&&!Jn&&li,(Po||!Wt)&&(0,o.h)(Ht,{post:$t,pub:en,user:nn,labelStyle:Po&&Wt?"none":Ye,style:Rn,onChange:Nn,isStatic:Yt,isDisabled:Po&&Wt}),(Po||!rn)&&(0,o.h)(Kr,{post:$t,pub:en,isStatic:Yt,labelStyle:Po&&rn?"none":Xe,style:Rn,count:$t.comment_count+(Pr||0),onClick:to,isDisabled:Po&&rn}),Di&&nn&&(0,o.h)(zt,{pub:en,post:$t,onChange:Nn,style:Rn}),!vn&&(gt==="treatment"?(0,o.h)(co,{post:$t,pub:en,user:nn,style:Rn,labelStyle:zn?"cta":"none",isStatic:Yt,position:Ho,source:"share-dialog-experiment"}):(0,o.h)(lo,{post:$t,pub:en,user:nn,style:Rn,labelStyle:zn?"cta":"none",isStatic:Yt,position:Ho}))),(0,o.h)(ct,{isFullWidth:pt},!An&&!No&&nn&&(0,o.h)(Lr,{post:$t,labelStyle:Xe,style:Rn,onChange:Nn}),So&&Jn&&li,No&&!So&&Ho==="post-header"&&(0,o.h)(o.Fragment,null,(0,o.h)(ce.v2,{trigger:(0,o.h)(De.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,o.h)(x.Z,{size:20}))},(0,o.h)(Nr,{onClick:ti.open,post:$t,pub:en,user:nn}),(0,o.h)(oo,{post:$t,onChange:Nn}))),No&&!So&&pt&&(0,o.h)(o.Fragment,null,!An&&(0,o.h)(Lr,{post:$t,labelStyle:"verbose",style:"button",onChange:Nn}),(0,o.h)(dr,{onClick:ti.open,post:$t,pub:en,user:nn,style:"button"}))),ti.modal)}function Nt({pub:$t,user:en,post:nn,defaultOpen:Rn=!1}){const[At,Yt]=(0,f.eJ)(Rn);return(0,f.d4)(()=>{Rn&&en&&(0,fe.j)(fe.FP.RESTACK_POST_CLICKED,{restacked_publication_id:$t.id,restacked_post_id:nn.id,restacking_user_id:en.id,is_from_email:!0})},[Rn,$t,nn,en]),{open:()=>Yt(!0),modal:(0,o.h)(Ne.J,{pub:$t,user:en,post:nn,open:At,setOpen:Yt})}}function sn(){const en=typeof window=="undefined",nn=250,[Rn,At]=(0,f.eJ)(en?0:window.pageYOffset),[Yt,Wt]=(0,f.eJ)(!1),rn=100,vn=(0,f.Ye)(()=>Date.now()+1e3,[]),An=(0,f.sO)(0);return(0,f.d4)(()=>{if(en)return;const zn=b()(()=>{const er=Date.now(),Jn=(er-An.current)/1e3,Pr=(Rn-window.pageYOffset)/Jn;An.current=er,!(window.pageYOffset<0)&&(er<vn?Wt(!1):-Pr>rn?Wt(!0):Pr>rn&&Wt(!1),At(window.pageYOffset))},nn);return window.addEventListener("scroll",zn),()=>window.removeEventListener("scroll",zn)},[en,Rn,At,Wt,vn,An,!1]),Yt}function Et({post:$t,pub:en,user:nn,isStatic:Rn,onChange:At,allowEdit:Yt,hidePinning:Wt,showEmailSent:rn,allowSendEmail:vn,hideComments:An,onCommentsClick:zn,showRestackButton:er,showRestackModal:Jn,setFooterShown:Nn}){const Pr=sn(),Er=(0,Ie.pm)();return(0,f.d4)(()=>{Er.addOffset(64*(Pr?1:-1)),Nn&&Nn(!Pr)},[Pr,Nn]),(0,o.h)(me.hs,{alignItems:"center",padding:8,className:g()("mobile-footer-ufi",{hidden:Pr})},(0,o.h)(Pt,{post:$t,pub:en,user:nn,isStatic:Rn,justified:!0,style:"tabs",onChange:At,allowEdit:Yt,editButtonIsLast:!0,hidePinning:Wt,showEmailSent:rn,allowSendEmail:vn,footerHidden:Pr,labelStyle:"counts-or-none",hideComments:An,onCommentsClick:zn,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:Jn,showRestackButton:er}))}function Ot({post:$t,pub:en,user:nn,surface:Rn,onChange:At,subscribePromptRef:Yt}){const Wt=!!($t!=null&&$t.reaction),rn=(0,q.LC)(),vn=(0,pe.ib)({pathname:rn?`/api/v1/cross-post/${$t==null?void 0:$t.id}/reaction`:`/api/v1/post/${$t==null?void 0:$t.id}/reaction`,method:"POST",deps:[$t==null?void 0:$t.id]}),An=(0,we.S)({user:nn,noBase:!1});return{isLiked:Wt,toggle:()=>He(this,null,function*(){var zn;if(vn.isLoading)return"error";Wt||!An()&&nn&&!(0,Me.P)(nn,en)&&!nn.is_admin&&!nn.is_contributor&&(Yt!=null&&Yt.current)&&(0,an.G0)()&&((0,fe.j)(fe.FP.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:nn!=null&&nn.is_free_subscribed?"paid":"free"}),Yt.current.open(),(0,an.RH)(en));const{reaction:er,reactions:Jn,reactor_names:Nn}=(0,Ve.fS)(nn,$t);$t.reaction=er,$t.reactions=Jn,$t.reactor_names=Nn,At==null||At({post:$t});const Pr=yield vn.refetch(er?{method:"POST",json:{reaction:"\u2764",surface:Rn}}:{method:"DELETE"}),Er=(zn=Pr==null?void 0:Pr.response)==null?void 0:zn.status;if(Er){const{reaction:yr,reactions:Br,reactor_names:ao}=(0,Ve.fS)(nn,$t);$t.reaction=yr,$t.reactions=Br,$t.reactor_names=ao,At==null||At({post:$t})}return Er===401?"unauthorized":Er?"error":er?"liked":"unliked"})}}function at(){const $t=pr();return(nn,Rn,...At)=>He(this,[nn,Rn,...At],function*(Yt,Wt,{tabId:rn}={}){yield(0,pe.rd)(`/api/v1/post/${Yt}/reaction`,Wt?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:rn}}:{method:"DELETE",json:{tabId:rn}}),$t(Wt)})}function Ht({post:$t,pub:en,user:nn,style:Rn,labelStyle:At,onChange:Yt,isStatic:Wt,isDisabled:rn}){const vn=C()(Object.values(($t==null?void 0:$t.reactions)||{})),An=At==="count"?(0,ae.numberToString)(vn||0):At==="cta"?"Like":null;return(0,o.h)(bn,{post:$t,pub:en,user:nn,onChange:Yt,isStatic:Wt,style:Rn},({isLiked:zn,handleLike:er})=>(0,o.h)(Ur,{style:Rn,state:zn?"liked":void 0,icon:(0,o.h)(Be.Z,{className:"icon",height:Qe(Rn),strokeWidth:ht}),onClick:rn?()=>{}:er,noLabel:At==="none",isDisabled:rn},An))}function zt({pub:$t,post:en,onChange:nn,style:Rn}){const{canRestack:At,isRestacked:Yt,restacks:Wt,menuItems:rn,nuxModal:vn}=(0,Re.K)({pub:$t,post:en,onRestack:er=>{nn==null||nn({post:Te(he({},en),{restacked:er,restacks:Wt+(er?1:-1)})})}});if(!At)return null;const An=!$t.community_enabled,zn=(0,o.h)(Ur,{style:Rn,state:Yt?"restacked":void 0,icon:(0,o.h)(xt.Z,{className:"icon",height:Qe(Rn),strokeWidth:ht}),noLabel:Wt===0,"aria-label":"menu",isDisabled:An},Wt.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,o.h)(o.Fragment,null,vn,An?zn:(0,o.h)(ce.v2,{trigger:zn},rn))}function on({post:$t,pub:en,user:nn,onChange:Rn,showRestackModal:At,canBeCrossPosted:Yt}){const Wt="button",rn=Nt({pub:en,user:nn,post:$t,defaultOpen:At&&Yt}),vn=()=>{rn.open(),(0,fe.j)(fe.FP.RESTACK_POST_CLICKED,{restacked_publication_id:en.id,restacked_post_id:$t.id,restacking_user_id:nn.id,is_from_email:!1})};return(0,o.h)(o.Fragment,null,(0,o.h)(ce.v2,{trigger:(0,o.h)(Ur,{style:Wt,icon:(0,o.h)(x.Z,{className:"icon edit-icon",size:Qe(Wt),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},(0,o.h)(oo,{post:$t,onChange:Rn,showIcon:!0}),Yt&&(0,o.h)(ce.sN,{icon:(0,o.h)(lt.Z,null),onClick:vn},"Cross post"),nn&&(0,o.h)(ce.sN,{icon:(0,o.h)(E.Z,null),href:(0,le.getReaderPostUrl)($t.id)},"Substack Reader")),rn.modal)}function hn($t){var en;const nn=C()(Object.values(((en=$t.post)==null?void 0:en.reactions)||{}));return(0,o.h)(Ht,Te(he({},$t),{labelStyle:nn>0?"count":"none"}))}const gn=({pub:$t,user:en})=>{const[nn,Rn]=(0,f.eJ)(en==null?void 0:en.email),[At,Yt]=(0,f.eJ)(!1);return(0,o.h)(me.tu,{gap:20},(0,o.h)(me.tu,{gap:4},(0,o.h)(ge.xv.H4,{weight:"semibold"},"Support ",$t.name),(0,o.h)(ge.xv.B4,{color:"secondary"},"Since you liked this post, why not subscribe?")),(0,o.h)(me.tu,{gap:12},(0,o.h)("input",{disabled:!!(en!=null&&en.email),value:nn,onChange:Wt=>Rn(Wt.currentTarget.value)}),(0,o.h)(De.zx,{onClick:()=>He(void 0,null,function*(){(0,fe.j)(fe.FP.LIKE_UPSELL_FREE_SUBSCRIBED,{email:nn}),Yt(!0);try{yield R().post("/api/v1/free").send({email:nn,source:"like-button-upsell"}),(0,je.redirect)((0,le.getSubscribeUrl)($t,{params:{utm_source:"like-button-upsell",just_signed_up:!0}}),{local_navigation:!1})}catch(Wt){alert((0,je.getNetworkErrorMessage)(Wt))}}),grow:!0,disabled:At,priority:"primary-theme"},At?"Please wait...":"Subscribe")))};function bn({post:$t,pub:en,user:nn,onChange:Rn,isStatic:At,children:Yt,style:Wt}){const rn=(0,f.sO)(),{isLiked:vn,toggle:An}=Ot({post:$t,pub:en,user:nn,subscribePromptRef:rn,onChange:Rn}),zn=(0,f.sO)(),[er,Jn]=(0,f.eJ)(!1),Nn=(0,f.I4)(Pr=>He(this,null,function*(){var Er;(Er=Pr==null?void 0:Pr.stopPropagation)==null||Er.call(Pr),(yield An())==="unauthorized"&&Jn(!0)}),[An]);return(0,f.d4)(()=>{!(zn!=null&&zn.current)||!er||zn.current.open()},[er]),(0,o.h)("div",{className:g()("like-button-container","post-ufi-button",`style-${Wt}`,vn&&"state-liked")},Yt({isLiked:vn,handleLike:Nn}),!At&&er&&(0,o.h)(Ve.oq,{modalRef:zn,user:nn,pub:en,onClose:()=>Jn(!1),react:An}),nn&&!(0,Me.P)(nn,en)&&!nn.is_admin&&!nn.is_contributor&&(Wt==="button"||Wt==="tabs")&&(0,o.h)(ut.Fx,{ref:rn,className:g()("subscribe-prompt-dropdown",!(nn!=null&&nn.is_free_subscribed)&&"free"),hideMenuTail:!0},nn!=null&&nn.is_free_subscribed?(0,o.h)(an._q,{pub:en}):(0,o.h)(gn,{pub:en,user:nn})))}function Un({post:$t,defaultSaved:en,isSaved:nn,trackSurface:Rn}){var At;return qn({postId:$t.id,defaultSaved:(At=en!=null?en:$t.is_saved)!=null?At:!1,isSaved:nn,trackSurface:Rn})}function qn({postId:$t,defaultSaved:en,isSaved:nn,trackSurface:Rn}){const[At,Yt]=(0,f.eJ)(en),Wt=nn!=null?nn:At,{refetch:rn,isLoading:vn,error:An}=(0,pe.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:$t},deps:[$t]}),zn=(0,oe.yH)(),er=hr();return{isSaved:Wt,onSave:()=>(vn||(rn({method:Wt?"DELETE":"POST"}).then(()=>{zn.refetch()}),Yt(!Wt),er(!Wt),(0,fe.j)(fe.FP.POST_SAVED,{post_id:$t,surface:Rn})),!Wt)}}function cr($t,en,nn){return He(this,arguments,function*(Rn,At,{surface:Yt}){yield(0,pe.rd)("/api/v1/posts/saved",{method:At?"POST":"DELETE",json:{post_id:Rn}}),(0,fe.j)(fe.FP.POST_SAVED,{post_id:Rn,surface:Yt,is_saved:At})})}function hr(){const $t=(0,Ie.pm)();return en=>{en?$t.popToast(nn=>(0,o.h)(Ie.FN,Te(he({},nn),{text:"Post saved",Icon:O.Z,cta:"View",href:(0,re.getSavedPostsUrl)()}))):$t.popToast(nn=>(0,o.h)(Ie.FN,Te(he({},nn),{text:"Post unsaved",Icon:w.Z})))}}function pr(){const $t=(0,Ie.pm)();return en=>{en?$t.popToast(nn=>(0,o.h)(Ie.FN,Te(he({},nn),{text:"Post liked",Icon:_.Z}))):$t.popToast(nn=>(0,o.h)(Ie.FN,Te(he({},nn),{text:"Post unliked",Icon:_.Z})))}}function Lr({style:$t,post:en,isSaved:nn,labelStyle:Rn,onChange:At}){const{isSaved:Yt,onSave:Wt}=Un({defaultSaved:nn,post:en,isSaved:en.is_saved}),rn=()=>{const vn=Wt();At({post:Te(he({},en),{is_saved:vn})})};return(0,o.h)(Ur,{state:Yt?"saved":void 0,style:$t,icon:(0,o.h)(ft.Z,{className:"icon",height:Qe($t,Rn==="verbose"?"verbose":null),strokeWidth:ht}),noLabel:Rn==="none",verboseLabel:Rn==="verbose",onClick:rn},Rn==="cta"||Rn==="verbose"?"Save":null)}function oo({post:$t,isSaved:en,onChange:nn,showIcon:Rn}){const{onSave:At}=Un({defaultSaved:en,post:$t,isSaved:$t.is_saved}),Yt=()=>{const rn=At();nn({post:Te(he({},$t),{is_saved:rn})})},Wt=$t.is_saved?"var(--color-accent-substack)":void 0;return(0,o.h)(ce.sN,{icon:Rn?(0,o.h)(O.Z,{style:{stroke:Wt,fill:Wt}}):void 0,onClick:Yt},$t.is_saved?"Unsave":"Save")}function Kr({style:$t,count:en,labelStyle:nn,post:Rn,pub:At,isStatic:Yt,onClick:Wt,isDisabled:rn}){let vn;return Rn!=null&&Rn.comment_url_override?vn=Rn.comment_url_override:Yt?vn=`${Q.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:At&&(vn=(0,re.getPostUrl)(At,Rn,{comments:!0})),(0,o.h)(Ur,{style:$t,icon:(0,o.h)(We.Z,{className:"icon",height:Qe($t),strokeWidth:ht}),href:rn?null:vn,onClick:rn?()=>{}:An=>{Wt?Wt(An):(An==null||An.preventDefault(),window.location.href=vn)},noLabel:nn==="none",className:"post-ufi-comment-button",isDisabled:rn},nn==="cta"&&"Comment",nn==="count"&&(0,ae.numberToString)(en||0))}function co({post:$t,user:en,pub:nn,style:Rn,labelStyle:At,isStatic:Yt,onChange:Wt,position:rn,source:vn}){const An=(0,f.sO)(),zn=(0,f.I4)(()=>{(0,fe.j)(fe.FP.POST_SHARE_BUTTON_CLICKED,{position:rn}),An.current.open()},[]);let er;$t.share_url_override?er=$t.share_url_override:Yt?$t?er=Q.Substitutions.SHARE_URL:er=Q.Substitutions.SHARE_PUB_URL:er="javascript:void(0)";const Jn=At==="none";return(0,o.h)(o.Fragment,null,(0,o.h)(Ur,{style:Rn,icon:Jn?(0,o.h)(a.Z,{className:"icon",height:Qe(Rn),strokeWidth:ht}):null,onClick:zn,href:er,noLabel:At==="none",className:g()(!Jn&&"no-icon")},At==="cta"&&"Share"),!Yt&&(0,o.h)(j.ZP,{ref:An,user:en,pub:nn,post:$t,onChange:Wt,source:vn}))}function lo({post:$t,user:en,pub:nn,style:Rn,labelStyle:At,isStatic:Yt,onChange:Wt,position:rn}){const{exposeExperiment:vn}=(0,J.jc)(),An=(0,Z.O1)(null,{post:$t,pub:nn,user:en}),zn=(0,Z.B8)({post:$t,pub:nn}),er={title:zn,url:An},Jn=(0,je.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(er),[Nn,Pr]=(0,f.eJ)(Jn),Er=()=>He(this,null,function*(){var Po;if((0,fe.j)(fe.FP.POST_SHARE_BUTTON_CLICKED,{position:rn}),Nn||vn("share_dialog_modal_or_dropdown"),Jn&&Nn)try{yield navigator.share(er),(0,fe.j)(fe.FP.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(Po=$t.id)!=null?Po:null,utm_campaign:"default"}),(0,ye.ex)(`${nn.subdomain} shared`,!0);return}catch(No){if(!(No instanceof Error)||No.name==="AbortError")return;Pr(!1),(0,fe.j)(fe.FP.NATIVE_SHARE_FAILED,{errorName:No.name,errorMessage:No.message})}}),yr=()=>{(0,Z.Wn)({shareUrl:An,shareName:zn,pub:nn,post:$t,utm_campaign:rn}),Wt==null||Wt()},Br=()=>{(0,Z.Po)({shareUrl:An,pub:nn,post:$t,utm_campaign:rn}),Wt==null||Wt()},ao=()=>{(0,Z.lc)({shareUrl:An,pub:nn,post:$t,utm_campaign:rn}),Wt==null||Wt()},to=()=>{(0,Z.BZ)({shareUrl:An,pub:nn,post:$t,utm_campaign:rn}),Wt==null||Wt()},Sr=()=>{(0,Z.WZ)({shareUrl:An,shareName:zn,pub:nn,post:$t,utm_campaign:rn}),Wt==null||Wt()},Ao=()=>{(0,Z.Ui)({shareUrl:An,pub:nn,post:$t,utm_campaign:rn}),Wt==null||Wt()};let fo;$t.share_url_override?fo=$t.share_url_override:Yt?$t?fo=Q.Substitutions.SHARE_URL:fo=Q.Substitutions.SHARE_PUB_URL:fo="javascript:void(0)";const Ho=At==="none";return(0,o.h)(ce.v2,{trigger:(0,o.h)(Ur,{style:Rn,icon:Ho?(0,o.h)(a.Z,{className:"icon",height:Qe(Rn),strokeWidth:ht}):null,href:fo,noLabel:At==="none",className:g()(!Ho&&"no-icon")},At==="cta"&&"Share"),onOpen:Er,useMobileBottomSheet:!0,disableMenu:Nn,layerOptions:{placement:rn==="pub-preview"?"bottom-start":"bottom-end",preferX:rn==="pub-preview"?"right":"left"}},(0,o.h)(ce.sN,{icon:(0,o.h)(A.Z,{height:24}),onClick:to},(0,o.h)(me.gq,{justifyContent:"space-between",alignItems:"center"},"Share to Notes",(0,o.h)(me.hs,{className:Fe.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,o.h)(ge.xv.B4,{size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,o.h)(ce.sN,{icon:(0,o.h)(W.Z,{height:24}),onClick:yr},"Share to Twitter"),(0,o.h)(ce.sN,{icon:(0,o.h)(N.Z,{height:24}),onClick:Br},"Share to Facebook"),(0,o.h)(ce.sN,{icon:(0,o.h)(T.Z,{height:24}),onClick:ao},"Share to Linkedin"),(0,o.h)("div",{className:Fe.divider}),(0,o.h)(ce.sN,{icon:(0,o.h)(me.hs,{className:Fe.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,o.h)(l.Z,{className:Fe.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Sr},"Send as email"),(0,o.h)(ce.sN,{icon:(0,o.h)(me.hs,{className:Fe.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,o.h)(P.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Ao},"Copy link"))}function dr({post:$t,user:en,pub:nn,onClick:Rn,style:At}){return(0,o.h)(o.Fragment,null,(0,o.h)(Ur,{style:At,icon:(0,o.h)(lt.Z,{className:"icon",height:Qe(At,"verbose"),strokeWidth:ht}),onClick:()=>{(0,fe.j)(fe.FP.RESTACK_POST_CLICKED,{restacked_publication_id:nn.id,restacked_post_id:$t.id,restacking_user_id:en.id,is_from_email:!1}),Rn()},noLabel:!1,verboseLabel:!0,title:"Cross-Post"},"Cross-post"))}function Nr({post:$t,user:en,pub:nn,onClick:Rn}){const At=()=>{(0,fe.j)(fe.FP.RESTACK_POST_CLICKED,{restacked_publication_id:nn.id,restacked_post_id:$t.id,restacking_user_id:en.id,is_from_email:!1}),Rn()};return(0,o.h)(o.Fragment,null,(0,o.h)(ce.sN,{onClick:At},"Cross-post"))}function Hr({style:$t,pub:en,post:nn,user:Rn,hidePinning:At,emailSent:Yt,allowSendEmail:Wt,footerHidden:rn,showRestackModal:vn,canBeCrossPosted:An}){const zn=(0,f.sO)();rn&&zn.current&&zn.current.close();const er=Nt({post:nn,pub:en,user:Rn,defaultOpen:vn&&An}),Jn=()=>{er.open(),(0,fe.j)(fe.FP.RESTACK_POST_CLICKED,{restacked_publication_id:en.id,restacked_post_id:nn.id,restacking_user_id:Rn.id,is_from_email:!1})};return(0,o.h)("div",{className:g()("edit-button-container","post-ufi-button",`style-${$t}`)},(0,o.h)(Ur,{onClick:()=>zn.current.open(),style:$t,icon:(0,o.h)(x.Z,{className:"icon edit-icon",size:Qe($t),strokeWidth:2}),noLabel:!0}),(0,o.h)(yt.y,{ref:zn,pub:en,post:nn,user:Rn,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:At,emailSent:Yt,allowSendEmail:Wt,handleCrossPost:An&&Jn}),er.modal)}const Ur=(0,m.forwardRef)(({icon:$t,children:en,state:nn,style:Rn,onClick:At,href:Yt,noLabel:Wt,verboseLabel:rn,noBorder:vn,className:An,isDisabled:zn,iconPosition:er="left",title:Jn},Nn)=>(0,o.h)("a",{role:"button",className:g()("post-ufi-button",`style-${Rn}`,An,nn?`state-${nn}`:void 0,zn?"state-disabled":void 0,en&&!Wt?"has-label":"no-label",vn?"no-border":"with-border",rn?"verbose-label":""),title:Jn,href:Yt,onClick:Pr=>{At&&(Pr.stopPropagation(),At(Pr))},ref:Nn},er==="left"&&$t,!Wt&&en&&(0,o.h)("div",{className:"label"},en),er==="right"&&$t)),uo=({pub:$t,post:en,showAuthor:nn})=>!!(nn&&$t.bylines_enabled&&(0,ae.getPrintedByline)($t,en)),mo=({pub:$t,post:en,showAuthor:nn,showPhoto:Rn,isMobileWidth:At})=>uo({pub:$t,post:en,showAuthor:nn})&&!yo({pub:$t,post:en,showAuthor:nn})&&!Oo({pub:$t,post:en,showAuthor:nn,showPhoto:Rn})&&!At,yo=({pub:$t,post:en,showAuthor:nn})=>uo({pub:$t,post:en,showAuthor:nn})&&(0,ae.getBylineUsers)(en).length>1,Oo=({pub:$t,post:en,showAuthor:nn,showPhoto:Rn})=>{var At;return uo({pub:$t,post:en,showAuthor:nn})&&Rn&&((At=(0,ae.getBylineUsers)(en)[0])==null?void 0:At.photo_url)&&$t.byline_images_enabled};function Xo({post:$t,showDatetime:en,isStatic:nn,fromPostPage:Rn,showReactions:At}){const Yt=$t.reactions?Object.values($t.reactions).reduce((rn,vn)=>rn+vn,0):0,Wt=Rn&&!nn&&At&&Yt>=70&&Yt<100;return en&&Wt?te()($t.post_date).standardDatetimeWithYear():en&&!Wt?te()($t.post_date).standardDatetime():nn?te()($t.post_date).standardDate():Wt?te()($t.post_date).standardDate({full:Wt}):te()($t.post_date).standardDateOrTime()}function Go({pub:$t,post:en,showPins:nn,showAudience:Rn,showDate:At,showDatetime:Yt,showEmailSent:Wt,showAuthor:rn,showPublicationName:vn,showCrossPostedPublicationName:An}){const zn=(0,ue.Tf)(),er=!!(rn&&$t.bylines_enabled&&(0,ae.getPrintedByline)($t,en)),Jn=!1,Nn=At&&en.post_date&&!en.is_draft,Pr=Wt?!!en.email_sent_at:null;return(0,o.h)("div",{className:g()("ufi-preamble",{themed:zn})},An&&en.restacked_pub_name?(0,o.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},"Published on ",en.restacked_pub_name):null,Wt&&Pr&&(0,o.h)("div",{className:"email-sent",title:"This post was sent as an email"},(0,o.h)(S.Z,{className:"post-ufi-preamble-icon",size:16})),nn&&en.is_section_pinned&&(0,o.h)("div",{className:"pinned"},(0,o.h)(Gt.Z,{className:"post-ufi-preamble-icon"})),en.type==="adhoc_email"?(0,o.h)("div",{className:"audience-adhoc"},(0,o.h)(_t.Z,{className:"post-ufi-preamble-icon"})):Rn&&(0,B.isPaidAudience)(en.audience)&&(0,o.h)("div",{className:"audience-lock"},(0,o.h)(Ke.Z,{audience:en.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),mo({pub:$t,post:en,showAuthor:er,isMobileWidth:Jn})&&(0,o.h)("div",{className:"ufi-preamble-label author"},(0,ae.getBylineUsers)(en).length>0?(0,ae.oxfordComma)((0,ae.getBylineUsers)(en).map(Er=>(0,o.h)(o.Fragment,null,(0,o.h)(ke.Ct,{subject:Er,utmSource:"byline"},(0,o.h)("a",{href:(0,re.getProfileUrl)(Er,$t,{base:!0}),onClick:yr=>yr.stopPropagation()},Er.name))))):(0,ae.getPrintedByline)($t,en)),vn&&(0,o.h)("div",{className:"post-publication-name"},$t.name),Nn&&(0,o.h)("div",{className:"ufi-preamble-label post-date",title:te()(en.post_date).toISOString()},(0,o.h)("time",{dateTime:te()(en.post_date).toISOString()},Xo({post:en,showDatetime:Yt}))))}const Mo=({pub:$t,post:en,user:nn,onChange:Rn})=>(0,ie.xR)().getConfigFor("like_posts_enabled")&&$t.community_enabled?(0,o.h)(hn,{style:"button",post:en,pub:$t,user:nn,onChange:Rn}):null,Lo=({pub:$t,post:en,onClick:nn})=>{const Rn=(0,ae.showCommentsOnPost)({publication:$t,post:en}),{comment_count:At}=en;return Rn?(0,o.h)(Kr,{post:en,pub:$t,labelStyle:At>0?"count":"none",style:"button",count:At,onClick:nn}):null};function Bo({post:$t,pub:en,user:nn,onChange:Rn,onCommentsClick:At,showRestackModal:Yt=!1}){const Wt=(0,q.LC)(),rn=(nn==null?void 0:nn.is_contributor)&&!Wt,{getSettingFor:vn}=(0,z.So)(),An=!$t.is_draft&&(0,V.x)(nn,{enable_restacking:!!vn("enable_restacking")},$t,en,!1),{getExperimentVariant:zn}=(0,J.jc)(),er=zn("share_dialog_modal_or_dropdown");return(0,o.h)(me.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,o.h)(me.hs,{gap:8},(0,o.h)(Mo,{post:$t,pub:en,user:nn,onChange:Rn}),(0,o.h)(Lo,{pub:en,post:$t,onClick:At}),(0,o.h)(zt,{pub:en,post:$t,onChange:Rn,style:"button"})),(0,o.h)(me.hs,{gap:8},er==="treatment"?(0,o.h)(co,{post:$t,pub:en,user:nn,style:"button",labelStyle:"cta",source:"share-dialog-experiment"}):(0,o.h)(lo,{post:$t,pub:en,user:nn,style:"button",labelStyle:"cta"}),rn?(0,o.h)(Hr,{style:"button",pub:en,post:$t,user:nn,showRestackModal:Yt,canBeCrossPosted:An}):(0,o.h)(on,{post:$t,pub:en,user:nn,onChange:Rn,showRestackModal:Yt,canBeCrossPosted:An})))}function Qr({isFooter:$t,customization:{showShare:en,showComments:nn,showReactions:Rn,showListen:At,showSave:Yt,showRestack:Wt,showCommentRestack:rn}}){const vn=$t?"email-ufi-2-bottom":"email-ufi-2-top",An=!$t&&(Wt||At||Yt),zn=$t;return!$t&&!en&&!nn&&!Rn&&!At&&!Yt&&Wt?(0,o.h)(de.YF,{className:"email-ufi-2-empty",width:"100%"},(0,o.h)("tr",{height:1},(0,o.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,o.h)(de.YF,{className:vn,width:"100%"},Wt&&$t&&(0,o.h)(o.Fragment,null,(0,o.h)(Yr,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(de.YF,{width:"100%",className:"email-ufi-2-row"},(0,o.h)("tr",null,(0,o.h)("td",{width:"95%"},en&&(0,o.h)(de._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:Q.Substitutions.SHARE_URL},(0,o.h)(Tt.Z,he({},$r)),(0,o.h)("span",{className:"email-button-text"},"Share")))),(0,o.h)(Yr,null))))),(0,o.h)(Yr,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(de.YF,{width:"100%"},(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(de.zK,{gap:8,style:An?void 0:{margin:"0 auto"}},Rn?zn?(0,o.h)(de._i,{aClassName:"email-button-outline",href:Q.Substitutions.REACTION_URL},(0,o.h)(Be.Z,he({},$r)),(0,o.h)("span",{className:"email-button-text"},"Like")):(0,o.h)(xr,{href:Q.Substitutions.REACTION_URL},(0,o.h)(Be.Z,he({},$r))):null,nn?zn?(0,o.h)(de._i,{aClassName:"email-button-outline",href:`${Q.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(We.Z,he({},$r)),(0,o.h)("span",{className:"email-button-text"},"Comment")):(0,o.h)(xr,{href:`${Q.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(We.Z,he({},$r))):null,rn&&(zn?(0,o.h)(de._i,{aClassName:"email-button-outline",href:`${Q.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(xt.Z,he({},$r)),(0,o.h)("span",{className:"email-button-text"},"Restack")):(0,o.h)(xr,{href:`${Q.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(xt.Z,he({},$r)))))),(0,o.h)("td",{align:"right"},(0,o.h)(de.zK,{gap:8},en&&!$t&&(0,o.h)(de._i,{aClassName:"email-button-outline",href:Q.Substitutions.SHARE_URL},(0,o.h)("div",{className:"email-button-spacer"}),(0,o.h)("span",{className:"email-button-text"},"Share")))))))),(0,o.h)(Yr,null))}function Yr(){return(0,o.h)("tr",{height:16},(0,o.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const $r={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function xr({size:$t=38,href:en,children:nn}){return(0,o.h)(de.YF,{width:$t},(0,o.h)("tr",null,(0,o.h)("td",{align:"center"},(0,o.h)("a",{className:"email-icon-button",href:en,style:{width:$t}},nn))))}},31471:(G,s,e)=>{"use strict";e.d(s,{e:()=>P});var o=e(6400),m=e(94184),f=e.n(m),d=e(15045),g=e(20501),y=e(61247),C=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,w=(S,M,R)=>M in S?C(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,_=(S,M)=>{for(var R in M||(M={}))E.call(M,R)&&w(S,R,M[R]);if(x)for(var R of x(M))O.call(M,R)&&w(S,R,M[R]);return S},a=(S,M)=>v(S,b(M)),l=(S,M)=>{var R={};for(var N in S)E.call(S,N)&&M.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&x)for(var N of x(S))M.indexOf(N)<0&&O.call(S,N)&&(R[N]=S[N]);return R};function P(S){var M=S,{src:R,maxWidth:N,imageProps:T={},alt:A="",className:W,imageRef:j}=M,Z=l(M,["src","maxWidth","imageProps","alt","className","imageRef"]);const J=B=>{if(T!=null&&T.height){const V=N/T.height;return{height:Math.floor(B/V),aspect:null}}return{}},Q=d.WEB_RESPONSIVE_IMAGE_WIDTHS.includes(N)?d.WEB_RESPONSIVE_IMAGE_WIDTHS:[...d.WEB_RESPONSIVE_IMAGE_WIDTHS,N];Q.sort((B,V)=>B-V);const ne=Q.map(B=>({width:B,src:(0,g.imginary)(R,B,_(_({},T),J(B)))})).filter(B=>B.width<=N),te=Q.map(B=>({width:B,src:(0,g.imginary)(R,B,a(_(_({},T),J(B)),{format:"webp"}))})).filter(B=>B.width<=N);return(0,o.h)("picture",null,te.length>1?(0,o.h)("source",{type:"image/webp",srcset:te.map(B=>`${B.src} ${B.width}w`).join(", "),sizes:"100vw"}):(0,o.h)("source",{type:"image/webp",srcset:(0,g.imginary)(R,N,a(_({},T),{format:"webp"}))}),(0,o.h)("img",a(_({className:f()(y.Z.img,W),src:(0,g.imginary)(R,N,T),sizes:"100vw",alt:A,srcset:ne.length>1?ne.map(B=>`${B.src} ${B.width}w`).join(", "):void 0},Z),{width:N,height:T==null?void 0:T.height,ref:j})))}},30105:(G,s,e)=>{"use strict";e.d(s,{L:()=>d});var o=e(6400),m=e(94184),f=e.n(m);const d=({children:g,title:y="",content:C="",className:v="",showFirst:b=!1,disabled:x=!1})=>x?(0,o.h)(o.Fragment,null,g):(0,o.h)("div",{className:`popover-container ${v}`},(0,o.h)("div",{className:f()("popover typography",{showfirst:b})},(0,o.h)("div",{className:"content"},y&&(0,o.h)("strong",null,y),C&&(0,o.h)("section",null,C)),(0,o.h)("div",{className:"popover-tail"})),g)},25877:(G,s,e)=>{"use strict";e.d(s,{CH:()=>J,KG:()=>Z,Yq:()=>te});var o=e(6400),m=e(30396),f=e(88812),d=e(83322),g=e(19698),y=e(8479),C=e(39419),v=e.n(C),b=e(66399),x=e(76235),E=e(67963),O=Object.defineProperty,w=Object.defineProperties,_=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(B,V,re)=>V in B?O(B,V,{enumerable:!0,configurable:!0,writable:!0,value:re}):B[V]=re,M=(B,V)=>{for(var re in V||(V={}))l.call(V,re)&&S(B,re,V[re]);if(a)for(var re of a(V))P.call(V,re)&&S(B,re,V[re]);return B},R=(B,V)=>w(B,_(V)),N=(B,V,re)=>new Promise((le,ae)=>{var q=ie=>{try{z(re.next(ie))}catch(ue){ae(ue)}},oe=ie=>{try{z(re.throw(ie))}catch(ue){ae(ue)}},z=ie=>ie.done?le(ie.value):Promise.resolve(ie.value).then(q,oe);z((re=re.apply(B,V)).next())});const T={mutes:[],blocks:[],blocked:[]},A=(0,o.createContext)({result:T,refetch:()=>null});A.displayName="UserBlockContext";function W({user:B,children:V}){var re;const le=useFetch({pathname:"/api/v1/blocks/ids",deps:[B],auto:!!B});return h(A.Provider,{value:{result:(re=le.result)!=null?re:T,refetch:le.refetch}},V)}function j(){return(0,m.qp)(A)}function Z(B){const{result:{mutes:V,blocks:re,blocked:le}}=(0,m.qp)(A);return B?V.includes(B)?"muting":re.includes(B)?"blocking":le.includes(B)?"blocked":null:null}function J(B,V){const re=(0,E.aF)(),le=!!(re&&B&&re.id!==B.id),ae=j(),q=Z(B==null?void 0:B.id),oe=(0,b.pm)(),z=(0,d.guessFirstName)((B==null?void 0:B.name)||""),ie=()=>N(this,null,function*(){if(B){try{yield(0,y.rd)(`/api/v1/blocks/${B.id}`,{method:"POST",json:{type:"mute",surface:V}})}catch(pe){oe.popToast(we=>(0,o.h)(b.FN,R(M({},we),{text:(0,C.getNetworkErrorMessage)(pe)})));return}ae.refetch(),oe.popToast(pe=>(0,o.h)(b.FN,R(M({},pe),{text:`${B.name||"User"} muted`,Icon:g.Z})))}}),ue=()=>N(this,null,function*(){if(B){try{yield(0,y.rd)(`/api/v1/blocks/${B.id}`,{method:"DELETE",query:{surface:V}})}catch(pe){oe.popToast(we=>(0,o.h)(b.FN,R(M({},we),{text:(0,C.getNetworkErrorMessage)(pe)})));return}ae.refetch(),oe.popToast(pe=>(0,o.h)(b.FN,R(M({},pe),{text:`${B.name||"User"} unmuted`,Icon:g.Z})))}}),de=()=>N(this,null,function*(){if(B){try{yield(0,y.rd)(`/api/v1/blocks/${B.id}`,{method:"POST",json:{type:"block",surface:V}})}catch(pe){oe.popToast(we=>(0,o.h)(b.FN,R(M({},we),{text:(0,C.getNetworkErrorMessage)(pe)})));return}ae.refetch(),oe.popToast(pe=>(0,o.h)(b.FN,R(M({},pe),{text:`${B.name||"User"} blocked`,Icon:f.Z})))}}),fe=()=>N(this,null,function*(){if(B){try{yield(0,y.rd)(`/api/v1/blocks/${B.id}`,{method:"DELETE",query:{surface:V}})}catch(pe){oe.popToast(we=>(0,o.h)(b.FN,R(M({},we),{text:(0,C.getNetworkErrorMessage)(pe)})));return}ae.refetch(),oe.popToast(pe=>(0,o.h)(b.FN,R(M({},pe),{text:`${B.name||"User"} unblocked`,Icon:f.Z})))}}),ye=[];return le&&(q!=="blocking"&&ye.push((0,o.h)(x.sN,{icon:(0,o.h)(g.Z,null),onClick:q==="muting"?ue:ie},q==="muting"?`Unmute ${z||(B==null?void 0:B.name)||"this person"}`:`Mute ${z||(B==null?void 0:B.name)||"this person"}`)),ye.push((0,o.h)(x.sN,{icon:(0,o.h)(f.Z,null),onClick:q==="blocking"?fe:de},q==="blocking"?`Unblock ${z||(B==null?void 0:B.name)||"this person"}`:`Block ${z||(B==null?void 0:B.name)||"this person"}`))),ye}const Q=(0,o.createContext)(!1);Q.displayName="MuteFreeZone";function ne({muteFree:B=!0,children:V}){return h(Q.Provider,{value:B},V)}function te(){return(0,m.qp)(Q)}},2405:(G,s,e)=>{"use strict";e.d(s,{LC:()=>g,uL:()=>d});var o=e(6400),m=e(30396);const f=(0,o.createContext)(null);f.displayName="CrossPostContext";function d({crossPost:y=null,children:C}){return(0,o.h)(f.Provider,{value:y},C)}function g(){return(0,m.qp)(f)}},4190:(G,s,e)=>{"use strict";e.d(s,{Vt:()=>T,jc:()=>A,kx:()=>N,ng:()=>R,xu:()=>P});var o=e(6400),m=e(98661),f=e(30396),d=e(80569),g=e.n(d),y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(j,Z,J)=>Z in j?y(j,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):j[Z]=J,w=(j,Z)=>{for(var J in Z||(Z={}))x.call(Z,J)&&O(j,J,Z[J]);if(b)for(var J of b(Z))E.call(Z,J)&&O(j,J,Z[J]);return j},_=(j,Z)=>C(j,v(Z)),a=(j,Z,J)=>new Promise((Q,ne)=>{var te=re=>{try{V(J.next(re))}catch(le){ne(le)}},B=re=>{try{V(J.throw(re))}catch(le){ne(le)}},V=re=>re.done?Q(re.value):Promise.resolve(re.value).then(te,B);V((J=J.apply(j,Z)).next())}),l;const P={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},S=typeof window!="undefined"&&window._preloads||P,M=typeof window!="undefined"?(l=window._preloads)==null?void 0:l.siteConfigs:{},R=(j,Z)=>{const J=B=>{if(!B||!j)return null;const V=j[B];return V===void 0?null:V},Q=B=>{if(!B)return null;const V=J(B);if(V&&typeof V=="string"&&V!=="experiment")return{intendedVariant:V,shouldLog:!1};if(Z.variantOverrides&&B in Z.variantOverrides)return{intendedVariant:Z.variantOverrides[B],shouldLog:!1};const re=Z.experimentExposures||{};if(re[B])return{intendedVariant:re[B],shouldLog:!1};const le=Z.experimentFeatures||{};return le[B]?{intendedVariant:le[B],shouldLog:!0}:null};return{getExperimentVariant:B=>{const V=Q(B);return V?V.intendedVariant:null},exposeExperiment:B=>a(void 0,null,function*(){const{intendedVariant:V,shouldLog:re}=Q(B)||{};if(!re)return!1;if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const le=window._preloads.experimentExposures;le[B]=V;try{yield g().post("/api/v1/experiment_exposure").send({experiment_name:B,variant_name:V})}catch(ae){delete le[B]}}return!0})}},N=(0,o.createContext)(R(M,S));N.displayName="ExperimentsContext";function T({siteConfigs:j={},experimentInfo:Z,children:J}){const Q=Z||S,ne=(0,f.Ye)(()=>R(j,Q),[j,...Object.values(Q)]);return(0,o.h)(N.Provider,{value:ne},J)}function A(){return(0,f.qp)(N)}const W=j=>{const Z=forwardRef((J,Q)=>{const ne=A();return h(j,_(w(w({},ne),J),{ref:Q}))});return Z.displayName=`withExperimentsContext(${j.displayName||j.name||"Anonymous"})`,Z}},58718:(G,s,e)=>{"use strict";e.d(s,{oh:()=>ne,Sv:()=>te});var o=e(6400),m=e(30396),f=e(94184),d=e(82569),g=e.n(d),y=e(60779),C=e(59386),v=e(26686),b=e(83322),x=e(8479),E=e(39419),O=e(66399),w=e(76235),_=e(25877),a=e(67963);const l={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"};var P=Object.defineProperty,S=Object.defineProperties,M=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,A=(V,re,le)=>re in V?P(V,re,{enumerable:!0,configurable:!0,writable:!0,value:le}):V[re]=le,W=(V,re)=>{for(var le in re||(re={}))N.call(re,le)&&A(V,le,re[le]);if(R)for(var le of R(re))T.call(re,le)&&A(V,le,re[le]);return V},j=(V,re)=>S(V,M(re)),Z=(V,re,le)=>new Promise((ae,q)=>{var oe=ue=>{try{ie(le.next(ue))}catch(de){q(de)}},z=ue=>{try{ie(le.throw(ue))}catch(de){q(de)}},ie=ue=>ue.done?ae(ue.value):Promise.resolve(ue.value).then(oe,z);ie((le=le.apply(V,re)).next())});function J(){return(0,v._)("/api/v1/feed/following")}function Q(V){const{data:re}=J();return(re!=null?re:[]).includes(V)}function ne(V,re){const{isFollowing:le,toggle:ae}=te(V,re),q=(0,a.aF)(),oe=(0,_.KG)(V==null?void 0:V.id),z=!!(q&&V&&q.id!==V.id)&&!oe,ie=(0,b.guessFirstName)((V==null?void 0:V.name)||""),ue=[];return z&&ue.push((0,o.h)(w.sN,{icon:le?(0,o.h)(C.m,{stroke:"var(--color-primary)"}):(0,o.h)(y.w,{stroke:"var(--color-primary)"}),onClick:ae},le?`Unfollow ${ie}\u2019s notes`:`Follow ${ie}\u2019s notes`)),ue}function te(V,re){const le=Q(V==null?void 0:V.id),{mutate:ae,data:q}=J(),oe=q!=null?q:[],z=(0,O.pm)(),ie=(0,b.guessFirstName)((V==null?void 0:V.name)||""),ue=fe=>Z(this,null,function*(){const ye=fe?[...oe,V.id]:g()(oe,V.id);try{ae((0,x.rd)(`/api/v1/feed/${V.id}/follow`,{method:fe?"POST":"DELETE",json:{surface:re}}).then(()=>ye),{optimisticData:ye}),z.popToast(pe=>(0,o.h)(O.FN,j(W({},pe),{Icon:fe?C.m:y.w,text:fe?`Followed ${ie}\u2019s Notes`:`Unfollowed ${ie}\u2019s Notes`})))}catch(pe){z.popToast(we=>(0,o.h)(O.FN,j(W({},we),{text:(0,E.getNetworkErrorMessage)(pe)})));return}});return{isFollowing:le,toggle:()=>ue(!le)}}function B(V,re){const{isFollowing:le,toggle:ae}=te(V,re),[q,oe]=useState(!1);return{isFollowing:le,buttonProps:{onClick:()=>{ae(),le||oe(!0)},onMouseLeave:()=>oe(!1),className:classnames(css.followButton,q&&css.justFollowed)},css}}},85065:(G,s,e)=>{"use strict";e.d(s,{N$:()=>N,lR:()=>A,yH:()=>J});var o=e(6400),m=e(30396),f=e(80569),d=e.n(f),g=e(6742),y=e(35442),C=e(63503),v=e(8479),b=e(39419),x=e.n(b),E=Object.defineProperty,O=Object.defineProperties,w=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,P=(ne,te,B)=>te in ne?E(ne,te,{enumerable:!0,configurable:!0,writable:!0,value:B}):ne[te]=B,S=(ne,te)=>{for(var B in te||(te={}))a.call(te,B)&&P(ne,B,te[B]);if(_)for(var B of _(te))l.call(te,B)&&P(ne,B,te[B]);return ne},M=(ne,te)=>O(ne,w(te)),R=(ne,te,B)=>new Promise((V,re)=>{var le=oe=>{try{q(B.next(oe))}catch(z){re(z)}},ae=oe=>{try{q(B.throw(oe))}catch(z){re(z)}},q=oe=>oe.done?V(oe.value):Promise.resolve(oe.value).then(le,ae);q((B=B.apply(ne,te)).next())});function N({defaultState:ne,shouldLoad:te=!0,shouldPoll:B=!1,children:V}){return(0,o.h)(W,{defaultState:ne==null?void 0:ne.activity,shouldLoad:te,shouldPoll:B},(0,o.h)(Q,{shouldLoad:te},V))}const T=(0,o.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>R(void 0,null,function*(){return!0}),markAllAsRead:()=>R(void 0,null,function*(){}),hasLoadedOnce:!1});T.displayName="NotificationsContext";function A(){return(0,m.qp)(T)}function W({defaultState:ne,shouldLoad:te=!0,shouldPoll:B=!1,children:V}){const re=(0,v.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:te,initialResult:ne}),le=!(0,g.th)(),ae=()=>R(this,null,function*(){const oe=yield d().post("/api/v1/activity/unread").send({after:new Date().toISOString()});re.setResult(oe.body)});(0,C.Z)(()=>R(this,null,function*(){var oe;if(B&&te&&(0,b.isWindowVisible)()){const z=((oe=re.result)==null?void 0:oe.count)||0,ie=yield re.refetch(),ue=!(ie instanceof Error)&&ie.count||0;if(z!==ue)return!0}}),6e4);const q=re.result!=null?re.result.count:0;return(0,m.d4)(()=>{var oe;try{(oe=navigator.setAppBadge)==null||oe.call(navigator,q)}catch(z){console.warn(z)}},[q]),(0,o.h)(T.Provider,{value:{lastViewedAt:re.result!=null?re.result.lastViewedAt:null,activityUnreadCount:q,activityUnreadAtMax:re.result!=null?re.result.max:!1,refetch:re.refetch,markAllAsRead:ae,hasLoadedOnce:re.hasLoadedOnce}},(0,o.h)(y.Metadata,{badge:le?q:void 0}),V)}const j={count:0,max:!1,refetch:()=>R(void 0,null,function*(){return!0}),markAllAsRead:()=>R(void 0,null,function*(){}),hasLoadedOnce:!1},Z=(0,o.createContext)(j);Z.displayName="SavedPostsContext";function J(){return(0,m.qp)(Z)}function Q({shouldLoad:ne=!0,children:te}){const B=(0,v.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:ne,initialResult:j}),V=()=>B.refetch({method:"PUT"});return(0,o.h)(Z.Provider,{value:M(S({},B.result),{refetch:B.refetch,markAllAsRead:V,hasLoadedOnce:B.hasLoadedOnce})},te)}},92643:(G,s,e)=>{"use strict";e.d(s,{Un:()=>x,am:()=>b});var o=e(6400),m=e(30396),f=e(80569),d=e.n(f),g=e(87251),y=e(67963),C=(E,O,w)=>new Promise((_,a)=>{var l=M=>{try{S(w.next(M))}catch(R){a(R)}},P=M=>{try{S(w.throw(M))}catch(R){a(R)}},S=M=>M.done?_(M.value):Promise.resolve(M.value).then(l,P);S((w=w.apply(E,O)).next())});const v=(0,o.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});v.displayName="ProfileContext";function b({value:E,handle:O,children:w}){const[_,a]=(0,m.eJ)({profile:null,loading:!1}),[l,P]=(0,m.eJ)(new Map(E?[[O||E.id,{profile:E,loading:!1}]]:[])),S={viewerProfile:_,setViewerProfile:(0,m.I4)((M,R)=>{a(N=>N.profile===M&&N.loading===R?N:{profile:M,loading:R})},[]),profiles:l,setProfile:(0,m.I4)((M,R,N)=>{P(T=>{var A,W;if(((A=T.get(M))==null?void 0:A.profile)===R&&((W=T.get(M))==null?void 0:W.loading)===N)return T;const j=new Map(T);return j.set(M,{profile:R,loading:N}),j})},[])};return(0,o.h)(v.Provider,{value:S},w)}function x({subjectId:E,subjectName:O,delayLoading:w}){const _=(0,y.aF)(),{viewerProfile:a,setViewerProfile:l,profiles:P,setProfile:S}=(0,m.qp)(v),[M,R]=(0,m.eJ)(null);if(typeof E=="string")if(E.includes("-")){const Z=E.split("-");E=Z[0],O=Z.slice(1).join("-")}else E.startsWith("@")&&(E=E.slice(1));const N=P.get(E),T=(0,m.I4)(Z=>C(this,null,function*(){l(a.profile,!0);const J=(0,g.cleanSlug)(Z.name,{hashIfEmpty:!0});try{const Q=yield d().get(`/api/v1/user/${Z.id}-${J}/public_profile/self`).then(ne=>ne.body);l(Q,!1)}catch(Q){Q instanceof Error&&R(Q),l(null,!1)}}),[a,l,R]),A=N==null?void 0:N.profile,W=a.profile,j=(0,m.I4)(Z=>C(this,null,function*(){!W&&_&&T(_),S(Z,A,!0);try{const J=O&&(0,g.cleanSlug)(O,{hashIfEmpty:!0}),Q=yield J?d().get(`/api/v1/user/${Z}-${J}/public_profile`).then(ne=>ne.body):d().get(`/api/v1/user/${Z}/public_profile`).then(ne=>ne.body);S(Z,Q,!1)}catch(J){J instanceof Error&&R(J),S(Z,A,!1)}}),[A,S,O,W,T,_]);return(0,m.d4)(()=>{!w&&!(N!=null&&N.profile)&&!(N!=null&&N.loading)&&!M&&j(E),!w&&!a.loading&&!a.profile&&!M&&_&&T(_)},[w,E,j,N,M,a,T,_]),{loading:!!(N!=null&&N.loading),viewerProfile:a.profile,subjectProfile:N==null?void 0:N.profile,refetch:j,error:M}}},71720:(G,s,e)=>{"use strict";e.d(s,{G:()=>g,I:()=>y});var o=e(6400),m=e(30396),f;const d=typeof window!="undefined"?(f=window._preloads)==null?void 0:f.pub:null,g=(0,o.createContext)(d);g.displayName="PubContext";function y(){return(0,m.qp)(g)}},32076:(G,s,e)=>{"use strict";e.d(s,{Iz:()=>R,So:()=>N,us:()=>M,vz:()=>S});var o=e(6400),m=e(98661),f=e(30396),d=e(8479),g=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,E=(T,A,W)=>A in T?g(T,A,{enumerable:!0,configurable:!0,writable:!0,value:W}):T[A]=W,O=(T,A)=>{for(var W in A||(A={}))b.call(A,W)&&E(T,W,A[W]);if(v)for(var W of v(A))x.call(A,W)&&E(T,W,A[W]);return T},w=(T,A)=>y(T,C(A)),_=(T,A,W)=>new Promise((j,Z)=>{var J=te=>{try{ne(W.next(te))}catch(B){Z(B)}},Q=te=>{try{ne(W.throw(te))}catch(B){Z(B)}},ne=te=>te.done?j(te.value):Promise.resolve(te.value).then(J,Q);ne((W=W.apply(T,A)).next())}),a;const l=typeof window!="undefined"?(a=window._preloads)==null?void 0:a.publicationSettings:{},P=T=>({getSettingFor:W=>{if(!W||!T)return null;const j=T[W];return j===void 0?null:j}}),S=(0,o.createContext)(w(O({},P(l)),{changeSetting:()=>Promise.resolve(void 0)}));S.displayName="PublicationSettingsContext";const M=T=>{const A=(0,m.forwardRef)((W,j)=>{const Z=N();return(0,o.h)(T,w(O(O({},Z),W),{ref:j}))});return A.displayName=`withPubSettingsContext(${T.displayName||T.name||"Anonymous"})`,A};function R({settings:T={},children:A}){const[W,j]=(0,f.eJ)(T),Z=Q=>_(this,null,function*(){j(O(O({},W),Q));try{yield(0,d.rd)("/api/v1/publication_settings",{method:"PUT",json:Q})}catch(ne){console.error(ne)}}),J=(0,f.Ye)(()=>w(O({},P(W)),{changeSetting:Z}),[W]);return(0,o.h)(S.Provider,{value:J},A)}function N(){return(0,f.qp)(S)}},63270:(G,s,e)=>{"use strict";e.d(s,{QA:()=>y,Xz:()=>g,vC:()=>C,xR:()=>v});var o=e(6400),m=e(30396),f;const d=typeof window!="undefined"?(f=window._preloads)==null?void 0:f.siteConfigs:{},g=b=>({allConfigs:b,getConfigFor:E=>{if(!E||!b)return null;const O=b[E];return O===void 0?null:O}}),y=(0,o.createContext)(g(d));y.displayName="SiteConfigsContext";function C({siteConfigs:b={},children:x}){const E=(0,m.Ye)(()=>g(b),[b]);return(0,o.h)(y.Provider,{value:E},x)}function v(){return(0,m.qp)(y)}},18597:(G,s,e)=>{"use strict";e.d(s,{Tf:()=>d,ze:()=>g});var o=e(6400),m=e(30396);const f=(0,o.createContext)({hasThemedBackground:!1});f.displayName="ThemeContext";function d(){var y;return!!((y=(0,m.qp)(f))!=null&&y.hasThemedBackground)}function g({value:y,children:C}){const v=(0,m.Ye)(()=>y,Object.values(y));return(0,o.h)(f.Provider,{value:v},C)}},67963:(G,s,e)=>{"use strict";e.d(s,{SE:()=>A,St:()=>M,aF:()=>N,dr:()=>R});var o=e(6400),m=e(30396),f=e(8479),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(j,Z,J)=>Z in j?d(j,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):j[Z]=J,E=(j,Z)=>{for(var J in Z||(Z={}))v.call(Z,J)&&x(j,J,Z[J]);if(C)for(var J of C(Z))b.call(Z,J)&&x(j,J,Z[J]);return j},O=(j,Z)=>g(j,y(Z)),w=(j,Z,J)=>new Promise((Q,ne)=>{var te=re=>{try{V(J.next(re))}catch(le){ne(le)}},B=re=>{try{V(J.throw(re))}catch(le){ne(le)}},V=re=>re.done?Q(re.value):Promise.resolve(re.value).then(te,B);V((J=J.apply(j,Z)).next())}),_,a,l;const P=typeof window!="undefined"?(_=window._preloads)==null?void 0:_.user:null,S=(l=typeof window!="undefined"&&((a=window._preloads)==null?void 0:a.userSettings))!=null?l:{},M=(0,o.createContext)({user:P,setUser:()=>{},userSettings:S,changeSetting:()=>{}});M.displayName="UserContext";function R({defaultValue:j,userSettings:Z,children:J}){const[Q,ne]=(0,m.eJ)(j||P),[te,B]=(0,m.eJ)(Z!=null?Z:S),V=(le,ae)=>w(this,null,function*(){if(!Q)return;const q=te[le];B(O(E({},te),{[le]:ae}));const oe=typeof ae=="boolean"?ae:void 0,z=typeof ae=="string"?ae:void 0;try{yield(0,f.rd)("/api/v1/user-setting",{method:"PUT",json:{type:le,value_bool:oe,value_datetime:z}})}catch(ie){if(ie instanceof f.kp)alert(ie.getMessage()),B(ue=>O(E({},ue),{[le]:q}));else throw ie}}),re=(0,m.Ye)(()=>({user:Q,setUser:ne,userSettings:te,changeSetting:V}),[Q,te]);return(0,o.h)(M.Provider,{value:re},J)}function N(){return(0,m.qp)(M).user}function T(){return useContext(M).userSettings}function A(){return(0,m.qp)(M)}const W=j=>{const Z=J=>{const Q=useContext(M);return h(j,E({user:Q},J))};return Z.displayName=`withUserContext(${j.name||j.displayName||"Anonymous"})`,Z}},46505:(G,s,e)=>{"use strict";e.d(s,{E:()=>d});var o=e(6400),m=e(32076),f=e(63270);const d=(0,o.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function g({isAmp:y,isFreeSubscribed:C,isFreemail:v,siteConfigValues:b,children:x,isPledged:E,publicationSettings:O}){return h(d.Provider,{value:{isStatic:!0,isAmp:y,isFreeSubscribed:C!==!1,isFreemail:v,siteConfigValues:b,isPledged:E}},h(SiteConfigsProvider,{siteConfigs:b},h(PublicationSettingsProvider,{settings:O},x)))}},18492:(G,s,e)=>{"use strict";e.d(s,{NS:()=>be,_i:()=>Ne,zK:()=>Y,i$:()=>K,YF:()=>He,Bj:()=>Fe,b9:()=>Ue});var o=e(6400),m=e(94184),f=e.n(m),d=e(39693),g=e(16129),y=e(14531),C=e(6378),v=e(15045),b=e(83322),x=e(45809),E=e(89867),O=e(19696),w=e(68262),_=e(30396),a=e(46505),l=e(82626),P=e(65919);const S={footer:"frontend-email-shared-typed-module__footer--B5jqg",footerSection:"frontend-email-shared-typed-module__footerSection--dumyu",divider:"frontend-email-shared-typed-module__divider--rj1aO",meta:"frontend-email-shared-typed-module__meta--vRZSC",twitter:"frontend-email-shared-typed-module__twitter--AYwKk",twitterText:"frontend-email-shared-typed-module__twitterText--GvJZv",twitterImage:"frontend-email-shared-typed-module__twitterImage--f7Oq9"};var M=Object.defineProperty,R=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,A=(ct,Pt,Nt)=>Pt in ct?M(ct,Pt,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):ct[Pt]=Nt,W=(ct,Pt)=>{for(var Nt in Pt||(Pt={}))N.call(Pt,Nt)&&A(ct,Nt,Pt[Nt]);if(R)for(var Nt of R(Pt))T.call(Pt,Nt)&&A(ct,Nt,Pt[Nt]);return ct},j=(ct,Pt)=>{var Nt={};for(var sn in ct)N.call(ct,sn)&&Pt.indexOf(sn)<0&&(Nt[sn]=ct[sn]);if(ct!=null&&R)for(var sn of R(ct))Pt.indexOf(sn)<0&&T.call(ct,sn)&&(Nt[sn]=ct[sn]);return Nt};function Z({pub:ct,upsell:Pt,unsubscribe_url:Nt,unsubscribeOverrideText:sn,hasApp:Et,hideStartWriting:Ot}){return h(J,{upsell:Pt,hasApp:Et,hideStartWriting:Ot},h(te,{pub:ct,unsubscribe_url:Nt,unsubscribeOverrideText:sn}))}function J({upsell:ct,children:Pt,hasApp:Nt,hideStartWriting:sn}){const Et=`${getSubstackUrl()}/img/email/publish-button.png`;return h("div",{className:classnames("footer",css.footer)},!Nt&&ct&&h(Fragment,null,h("div",{className:css.footerSection},ct),h("div",{className:css.divider})),Pt&&h("div",{style:{paddingBottom:24}},Pt),h("p",{className:classnames(css.footerSection,"small powered-by-substack")},!ct&&!Nt&&h(B,null),!sn&&h("a",{href:Substitutions.START_WRITING_URL},h(V,{alt:"Start writing",src:Et,pixelRatio:3,width:135,height:40}))))}function Q({primary:ct,secondary:Pt,replaceAppButtonsWithCTA:Nt}){return h(Fragment,null,h(Text.H4,{as:"div",weight:"bold",style:{marginBottom:4}},ct),h(Text.B4,{color:"secondary",style:{marginBottom:16}},Pt),!Nt&&h("div",null,h(re,{utm_source:"substack",utm_campaign:"app-marketing"}),h(le,{utm_source:"substack",utm_campaign:"app-marketing"})),Nt&&h("div",null,h(ThemedEmailButtonMod,{href:Nt.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},Nt.text)))}function ne({children:ct}){return h("div",{className:classnames("footer")},ct)}function te({pub:ct,unsubscribe_url:Pt,unsubscribeOverrideText:Nt}){const sn=joinLines(ct.mailing_address,", ",36);return h(Text,{as:"p",size:12,color:"secondary",className:classnames("small",css.meta)},"\xA9 ",new Date().getFullYear()," ",h("span",null,ct.copyright),sn&&sn.split(`
`).reduce((Et,Ot)=>(Et.push(h("br",null),Ot),Et),[]),Pt!==!1&&[" ",h(Fragment,null,h("br",null),h("a",{href:Pt||Substitutions.UNSUBSCRIBE_URL},h("span",null,Nt||"Unsubscribe")))])}function B(){return h("a",{href:getAppStoreRedirectUrl({utm_campaign:"app-marketing",utm_content:"email-footer-button"})},h(V,{alt:"Get the app",src:`${getSubstackUrl()}/img/email/generic-app-button.png`,pixelRatio:3,width:130,height:40}))}function V(ct){var Pt=ct,{src:Nt,pixelRatio:sn,width:Et}=Pt,Ot=j(Pt,["src","pixelRatio","width"]);let at;const{isAmp:Ht}=useContext(EmailRenderingContext);if(typeof URL=="undefined")at=null;else{let zt;try{zt=new URL(Nt)}catch(hn){zt=new URL(getSubstackUrl()+Nt)}const on=Array(sn).fill(0).map((hn,gn)=>{if(gn===0)return imginary(Nt,Et);const bn=new URL(zt),[Un,qn]=bn.pathname.split("."),cr=gn+1;return bn.pathname=`${Un}@${cr}x.${qn}`,imginary(bn.toString(),Et*cr)});Ht?Nt=on[on.length-1]:(Nt=on[1]||on[0],at=on.map((hn,gn)=>gn===0?hn:`${hn} ${gn+1}x`).join(", "))}return h(Img,W({src:Nt,srcset:at,width:Et},Ot))}function re({utm_campaign:ct,utm_source:Pt}){return h("a",{className:"email-footer-button",href:getAppStoreUrl({utm_campaign:ct,utm_source:Pt})},h(Img,{alt:"Get the iOS app",src:imginary("/img/app_page/app-store.png",246),width:123,height:40}))}function le({utm_campaign:ct,utm_source:Pt}){return h("a",{className:"email-footer-button",href:getPlayStoreUrl({utm_campaign:ct,utm_source:Pt})},h(Img,{alt:"Get the Android app",src:imginary("/img/app_page/google-play.png?v=1",270),width:135,height:40}))}const ae=({text:ct="Tweet",href:Pt})=>h("a",{className:css.twitter,href:Pt},h("img",{className:css.twitterImage,src:imginary("/img/share_twitter.white.png",20),alt:""}),h("span",{className:css.twitterText},ct));var q=Object.defineProperty,oe=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,ue=(ct,Pt,Nt)=>Pt in ct?q(ct,Pt,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):ct[Pt]=Nt,de=(ct,Pt)=>{for(var Nt in Pt||(Pt={}))z.call(Pt,Nt)&&ue(ct,Nt,Pt[Nt]);if(oe)for(var Nt of oe(Pt))ie.call(Pt,Nt)&&ue(ct,Nt,Pt[Nt]);return ct},fe=(ct,Pt)=>{var Nt={};for(var sn in ct)z.call(ct,sn)&&Pt.indexOf(sn)<0&&(Nt[sn]=ct[sn]);if(ct!=null&&oe)for(var sn of oe(ct))Pt.indexOf(sn)<0&&ie.call(ct,sn)&&(Nt[sn]=ct[sn]);return Nt};const ye="550",pe=ct=>{var Pt=ct,{children:Nt,className:sn}=Pt,Et=fe(Pt,["children","className"]);return h("table",de({role:"presentation",className:sn,width:"auto"},Et),Nt)},we=({children:ct,className:Pt,width:Nt=ye})=>(0,o.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{className:"content",width:Nt}),(0,o.h)("td",null)),(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{align:"left",className:Pt?`content ${Pt}`:"content",width:Nt},(0,o.h)("div",null,ct)),(0,o.h)("td",null))),Me=({text:ct})=>(0,o.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},ct," ","\xA0\u200C".repeat(200)),je=({children:ct,className:Pt,description:Nt,title:sn="Email from Substack"})=>h("html",null,h("head",null,h("title",null,sn),h("meta",{charset:"utf-8"})),h("body",{className:Pt},Nt&&h(Me,{text:Nt}),ct)),De=({title:ct,description:Pt,children:Nt,bodyClassName:sn="email-body",className:Et="",emailWidth:Ot=""})=>{const{isAmp:at}=(0,_.qp)(a.E);return(0,o.h)("html",de({},{amp4email:at?!0:void 0,"data-css-strict":at?!0:void 0}),(0,o.h)("head",null,(0,o.h)("meta",{charset:"utf-8"}),!at&&(0,o.h)("title",null,ct),at&&(0,o.h)(o.Fragment,null,(0,o.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),(0,o.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),(0,o.h)("body",{className:sn},Pt&&(0,o.h)(Me,{text:Pt}),(0,o.h)(we,de({className:Et},Ot&&{width:Ot}),Nt)))},me=({title:ct,description:Pt,children:Nt,className:sn,width:Et})=>h("html",null,h("head",null,h("title",null,ct),h("meta",{charset:"utf-8"})),h("body",{className:"email-body"},Pt&&h(Me,{text:Pt}),h(we,{className:sn,width:Et},Nt))),ce=()=>{const ct=Math.random().toString().split(".")[1].substr(0,3);return h("div",{className:"signature-fold-breaker"},ct)},ge=({delta:ct,className:Pt,withPercent:Nt})=>{const sn=ct<0?"negative":ct>0?"positive":"neutral";return sn==="neutral"?h("span",{className:`${Pt} neutral`},"\u2013"):h("span",{className:`${Pt} ${sn}`},sn==="positive"?`+${numberToString(ct)}${Nt?"%":""}`:`${numberToString(ct)}${Nt?"%":""}`)},Ie={EmailDocument:De},Re={fullWidth:"frontend-email-system-basics-module__fullWidth--SbS_a",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--j57hX",priority_primary:"frontend-email-system-basics-module__priority_primary--Oo4PA",emailButtonA:"frontend-email-system-basics-module__emailButtonA--ZlAPM",priority_secondary:"frontend-email-system-basics-module__priority_secondary--dWyFt",priority_outline:"frontend-email-system-basics-module__priority_outline--SeyPx",avatar:"frontend-email-system-basics-module__avatar--eNC1i",framed:"frontend-email-system-basics-module__framed--Br_VZ",icon:"frontend-email-system-basics-module__icon--G_0WQ",emailSeparator:"frontend-email-system-basics-module__emailSeparator--iRI9Q"};var Ke=Object.defineProperty,ut=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,lt=(ct,Pt,Nt)=>Pt in ct?Ke(ct,Pt,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):ct[Pt]=Nt,Tt=(ct,Pt)=>{for(var Nt in Pt||(Pt={}))We.call(Pt,Nt)&&lt(ct,Nt,Pt[Nt]);if(ft)for(var Nt of ft(Pt))Be.call(Pt,Nt)&&lt(ct,Nt,Pt[Nt]);return ct},xt=(ct,Pt)=>ut(ct,_t(Pt)),Gt=(ct,Pt)=>{var Nt={};for(var sn in ct)We.call(ct,sn)&&Pt.indexOf(sn)<0&&(Nt[sn]=ct[sn]);if(ct!=null&&ft)for(var sn of ft(ct))Pt.indexOf(sn)<0&&Be.call(ct,sn)&&(Nt[sn]=ct[sn]);return Nt};function an(ct){return h(yt,xt(Tt({},ct),{unsubscribe_url:"%%unsubscribe_url%%"}))}function yt({pub:ct=wwwPub,description:Pt,noPromo:Nt,children:sn,noLogo:Et,noFooter:Ot,unsubscribe_url:at}){const Ht=(ct.id===0||!!getLogo(ct))&&!Et;return h(Te,{description:Pt},h(K,{gap:16},compact([Ht&&h(PubIcon,{pub:ct.id===0?xt(Tt({},ct),{logo_url:`${getSubstackUrl()}/img/substack-system-email-align-left.png?v=2`}):ct,size:40}),sn,Ot?null:Nt?h(Ve,{pub:ct,unsubscribe_url:at}):h(ke,{pub:ct,unsubscribe_url:at}),h(SignatureFoldBreaker,null)])))}function ke(ct){var Pt=ct,{pub:Nt,unsubscribe_url:sn}=Pt,Et=Gt(Pt,["pub","unsubscribe_url"]);return Nt?h(EmailFooter,Tt({pub:Nt,unsubscribe_url:sn==null?!1:sn},Et)):null}function Ve({pub:ct,unsubscribe_url:Pt}){return h(EmailFooterContainer,null,h(EmailFooterMeta,{pub:ct,unsubscribe_url:Pt==null?!1:Pt}))}function Ne({children:ct,href:Pt,testId:Nt,tableClassName:sn,tdClassName:Et,aClassName:Ot,alt:at,download:Ht,target:zt,style:on}){return(0,o.h)(He,{className:sn,style:on},(0,o.h)("tr",null,(0,o.h)("td",{className:Et,align:"center"},Pt?(0,o.h)("a",{href:Pt,className:Ot,"data-test-id":Nt,alt:at,download:Ht,target:zt},ct):(0,o.h)("span",{className:Ot,"data-test-id":Nt},ct))))}function Fe(ct){return(0,o.h)(Ne,xt(Tt({},ct),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function Ue(ct){var Pt=ct,{fullWidth:Nt,priority:sn="primary",aClassName:Et}=Pt,Ot=Gt(Pt,["fullWidth","priority","aClassName"]);return(0,o.h)(Ne,xt(Tt({},Ot),{tableClassName:Nt?Re.fullWidth:void 0,aClassName:f()(Nt&&Re.fullWidth,Re.emailButtonA,Et),tdClassName:f()(Nt&&Re.fullWidth,Re.emailButtonTd,Re[`priority_${sn}`])}))}function be({src:ct,size:Pt,framed:Nt}){return(0,o.h)(E.Z,{className:f()(y.A.avatar,Re.avatar,Nt&&Re.framed),src:(0,v.imginary)(ct),style:{width:Pt,height:Pt,minWidth:Pt,minHeight:Pt,objectFit:"cover",margin:0,display:"inline"},width:Pt,height:Pt})}function Ge({src:ct,size:Pt}){return h(Img,{className:css.icon,src:imginary(ct),style:{width:Pt,height:Pt,minWidth:Pt,minHeight:Pt,objectFit:"cover",margin:0},width:Pt,height:Pt})}const nt=(0,O.L)("email-text-button","a"),Oe=(0,O.L)("email-text-b4 email-text-secondary","div");function K({children:ct,gap:Pt=0,style:Nt}){const sn=(0,o.toChildArray)(ct),Et=[];for(const at of sn.slice(0,-1))Et.push((0,o.h)("tr",null,(0,o.h)("td",null,at))),Pt>0&&Et.push((0,o.h)("tr",{height:Pt},(0,o.h)("td",null)));const Ot=sn[sn.length-1];return Ot&&Et.push((0,o.h)("tr",null,(0,o.h)("td",null,Ot))),(0,o.h)(He,{style:Nt},Et)}function Y({children:ct,gap:Pt=0,style:Nt,verticalAlign:sn="middle"}){const Et=(0,o.toChildArray)(ct),Ot=[];for(const Ht of Et.slice(0,-1))Ot.push((0,o.h)("td",{style:{verticalAlign:sn}},Ht)),Pt>0&&Ot.push((0,o.h)("td",{width:Pt,style:`min-width: ${Pt}px`}));const at=Et[Et.length-1];return at&&Ot.push((0,o.h)("td",{style:{verticalAlign:sn}},at)),(0,o.h)(He,{style:Nt},(0,o.h)("tr",null,Ot))}function he({users:ct,post:Pt,pub:Nt,user:sn}){return h(FormattedArray,{array:ct,limit:3,formatter:Et=>h("a",{href:getReaderProfileUrl(Et)},anonymousName(Et,Pt,Nt,sn))})}function Te({children:ct,description:Pt}){return h(MinimalEmailDocument,{className:"email-text-base email-text-b3",description:Pt},h(He,{width:"100%"},h("tr",null,h("td",{style:{color:"transparent"}},"\xA0"),h("td",{align:"center",width:468},ct),h("td",{style:{color:"transparent"}},"\xA0"))))}function He(ct){var Pt=ct,{children:Nt}=Pt,sn=Gt(Pt,["children"]);return(0,o.h)("table",Tt({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},sn),Nt)}function Qe(ct){var Pt=ct,{src:Nt}=Pt,sn=Gt(Pt,["src"]);return h(Img,Tt({src:getSubstackUrl()+Nt},sn))}function ht(){return h("div",{className:css.emailSeparator})}},9869:(G,s,e)=>{"use strict";e.d(s,{K:()=>M});var o=e(6400),m=e(98661),f=e(94184),d=e.n(f),g=e(17685),y=e(51126),C=e(44396),v=e(92630),b=e(25666);function x({text:R,icon:N}){const T=(0,C.XA)(),{layerProps:A,triggerProps:W,transitionProps:j,renderLayer:Z,shouldShow:J}=(0,b.l)();return{triggerProps:T||!R?null:W,layer:J&&Z((0,o.h)(v._,{transitionProps:j,tooltipProps:A,text:R,icon:N}))}}var E=e(28967),O=Object.defineProperty,w=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(R,N,T)=>N in R?O(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,P=(R,N)=>{for(var T in N||(N={}))_.call(N,T)&&l(R,T,N[T]);if(w)for(var T of w(N))a.call(N,T)&&l(R,T,N[T]);return R},S=(R,N)=>{var T={};for(var A in R)_.call(R,A)&&N.indexOf(A)<0&&(T[A]=R[A]);if(R!=null&&w)for(var A of w(R))N.indexOf(A)<0&&a.call(R,A)&&(T[A]=R[A]);return T};const M=(0,m.forwardRef)((R,N)=>{var T=R,{className:A,active:W,disabled:j,permalink:Z,tooltip:J}=T,Q=S(T,["className","active","disabled","permalink","tooltip"]);const ne=x({text:J});return(0,o.h)(y.hs,P({flex:"grow",justifyContent:Z?"center":"start",alignItems:"center"},ne.triggerProps),ne.layer,(0,o.h)(g.kG,P({className:d()(E.Z.actionButton,A,W&&E.Z.active,j&&E.Z.disabled,Z&&E.Z.permalink),resetCss:!0,ref:N,disabled:j},Q)))})},63771:(G,s,e)=>{"use strict";e.d(s,{A4:()=>Me,Bq:()=>ye,Kk:()=>Q.K,Tz:()=>me,_x:()=>pe,ij:()=>je,s9:()=>fe,uD:()=>we,ve:()=>De});var o=e(6400),m=e(98661),f=e(30396),d=e(94184),g=e.n(d),y=e(31131),C=e(20501),v=e(83322),b=e(31517),x=e(26240),E=e(53206),O=e(67963),w=e(69371),_=e(55687),a=e(3258),l=e(39419),P=e.n(l),S=e(51126),M=e(76235),R=e(65919),N=e(41474),T=e(91870),A=e(50292),W=e(10174),j=e(7778),Z=e(16742),J=e(44396),Q=e(9869),ne=e(11132),te=e(28967),B=Object.defineProperty,V=Object.defineProperties,re=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,oe=(Ie,Re,Ke)=>Re in Ie?B(Ie,Re,{enumerable:!0,configurable:!0,writable:!0,value:Ke}):Ie[Re]=Ke,z=(Ie,Re)=>{for(var Ke in Re||(Re={}))ae.call(Re,Ke)&&oe(Ie,Ke,Re[Ke]);if(le)for(var Ke of le(Re))q.call(Re,Ke)&&oe(Ie,Ke,Re[Ke]);return Ie},ie=(Ie,Re)=>V(Ie,re(Re)),ue=(Ie,Re)=>{var Ke={};for(var ut in Ie)ae.call(Ie,ut)&&Re.indexOf(ut)<0&&(Ke[ut]=Ie[ut]);if(Ie!=null&&le)for(var ut of le(Ie))Re.indexOf(ut)<0&&q.call(Ie,ut)&&(Ke[ut]=Ie[ut]);return Ke},de=(Ie,Re,Ke)=>new Promise((ut,_t)=>{var ft=lt=>{try{Be(Ke.next(lt))}catch(Tt){_t(Tt)}},We=lt=>{try{Be(Ke.throw(lt))}catch(Tt){_t(Tt)}},Be=lt=>lt.done?ut(lt.value):Promise.resolve(lt.value).then(ft,We);Be((Ke=Ke.apply(Ie,Re)).next())});function fe({item:Ie,pub:Re,post:Ke,onLike:ut,permalink:_t}){var ft;const We=(0,w.rI)(),Be=(0,ne.F)(),lt=(0,W.i3)(),Tt=(0,O.aF)(),{requireLogin:xt}=(0,A.SJ)(),Gt=ce(Ke.id,{tabId:Be}),an=ge(Ke),yt=!!Ke.reaction,ke=!Re.community_enabled,Ve=!(0,v.commentsEnabledForPost)({publication:Re,post:Ke}),Ne=(ft=Ke.child_comment_count)!=null?ft:0,Fe=be=>de(this,null,function*(){if(be.preventDefault(),!Tt){xt==null||xt();return}const Ge=!Ke.reaction;(yield Gt(Ke.id,Ge))&&(ut==null||ut(Ge),Ie&&(0,N.rw)(Ie,We,"like",{tabId:Be}))}),Ue=be=>{if(be.preventDefault(),!Tt){xt==null||xt();return}lt.open({parentPubId:Ke.publication_id,parentPostId:Ke.id,tabId:Be}),Ie&&(0,N.rw)(Ie,We,"comment",{tabId:Be})};return(0,o.h)(ye,null,(0,o.h)(pe,{className:g()(te.Z.like,te.Z.likeButton,an===0&&te.Z.shrink),active:yt,disabled:ke,onClick:Fe,permalink:_t},(0,o.h)(we,{isLiked:yt}),!_t&&(0,o.h)(R.xv.Digit,{className:g()(te.Z.digit,an===0&&te.Z.hidden)},(0,_.u)(Math.max(an,1)))),(0,o.h)(Q.K,{className:g()(te.Z.reply,Ne===0&&te.Z.shrink),disabled:Ve,onClick:Ue,permalink:_t},(0,o.h)(x.Z,{strokeWidth:_t?2:2.5}),!_t&&(0,o.h)(R.xv.Digit,{className:g()(te.Z.digit,Ne===0&&te.Z.hidden)},(0,_.u)(Math.max(Ne,1)))),(0,o.h)(Me,{disabled:ke,pub:Re,post:Ke,permalink:_t}),(0,o.h)(De,{publication:Re,post:Ke,item:Ie,twitterText:(0,v.resolveTwitterShareText)({pub:Re,post:Ke}),permalink:_t}))}function ye(Ie){const Re=(0,J.XA)();return(0,o.h)(S.hs,z({flex:"grow",justifyContent:Re?"space-between":"start",className:te.Z.actionRow},Ie))}function pe(Ie){var Re=Ie,{className:Ke,onClick:ut}=Re,_t=ue(Re,["className","onClick"]);const[ft,We]=(0,f.eJ)(!1),Be=lt=>{We(!0),ut==null||ut(lt)};return(0,o.h)(Q.K,ie(z({},_t),{onClick:Be,className:g()(Ke,_t.permalink&&te.Z.permalink,ft&&te.Z.clickedOnce)}))}function we({isLiked:Ie}){return(0,o.h)("div",{className:g()(te.Z.heartWrapper,Ie&&te.Z.isLiked)},(0,o.h)("svg",{className:te.Z.heart,width:"24",height:"24",viewBox:"0 0 24 24"},(0,o.h)("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})),(0,o.h)("div",{className:te.Z.sparks,style:"--total-sparks: 8"},Array(8).fill(0).map((Ke,ut)=>(0,o.h)("div",{className:te.Z.spark,style:`--i: ${ut+1};`}))))}function Me({pub:Ie,post:Re,comment:Ke,rootComment:ut,onOpen:_t,permalink:ft,disabled:We}){const Be=(0,ne.F)(),{canRestack:lt,isRestacked:Tt,restacks:xt,menuItems:Gt,nuxModal:an}=(0,Z.K)({pub:Ie,post:Re,comment:Ke,tabId:Be});return lt?(0,o.h)(o.Fragment,null,an,(0,o.h)(M.v2,{trigger:(0,o.h)(je,{restacks:xt,"aria-label":"menu",active:Tt,disabled:We,permalink:ft}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",onOpen:()=>_t==null?void 0:_t(Tt)},Gt)):null}const je=(0,m.forwardRef)((Ie,Re)=>{var Ke=Ie,{permalink:ut,restacks:_t}=Ke,ft=ue(Ke,["permalink","restacks"]);return(0,o.h)(Q.K,z({className:g()(te.Z.restack,_t===0&&te.Z.shrink),"aria-label":"restack-menu",permalink:ut,ref:Re},ft),(0,o.h)(b.Z,{strokeWidth:ut?2:2.5}),!ut&&(0,o.h)(R.xv.Digit,{className:g()(te.Z.digit,_t===0&&te.Z.hidden)},(0,_.u)(Math.max(_t,1))))});function De({publication:Ie,post:Re,comment:Ke,item:ut,twitterText:_t,permalink:ft}){const We=(0,w.rI)(),Be=(0,ne.F)(),lt=Ke?(0,C.getFeedCommentUrl)(Ke,{urlParams:{utm_source:"notes-share-action"}}):Re?(0,C.getFeedShortPostUrl)(Ie,Re,{urlParams:{utm_source:"notes-share-action"}}):null,Tt=(0,j.wg)({url:lt,twitterText:_t,onLinkClicked:Gt=>{(0,a.j)(a.FP.FEED_ITEM_SHARE_LINK_CLICKED,{type:Gt,shared_post_id:Re==null?void 0:Re.id,shared_comment_id:Ke==null?void 0:Ke.id})},comment:Ke}),xt=()=>{ut&&(0,N.rw)(ut,We,"share",{tabId:Be})};return(0,o.h)(M.v2,{trigger:(0,o.h)(me,{permalink:ft}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share",maxHeight:350,onOpen:xt},Tt)}const me=(0,m.forwardRef)(({onClick:Ie,permalink:Re},Ke)=>(0,o.h)(Q.K,{"aria-label":"share",onClick:Ie,permalink:Re,className:te.Z.share,ref:Ke},(0,o.h)(y.Z,{strokeWidth:Re?2:2.5})));function ce(Ie,{tabId:Re}={}){const Ke=(0,T.I0)(),ut=(0,E.sV)();return(_t,ft)=>de(this,null,function*(){Ke({type:"post_like",payload:{postId:_t,isLiked:ft}});try{return yield ut(_t,ft,{tabId:Re}),!0}catch(We){return Ke({type:"post_like",payload:{postId:_t,isLiked:!ft}}),alert((0,l.getNetworkErrorMessage)(We)),!1}})}function ge(Ie){var Re;return(Re=Ie.reactions["\u2764"])!=null?Re:0}},65024:(G,s,e)=>{"use strict";e.d(s,{y:()=>ue,k:()=>De});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(27484),y=e.n(g),C=e(65445),v=(me=>(me.Removed="removed",me.Unavailable="unavailable",me.BlockedYou="blocked-you",me.YouBlocked="you-blocked",me.YouMuted="you-muted",me))(v||{});function b(me){return me.type==="missing"}var x=e(20501),E=e(85344),O=e(31471),w=e(17685),_=e(51126),a=e(65919),l=e(10186),P=e(41474),S=e(73413),M=e(44396),R=e(52543),N=e(66337),T=e(2564),A=e(6385),W=e(80332),j=e(16527),Z=e(70762),J=e(96283),Q=e(28967);const ne="notes_quote_attachment";function te({attachment:me,readOnly:ce,onClick:ge}){const Ie=(0,M.XA)(),{postSelection:Re,post:Ke,publication:ut,author:_t}=me,ft=_t!=null?_t:(0,A.getPostAuthor)(ut,Ke),We=(0,Z._)({publication:ut,subscriptionSource:ne,publicationName:ut.name}),Be=(0,o.h)(l.qE,{size:36,user:ft});return(0,o.h)(_.tu,{className:Q.Z.quote,as:ce?"div":"a",border:"detail",radius:12,onClick:lt=>{ge&&ge(),!Ie&&S.L&&!ce&&(0,j.Q)(lt,(0,x.getPostUrl)(ut,Ke,{noBase:!Ie,feedViewer:!Ie,urlParams:{selection:Re.id}}))},href:ce?void 0:(0,x.getPostUrl)(ut,Ke,{feedViewer:!1,urlParams:{selection:Re.id}})},(0,o.h)(_.tu,{padding:{mobile:12,desktop:16},borderBottom:"detail"},(0,o.h)(a.xv,{font:"serif",className:d()(Q.Z.quoteText,Ie&&Q.Z.mobile)},"\u201C",B(Re.text),"\u201D")),(0,o.h)(_.hs,{className:Q.Z.quoteBottom,alignItems:"center",paddingX:Ie?12:16,paddingY:Ie?8:12,gap:12},(0,o.h)(_.hs,{gap:12,flex:"grow",alignItems:"center",minWidth:0},ce?Be:(0,o.h)(W.Ct,{subject:ft,dontStopPropagation:!0,utmSource:"feed"},Be),(0,o.h)(_.tu,{minWidth:0,flex:"grow"},(0,o.h)(a.xv.B4,{weight:"medium",ellipsis:!0},ce?ft.name:(0,o.h)(J.Zg,{user:ft,ellipsis:!0,utm_source:ne})),(0,o.h)(_.hs,{gap:6,minWidth:0},(0,o.h)(a.xv.B4,{color:"secondary",ellipsis:!0},Ke.title),We.showCta&&(0,o.h)(o.Fragment,null,(0,o.h)(a.xv.B4,{color:"secondary",ellipsis:!0},"\u2219"),(0,o.h)(a.xv.B4,{color:We.isSubscribed?"secondary":"substack"},(0,o.h)(J.hh,{href:"javascript:void",onClick:ce?void 0:We.isSubscribed?We.unsubscribe:We.subscribe},We.isSubscribed?"Subscribed":"Subscribe")))))),(0,o.h)(T.Z,{size:24,color:"var(--color-secondary)"})))}function B(me){return me.replace(/[“]/g,"\u2018").replace(/[”]/g,"\u2019").replace(/["]/g,"'")}var V=e(11132),re=e(4070),le=Object.defineProperty,ae=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,z=(me,ce,ge)=>ce in me?le(me,ce,{enumerable:!0,configurable:!0,writable:!0,value:ge}):me[ce]=ge,ie=(me,ce)=>{for(var ge in ce||(ce={}))q.call(ce,ge)&&z(me,ge,ce[ge]);if(ae)for(var ge of ae(ce))oe.call(ce,ge)&&z(me,ge,ce[ge]);return me};function ue({attachments:me,readOnly:ce,isRestack:ge,onAttachmentClick:Ie,utm_content:Re}){if(me.length===0)return null;const Ke=me.filter(_t=>_t.type==="image"),ut=me.filter(_t=>_t.type!=="image");return(0,o.h)(o.Fragment,null,Ke.length>0&&(0,o.h)(E.q,{readOnly:ce,isRestack:ge,assets:Ke.map(_t=>_t.imageUrl)}),ut.map(_t=>(0,o.h)(de,{attachment:_t,readOnly:ce,isRestack:ge,onAttachmentClick:Ie,utm_content:Re})))}function de({attachment:me,readOnly:ce,isRestack:ge,onAttachmentClick:Ie,utm_content:Re}){var Ke;return b(me)?(0,o.h)(ye,{attachment:me,readOnly:ce,isRestack:ge,onAttachmentClick:Ie,utm_content:Re}):me.type==="image"?(0,o.h)(E.q,{readOnly:ce,isRestack:ge,assets:[me.imageUrl],onClick:Ie}):me.type==="link"?(0,o.h)(Me,ie({readOnly:ce,onClick:Ie},me.linkMetadata)):me.type==="comment"?(0,o.h)(pe,{readOnly:ce,publication:(Ke=me.publication)!=null?Ke:void 0,post:me.post,comment:me.comment,onAttachmentClick:Ie,utm_content:Re}):me.type==="post"?me.postSelection?(0,o.h)(te,{readOnly:ce,attachment:me,onClick:Ie}):(0,o.h)(N.I,{readOnly:ce,publication:me.publication,post:me.post,onClick:Ie}):me.type==="publication"?(0,o.h)(we,{readOnly:ce,publication:me.publication,onClick:Ie}):(0,o.h)(fe,{attachment:me})}function fe({attachment:me}){return(0,o.h)(_.hs,null)}function ye({attachment:me,readOnly:ce,isRestack:ge,onAttachmentClick:Ie,utm_content:Re}){const Ke=(0,V.F)(),ut=[v.YouBlocked,v.YouMuted].includes(me.reason)&&!!me.hidden_attachment,[_t,ft]=(0,m.eJ)(!1);return _t&&me.hidden_attachment?(0,o.h)(de,{attachment:me.hidden_attachment,readOnly:ce,isRestack:ge,onAttachmentClick:Ie,utm_content:Re}):(0,o.h)(_.hs,{bg:"elevated",border:"detail",justifyContent:ut?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,o.h)(a.xv.B4,{color:"secondary",align:"center"},me.reason===v.YouBlocked?"This note is from someone you blocked.":me.reason===v.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),ut&&(0,o.h)(w.kG,{resetCss:!0,onClick:()=>{var We;(0,P.Kr)(me.id,me.reason,{noteId:(We=me.hidden_attachment)==null?void 0:We.id}),ft(!0)}},(0,o.h)(a.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function pe({comment:me,publication:ce,readOnly:ge,onAttachmentClick:Ie,utm_content:Re}){var Ke,ut,_t;const{truncatedBodyJson:ft}=(0,re.Z)(me,{limit:280,triggerLimit:280});return(0,o.h)(_.tu,{className:Q.Z.post,as:ge?"div":"a",bg:"elevated",border:"detail",radius:12,href:ge?void 0:(0,x.getFeedCommentUrl)(me),onClick:()=>Ie==null?void 0:Ie({commentId:me.id}),padding:12,gap:8},(0,o.h)(_.hs,{gap:8,alignItems:"center"},(0,o.h)("a",{href:(0,x.getReaderProfileUrl)(me.user,{noBase:S.L,utm_content:"substack-feed-item",utm_source:Re!=null?Re:void 0})},(0,o.h)(l.qE,{size:20,user:me.user})),(0,o.h)(_.hs,{alignItems:"center",gap:8},(0,o.h)(a.xv.B4,{weight:"medium"},ge?me.user.name:(0,o.h)(J.xG,{user:me.user,utm_source:"substack-feed-item",utm_content:Re},me.user.name)),(0,o.h)(je,{comment:me}))),me.body&&(0,o.h)(a.xv.B4,{className:Q.Z.feedCommentBodyInner},me.hidden?ce&&(0,o.h)("i",null,"This comment is only visible to paid subscribers of ",ce.name):ft&&(0,o.h)(R.x,{content:ft})),((ut=(Ke=me.attachments)==null?void 0:Ke.length)!=null?ut:0)>0&&(0,o.h)(ue,{isRestack:!0,attachments:(_t=me.attachments)!=null?_t:[],onAttachmentClick:Ie,utm_content:Re}))}function we({publication:me,readOnly:ce,onClick:ge}){var Ie;return(0,o.h)(Me,{image:(Ie=me.logo_url)!=null?Ie:void 0,title:me.name,description:me.hero_text,url:me.base_url,onClick:ge,host:me.base_url.replace(/^https?:\/\//,""),readOnly:ce})}function Me({image:me,title:ce,description:ge,url:Ie,host:Re,readOnly:Ke,onClick:ut}){const _t=(0,M.XA)();return(0,o.h)(_.hs,{className:Q.Z.post,padding:12,gap:12,as:Ke?"div":"a",bg:"elevated",border:"detail",radius:12,href:Ke?void 0:Ie,onClick:ut,rel:"nofollow noopener ugc",target:"_blank"},(0,o.h)(_.tu,{gap:2,flex:"grow",minWidth:0},(0,o.h)(a.xv.Meta,{color:"secondary",ellipsis:!0},Re),_t?(0,o.h)(a.xv.B4,{clamp:1},ce):(0,o.h)(a.xv.B3,{clamp:2,weight:"medium"},ce),ge&&(0,o.h)(a.xv.B4,{as:"p",color:"secondary",clamp:_t?1:2},ge)),me&&(0,o.h)(O.e,{className:d()(Q.Z.linkImage,_t&&Q.Z.mobile),src:me,maxWidth:192,imageProps:{smartCrop:!0,aspect:"1:1"}}),!me&&(0,o.h)(_.hs,{alignItems:"center",justifyContent:"center",radius:8,className:d()(Q.Z.linkImage,Q.Z.linkImagePlaceholder,_t&&Q.Z.mobile)},(0,o.h)(C.Z,null)))}function je({post:me,comment:ce}){return(0,o.h)(a.xv.B4,{color:"secondary"},y()((ce==null?void 0:ce.date)||(me==null?void 0:me.post_date)).fromNowShort())}function De(me){var ce;switch(me.type){case"post":return me.postSelection?(0,x.getPostUrl)(me.publication,me.post,{urlParams:{selection:me.postSelection.id}}):me.post.canonical_url;case"comment":return(0,x.getFeedCommentUrl)(me.comment);case"publication":return me.publication.base_url;case"link":return(ce=me.linkMetadata.url)!=null?ce:null;default:return null}}},52543:(G,s,e)=>{"use strict";e.d(s,{x:()=>x});var o=e(6400),m=e(2731),f=e(36487),d=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,v=(O,w,_)=>w in O?d(O,w,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[w]=_,b=(O,w)=>{for(var _ in w||(w={}))y.call(w,_)&&v(O,_,w[_]);if(g)for(var _ of g(w))C.call(w,_)&&v(O,_,w[_]);return O};function x({content:O}){return(0,o.h)(E,{content:O})}function E({content:O}){var w,_,a,l,P;if(O.type==="text"){const M=(a=(_=(w=O.marks)==null?void 0:w.find(T=>T.type==="link"))==null?void 0:_.attrs)==null?void 0:a.href,R=M?(0,f.u)(M):O.text;let N=(0,o.h)(o.Fragment,null,R);if(O.marks)for(const T of O.marks)T.type==="link"?N=(0,o.h)("a",b({className:"note-link"},T.attrs),N):T.type==="bold"?N=(0,o.h)("strong",null,N):T.type==="italic"?N=(0,o.h)("em",null,N):T.type==="strike"?N=(0,o.h)("s",null,N):T.type==="code"&&(N=(0,o.h)("code",null,N));return N}const S=(l=O.content)==null?void 0:l.filter(M=>!!M).map(M=>(0,o.h)(E,{content:M}));if(O.type==="substack_mention"){const{id:M,label:R}=(P=O.attrs)!=null?P:{};return M&&R?(0,o.h)("span",{className:"node-substack_mention"},(0,o.h)("a",{className:"substack-mention",href:(0,m.GR)(M,R)},"@",R)):null}return O.type==="doc"?(0,o.h)("div",{className:"ProseMirror FeedProseMirror"},S):O.type==="paragraph"?(0,o.h)("p",null,S):O.type==="blockquote"?(0,o.h)("blockquote",null,S):O.type==="codeBlock"?(0,o.h)("pre",null,(0,o.h)("code",null,S)):O.type==="orderedList"?(0,o.h)("ol",null,S):O.type==="bulletList"?(0,o.h)("ul",null,S):O.type==="listItem"?(0,o.h)("li",null,S):null}},51731:(G,s,e)=>{"use strict";e.d(s,{WS:()=>me,bN:()=>Re});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(6385),y=e(81470),C=e(70444),v=e(20501),b=e(83322),x=e(26240),E=e(29820),O=e(80332),w=e(58718),_=e(63270),a=e(67963),l=e(65024),P=e(69371),S=e(55687),M=e(73115),R=e(96283),N=e(50670),T=e(4070),A=e(8479),W=e(39419),j=e.n(W),Z=e(51126),J=e(65919),Q=e(41474),ne=e(91870),te=e(73413),B=e(50292),V=e(10174),re=e(44695),le=e(70762),ae=e(63771),q=e(52543),oe=e(29800),z=e(75309),ie=e(8796),ue=e(11132),de=e(28967),fe=Object.defineProperty,ye=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,Me=(We,Be,lt)=>Be in We?fe(We,Be,{enumerable:!0,configurable:!0,writable:!0,value:lt}):We[Be]=lt,je=(We,Be)=>{for(var lt in Be||(Be={}))pe.call(Be,lt)&&Me(We,lt,Be[lt]);if(ye)for(var lt of ye(Be))we.call(Be,lt)&&Me(We,lt,Be[lt]);return We},De=(We,Be,lt)=>new Promise((Tt,xt)=>{var Gt=ke=>{try{yt(lt.next(ke))}catch(Ve){xt(Ve)}},an=ke=>{try{yt(lt.throw(ke))}catch(Ve){xt(Ve)}},yt=ke=>ke.done?Tt(ke.value):Promise.resolve(ke.value).then(Gt,an);yt((lt=lt.apply(We,Be)).next())});function me({comment:We,item:Be,isParent:lt,showReplyingTo:Tt,showContext:xt,utm_content:Gt,parentCommentUserId:an}){var yt,ke,Ve,Ne,Fe,Ue,be;const Ge=(0,a.aF)(),{getConfigFor:nt}=(0,_.xR)(),Oe=!!nt("hidden_replies_ui_enabled"),K=(0,P.rI)(),Y=(0,ue.F)(),he=()=>(0,Q.rw)(Be,K,"profile",{tabId:Y}),Te=!We.ancestor_path,He=Be.publication&&Be.post&&(0,g.getPostAuthor)(Be.publication,Be.post);let Qe=null;if(!Te){const Pt=(yt=We.ancestor_path)==null?void 0:yt.split(".").pop(),Nt=Pt&&Number(Pt);Qe=(Ve=(ke=Be.parentComments)==null?void 0:ke.find(sn=>(sn==null?void 0:sn.id)===Nt))!=null?Ve:null}const ht=Pt=>{if(!Pt.defaultPrevented){(0,Q.rw)(Be,K,"item",{tabId:Y});const Nt=(0,v.getFeedCommentUrl)(We,{noBase:!We.hidden&&te.L});(0,W.redirect)(We.hidden&&Be.publication?(0,v.getSubscribeUrl)(Be.publication,{addBase:!0,params:{next:Nt}}):Nt,{event:Pt,newTab:!!We.hidden,local_navigation:!We.hidden})}},ct=(0,g.getCommentAuthor)(We);return(0,o.h)(N.oM,{showGutter:lt,hasContext:xt,onClick:ht},(0,o.h)(ie.n,{userId:ct==null?void 0:ct.id,comment:We},(xt||!lt&&["comment_like","comment_top","comment_restack"].includes(Be.context.type))&&(0,o.h)(oe.L,{context:Be.context,onClick:()=>(0,Q.rw)(Be,K,"context",{tabId:Y}),utm_content:Gt}),(0,o.h)(Z.hs,{gap:12},(0,o.h)(N.Fb,{user:ct,onClick:he,utm_content:Gt,desaturate:Oe&&((Ne=Be.comment)==null?void 0:Ne.hide_reply)}),(0,o.h)(Z.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(Z.tu,{gap:12},(0,o.h)(Z.tu,null,(0,o.h)(Z.tu,null,(0,o.h)(z.Ev,{user:ct,post:(Fe=Be.post)!=null?Fe:void 0,comment:We,onClick:he,utm_content:Gt,publication:(Ue=Be.publication)!=null?Ue:void 0,item:Be,parentCommentUserId:an}),Tt&&(Te&&He||!Te&&Qe)?(0,o.h)(J.xv.Detail,null,"Replying to"," ",(0,o.h)(O.Ct,{subject:Te?He:Qe?{id:Qe.user_id,user_id:Qe.user_id,name:Qe.name,photo_url:Qe.photo_url}:He,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(R.hh,{href:Te?(0,v.getFeedShortPostUrl)(Be.publication,Be.post,{noBase:te.L}):(0,v.getFeedCommentUrl)(Qe,{noBase:te.L})},(be=Te?He:Qe)==null?void 0:be.name))):Ge&&Ge.id!==We.user_id&&(0,o.h)(ce,{comment:We})),We.body&&(0,o.h)(Re,{comment:We,publication:Be.publication})),We.attachments&&(0,o.h)(l.y,{attachments:We.attachments,onAttachmentClick:({commentId:Pt}={})=>{(0,Q.rw)(Be,y.Uo.PostEmbed,"attachment",{extraEventProps:{tabId:Y,commentId:Pt}})},utm_content:Gt})),!We.hidden&&(0,o.h)(_t,{item:Be,comment:We})))))}function ce({comment:We}){var Be;const lt=(0,g.getCommentAuthor)(We),Tt=(0,le._)({user:lt,publicationName:(Be=lt.primary_publication)==null?void 0:Be.name,allowPresubscribe:!0,subscriptionSource:"substack-feed-item",sourceNoteId:(0,C.It)(We.id)});return Tt.showCta?(0,o.h)(Z.hs,{gap:4},lt.primary_publication&&(0,o.h)(o.Fragment,null,(0,o.h)(J.xv.Detail,{ellipsis:!0},(0,o.h)(Ie,{publication:lt.primary_publication})),(0,o.h)(J.xv.Detail,{color:"secondary"},"\u2219")),(0,o.h)(J.xv.Detail,{color:Tt.isSubscribed?"secondary":"substack"},(0,o.h)(R.hh,{onClick:Tt.isSubscribed?Tt.unsubscribe:Tt.subscribe},Tt.isSubscribed?"Subscribed":"Subscribe"))):null}function ge({comment:We}){const{isFollowing:Be,toggle:lt}=useFeedFollowState(getCommentAuthor(We));return h(Text.Detail,{color:Be?"secondary":"substack"},h(TextLink,{onClick:lt},Be?"Following":"Follow"))}function Ie({publication:We}){return(0,o.h)(o.Fragment,null,(0,o.h)(re.Sm,{publication_id:We.id,utmSource:"feed",inline:!0},(0,o.h)(R.hh,{href:(0,v.getBaseUrl)(We),target:"_blank"},We.name)))}function Re({comment:We,publication:Be,large:lt}){const{bodyJson:Tt,truncatedBodyJson:xt,isTruncated:Gt}=(0,T.Z)(We),[an,yt]=(0,m.eJ)(lt||!Gt),ke=Ne=>{Ne.preventDefault(),yt(!0)},Ve=an?Tt:xt;return(0,o.h)(Z.tu,{className:de.Z.feedCommentBody},(0,o.h)(N.sP,{large:lt},We.hidden?(0,o.h)(Ke,{pub:Be}):Ve&&(0,o.h)(q.x,{key:an,content:Ve})),!an&&(0,o.h)(ut,{onClick:ke,size:lt?20:16,lineHeight:lt?32:24}))}function Ke({pub:We}){return(0,o.h)(o.Fragment,null,(0,o.h)("i",null,"This comment is only visible to paid subscribers of ",We==null?void 0:We.name),(0,o.h)("br",null),(0,o.h)("b",null,"Subscribe to view \u2192"))}function ut(We){return(0,o.h)(Z.hs,{className:de.Z.seeMore},(0,o.h)(Z.hs,{className:de.Z.seeMoreFade}),(0,o.h)(J.xv.B3,{color:"accent-blue",className:de.Z.seeMoreText},(0,o.h)(R.hh,je({},We),"See more...")))}function _t({item:We,comment:Be,permalink:lt}){var Tt,xt;const Gt=(0,P.rI)(),an=(0,ue.F)(),yt=(0,ne.I0)(),ke=(0,V.i3)(),Ve=(0,a.aF)(),{requireLogin:Ne}=(0,B.SJ)(),{getConfigFor:Fe}=(0,_.xR)(),Ue=Fe("enable_note_share_modal"),{publication:be,post:Ge}=We,nt=!!(Ge&&be&&!(0,b.commentsEnabledForPost)({publication:be,post:Ge})),Oe=!!(Ge&&be&&!(0,b.restacksEnabledForPost)({publication:be,post:Ge})),K=Be.reaction_count||0,Y=(0,A.ib)({pathname:`/api/v1/comment/${Be.id}/reaction`,method:"POST"}),he=!!Be.reaction,Te=()=>{Ne==null||Ne()},He=(Tt=We.parentComments[0])!=null?Tt:Be,Qe=(0,V.oC)(We),ht=Pt=>{var Nt,sn;if(Pt.preventDefault(),!Ve){Te();return}ke.open({feedItem:We,parentPubId:(Nt=Be.publication_id)!=null?Nt:void 0,parentPostId:(sn=Be.post_id)!=null?sn:void 0,parentCommentId:Be.id,tabId:an}),(0,Q.rw)(We,Gt,"comment",{tabId:an,extraEventProps:{reply_requirement:Qe,reply_locked:!!Qe}})},ct=Pt=>De(this,null,function*(){if(Pt.preventDefault(),!Ve){Te();return}const Nt=!he;yt({type:"comment_like",payload:{commentId:Be.id,isLiked:Nt}});try{yield Y.refetch({method:Nt?"POST":"DELETE",json:{publication_id:(be==null?void 0:be.id)||null,reaction:"\u2764",tabId:an}})}catch(sn){yt({type:"comment_like",payload:{commentId:Be.id,isLiked:!Nt}}),alert((0,W.getNetworkErrorMessage)(sn));return}(0,Q.rw)(We,Gt,"like",{tabId:an})});return(0,o.h)(ae.Bq,null,(0,o.h)(ae._x,{className:d()(de.Z.like,de.Z.likeButton,K===0&&de.Z.shrink),active:he,disabled:!1,onClick:ct,permalink:lt},(0,o.h)(ae.uD,{isLiked:he}),!lt&&(0,o.h)(J.xv.Digit,{className:d()(de.Z.digit,K===0&&de.Z.hidden)},(0,S.u)(Math.max(K,1)))),(0,o.h)(ae.Kk,{className:d()(de.Z.reply,!Be.children_count&&de.Z.shrink),disabled:nt,onClick:ht,permalink:lt,tooltip:Qe==="paid_subscriber"?"Only paid subscribers can reply.":Qe==="free_subscriber"?"Only subscribers can reply.":void 0},Qe?(0,o.h)(E.Z,{strokeWidth:lt?2:2.5}):(0,o.h)(x.Z,{strokeWidth:lt?2:2.5}),!lt&&(0,o.h)(J.xv.Digit,{className:d()(de.Z.digit,!Be.children_count&&de.Z.hidden)},(0,S.u)(Math.max(Be.children_count||0,1)))),Ve?(0,o.h)(ae.A4,{pub:be!=null?be:void 0,post:Ge!=null?Ge:void 0,comment:Be,rootComment:He,disabled:Oe,permalink:lt,onOpen:Pt=>(0,Q.rw)(We,Gt,"restack",{tabId:an,extraEventProps:{isRestacked:Pt}})}):(0,o.h)(ae.ij,{permalink:lt,restacks:(xt=Be.restacks)!=null?xt:0,disabled:Oe,onClick:Te}),Ue?(0,o.h)(ft,{comment:Be,permalink:lt}):(0,o.h)(ae.ve,{publication:be!=null?be:void 0,post:Ge!=null?Ge:void 0,comment:Be,item:We,permalink:lt}))}function ft({comment:We,permalink:Be}){const[lt,Tt]=(0,m.eJ)(!1);return(0,o.h)(o.Fragment,null,(0,o.h)(ae.Tz,{onClick:()=>Tt(!0),permalink:Be}),(0,o.h)(M.xW,{isOpen:lt,comment:We,onClose:()=>Tt(!1)}))}},60779:(G,s,e)=>{"use strict";e.d(s,{w:()=>m});var o=e(6400);function m({size:f=24,stroke:d="var(--color-light-secondary)"}){return(0,o.h)("svg",{width:f,height:f,viewBox:"0 0 24 24",fill:"none",stroke:d,xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M18.4824 5.92426L6.89132 2.81843C5.82439 2.53255 4.72772 3.16571 4.44183 4.23264L1.33606 15.8236C1.05017 16.8905 1.68332 17.9872 2.75024 18.2731L5.69847 19.0631M14 10.4443V13.9999M14 13.9999V17.5555M14 13.9999H10.4445M14 13.9999H17.5556M6 8.00001V19.9998C6 21.1044 6.89541 21.9998 7.99997 21.9998L20 22C21.1046 22 22 21.1046 22 20V8.00001C22 6.89544 21.1046 6.00001 20 6.00001H8C6.89543 6.00001 6 6.89544 6 8.00001Z","stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"}))}},20447:(G,s,e)=>{"use strict";e.d(s,{Bm:()=>ce,O3:()=>Ie});var o=e(6400),m=e(98661),f=e(30396),d=e(94184),g=e.n(d),y=e(9528),C=e(56743),v=e(2564),b=e(4190),x=e(6385),E=e(81470),O=e(70444),w=e(20501),_=e(63270),a=e(67963),l=e(51731),P=e(69371),S=e(29800),M=e(75309),R=e(8796),N=e(66337),T=e(11132),A=e(96283),W=e(50670),j=e(66141),Z=e(16527),J=e(6742),Q=e(39419),ne=e.n(Q),te=e(17685),B=e(51126),V=e(65919),re=e(5131),le=e(41474),ae=e(55337),q=e(73413),oe=e(33510),z=e(44396),ie=e(63771),ue=e(28967),de=Object.defineProperty,fe=Object.defineProperties,ye=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,je=(xt,Gt,an)=>Gt in xt?de(xt,Gt,{enumerable:!0,configurable:!0,writable:!0,value:an}):xt[Gt]=an,De=(xt,Gt)=>{for(var an in Gt||(Gt={}))we.call(Gt,an)&&je(xt,an,Gt[an]);if(pe)for(var an of pe(Gt))Me.call(Gt,an)&&je(xt,an,Gt[an]);return xt},me=(xt,Gt)=>fe(xt,ye(Gt));function ce({item:xt}){const Gt=Re[xt.type];return Gt?(0,o.h)(Gt,{item:xt}):null}function ge({item:xt,children:Gt}){const an=(0,f.sO)(null),yt=(0,P.rI)(),ke=(0,f.qp)(T.q);return(0,J.UM)(an,()=>(0,le.zi)(xt,yt,{tabId:ke}),{threshold:.2}),(0,o.h)(Ie,{ref:an},Gt)}const Ie=(0,m.forwardRef)((xt,Gt)=>(0,o.h)(B.tu,me(De({},xt),{className:ue.Z.feedItem,gap:4,ref:Gt}))),Re={post:Ke,comment:_t,userSuggestions:We,twitterConnect:Be,facebookConnect:lt,inviteFriends:Tt};function Ke({item:xt}){const Gt=(0,P.rI)(),an=(0,f.qp)(T.q);return(0,o.h)(ge,{item:xt},(0,o.h)(ut,{item:xt,context:(0,o.h)(S.L,{context:xt.context,onClick:()=>(0,le.rw)(xt,Gt,"context",{tabId:an}),utm_content:xt.entity_key})}))}function ut({item:xt,showGutter:Gt,context:an}){const{publication:yt,post:ke}=xt,Ve=yt&&ke?(0,x.getPostAuthor)(yt,ke):void 0,Ne=(0,P.rI)(),Fe=(0,f.qp)(T.q),Ue=()=>(0,le.rw)(xt,Ne,"profile",{tabId:Fe});return!yt||!ke||!Ve?null:(0,o.h)(W.oM,{onClick:be=>{(0,le.rw)(xt,Ne,"item",{tabId:Fe}),(0,Q.redirect)((0,w.getFeedShortPostUrl)(yt,ke,{noBase:q.L}),{event:be})},showGutter:Gt,hasContext:!!an},(0,o.h)(R.n,{userId:Ve==null?void 0:Ve.id},an,(0,o.h)(B.hs,{gap:12},(0,o.h)(W.Fb,{user:Ve,onClick:Ue,utm_content:xt.entity_key}),(0,o.h)(B.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(B.tu,{gap:8},(0,o.h)(M.Ev,{user:Ve,post:ke,onClick:Ue,utm_content:xt.entity_key,publication:yt,item:xt}),(0,o.h)(N.I,{publication:yt,post:ke})),(0,o.h)(ie.s9,{item:xt,pub:yt,post:ke})))))}function _t({item:xt}){var Gt,an,yt,ke;const{publication:Ve,post:Ne,comment:Fe,parentComments:Ue}=xt,be=Ve||Ne||!Ue||Ue.length===1?void 0:Ue[0],Ge=(Gt=Ue&&Ue[Ue.length-1])!=null?Gt:null,nt=Ve&&Ne&&(0,x.getPostAuthor)(Ve,Ne),Oe=xt.context.type!=="comment_restack",K=xt.context.type==="note_reply"&&Oe&&Fe.user_id!==((yt=nt==null?void 0:nt.id)!=null?yt:(an=Ue==null?void 0:Ue[0])==null?void 0:an.user_id),Y=(0,P.rI)(),he=(0,f.qp)(T.q),Te=xt.context.type==="comment_restack"?`user/${(ke=xt.context.users[0])==null?void 0:ke.id}`:xt.entity_key;return(0,o.h)(ge,{item:xt},(0,o.h)(B.tu,{gap:8},Oe&&(0,o.h)(o.Fragment,null,nt?(0,o.h)(o.Fragment,null,(0,o.h)(ut,{item:xt,showGutter:!0,context:K?(0,o.h)(S.L,{context:xt.context,onClick:()=>(0,le.rw)(xt,Y,"context",{tabId:he}),utm_content:Te}):void 0}),(Ue==null?void 0:Ue.length)>1&&Ge&&(0,o.h)(ft,{url:(0,w.getFeedCommentUrl)(Ge,{noBase:q.L}),showGutter:!0})):be?(0,o.h)(o.Fragment,null,(0,o.h)(l.WS,{isParent:!0,comment:be,item:xt,showContext:K,utm_content:Te}),(Ue==null?void 0:Ue.length)>2&&Ge&&(0,o.h)(ft,{url:(0,w.getFeedCommentUrl)(Ge,{noBase:q.L}),showGutter:!0})):null,Ge&&(0,o.h)(l.WS,{showReplyingTo:(Ue==null?void 0:Ue.length)>2,isParent:!0,comment:Ge,item:xt,showContext:K&&!(nt||be),utm_content:Te})),(0,o.h)(l.WS,{comment:Fe,item:xt,showReplyingTo:!Oe,utm_content:Te})))}function ft({url:xt,showGutter:Gt}){return(0,o.h)(W.oM,{onClick:an=>(0,Q.redirect)(xt,{event:an}),showGutter:Gt,hasAvatar:!1},(0,o.h)(B.gq,null,(0,o.h)(B.tu,{alignItems:"center",justifyContent:"center",className:ue.Z.seeMoreThread},(0,o.h)(B.tu,{className:g()(ue.Z.seeMoreThreadSegment,ue.Z.top)}),(0,o.h)(y.Z,{size:16,stroke:"var(--color-detail)"}),(0,o.h)(B.tu,{className:ue.Z.seeMoreThreadSegment,flex:"grow"})),(0,o.h)(B.tu,{className:ue.Z.seeMoreReplies,flex:"grow",minWidth:0},(0,o.h)(V.xv.B4,{color:"accent-blue"},(0,o.h)(A.hh,{href:xt},"See more replies")))))}function We({item:xt}){const Gt=(0,z.XA)(),an=(0,f.sO)(null),{state:yt,handleArrowClick:ke}=(0,oe.eK)(an),Ve=(0,a.SE)(),{exposeExperiment:Ne}=(0,b.jc)();(0,J.UM)(an,()=>{Ne("pymk_in_feed_timing_1"),Ve.changeSetting("suggestions_feed_item_last_shown_at",new Date().toISOString())},{threshold:.2});const Ue=!!(0,_.xR)().getConfigFor("facebook_connect")&&Ve.user&&!Ve.user.has_linked_facebook;return(0,o.h)(ge,{item:xt},(0,o.h)(B.tu,{paddingY:16,gap:4},(0,o.h)(B.hs,{alignItems:"center",justifyContent:"space-between",paddingLeft:{mobile:20,desktop:0}},(0,o.h)(V.xv.H4,null,"Suggestions"),(0,o.h)(te.zx,{priority:"secondary",fill:"empty",onClick:be=>(0,Z.Q)(be,(0,O.kM)())},"See all")),(0,o.h)(B.hs,{className:ue.Z.peopleYouMayKnowContainer,alignItems:"center"},!Gt&&yt.showLeft&&(0,o.h)("div",{className:g()("reader2-carousel-fade left",ue.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(re.zx,{look:"reset",className:"reader2-carousel-arrow left",onClick:ke(-1)},(0,o.h)(C.Z,null))),(0,o.h)(B.hs,{ref:an,className:ue.Z.peopleYouMayKnow,alignItems:"center",gap:8},Ue&&(0,o.h)(ae.dg,null),xt.userSuggestions.map(be=>(0,o.h)(ae.E$,{feedUserSuggestion:be,surface:E.Uo.Feed}))),!Gt&&yt.showRight&&(0,o.h)("div",{className:g()("reader2-carousel-fade right",ue.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(re.zx,{look:"reset",className:"reader2-carousel-arrow",onClick:ke(1)},(0,o.h)(v.Z,null))))))}function Be({item:xt}){const{getConfigFor:Gt}=(0,_.xR)();return Gt("twitter_connect_flows_enabled")?(0,o.h)(ge,{item:xt},(0,o.h)(B.hs,{paddingY:20},(0,o.h)(ae.rS,null))):null}function lt({item:xt}){const{getConfigFor:Gt}=(0,_.xR)();return Gt("facebook_connect")?(0,o.h)(ge,{item:xt},(0,o.h)(B.hs,{paddingY:20},(0,o.h)(ae.KL,null))):null}function Tt({item:xt}){const[Gt]=(0,j.Z)(ae.au);return Gt?null:(0,o.h)(ge,{item:xt},(0,o.h)(B.hs,{paddingY:20,paddingX:20},(0,o.h)(ae.Zx,{utmSource:"feed_item"})))}},29800:(G,s,e)=>{"use strict";e.d(s,{L:()=>P});var o=e(6400),m=e(30396),f=e(83322),d=e(43615),g=e(96283),y=e(51126),C=e(65919);function v({size:ne,className:te}){return(0,o.h)("svg",{className:te,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.57617 11.7466C5.80176 11.7466 5.98975 11.6714 6.14014 11.521C6.29053 11.3742 6.36572 11.188 6.36572 10.9624V9.11475H6.48389C7.1141 9.11475 7.66553 9.18636 8.13818 9.32959C8.61084 9.46924 9.02262 9.69124 9.37354 9.99561C9.72445 10.2964 10.0306 10.6903 10.292 11.1772C10.4066 11.3885 10.5319 11.5299 10.668 11.6016C10.804 11.6732 10.9508 11.709 11.1084 11.709C11.3232 11.709 11.4987 11.6069 11.6348 11.4028C11.7708 11.1987 11.8389 10.8944 11.8389 10.4897C11.8389 9.52653 11.7297 8.66357 11.5112 7.90088C11.2928 7.13818 10.9616 6.49007 10.5176 5.95654C10.0771 5.41943 9.52035 5.01123 8.84717 4.73193C8.17757 4.44906 7.38981 4.30762 6.48389 4.30762H6.36572V2.45459C6.36572 2.23258 6.29053 2.0446 6.14014 1.89062C5.98975 1.73307 5.79997 1.6543 5.5708 1.6543C5.42041 1.6543 5.28255 1.68652 5.15723 1.75098C5.03548 1.81543 4.89225 1.92285 4.72754 2.07324L0.462891 6.03711C0.355469 6.13737 0.278483 6.24658 0.231934 6.36475C0.185384 6.47933 0.162109 6.59033 0.162109 6.69775C0.162109 6.8016 0.185384 6.9126 0.231934 7.03076C0.282064 7.14893 0.359049 7.25814 0.462891 7.3584L4.72754 11.3491C4.87435 11.4888 5.014 11.589 5.14648 11.6499C5.27897 11.7144 5.4222 11.7466 5.57617 11.7466Z"}))}function b({size:ne,className:te}){return(0,o.h)("svg",{className:te,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6 12C6.14187 12 6.26404 11.9527 6.3665 11.8581C6.47291 11.7635 6.53793 11.6394 6.56158 11.4857C6.66798 10.6975 6.78424 10.0355 6.91034 9.49951C7.04039 8.95961 7.20985 8.51823 7.41872 8.17537C7.62759 7.82857 7.90148 7.55271 8.24039 7.34778C8.57931 7.14286 9.01084 6.98325 9.53497 6.86897C10.0631 6.75074 10.7094 6.64828 11.4739 6.56158C11.6236 6.54581 11.7478 6.48473 11.8463 6.37832C11.9488 6.27192 12 6.14581 12 6C12 5.85419 11.9488 5.72808 11.8463 5.62167C11.7478 5.51527 11.6236 5.45222 11.4739 5.43251C10.7133 5.34187 10.0709 5.23744 9.5468 5.11921C9.02266 5.00098 8.59113 4.84138 8.25222 4.64039C7.9133 4.43547 7.63941 4.16158 7.43054 3.81872C7.22562 3.47192 7.05813 3.03054 6.92808 2.49458C6.79803 1.95862 6.67586 1.29655 6.56158 0.508374C6.53399 0.35468 6.46897 0.232512 6.3665 0.141872C6.26404 0.0472906 6.14187 0 6 0C5.85813 0 5.73399 0.0472906 5.62759 0.141872C5.52512 0.236453 5.46207 0.358621 5.43842 0.508374C5.33202 1.29655 5.21379 1.96059 5.08374 2.50049C4.95764 3.04039 4.79015 3.48374 4.58128 3.83054C4.37241 4.1734 4.09655 4.44729 3.75369 4.65222C3.41478 4.85714 2.98325 5.01872 2.45911 5.13695C1.93892 5.25123 1.29655 5.34975 0.53202 5.43251C0.374384 5.45222 0.246305 5.51527 0.147783 5.62167C0.0492611 5.72808 0 5.85419 0 6C0 6.14581 0.0492611 6.27192 0.147783 6.37832C0.246305 6.48473 0.372414 6.54581 0.526108 6.56158C1.16453 6.64828 1.71626 6.74089 2.18128 6.83941C2.64631 6.93793 3.04236 7.05813 3.36946 7.2C3.70049 7.34187 3.97635 7.52512 4.19704 7.74975C4.42167 7.97044 4.6069 8.24631 4.75271 8.57734C4.90246 8.90837 5.02857 9.31231 5.13103 9.78916C5.23744 10.266 5.3399 10.8335 5.43842 11.4916C5.46601 11.6414 5.53103 11.7635 5.6335 11.8581C5.73596 11.9527 5.85813 12 6 12Z"}))}function x({size:ne,className:te}){return(0,o.h)("svg",{className:te,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6.00293 12.2002C6.08891 12.2002 6.18857 12.1712 6.30191 12.1132C6.41915 12.059 6.53053 11.9971 6.63605 11.9275C7.72252 11.2313 8.66634 10.5003 9.46751 9.73448C10.2726 8.96479 10.8959 8.17382 11.3376 7.36159C11.7792 6.54548 12 5.72358 12 4.89587C12 4.34664 11.9101 3.84576 11.7303 3.39323C11.5506 2.9407 11.3043 2.55005 10.9917 2.22129C10.679 1.89253 10.3156 1.64112 9.90132 1.46707C9.48705 1.28915 9.04348 1.2002 8.57059 1.2002C7.98437 1.2002 7.47435 1.34717 7.04055 1.64112C6.60674 1.93121 6.26087 2.31412 6.00293 2.78986C5.74108 2.31799 5.39326 1.93508 4.95945 1.64112C4.52956 1.34717 4.01954 1.2002 3.42941 1.2002C2.95652 1.2002 2.51295 1.28915 2.09868 1.46707C1.68832 1.64112 1.32487 1.89253 1.0083 2.22129C0.691744 2.55005 0.443576 2.9407 0.263801 3.39323C0.0879336 3.84576 0 4.34664 0 4.89587C0 5.72358 0.220811 6.54548 0.662433 7.36159C1.10405 8.17382 1.72741 8.96479 2.53249 9.73448C3.33757 10.5003 4.28139 11.2313 5.36395 11.9275C5.47338 11.9971 5.58476 12.059 5.69809 12.1132C5.81534 12.1712 5.91695 12.2002 6.00293 12.2002Z"}))}function E({size:ne,className:te}){return(0,o.h)("svg",{className:te,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.73259 12C6.48612 12 7.16981 11.8807 7.78366 11.6421C8.39751 11.4035 8.92682 11.0637 9.37159 10.6227C9.81636 10.1853 10.1564 9.66109 10.3916 9.05016C10.6305 8.43561 10.75 7.75599 10.75 7.0113C10.75 6.18708 10.6397 5.44239 10.4192 4.77723C10.2023 4.10845 9.90458 3.51559 9.52597 2.99864C9.14737 2.4817 8.71363 2.03344 8.22475 1.65386C7.73955 1.27429 7.22495 0.963398 6.68093 0.721193C6.13692 0.475373 5.59107 0.294623 5.04338 0.178943C4.4957 0.0596475 3.97741 0 3.48854 0C3.18713 0 2.94453 0.05784 2.76074 0.17352C2.58062 0.285585 2.49057 0.44826 2.49057 0.661545C2.49057 0.74469 2.50711 0.829643 2.54019 0.916403C2.57695 0.999548 2.62841 1.07908 2.69457 1.15499C2.92615 1.42973 3.14118 1.7099 3.33967 1.99548C3.53816 2.28107 3.69806 2.5775 3.81936 2.88477C3.94433 3.18843 4.00866 3.51197 4.01233 3.8554C4.01233 3.94578 4.00314 4.03434 3.98476 4.1211C3.97006 4.20786 3.93147 4.30728 3.86898 4.41934L4.10607 4.35969C3.99579 4.06688 3.86163 3.82287 3.70357 3.62765C3.54919 3.43244 3.3801 3.28604 3.19631 3.18843C3.01253 3.08721 2.83241 3.0366 2.65598 3.0366C2.51262 3.0366 2.39684 3.08179 2.30862 3.17216C2.2204 3.26254 2.17629 3.38545 2.17629 3.54089C2.17629 3.63127 2.18364 3.74333 2.19835 3.87709C2.21305 4.00723 2.2204 4.1446 2.2204 4.2892C2.2204 4.54225 2.18732 4.77542 2.12115 4.9887C2.05867 5.19837 1.9778 5.40804 1.87855 5.61771C1.78299 5.82738 1.68742 6.05151 1.59185 6.2901C1.49628 6.52869 1.41541 6.80163 1.34925 7.1089C1.28308 7.41256 1.25 7.76683 1.25 8.17171C1.25 8.93809 1.43563 9.60868 1.80688 10.1835C2.1818 10.7546 2.7056 11.1993 3.37826 11.5174C4.05093 11.8391 4.8357 12 5.73259 12ZM5.87043 10.2214C5.3595 10.2214 4.94781 10.084 4.63537 9.80931C4.32293 9.53095 4.16671 9.16765 4.16671 8.71939C4.16671 8.48803 4.20163 8.2892 4.27147 8.12291C4.34131 7.95662 4.42218 7.8066 4.51407 7.67284C4.60597 7.53547 4.69051 7.39991 4.7677 7.26615C4.84857 7.1324 4.89819 6.98057 4.91657 6.81066C4.92025 6.7709 4.93679 6.74559 4.96619 6.73475C4.99927 6.72029 5.03419 6.72752 5.07095 6.75644C5.18858 6.8685 5.28782 6.99322 5.36869 7.13059C5.45323 7.26435 5.52675 7.41256 5.58923 7.57524C5.72891 7.35472 5.81897 7.06733 5.8594 6.71306C5.90351 6.35879 5.89984 5.97921 5.84837 5.57433C5.83735 5.52734 5.84654 5.4948 5.87594 5.47673C5.90535 5.45504 5.94027 5.45323 5.9807 5.47131C6.37768 5.64483 6.71034 5.8798 6.97867 6.17623C7.25068 6.46905 7.45652 6.7944 7.5962 7.15228C7.73588 7.51017 7.80572 7.87167 7.80572 8.23678C7.80572 8.6019 7.7322 8.93448 7.58517 9.23452C7.43814 9.53457 7.22127 9.77497 6.93456 9.95572C6.64785 10.1329 6.29314 10.2214 5.87043 10.2214Z"}))}function O({size:ne,className:te}){return(0,o.h)("svg",{className:te,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M1.60574 12.7001H2.38973C2.74924 12.7001 3.02417 12.58 3.2145 12.3397C3.40483 12.1032 3.5 11.766 3.5 11.328V8.07221C3.5 7.6381 3.40483 7.30089 3.2145 7.06058C3.02417 6.82027 2.74924 6.70012 2.38973 6.70012H1.60574C1.24924 6.70012 0.975831 6.82027 0.785498 7.06058C0.595166 7.30089 0.5 7.64004 0.5 8.07802V11.328C0.5 11.766 0.595166 12.1032 0.785498 12.3397C0.975831 12.58 1.24924 12.7001 1.60574 12.7001ZM5.64804 12.7001H6.39426C6.75076 12.7001 7.02417 12.58 7.2145 12.3397C7.40483 12.1032 7.5 11.766 7.5 11.328V5.07221C7.5 4.6381 7.40483 4.30089 7.2145 4.06058C7.02417 3.82027 6.75076 3.70012 6.39426 3.70012H5.64804C5.29154 3.70012 5.01813 3.82027 4.8278 4.06058C4.63746 4.30089 4.5423 4.64004 4.5423 5.07802V11.328C4.5423 11.766 4.63746 12.1032 4.8278 12.3397C5.01813 12.58 5.29154 12.7001 5.64804 12.7001ZM9.60121 12.7001H10.3897C10.7462 12.7001 11.0196 12.58 11.21 12.3397C11.4033 12.1032 11.5 11.766 11.5 11.328V2.07229C11.5 1.6343 11.4033 1.29709 11.21 1.06066C11.0196 0.82035 10.7462 0.700195 10.3897 0.700195H9.60121C9.24773 0.700195 8.97583 0.82035 8.7855 1.06066C8.59517 1.29709 8.5 1.6343 8.5 2.07229V11.328C8.5 11.766 8.59517 12.1032 8.7855 12.3397C8.97583 12.58 9.24773 12.7001 9.60121 12.7001Z"}))}function w({size:ne,className:te}){return(0,o.h)("svg",{className:te,width:ne,height:ne,fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0002 0.200195C10.442 0.200195 10.8002 0.558368 10.8002 1.0002V4.0002C10.8002 4.44202 10.442 4.8002 10.0002 4.8002H7.00019C6.55837 4.8002 6.20019 4.44202 6.20019 4.0002C6.20019 3.55837 6.55837 3.2002 7.00019 3.2002H7.91434C7.39165 2.75016 6.75316 2.45487 6.07076 2.34836C5.36533 2.23826 4.64311 2.33461 3.99121 2.62579C3.33932 2.91697 2.78559 3.39054 2.39682 3.98939C2.15624 4.35997 1.66079 4.46536 1.29021 4.22477C0.919626 3.98419 0.81424 3.48874 1.05482 3.11816C1.61171 2.26036 2.40489 1.582 3.33868 1.1649C4.27248 0.747807 5.30701 0.60979 6.31749 0.7675C7.32797 0.92521 8.27124 1.37191 9.03353 2.05372L9.03541 2.0554L9.20019 2.20374V1.0002C9.20019 0.558368 9.55837 0.200195 10.0002 0.200195ZM0.200195 8.0002C0.200195 7.55837 0.558368 7.2002 1.0002 7.2002H4.00019C4.44202 7.2002 4.80019 7.55837 4.80019 8.0002C4.80019 8.44202 4.44202 8.8002 4.00019 8.8002H3.08627C3.60892 9.25012 4.24733 9.54535 4.92963 9.65184C5.63506 9.76194 6.35728 9.66559 7.00917 9.37441C7.66107 9.08323 8.2148 8.60965 8.60357 8.01081C8.84415 7.64023 9.3396 7.53484 9.71018 7.77543C10.0808 8.01601 10.1862 8.51146 9.94557 8.88204C9.38868 9.73984 8.5955 10.4182 7.66171 10.8353C6.72791 11.2524 5.69338 11.3904 4.6829 11.2327C3.67242 11.075 2.72915 10.6283 1.96686 9.94648L1.96502 9.94483L1.8002 9.79649V11.0002C1.8002 11.442 1.44202 11.8002 1.0002 11.8002C0.558368 11.8002 0.200195 11.442 0.200195 11.0002V8.0002Z"}))}function _({size:ne,className:te}){return(0,o.h)("svg",{className:te,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M2.30172 11.423C2.43901 11.5215 2.59037 11.5572 2.75582 11.53C2.92478 11.5028 3.10255 11.423 3.28912 11.2905L5.99784 9.3694L8.71185 11.2905C8.89841 11.423 9.07442 11.5028 9.23986 11.53C9.40883 11.5572 9.56195 11.5215 9.69924 11.423C9.833 11.3245 9.91396 11.1937 9.94212 11.0306C9.97029 10.871 9.9474 10.6858 9.87348 10.4752L8.80161 7.40241L11.5367 5.51187C11.7268 5.37937 11.8588 5.24179 11.9327 5.09911C12.0102 4.95303 12.0208 4.80185 11.9644 4.64558C11.9116 4.4927 11.8113 4.3789 11.6635 4.30416C11.5156 4.22942 11.3238 4.19375 11.0879 4.19715L7.73502 4.21753L6.71594 1.12437C6.64554 0.910346 6.5505 0.74728 6.43081 0.635172C6.31113 0.519667 6.16681 0.461914 5.99784 0.461914C5.8324 0.461914 5.68983 0.519667 5.57015 0.635172C5.45046 0.74728 5.35542 0.910346 5.28502 1.12437L4.26595 4.21753L0.907761 4.19715C0.675433 4.19375 0.485347 4.22942 0.337503 4.30416C0.189658 4.3789 0.0893347 4.4927 0.036533 4.64558C-0.0197887 4.80185 -0.0109885 4.95303 0.0629339 5.09911C0.140376 5.24179 0.274141 5.37937 0.464227 5.51187L3.19935 7.40241L2.12748 10.4752C2.05356 10.6858 2.03068 10.871 2.05884 11.0306C2.087 11.1937 2.16796 11.3245 2.30172 11.423Z"}))}var a=e(44396),l=e(28967);function P({context:ne,onClick:te,utm_content:B}){const V=S[ne.type];return V?(0,o.h)(y.hs,{className:l.Z.contextRow},(0,o.h)(C.xv.Meta,{className:l.Z.contextText},(0,o.h)(V,{context:ne,onClick:te,utm_content:B}))):null}const S={post_like:M,post_comment:N,post_restack:R,comment:N,note_reply:N,note_recommend:j,comment_like:T,comment_restack:A,comment_top:W};function M({context:ne,onClick:te,utm_content:B}){return(0,o.h)(Q,{context:ne,type:"like",label:"Likes",verb:"liked",onClick:te,utm_content:B})}function R({context:ne,onClick:te,utm_content:B}){return(0,o.h)(Q,{context:ne,type:"restack",label:"Restacks",verb:"restacked",onClick:te,utm_content:B})}function N({context:ne,onClick:te,utm_content:B}){return(0,o.h)(Q,{context:ne,type:"comment",label:"Replies",verb:"replied",onClick:te,utm_content:B})}function T({context:ne,onClick:te,utm_content:B}){return(0,o.h)(Q,{context:ne,type:"like",label:"Likes",verb:"liked",onClick:te,utm_content:B})}function A({context:ne,onClick:te,utm_content:B}){return(0,o.h)(Q,{context:ne,type:"restack",label:"Restacks",verb:"restacked",onClick:te,utm_content:B})}function W({}){return(0,o.h)(J,{type:"trending"},"Top comment")}function j({context:ne,onClick:te,utm_content:B}){return(0,o.h)(Q,{context:ne,type:"recommend",label:"Recommendations",verb:"recommends",onClick:te,utm_content:B})}const Z={like:x,comment_like:x,comment:v,recommend:_,featured:b,trending:E,leaderboard:O,restack:w};function J({type:ne,children:te}){const B=Z[ne];return(0,o.h)(y.gq,{alignItems:"center",gap:8},(0,o.h)(B,{className:l.Z.contextIcon,size:14}),(0,o.h)("div",null,te))}function Q({context:ne,type:te,label:B,verb:V,fallbackUser:re,utm_content:le,onClick:ae}){var q;const oe="notes_context",z=(0,a.XA)(),[ie,ue]=(0,m.eJ)(!1),de=(q=ne.users[0])!=null?q:re;if(!de)return null;let fe,ye=ne.users.length-1;return!z&&ne.users.length===2&&(fe=ne.users[1],ye=0),(0,o.h)(J,{type:te},(0,o.h)(g.Zg,{user:de,onClick:ae,utm_source:oe,utm_content:le,color:"secondary",useYou:!0}),fe&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(g.Zg,{user:ne.users[1],onClick:ae,utm_source:oe,utm_content:le,color:"secondary",useYou:!0})),ye>0&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(g.hh,{onClick:()=>{ae(),ue(!0)}},(0,f.pluralize)(ye,"other"))),` ${V}`,(0,o.h)(d.FF,{isOpen:ie,modalLabel:B,faces:ne.users,totalCount:ne.users.length,onClose:()=>ue(!1),utmSource:null}))}},75309:(G,s,e)=>{"use strict";e.d(s,{Ev:()=>Re});var o=e(6400),m=e(30396),f=e(27484),d=e.n(f),g=e(25380),y=e(67747),C=e(66440),v=e(23237),b=e(5149),x=e(80587),E=e(18794),O=e(13808),w=e(6385),_=e(20501),a=e(83322),l=e(53206),P=e(25877),S=e(58718),M=e(63270),R=e(67963),N=e(69371),T=e(96283),A=e(50670),W=e(8479),j=e(39419),Z=e.n(j),J=e(702),Q=e(11059),ne=e(17685),te=e(51126),B=e(76235),V=e(65919),re=e(75425),le=e(95297),ae=e(41474),q=e(91870),oe=e(73413),z=e(10174),ie=e(9869),ue=e(11132),de=e(28967),fe=Object.defineProperty,ye=Object.defineProperties,pe=Object.getOwnPropertyDescriptors,we=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,De=(We,Be,lt)=>Be in We?fe(We,Be,{enumerable:!0,configurable:!0,writable:!0,value:lt}):We[Be]=lt,me=(We,Be)=>{for(var lt in Be||(Be={}))Me.call(Be,lt)&&De(We,lt,Be[lt]);if(we)for(var lt of we(Be))je.call(Be,lt)&&De(We,lt,Be[lt]);return We},ce=(We,Be)=>ye(We,pe(Be)),ge=(We,Be)=>{var lt={};for(var Tt in We)Me.call(We,Tt)&&Be.indexOf(Tt)<0&&(lt[Tt]=We[Tt]);if(We!=null&&we)for(var Tt of we(We))Be.indexOf(Tt)<0&&je.call(We,Tt)&&(lt[Tt]=We[Tt]);return lt},Ie=(We,Be,lt)=>new Promise((Tt,xt)=>{var Gt=ke=>{try{yt(lt.next(ke))}catch(Ve){xt(Ve)}},an=ke=>{try{yt(lt.throw(ke))}catch(Ve){xt(Ve)}},yt=ke=>ke.done?Tt(ke.value):Promise.resolve(ke.value).then(Gt,an);yt((lt=lt.apply(We,Be)).next())});function Re({user:We,post:Be,comment:lt,onClick:Tt,utm_content:xt,publication:Gt,item:an,parentCommentUserId:yt}){const ke=(0,re.pm)(),Ve=(0,R.aF)(),Ne=(0,q.I0)(),Fe=(lt==null?void 0:lt.date)||(Be==null?void 0:Be.post_date),{refetch:Ue}=(0,W.ib)({pathname:`/api/v1/reader/reply/${lt==null?void 0:lt.id}/unhide`,method:"POST"}),{getConfigFor:be}=(0,M.xR)(),nt=!!be("hidden_replies_ui_enabled")&&(lt==null?void 0:lt.hide_reply),Oe=(Ve==null?void 0:Ve.id)&&(Ve==null?void 0:Ve.id)===yt;return(0,o.h)(A.KF,null,(0,o.h)(te.hs,{gap:8,alignItems:"center",flex:"grow"},(0,o.h)(V.Zx,{weight:"medium"},(0,o.h)(T.xG,{user:We,onClick:Tt,utm_source:"substack-feed-item",utm_content:xt,color:nt?"secondary":void 0},We.name)),(0,o.h)(le.s,{className:de.Z.userBadge,tier:We.bestseller_tier,userId:We.id,tooltipOnHover:!0,size:"sm"}),Fe&&(0,o.h)(ut,{timestamp:Fe,comment:lt})),(0,o.h)(te.hs,{style:{maxHeight:20},gap:12,alignItems:"center"},nt&&Oe&&(0,o.h)(ne.kG,{onClick:()=>Ie(this,null,function*(){var K;Ne({type:"reply_unhidden",payload:{comment_id:(K=lt==null?void 0:lt.id)!=null?K:0}}),yield Ue(),ke.popToast(Y=>(0,o.h)(re.FN,ce(me({},Y),{text:"Reply unhidden",Icon:g.Z})))}),className:de.Z.unhideButton},(0,o.h)(te.gq,{alignItems:"center",gap:4},(0,o.h)(y.Z,{size:20}),"Unhide")),(0,o.h)(_t,{publication:Gt!=null?Gt:void 0,post:Be!=null?Be:void 0,comment:lt,item:an})))}const Ke=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function ut({timestamp:We,comment:Be,post:lt,publication:Tt}){return(0,o.h)(T.hh,{href:Be?(0,_.getFeedCommentUrl)(Be,{noBase:oe.L}):lt?(0,_.getFeedShortPostUrl)(Tt,lt):void 0,title:Ke.format(d()(We).toDate()),ellipsis:!1,color:"secondary"},(0,o.h)(A.Ku,{timestamp:We}))}function _t({publication:We,post:Be,comment:lt,item:Tt,permalink:xt}){var Gt,an,yt;const ke=(0,re.pm)(),Ve=(0,N.rI)(),Ne=(0,ue.F)(),Fe=(0,q.I0)(),Ue=(0,q.kc)(),[be,Ge]=(0,m.eJ)(!1),[nt,Oe]=(0,m.eJ)(!1),K=(0,R.aF)(),Y=(an=(Gt=lt==null?void 0:lt.ancestor_path)==null?void 0:Gt.split(".").filter(Boolean).map(Number).map(Et=>Ue.comments.get(Et)))!=null?an:[],he=lt?(0,w.getCommentAuthor)(lt):We&&Be?(0,w.getPostAuthor)(We,Be):{id:0,name:"void"},Te=(0,P.CH)(he,Ve),He=(0,S.oh)(he,Ve),Qe=(0,W.ib)({pathname:`/api/v1/comment/${(yt=lt==null?void 0:lt.id)!=null?yt:0}`,method:"DELETE",json:{publication_id:We==null?void 0:We.id}}),ht=()=>Ie(this,null,function*(){if(!lt||(Oe(!1),Qe.isLoading))return;const Et=yield Qe.refetch();if(Et instanceof Error){alert((0,j.getNetworkErrorMessage)(Et));return}ke.popToast(Ot=>(0,o.h)(re.FN,ce(me({},Ot),{text:"Note deleted",Icon:C.Z}))),Fe({type:"comment_delete",payload:{publication:We,post:Be,comment:lt}})}),ct=(0,z.i3)(),Pt=()=>Ie(this,null,function*(){lt&&ct.open({editComment:lt,tabId:Ne})}),Nt=()=>{Tt&&(0,ae.rw)(Tt,Ve,"menu",{tabId:Ne})},sn=[!lt&&Be&&(0,o.h)(ft,{post:Be}),...He,(0,a.canEditComment)(K,lt)&&(0,o.h)(B.sN,{icon:(0,o.h)(v.Z,null),onClick:Pt},"Edit"),...Te,(0,a.canReportComment)(K,lt)&&(0,o.h)(B.sN,{icon:(0,o.h)(b.Z,null),priority:"destructive",onClick:()=>Ge(!0)},"Report"),(0,a.canDeleteComment)(K,lt,{pub:We,post:Be,parentComments:Y})&&(0,o.h)(B.sN,{icon:(0,o.h)(C.Z,null),priority:"destructive",onClick:()=>Oe(!0)},"Delete")].filter(Boolean);return sn.length===0?null:(0,o.h)(o.Fragment,null,(0,o.h)(B.v2,{trigger:(0,o.h)(ie.K,{"aria-label":"share",permalink:xt,className:de.Z.more},(0,o.h)(x.Z,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,onOpen:Nt},sn),be&&(0,o.h)(J.Z,{className:de.Z.reportModal,pub:We,comment:lt,onClose:()=>Ge(!1),onReportSuccess:()=>{}}),(0,o.h)(Q.a,{isOpen:nt,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:(0,o.h)(ne.zx,{priority:"destructive",onClick:ht},"Delete"),secondaryButton:(0,o.h)(ne.zx,{priority:"secondary",onClick:()=>Oe(!1)},"Cancel"),onClose:()=>Oe(!1)}))}function ft(We){var Be=We,{post:lt}=Be,Tt=ge(Be,["post"]);const xt=(0,q.I0)(),Gt=(0,l.c1)(),an=()=>{const yt=lt.id,ke=!lt.is_saved;(0,l.TJ)(yt,ke,{surface:"reader"}),Gt(ke),xt({type:"post_save",payload:{postId:yt,isSaved:ke}})};return(0,o.h)(B.sN,me({icon:lt.is_saved?(0,o.h)(E.Z,null):(0,o.h)(O.Z,null),onClick:an},Tt),lt.is_saved?"Unsave":"Save")}},8796:(G,s,e)=>{"use strict";e.d(s,{n:()=>v});var o=e(6400),m=e(30396),f=e(25877),d=e(96283),g=e(51126),y=e(65919),C=e(28967);function v({userId:b,comment:x,children:E}){const O=(0,f.KG)(b),w=(0,f.Yq)(),[_,a]=(0,m.eJ)(w);(0,m.d4)(()=>{O&&!w&&a(!1)},[O]);const l=x?x.type==="feed"&&!x.ancestor_path?"note":"reply":"post";return O&&!_?(0,o.h)(g.gq,{radius:8,border:"detail",bg:"secondary",justifyContent:"space-between",alignItems:"center",paddingX:16,paddingY:20,onClick:()=>a(!0),gap:12,className:C.Z.mutedItem},(0,o.h)(g.hs,{flex:"grow",minWidth:0},(0,o.h)(y.xv.B4,{color:"secondary"},"This ",l," is from someone",O==="muting"?" you hid":O==="blocking"?" you blocked":" who has you blocked",".")),O!=="blocked"&&(0,o.h)(y.xv.B4,{color:"secondary",weight:"semibold"},(0,o.h)(d.hh,{onClick:()=>a(!0)},"Show ",l))):(0,o.h)(o.Fragment,null,E)}},73115:(G,s,e)=>{"use strict";e.d(s,{sZ:()=>V,xW:()=>te});var o=e(6400),m=e(99869),f=e(71212),d=e(67358),g=e(17685),y=e(51126),C=e(62246),v=e(65919),b=e(20501),x=e(15045),E=e(70444),O=e(68227),w=e(17835),_=e(66839),a=e(3258),l=e(39419),P=e.n(l),S=e(66399),M=e(55886),R=e(7980),N=Object.defineProperty,T=Object.defineProperties,A=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,J=(oe,z,ie)=>z in oe?N(oe,z,{enumerable:!0,configurable:!0,writable:!0,value:ie}):oe[z]=ie,Q=(oe,z)=>{for(var ie in z||(z={}))j.call(z,ie)&&J(oe,ie,z[ie]);if(W)for(var ie of W(z))Z.call(z,ie)&&J(oe,ie,z[ie]);return oe},ne=(oe,z)=>T(oe,A(z));function te({comment:oe,isOpen:z,onClose:ie}){return(0,o.h)(C.u_,{isOpen:z,onClose:ie},(0,o.h)(B,{comment:oe,onClose:ie}))}function B({comment:oe,onClose:z}){const ie=(0,E.Sg)(oe,{urlParams:{utm_source:"substack",utm_context:"note-share-modal"}});return(0,o.h)(y.tu,{gap:20,paddingBottom:16},(0,o.h)(C.xB,{includeClose:!0,onClose:z}),(0,o.h)(y.hs,{justifyContent:"center"},(0,o.h)(M.t,{src:(0,b.getNoteCommentPreviewUrl)(oe.id),size:340})),(0,o.h)(v.xv.Meta,{align:"center"},"Share via"),(0,o.h)(V,{shareSource:"note-share-modal",shareUrl:ie,shareText:"",shareEventType:"note",comment:oe,itemKey:oe.item_entity_key}))}function V({shareUrl:oe,shareText:z,shareEventType:ie,itemKey:ue,shareSource:de,comment:fe,onShare:ye}){const pe=(0,S.pm)(),we=(Ie,Re)=>{(0,a.j)(a.FP.SHARE_LINK_CLICKED,{name:Ie,type:ie,item_entity_key:ue,source:de});const Ke=Re();Ke&&(Ke.startsWith("http")?window.open(Ke,"_blank"):document.location.href=Ke),ye==null||ye()},Me=()=>{we("copy",()=>{(0,l.copyToClipboard)(oe)}),pe.popToast(Ie=>(0,o.h)(S.FN,ne(Q({},Ie),{text:"Link copied",Icon:m.Z})))},je=()=>{we("twitter",()=>(0,x.pathWithQuery)("https://twitter.com/share",{url:oe,text:z}))},De=()=>{we("facebook",()=>(0,x.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:oe}))},me=()=>{we("linkedin",()=>(0,x.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:oe}))},ce=()=>{we("email",()=>(0,x.pathWithQuery)("mailto:",{subject:z,body:oe}))},ge=()=>{pe.popToast(Ie=>(0,o.h)(S.FN,ne(Q({},Ie),{text:"Downloading image...",Icon:f.Z})))};return(0,o.h)(y.tu,{flex:"grow",justifyContent:"center"},(0,o.h)(y.hs,{gap:8},(0,o.h)(re,null,(0,o.h)(ae,{onClick:je},(0,o.h)(_.Z,{height:48})),(0,o.h)(le,null,"Twitter")),(0,o.h)(re,null,(0,o.h)(ae,{onClick:De},(0,o.h)(O.Z,{height:48})),(0,o.h)(le,null,"Facebook")),(0,o.h)(re,null,(0,o.h)(ae,{onClick:me},(0,o.h)(w.Z,{height:48})),(0,o.h)(le,null,"LinkedIn")),(0,o.h)(re,null,(0,o.h)(q,{onClick:Me},(0,o.h)(m.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(le,null,"Copy Link")),fe?(0,o.h)(re,null,(0,o.h)(q,{onClick:ge,href:(0,b.getNoteCommentPreviewUrl)(fe.id),target:"_blank",download:!0},(0,o.h)(f.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(le,null,"Save image")):(0,o.h)(re,null,(0,o.h)(q,{onClick:ce},(0,o.h)(d.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(le,null,"Email"))))}function re(oe){return(0,o.h)(y.tu,Q({gap:8,alignItems:"center",flex:"grow"},oe))}function le(oe){return(0,o.h)(v.xv.Detail,Q({align:"center",color:"primary"},oe))}function ae(oe){return(0,o.h)(g.kG,Q({resetCss:!0,className:R.Z.shareImageButton},oe))}function q(oe){return(0,o.h)(g.hU,Q({size:48,rounded:!0,fill:"borderless"},oe))}},83097:(G,s,e)=>{"use strict";e.d(s,{q:()=>ue});var o=e(6400),m=e(30396),f=e(8618),d=e(8479),g=e(85928),y=e.n(g),C=e(15045),v=e(70444),b=e(31517),x=e(26240),E=e(34085),O=e(31471),w=e(4190),_=e(63270),a=e(67963);function l(){return h("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("circle",{cx:"80",cy:"80",r:"79.5",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"27.5",fill:"var(--color-bg-primary)",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"13",fill:"var(--color-accent-twitter)"}),h("line",{x1:"132",y1:"126.5",x2:"132",y2:"137.5",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("line",{x1:"126.5",y1:"132",x2:"137.5",y2:"132",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("path",{d:"M118.647 60.5265C118.706 61.3775 118.706 62.2285 118.706 63.0873C118.706 89.2559 98.7843 119.436 62.3569 119.436V119.421C51.5961 119.436 41.0588 116.354 32 110.542C33.5647 110.73 35.1373 110.825 36.7137 110.828C45.6314 110.836 54.2941 107.844 61.3098 102.334C52.8353 102.174 45.4039 96.6481 42.8078 88.5814C45.7765 89.154 48.8353 89.0363 51.749 88.2402C42.5098 86.3736 35.8627 78.2559 35.8627 68.8285C35.8627 68.7422 35.8627 68.6599 35.8627 68.5775C38.6157 70.1108 41.698 70.9618 44.851 71.0559C36.149 65.2402 33.4667 53.6638 38.7216 44.6128C48.7765 56.9853 63.6118 64.5069 79.5373 65.303C77.9412 58.4246 80.1216 51.2167 85.2667 46.3814C93.2431 38.8834 105.788 39.2677 113.286 47.2402C117.722 46.3657 121.973 44.7383 125.863 42.4324C124.384 47.0167 121.29 50.9108 117.157 53.3853C121.082 52.9226 124.918 51.8716 128.529 50.2677C125.871 54.252 122.522 57.7226 118.647 60.5265Z",fill:"var(--color-accent-twitter)"}))}var P=e(55463),S=e(11533),M=e(17685),R=e(86605),N=e(51126),T=e(62246),A=e(65919),W=e(15822),j=e(91870),Z=e(10174),J=e(51731),Q=e(73115),ne=e(50670),te=e(7475),B=e(7980),V=(ye,pe,we)=>new Promise((Me,je)=>{var De=ge=>{try{ce(we.next(ge))}catch(Ie){je(Ie)}},me=ge=>{try{ce(we.throw(ge))}catch(Ie){je(Ie)}},ce=ge=>ge.done?Me(ge.value):Promise.resolve(ge.value).then(De,me);ce((we=we.apply(ye,pe)).next())});function re(){const ye=useUserContext(),pe=new URL(document.location.toString());return useMemo(()=>ye.user&&!ye.userSettings.feed_web_nux_seen_at||pe.searchParams.get("action")==="nux",[])?h(le,null):null}function le(){const ye=useUserContext(),pe=useSiteConfigs(),[we,Me]=useState(!0),[je,De]=useState(1),[me,ce]=useState(null),[ge,Ie]=useState(!1);useEffect(()=>{ye.changeSetting("feed_web_nux_seen_at",new Date().toISOString())},[]);const Re=({skipReload:ut=!1}={})=>{Me(!1),!ut&&ge&&document.location.reload()},Ke=()=>{var ut,_t;let ft=je+1;ft===2&&(ut=ye.user)!=null&&ut.name&&(ft+=1),ft===3&&(!pe.getConfigFor("twitter_connect_flows_enabled")||(_t=ye.user)!=null&&_t.has_linked_twitter)&&(ft+=1),ft===4&&(pe.getConfigFor("notes_onboarding_suggestions_enabled")||(ft+=1)),De(ft)};return h(Modal,{isOpen:we,onClose:Re,width:440,overflow:"hidden"},je===1?h(ae,{onClose:Re,onNext:Ke}):je===2?h(q,{onClose:Re,onNext:Ke}):je===3?h(oe,{onClose:Re,onNext:Ke,onSkip:()=>De(je+2)}):je===4?h(z,{onClose:Re,onNext:ut=>{Ie(ut),Ke()}}):je===5?h(ie,{onPublish:ut=>{ce(ut),Ke()},onClose:Re}):je===6&&me?h(ue,{onClose:Re,comment:me}):null)}function ae({onClose:ye,onNext:pe}){return h(Fragment,null,h(FlexColumn,null,h(CloseButton,{onClick:ye,priority:"media",fill:"borderless",style:{position:"absolute",top:8,right:8}}),h(ResponsiveImg,{src:"/img/reader/nux-web@3x.png",maxWidth:880,imageProps:{height:304}})),h(FlexColumn,{gap:8,padding:16},h(Text.H2,{weight:"semibold",align:"center"},"Introducing: Notes"),h(Text.B3,{align:"center",color:"secondary"},"Notes is a new space to share what you're reading and keep up with your favorite writers on Substack."," ",h("a",{href:"https://on.substack.com/p/notes",target:"_blank",rel:"noopener"},"Learn more"))),h(fe,null,h(Button,{priority:"primary",onClick:pe},"Get started")))}function q({onClose:ye,onNext:pe}){const we=useUserContext();return h(Fragment,null,h(ModalHeader,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:ye}),h(ProfileUpdater,{className:css.setupProfileModalContent,pageTitle:"",user:we.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:Me=>{we.setUser(Me.body),pe()}}))}function oe({onClose:ye,onNext:pe,onSkip:we}){return useEffect(()=>{const Me=je=>{var De;je.origin===document.location.origin&&((De=je.data)==null?void 0:De.type)==="twitter-success"&&pe()};return window.addEventListener("message",Me),()=>{window.removeEventListener("message",Me)}},[]),h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:ye}),h(FlexColumn,{padding:16},h(FlexColumn,{alignItems:"center",gap:8},h(Text.H2,{weight:"semibold"},"Connect Twitter"),h(Text.B3,{align:"center",color:"secondary"},"Instantly find people you know on Substack.")),h(FlexColumn,{alignItems:"center",paddingY:32},h(TwitterConnectIcon,null))),h(fe,null,h(Button,{priority:"twitter",href:getConnectTwitterUrl({type:"reader2",redirect:pathWithQuery(FEED_PATH,{action:"notify-opener"})}),newTab:!0},"Connect Twitter"),h(Button,{onClick:we,priority:"secondary",fill:"empty"},"Skip")))}function z({onClose:ye,onNext:pe}){const{exposeExperiment:we}=useExperiments(),{result:Me,isLoading:je,error:De}=useFetch({pathname:"/api/v1/reader/feed/user-suggestions",query:{limit:7},auto:!0}),me=Me==null?void 0:Me.suggestions;return useEffect(()=>{me&&me.length===0?pe(!1):we("people_you_may_know_algorithm_7")},[me]),h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:ye}),h(FlexColumn,{padding:16,alignItems:"center",gap:8},h(Text.H2,{weight:"semibold"},"Choose your subscriptions"),h(Text.B3,{color:"secondary",align:"center"},"Subscribe to people to see their notes.")),De?"Error":!me||je?h(FlexColumn,{alignItems:"center",padding:24},h(DrunkSpinner,null)):h(UserSuggestions,{suggestions:me,onSuccess:pe,secondaryButton:h(Button,{onClick:()=>pe(!1),priority:"secondary",fill:"empty"},"Skip"),source:"feed-nux"}))}function ie({onClose:ye,onPublish:pe}){const we=useUser(),Me=useComposerModal(),{create:je,isLoading:De}=useCreateShortPost(),me=useDispatch(),[ce,ge]=useRouter(),{exposeExperiment:Ie,getExperimentVariant:Re}=useExperiments();if(useResource(()=>Promise.all([e.e(313),e.e(171),e.e(563),e.e(27)]).then(e.bind(e,84563)),[]),!we)return null;Ie("feed_nux_empty_message");const Ke=Re("feed_nux_empty_message")==="treatment",ut="Hello, Notes! What's going on?",_t=()=>V(this,null,function*(){if(!De){if(Ke)ye({skipReload:!0}),Me.open({initialText:""});else{const{textToJsonCore:We}=yield Promise.all([e.e(313),e.e(171),e.e(563),e.e(27)]).then(e.bind(e,84563)),Be=yield je({bodyJson:We(ut)});if(Be instanceof Error)return;pe(Be),me({type:"new_comment",payload:{comment:Be}})}document.location.pathname!==FEED_PATH&&ge(FEED_PATH)}}),ft=()=>{ye({skipReload:!0}),Me.open({initialText:ut})};return h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:ye}),h(FlexColumn,{alignItems:"center",gap:8,padding:16},h(Text.H2,{weight:"semibold"},"Time to say hello!"),h(Text.B3,{align:"center",color:"secondary"},"Send your first note to tell others you've arrived.")),h(FlexColumn,{paddingX:16,paddingTop:8,paddingBottom:16},h(FlexColumn,{border:"detail",shadow:"lg",padding:16,radius:12},h(FlexBox,{gap:12},h(FeedAvatarImage,{user:we}),h(FlexColumn,{flex:"grow",minWidth:0},h(Text.B3,{weight:"semibold",ellipsis:!0},we.name),h(Text.B4,{color:"secondary"},dayjs().fromNowShort()))),h(FlexColumn,{paddingY:16,borderBottom:"detail"},h(Text,{font:"text",size:18},ut)),h(FlexBox,{style:{gap:34}},h(de,null,h(Heart,{stroke:"var(--color-secondary)",size:20}),h(Text.Button,{color:"secondary"},"Like")),h(de,null,h(NoteReplyIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Reply")),h(de,null,h(NoteForwardIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Restack"))))),h(FlexColumn,{padding:16,gap:8},h(Button,{priority:"primary",onClick:_t,disabled:De},Ke?"Say hello":"Send now"),!Ke&&h(Button,{onClick:ft,priority:"secondary",fill:"empty",disabled:De},"Edit note")))}function ue({onClose:ye,comment:pe}){const we=(0,v.Sg)(pe,{urlParams:{utm_source:"substack",utm_context:"first-note-modal"}}),Me=`I just joined Substack Notes
`,je=(0,a.aF)();return je?(0,o.h)(o.Fragment,null,(0,o.h)(T.xB,{includeClose:!0,onClose:ye}),(0,o.h)(N.tu,{padding:16},(0,o.h)(N.tu,{alignItems:"center",gap:4,padding:16},(0,o.h)(A.xv.H2,{weight:"semibold"},"Share your first Note"),(0,o.h)(A.xv.B3,{align:"center",color:"secondary"},"Invite your friends and followers to join you on Notes")),(0,o.h)(N.tu,{gap:24,paddingTop:8,paddingBottom:32,paddingX:16},(0,o.h)(N.tu,{paddingTop:8,paddingBottom:16},(0,o.h)(N.tu,{border:"detail",shadow:"lg",padding:16,radius:12},(0,o.h)(N.hs,{gap:12},(0,o.h)(ne.Zb,{user:je}),(0,o.h)(N.tu,{flex:"grow",minWidth:0},je&&(0,o.h)(A.xv.B3,{weight:"semibold",ellipsis:!0},je.name),(0,o.h)(A.xv.B4,{color:"secondary"},y()().fromNowShort()))),(0,o.h)(N.tu,{paddingY:16,borderBottom:"detail"},(0,o.h)(A.xv,{font:"text",size:18},(0,o.h)(J.bN,{comment:pe,publication:null}))),(0,o.h)(N.hs,{style:{gap:34}},(0,o.h)(de,null,(0,o.h)(f.Z,{stroke:"var(--color-secondary)",size:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Like")),(0,o.h)(de,null,(0,o.h)(x.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Reply")),(0,o.h)(de,null,(0,o.h)(b.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Restack"))))),(0,o.h)(A.xv.Meta,{align:"center"},"Share via"),(0,o.h)(Q.sZ,{shareSource:"first-note-modal",shareUrl:we,shareText:Me,shareEventType:"note",itemKey:pe.item_entity_key})))):null}function de({children:ye}){return(0,o.h)(N.hs,{alignItems:"center",gap:8,paddingTop:16},ye)}function fe({children:ye}){return h(FlexColumn,{padding:16,borderTop:"detail",gap:8},ye)}},2387:(G,s,e)=>{"use strict";e.d(s,{n:()=>y});var o=e(6400),m=e(20447),f=e(50670),d=e(51126),g=e(33510);function y(){return(0,o.h)(d.tu,null,Array(8).fill(0).map(()=>(0,o.h)(C,null)))}function C(){return(0,o.h)(m.O3,null,(0,o.h)(f.oM,null,(0,o.h)(d.hs,{gap:12},(0,o.h)(g.Vm,{type:"circle",size:48}),(0,o.h)(d.tu,{gap:12,flex:"grow"},(0,o.h)(g.Vm,{height:20,width:100}),Array(3).fill(0).map(()=>(0,o.h)(g.Vm,{height:20,width:`${30+Math.random()*70}%`}))))))}},66337:(G,s,e)=>{"use strict";e.d(s,{I:()=>a});var o=e(6400),m=e(94184),f=e.n(m),d=e(15045),g=e(20501),y=e(31471),C=e(16527),v=e(51126),b=e(65919),x=e(73413),E=e(33510),O=e(68262),w=e(44396),_=e(28967);function a({post:l,publication:P,readOnly:S,onClick:M}){const R=(0,w.XA)(),N=l.cover_image;return(0,o.h)(v.tu,{as:S?"div":"a",className:_.Z.post,bg:"elevated",border:"detail",radius:12,onClick:T=>{M&&M(),!S&&x.L&&!R&&(0,C.Q)(T,(0,g.getPostUrl)(P,l,{noBase:!0,feedViewer:!0}))},href:S?void 0:(0,g.getPostUrl)(P,l,{feedViewer:!1}),minWidth:0},N&&(0,o.h)(y.e,{className:f()(_.Z.postImage,R&&_.Z.mobile),imageProps:{smartCrop:!0,aspect:R?"3:2":"2:1"},src:N,maxWidth:1e3}),(0,o.h)(v.tu,{gap:4,padding:12,borderTop:N?"detail":"transparent"},(0,o.h)(v.hs,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},(0,o.h)(O.F,{pub:P,size:20}),(0,o.h)(b.xv.Meta,{ellipsis:!0},S?P.name:(0,o.h)(E.zr,{href:(0,d.getPubUrl)(P)},P.name))),(0,o.h)(b.xv.B3,{clamp:R?1:2,color:"primary",weight:"medium"},l.title),(0,o.h)(b.xv.B4,{clamp:2,color:"secondary"},l.description)))}},11132:(G,s,e)=>{"use strict";e.d(s,{F:()=>d,q:()=>f});var o=e(98661),m=e(30396);const f=(0,o.createContext)(void 0);function d(){return(0,m.qp)(f)}},96283:(G,s,e)=>{"use strict";e.d(s,{Zg:()=>S,hh:()=>R,xG:()=>M});var o=e(6400),m=e(20501),f=e(80332),d=e(67963),g=e(65919),y=e(73413),C=e(18130),v=Object.defineProperty,b=Object.defineProperties,x=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,_=(N,T,A)=>T in N?v(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,a=(N,T)=>{for(var A in T||(T={}))O.call(T,A)&&_(N,A,T[A]);if(E)for(var A of E(T))w.call(T,A)&&_(N,A,T[A]);return N},l=(N,T)=>b(N,x(T)),P=(N,T)=>{var A={};for(var W in N)O.call(N,W)&&T.indexOf(W)<0&&(A[W]=N[W]);if(N!=null&&E)for(var W of E(N))T.indexOf(W)<0&&w.call(N,W)&&(A[W]=N[W]);return A};function S(N){var T=N,{user:A,utm_source:W,utm_content:j,ellipsis:Z,useYou:J,onClick:Q}=T,ne=P(T,["user","utm_source","utm_content","ellipsis","useYou","onClick"]);const te=(0,d.aF)(),B=(A==null?void 0:A.id)||(A==null?void 0:A.user_id)||0,V=J&&(te==null?void 0:te.id)===B?"You":A.name;return(0,o.h)(M,a({user:A,utm_source:W,utm_content:j,ellipsis:Z,onClick:Q},ne),V)}function M(N){var T=N,{user:A,utm_source:W,utm_content:j,children:Z,onClick:J}=T,Q=P(T,["user","utm_source","utm_content","children","onClick"]);const ne=l(a({},A),{id:A.author_id||A.user_id||A.id,name:A.user_profile_name||A.author_name||A.name,handle:(A==null?void 0:A.handle)||(A==null?void 0:A.author_handle)});return(0,o.h)(f.Ct,{subject:ne,dontStopPropagation:!0,utmSource:"feed",inline:!0},(0,o.h)(R,a({href:(0,m.getReaderProfileUrl)(A,{noBase:y.L,utm_content:j,utm_source:W}),onClick:J},Q),Z))}function R(N){var T=N,{weight:A,color:W,decoration:j="hover-underline",ellipsis:Z}=T,J=P(T,["weight","color","decoration","ellipsis"]);return(0,o.h)(g.Zx,{ellipsis:Z,weight:A,color:W,decoration:j},(0,o.h)(C.r,a({},J)))}},59386:(G,s,e)=>{"use strict";e.d(s,{m:()=>O});var o=e(6400),m=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,v=(w,_,a)=>_ in w?m(w,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):w[_]=a,b=(w,_)=>{for(var a in _||(_={}))y.call(_,a)&&v(w,a,_[a]);if(g)for(var a of g(_))C.call(_,a)&&v(w,a,_[a]);return w},x=(w,_)=>f(w,d(_)),E=(w,_)=>{var a={};for(var l in w)y.call(w,l)&&_.indexOf(l)<0&&(a[l]=w[l]);if(w!=null&&g)for(var l of g(w))_.indexOf(l)<0&&C.call(w,l)&&(a[l]=w[l]);return a};function O(w){var _=w,{size:a=24,stroke:l="var(--color-light-secondary)"}=_,P=E(_,["size","stroke"]);return(0,o.h)("svg",x(b({},P),{width:a,height:a,viewBox:"0 0 20 20",fill:"none",stroke:l,xmlns:"http://www.w3.org/2000/svg"}),(0,o.h)("path",{d:"M15.402 4.9369L5.74277 2.34871C4.85366 2.11047 3.93976 2.63811 3.70153 3.52722L1.11338 13.1863C0.875145 14.0754 1.40277 14.9893 2.29187 15.2276L4.74872 15.8859M8.70371 11.6666H14.6296M5 6.66669V16.6665C5 17.587 5.74618 18.3332 6.66664 18.3332L16.6666 18.3333C17.5871 18.3333 18.3333 17.5872 18.3333 16.6667V6.66669C18.3333 5.74622 17.5871 5.00002 16.6667 5.00002H6.66667C5.74619 5.00002 5 5.74622 5 6.66669Z","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(G,s,e)=>{"use strict";e.d(s,{Fb:()=>Q,KF:()=>j,Ku:()=>W,Zb:()=>Z,oM:()=>N,sP:()=>J});var o=e(6400),m=e(94184),f=e.n(m),d=e(85928),g=e.n(d),y=e(20501),C=e(80332),v=e(51126),b=e(65919),x=e(10186),E=e(73413),O=e(44396),w=e(28967),_=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(ne,te,B)=>te in ne?_(ne,te,{enumerable:!0,configurable:!0,writable:!0,value:B}):ne[te]=B,M=(ne,te)=>{for(var B in te||(te={}))l.call(te,B)&&S(ne,B,te[B]);if(a)for(var B of a(te))P.call(te,B)&&S(ne,B,te[B]);return ne},R=(ne,te)=>{var B={};for(var V in ne)l.call(ne,V)&&te.indexOf(V)<0&&(B[V]=ne[V]);if(ne!=null&&a)for(var V of a(ne))te.indexOf(V)<0&&P.call(ne,V)&&(B[V]=ne[V]);return B};function N(ne){var te=ne,{showGutter:B=!1,hasAvatar:V=!0,hasContext:re=!1,onClick:le}=te,ae=R(te,["showGutter","hasAvatar","hasContext","onClick"]);const q=le?oe=>{const{target:z}=oe;z instanceof Element&&z.closest("button, a")||oe.defaultPrevented||le(oe)}:void 0;return(0,o.h)(v.tu,M({className:f()(w.Z.feedUnit,B?w.Z.showThreadGutter:void 0,re?w.Z.hasContext:void 0,le&&w.Z.hasAction,V?w.Z.hasAvatar:void 0),gap:4,onClick:q},ae))}const T=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),A=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function W({timestamp:ne}){const te=g()(),B=g()(ne),V=te.diff(B,"day"),re=te.diff(B,"year");let le;return re>=1?le=A.format(B.toDate()):V>7?le=T.format(B.toDate()):le=B.fromNowShort(),(0,o.h)(b.Zx,{color:"secondary"},ne&&le)}function j({children:ne}){return(0,o.h)(b.xv.B3,null,(0,o.h)(v.hs,{flex:"grow",minWidth:0},(0,o.h)(v.hs,{gap:8,alignItems:"center",flex:"grow"},ne)))}function Z({user:ne,className:te}){const B=(0,O.XA)();return(0,o.h)(x.qE,{size:B?40:48,user:ne,className:te})}function J({large:ne,children:te}){return(0,o.h)(b.xv.B3,{className:w.Z.feedCommentBodyInner,size:ne?20:16,lineHeight:ne?30:24,color:"primary"},te)}function Q({user:ne,onClick:te,utm_content:B,desaturate:V}){return(0,o.h)(v.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,y.getReaderProfileUrl)(ne,{noBase:E.L,utm_content:B}),onClick:te},(0,o.h)(C.Ct,{subject:ne,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(Z,{user:ne,className:V?w.Z.desaturate:void 0})))}},7475:(G,s,e)=>{"use strict";var o=e(6400),m=e(30396),f=e(15045),d=e(2731),g=e(80332),y=e(8479),C=e(17685),v=e(51126),b=e(53570),x=e(65919),E=e(10186),O=e(44695),w=(l,P,S)=>new Promise((M,R)=>{var N=W=>{try{A(S.next(W))}catch(j){R(j)}},T=W=>{try{A(S.throw(W))}catch(j){R(j)}},A=W=>W.done?M(W.value):Promise.resolve(W.value).then(N,T);A((S=S.apply(l,P)).next())});function _({suggestions:l,secondaryButton:P,onSuccess:S,source:M="feed-user-suggestions"}){const R=l.filter(J=>J.user.name).sort((J,Q)=>J.publication&&Q.publication?0:J.publication?-1:1),{isLoading:N,refetch:T}=useFetch({pathname:"/api/v1/reader/feed/bulk-subscribe",method:"POST"}),[A,W]=useState(()=>new Set(R.map(J=>J.user.id))),j=(J,Q)=>{const ne=new Set(A);Q?ne.add(J):ne.delete(J),W(ne)},Z=()=>w(this,null,function*(){if(N)return;const J=[...A].map(ne=>R.find(te=>te.user.id===ne)).filter(ne=>!!ne).map(ne=>{var te;return{user_id:ne.user.id,publication_id:(te=ne.publication)==null?void 0:te.id}}),Q=yield T({json:{suggestions:J,source:M}});Q instanceof Error?alert(Q instanceof FetchError?Q.getMessage():"Error"):S(J.length>0)});return h(Fragment,null,h(FlexColumn,{paddingX:16},h(FlexColumn,{borderTop:"detail",overflowY:"auto",style:{maxHeight:422}},h(FlexColumn,{gap:16,paddingY:16},R.map(({user:J,publication:Q})=>h(a,{key:J.id,user:J,pub:Q,isSelected:A.has(J.id),onChange:ne=>j(J.id,ne),disabled:N}))))),h(FlexColumn,{padding:16,gap:8,borderTop:"detail"},h(Button,{priority:"primary",onClick:Z,disabled:N||A.size===0},A.size!==0?`Subscribe to ${String(A.size)} and continue`:"Add at least one subscription"),P))}function a({user:l,pub:P,isSelected:S,onChange:M,disabled:R}){return h(FlexBox,{gap:12,alignItems:"center"},h(AvatarWithPub,{size:40,user:l,pub:P}),h(FlexColumn,{gap:2,flex:"grow",minWidth:0},h(Text.B4,{ellipsis:!0},h(ProfileHoverCard,{subject:l,inline:!0},h(Text,{as:"a",decoration:"hover-underline",target:"_blank",rel:"noopener",href:getReaderProfileUrl(l)},l.name))),h(Text.B4,{color:"secondary",ellipsis:!0},P&&h(PublicationHoverCard,{publication_id:P.id,inline:!0},h(Text,{as:"a",decoration:"hover-underline",target:"_blank",rel:"noopener",href:getPubUrl(P)},P.name)))),h(Checkbox,{checked:S,onChange:M,disabled:R}))}},69371:(G,s,e)=>{"use strict";e.d(s,{$U:()=>b,rI:()=>O});var o=e(6400),m=e(98661),f=e(30396),d=e(81470),g=e(9686),y=e(91870),C=e(50292),v=e(10174);function b({state:w,dispatch:_,surface:a,children:l}){const{onboardingModalRef:P}=(0,C.SJ)(),S=(0,f.Ye)(()=>({dispatch:_}),[]);return(0,o.h)(x.Provider,{value:a},(0,o.h)(y.RR.Provider,{value:S},(0,o.h)(y.ev.Provider,{value:w},(0,o.h)(v.Au,null,l,w.isSigningIn&&(0,o.h)(g.I,{onCancel:()=>_({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{_({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var M;_({type:"sign_in",payload:{isSigningIn:!1}}),(M=P.current)==null||M.open()},noExit:w.signInNoExit})))))}const x=(0,m.createContext)(d.Uo.Feed);function E({surface:w,children:_}){return h(x.Provider,{value:w},_)}function O(){return(0,f.qp)(x)}},55463:(G,s,e)=>{"use strict";e.d(s,{a:()=>f});var o=e(8479),m=(d,g,y)=>new Promise((C,v)=>{var b=O=>{try{E(y.next(O))}catch(w){v(w)}},x=O=>{try{E(y.throw(O))}catch(w){v(w)}},E=O=>O.done?C(O.value):Promise.resolve(O.value).then(b,x);E((y=y.apply(d,g)).next())});function f({editComment:d}={}){const g=(0,o.ib)({pathname:d?`/api/v1/feed/comment/${d.id}`:"/api/v1/comment/feed"});return{create:y=>m(this,[y],function*({bodyJson:C,parentPostId:v,parentPubId:b,parent_id:x,attachmentIds:E,tabId:O,replyMinimumRole:w}){return yield g.refetch({pathname:d?`/api/v1/feed/comment/${d.id}`:v?`/api/v1/post/${v}/comment`:"/api/v1/comment/feed",method:d?"PATCH":"POST",json:{bodyJson:C,parent_id:x,publication_id:b,attachmentIds:E,tabId:O,replyMinimumRole:w}})}),error:g.error,isLoading:g.isLoading}}},15748:(G,s,e)=>{"use strict";e.d(s,{g:()=>a});var o=e(6400),m=e(99869),f=e(75425),d=e(39419),g=e.n(d),y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(l,P,S)=>P in l?y(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,w=(l,P)=>{for(var S in P||(P={}))x.call(P,S)&&O(l,S,P[S]);if(b)for(var S of b(P))E.call(P,S)&&O(l,S,P[S]);return l},_=(l,P)=>C(l,v(P));function a(){const l=(0,f.pm)();return P=>{(0,d.copyToClipboard)(P),l.popToast(S=>(0,o.h)(f.FN,_(w({},S),{text:"Link copied",Icon:m.Z})))}}},39776:(G,s,e)=>{"use strict";e.r(s),e.d(s,{SiteConfigGate:()=>g,default:()=>d,getConfigFor:()=>f});var o=e(6400),m=e(63270);function f(y){var C;if(!y||typeof window=="undefined"||!((C=window._preloads)!=null&&C.siteConfigs))return null;const v=window._preloads.siteConfigs[y];return v===void 0?null:v}const d=f;function g({configKey:y,children:C,value:v=!0}){return(0,m.xR)().getConfigFor(y)==v?(0,o.h)(o.Fragment,null,C):null}},35225:(G,s,e)=>{"use strict";e.d(s,{S:()=>R});var o=e(6400),m=e(8618),f=e(85928),d=e.n(f),g=e(61782),y=e(15045),C=e(13833),v=e(75425),b=e(3258),x=e(58884),E=Object.defineProperty,O=Object.defineProperties,w=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,P=(N,T,A)=>T in N?E(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,S=(N,T)=>{for(var A in T||(T={}))a.call(T,A)&&P(N,A,T[A]);if(_)for(var A of _(T))l.call(T,A)&&P(N,A,T[A]);return N},M=(N,T)=>O(N,w(T));function R({user:N,noBase:T}){const A=(0,v.pm)(),W=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const j="has_seen_like_nux",Z=(0,x.mM)(j),J=g.L;return Z&&N&&!N.has_seen_like_nux?(W(),!1):!N||!N.profile_set_up_at||N.subscription_visibility==="private"||!N.activity_likes_enabled||Z||N.has_seen_like_nux||d()((N==null?void 0:N.profile_set_up_at)||0).unix()>J?!1:((0,b.j)(b.FP.LIKE_NUX_SHOWN),(0,x.ex)(j,!0),W(),A.popToast(Q=>(0,o.h)(v.Us,M(S({},Q),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,o.h)(o.Fragment,null,(0,o.h)(v.lL,{href:(0,y.getReaderProfileUrl)(N,{utm_source:"like_toast",noBase:T})},(0,o.h)(C.Av,null,"OK")),(0,o.h)(v.lL,{href:(0,y.getEditProfileUrl)({params:{utm_source:"like_toast"}})},(0,o.h)(C.Av,{color:"secondary"},"Settings"))),Icon:m.Z}))),!0)}}},11059:(G,s,e)=>{"use strict";e.d(s,{a:()=>v});var o=e(6400),m=e(30396),f=e(84606),d=e(17685),g=e(34394),y=e(62246),C=e(65919);const v=({isOpen:b=!1,title:x,body:E,onClose:O,customPrimaryButton:w,secondaryButton:_,confirmationString:a})=>{const l=(0,m.sO)(null),[P,S]=(0,m.eJ)(!!a);return(0,m.d4)(()=>{b&&a&&S(!0)},[b,a]),(0,o.h)(y.u_,{isOpen:b,onClose:O,initialFocus:l},x&&(0,o.h)(y.xB,{title:x,includeClose:!1}),(0,o.h)(y.fe,null,(0,o.h)(C.xv.B3,null,E),a&&(0,o.h)(f.x,{paddingTop:16},(0,o.h)(g.o,{onChange:M=>{S(!0),a.toLowerCase()===M.target.value.toLowerCase()&&S(!1)}}))),(0,o.h)(y.mz,{primaryButton:w?(0,o.cloneElement)(w,{ref:l,disabled:P}):(0,o.h)(d.zx,{ref:l,onClick:O,priority:"primary",disabled:P},"OK"),secondaryButton:_}))}},83787:(G,s,e)=>{"use strict";e.d(s,{H:()=>d});var o=e(6400),m=e(30396);const f=150,d=({children:g,expanded:y,renderWhenCollapsed:C,onEnter:v,flex:b})=>{const x=(0,m.sO)(null),[E,O]=(0,m.eJ)(y?"expanded":"collapsed"),[w,_]=(0,m.eJ)(null);return(0,m.d4)(()=>{y&&E==="collapsed"&&O("startExpanding"),E==="startExpanding"&&x.current&&(_(x.current.offsetHeight),O("expanding"),setTimeout(()=>{O("expanded"),v&&v()},f)),!y&&E==="expanded"&&x.current&&(_(x.current.offsetHeight),O("startCollapsing")),E==="startCollapsing"&&(O("collapsing"),setTimeout(()=>{O("collapsed")},f))},[y,E]),(0,o.h)("div",{style:{height:E==="collapsed"||E==="startExpanding"||E==="collapsing"?0:E==="expanding"||E==="startCollapsing"?w:null,transition:`height ${f}ms ease-in-out`,overflow:E==="expanded"?"visible":"hidden",display:b?"flex":"block",flexDirection:"column"}},(0,o.h)("div",{ref:x,style:{paddingTop:.05,paddingBottom:.05,display:b?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(E!=="collapsed"||C)&&g))}},84606:(G,s,e)=>{"use strict";e.d(s,{E:()=>M,x:()=>S});var o=e(6400),m=e(98661),f=e(94184),d=e.n(f),g=e(19206),y=e(28614),C=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,w=(R,N,T)=>N in R?C(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,_=(R,N)=>{for(var T in N||(N={}))E.call(N,T)&&w(R,T,N[T]);if(x)for(var T of x(N))O.call(N,T)&&w(R,T,N[T]);return R},a=(R,N)=>v(R,b(N)),l=(R,N)=>{var T={};for(var A in R)E.call(R,A)&&N.indexOf(A)<0&&(T[A]=R[A]);if(R!=null&&x)for(var A of x(R))N.indexOf(A)<0&&O.call(R,A)&&(T[A]=R[A]);return T};const P=R=>{var N,T;return R?typeof R=="object"?[(N=R.desktop)!=null?N:null,(T=R.mobile)!=null?T:null]:[R,null]:[null,null]},S=(0,m.forwardRef)(function(N,T){var A=N,{display:W,as:j,className:Z,direction:J,flex:Q,inline:ne,wrap:te,gap:B,padding:V,paddingX:re,paddingY:le,paddingTop:ae,paddingBottom:q,paddingLeft:oe,paddingRight:z,justifyContent:ie,alignItems:ue,alignSelf:de,minWidth:fe,minHeight:ye,style:pe,border:we,borderTop:Me,borderBottom:je,borderLeft:De,borderRight:me,borderY:ce,radius:ge,shadow:Ie,bg:Re,overflowY:Ke,overflowX:ut,sizing:_t,ellipsis:ft,pullX:We,textAlign:Be,fontSize:lt,fontWeight:Tt,color:xt,decoration:Gt,font:an,fontStyle:yt,isParagraph:ke,lineHeight:Ve,textTransform:Ne,nowrap:Fe,clamp:Ue,position:be}=A,Ge=l(A,["display","as","className","direction","flex","inline","wrap","gap","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","justifyContent","alignItems","alignSelf","minWidth","minHeight","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","shadow","bg","overflowY","overflowX","sizing","ellipsis","pullX","textAlign","fontSize","fontWeight","color","decoration","font","fontStyle","isParagraph","lineHeight","textTransform","nowrap","clamp","position"]);const nt=j!=null?j:"div",[Oe,K]=P(B),[Y,he]=P(V),[Te,He]=P(re),[Qe,ht]=P(le),[ct,Pt]=P(ae),[Nt,sn]=P(q),[Et,Ot]=P(oe),[at,Ht]=P(z),[zt,on]=P(J),[hn,gn]=P(te),[bn,Un]=P(ie),[qn,cr]=P(ue),[hr,pr]=P(W);return(0,o.h)(nt,_({ref:T,className:d()("pencraft",{[g.Z.flexGrow]:Q==="grow",[g.Z.flexFill]:Q==="fill",[g.Z.flexAuto]:Q==="auto"},g.Z.reset,W!=null&&g.Z[`display-${hr}`],ne&&g.Z["display-inline-flex"],zt!=null&&g.Z[`flex-direction-${zt}`],hn!=null&&g.Z[`flex-wrap-${hn}`],bn!=null&&g.Z[`flex-justify-${bn}`],qn!=null&&g.Z[`flex-align-${qn}`],de!=null&&g.Z[`flex-align-self-${de}`],Oe!=null&&g.Z[`flex-gap-${Oe}`],Y!=null&&g.Z[`padding-${Y}`],Te!=null&&g.Z[`padding-x-${Te}`],Qe!=null&&g.Z[`padding-y-${Qe}`],ct!=null&&g.Z[`padding-top-${ct}`],Nt!=null&&g.Z[`padding-bottom-${Nt}`],Et!=null&&g.Z[`padding-left-${Et}`],at!=null&&g.Z[`padding-right-${at}`],on!=null&&g.Z[`flex-direction-mobile-${on}`],gn!=null&&g.Z[`flex-wrap-mobile-${gn}`],Un!=null&&g.Z[`flex-justify-mobile-${Un}`],K!=null&&g.Z[`flex-gap-mobile-${K}`],cr!=null&&g.Z[`flex-align-mobile-${cr}`],he!=null&&g.Z[`padding-mobile-${he}`],He!=null&&g.Z[`padding-x-mobile-${He}`],ht!=null&&g.Z[`padding-y-mobile-${ht}`],Pt!=null&&g.Z[`padding-top-mobile-${Pt}`],sn!=null&&g.Z[`padding-bottom-mobile-${sn}`],Ot!=null&&g.Z[`padding-left-mobile-${Ot}`],Ht!=null&&g.Z[`padding-right-mobile-${Ht}`],pr!=null&&g.Z[`display-mobile-${pr}`],fe!=null&&g.Z[`min-width-${fe}`],ye!=null&&g.Z[`min-height-${ye}`],we&&g.Z[`border-${we}`],Me&&g.Z[`border-top-${Me}`],je&&g.Z[`border-bottom-${je}`],De&&g.Z[`border-left-${De}`],me&&g.Z[`border-right-${me}`],ce&&g.Z[`border-y-${ce}`],ge!=null&&g.Z[`border-radius-${ge}`],Ie&&g.Z[`shadow-${Ie}`],Re!=null&&g.Z[`bg-${Re}`],Ke&&g.Z[`overflowY-${Ke}`],ut&&g.Z[`overflowX-${ut}`],_t&&g.Z[`sizing-${_t}`],ft&&g.Z.ellipsis,We&&g.Z[`pullX-${We}`],be&&g.Z[`position-${be}`],Be&&y.Z[`align-${Be}`],lt&&y.Z[`size-${lt}`],Ve&&y.Z[`line-height-${Ve}`],Tt&&y.Z[`weight-${Tt}`],an&&y.Z[`font-${an}`],yt&&y.Z[`font-style-${yt}`],xt&&y.Z[`color-${xt}`],Ne&&y.Z[`transform-${Ne}`],Fe&&y.Z.nowrap,Ue&&`${y.Z.clamp} ${y.Z[`clamp-${Ue}`]}`,Gt&&y.Z[`decoration-${Gt}`],ke&&y.Z.paragraph,Z),style:pe},Ge))});function M(R){var N=R,{className:T,displayName:A}=N,W=l(N,["className","displayName"]);const j=(0,m.forwardRef)((Z,J)=>{var Q=Z,{className:ne}=Q,te=l(Q,["className"]);return(0,o.h)(S,a(_(_({},W),te),{ref:J,className:d()(T,ne)}))});return j.displayName=A,j}},17685:(G,s,e)=>{"use strict";e.d(s,{zx:()=>R,hU:()=>N,kG:()=>M});var o=e(6400),m=e(98661),f=e(94184),d=e.n(f),g=e(39419),y=e(65919),C=e(19206);const v={buttonBase:"frontend-pencraft-Button-module__buttonBase--T0hXz",button:"frontend-pencraft-Button-module__button--d6e9L",grow:"frontend-pencraft-Button-module__grow--PaHXm",size_small:"frontend-pencraft-Button-module__size_small--pFP3O",size_medium:"frontend-pencraft-Button-module__size_medium--PaDMH",size_large:"frontend-pencraft-Button-module__size_large--QbIQV",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--iMIYK",iconButton:"frontend-pencraft-Button-module__iconButton--xpBoH frontend-pencraft-Button-module__buttonBase--T0hXz",size_24:"frontend-pencraft-Button-module__size_24--ydERA",size_32:"frontend-pencraft-Button-module__size_32--KERai",size_36:"frontend-pencraft-Button-module__size_36--VC9z1",size_40:"frontend-pencraft-Button-module__size_40--RASvV",size_48:"frontend-pencraft-Button-module__size_48--yVywS",size_56:"frontend-pencraft-Button-module__size_56--K4npu",rounded:"frontend-pencraft-Button-module__rounded--D6jfD","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--xeutz",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--atCUO",priority_primary:"frontend-pencraft-Button-module__priority_primary--RYgwz","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--o7dw6","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--YMjyc",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--UEXV6",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--kZRin",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--dbj4H",priority_facebook:"frontend-pencraft-Button-module__priority_facebook--K6d1C",priority_media:"frontend-pencraft-Button-module__priority_media--aBYMP",fill_empty:"frontend-pencraft-Button-module__fill_empty--OPYgN",fill_filled:"frontend-pencraft-Button-module__fill_filled--ysyt0",outline_none:"frontend-pencraft-Button-module__outline_none--V76g2",fill_outline:"frontend-pencraft-Button-module__fill_outline--FmYR9",inverted:"frontend-pencraft-Button-module__inverted--BjUto"};var b=Object.defineProperty,x=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(A,W,j)=>W in A?b(A,W,{enumerable:!0,configurable:!0,writable:!0,value:j}):A[W]=j,l=(A,W)=>{for(var j in W||(W={}))w.call(W,j)&&a(A,j,W[j]);if(O)for(var j of O(W))_.call(W,j)&&a(A,j,W[j]);return A},P=(A,W)=>x(A,E(W)),S=(A,W)=>{var j={};for(var Z in A)w.call(A,Z)&&W.indexOf(Z)<0&&(j[Z]=A[Z]);if(A!=null&&O)for(var Z of O(A))W.indexOf(Z)<0&&_.call(A,Z)&&(j[Z]=A[Z]);return j};const M=(0,m.forwardRef)((A,W)=>{var j=A,{onClick:Z,href:J,localNavigation:Q,newTab:ne,className:te,resetCss:B}=j,V=S(j,["onClick","href","localNavigation","newTab","className","resetCss"]);const re=J?le=>{Z&&(Z.call(le.target,le),le.defaultPrevented)||(0,g.redirect)(J,{event:le,local_navigation:Q,newTab:ne})}:Z;return(0,o.h)("button",P(l({tabIndex:0,type:"button"},V),{className:d()("pencraft",te,B&&v.buttonBase),ref:W,onClick:re,"data-href":J}))});M.displayName="UnstyledButton";const R=(0,m.forwardRef)(function(W,j){var Z=W,{className:J,priority:Q="primary",size:ne="medium",fill:te="filled",outline:B,rounded:V,disabled:re,grow:le,leftIcon:ae,rightIcon:q,allCaps:oe,children:z,hiddenInput:ie,justifyContent:ue="center"}=Z,de=S(Z,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return(0,o.h)(M,l({className:d()(J,v.buttonBase,v.button,v[`priority_${Q}`],v[`size_${ne}`],v[`fill_${te}`],B&&v.outline_none,V&&v.rounded,le&&v.grow,ae!=null&&v.hasLeftIcon,q!=null&&v.hasRightIcon,ue&&C.Z[`flex-justify-${ue}`]),disabled:re,ref:j},de),ae,oe?(0,o.h)(y.xv.Meta,null,z):z,q,ie)}),N=(0,m.forwardRef)((A,W)=>{var j=A,{className:Z,size:J=40,priority:Q="secondary",color:ne,fill:te="empty",rounded:B=!0,inverted:V,grow:re,shadow:le}=j,ae=S(j,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return(0,o.h)(M,l({ref:W,className:d()(Z,v.iconButton,J!=null&&v[`size_${J}`],Q&&v[`priority_${Q}`],ne&&v[`color_${ne}`],te&&v[`fill_${te}`],V&&v.inverted,re&&v.grow,B&&v.rounded,le&&v[`shadow_${le}`])},ae))}),T=A=>{var W=A,{href:j,download:Z,className:J,priority:Q="primary",size:ne="medium",fill:te="filled",outline:B,rounded:V,grow:re}=W,le=S(W,["href","download","className","priority","size","fill","outline","rounded","grow"]);return h("a",l({href:j,download:Z,className:classnames(J,css.buttonBase,css.button,css[`priority_${Q}`],css[`size_${ne}`],css[`fill_${te}`],B&&css.outline_none,V&&css.rounded,re&&css.grow)},le))}},91041:(G,s,e)=>{"use strict";e.d(s,{h:()=>M,a:()=>R});var o=e(6400),m=e(94184),f=e.n(m),d=e(49336),g=e(17685),y=e(51126),C=e(76235);const v={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"};var b=Object.defineProperty,x=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(N,T,A)=>T in N?b(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,l=(N,T)=>{for(var A in T||(T={}))w.call(T,A)&&a(N,A,T[A]);if(O)for(var A of O(T))_.call(T,A)&&a(N,A,T[A]);return N},P=(N,T)=>x(N,E(T)),S=(N,T)=>{var A={};for(var W in N)w.call(N,W)&&T.indexOf(W)<0&&(A[W]=N[W]);if(N!=null&&O)for(var W of O(N))T.indexOf(W)<0&&_.call(N,W)&&(A[W]=N[W]);return A};const M=N=>{var T=N,{attached:A,gap:W=8}=T,j=S(T,["attached","gap"]);return(0,o.h)(y.gq,l({gap:A?0:W,className:f()({[v.attached]:A})},j))},R=N=>{var T=N,{children:A,menuItems:W,fill:j="filled",priority:Z="primary",size:J="medium",rounded:Q=!1,additionalMenuProps:ne={}}=T,te=S(T,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,o.h)(M,{attached:!0},(0,o.h)(g.zx,P(l({},te),{priority:Z,size:J,rounded:Q,fill:j==="borderless"?"filled":j,outline:j==="borderless"?"none":void 0}),A),(0,o.h)(C.v2,P(l({},ne),{trigger:(0,o.h)(g.hU,P(l({className:f()({[v.borderless]:j==="borderless"})},te),{priority:Z,fill:j,rounded:Q,size:J==="small"?32:40}),(0,o.h)(d.Z,{size:J==="small"?12:20}))}),W))}},15187:(G,s,e)=>{"use strict";e.d(s,{Tz:()=>R});var o=e(6400),m=e(94184),f=e.n(m),d=e(85928);const g={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"};var y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(W,j,Z)=>j in W?y(W,j,{enumerable:!0,configurable:!0,writable:!0,value:Z}):W[j]=Z,w=(W,j)=>{for(var Z in j||(j={}))x.call(j,Z)&&O(W,Z,j[Z]);if(b)for(var Z of b(j))E.call(j,Z)&&O(W,Z,j[Z]);return W},_=(W,j)=>C(W,v(j)),a=(W,j)=>{var Z={};for(var J in W)x.call(W,J)&&j.indexOf(J)<0&&(Z[J]=W[J]);if(W!=null&&b)for(var J of b(W))j.indexOf(J)<0&&E.call(W,J)&&(Z[J]=W[J]);return Z};const l="YYYY-MM-DD",P="YYYY-MM-DDThh:mm";function S(W){var j=W,{className:Z,min:J,max:Q,value:ne,onChange:te,disabled:B}=j,V=a(j,["className","min","max","value","onChange","disabled"]);return h("input",_(w({},V),{type:"date",className:cn(css.datePicker,Z),value:ne?dayjs(ne).format(l):void 0,min:J?dayjs(J).format(l):void 0,max:Q?dayjs(Q).format(l):void 0,onChange:te,disabled:B}))}function M(W){var j=W,{className:Z,min:J,max:Q,value:ne,onChange:te,disabled:B}=j,V=a(j,["className","min","max","value","onChange","disabled"]);return h("input",_(w({},V),{type:"datetime-local",className:cn(css.datePicker,Z),value:ne?dayjs(ne).format(P):void 0,min:J?dayjs(J).format(P):void 0,max:Q?dayjs(Q).format(P):void 0,onChange:te,disabled:B}))}function R(W){var j=W,{className:Z,min:J,max:Q,value:ne,onChange:te,disabled:B}=j,V=a(j,["className","min","max","value","onChange","disabled"]);return(0,o.h)("input",_(w({},V),{type:"datetime-local",className:f()(g.datePicker,Z),value:T(ne),min:T(J),max:T(Q),onChange:te,disabled:B}))}function N(W){var j=W,{className:Z,min:J,max:Q,value:ne,onChange:te,disabled:B}=j,V=a(j,["className","min","max","value","onChange","disabled"]);return h("input",_(w({},V),{type:"month",className:cn(css.datePicker,Z),value:T(ne),min:T(J),max:T(Q),onChange:te,disabled:B}))}function T(W){return W instanceof Date?`${W.getFullYear()}-${A(W.getMonth()+1)}-${A(W.getDate())}T${A(W.getHours())}:${A(W.getMinutes())}`:W}function A(W){const j=String(W);return j.length<2?`0${j}`:j}},48960:(G,s,e)=>{"use strict";e.d(s,{i:()=>w});var o=e(6400),m=e(94184),f=e.n(m),d=e(51126);const g={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"};var y=Object.defineProperty,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(_,a,l)=>a in _?y(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,E=(_,a)=>{for(var l in a||(a={}))v.call(a,l)&&x(_,l,a[l]);if(C)for(var l of C(a))b.call(a,l)&&x(_,l,a[l]);return _},O=(_,a)=>{var l={};for(var P in _)v.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&C)for(var P of C(_))a.indexOf(P)<0&&b.call(_,P)&&(l[P]=_[P]);return l};const w=_=>{var a=_,{className:l,weight:P=1,priority:S="detail"}=a,M=O(a,["className","weight","priority"]);return(0,o.h)(d.hs,E({className:f()(g.divider,l,g[`priority_${S}`],P&&g[`weight-${P}`])},M),(0,o.h)("hr",null))}},51126:(G,s,e)=>{"use strict";e.d(s,{gq:()=>_,hs:()=>w,tu:()=>a});var o=e(6400),m=e(98661),f=e(84606),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(l,P,S)=>P in l?d(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,E=(l,P)=>{for(var S in P||(P={}))v.call(P,S)&&x(l,S,P[S]);if(C)for(var S of C(P))b.call(P,S)&&x(l,S,P[S]);return l},O=(l,P)=>g(l,y(P));const w=(0,m.forwardRef)(function(P,S){return(0,o.h)(f.x,O(E({},P),{display:P.display||"flex",ref:S}))}),_=w,a=(0,m.forwardRef)(function(P,S){return(0,o.h)(f.x,O(E({},P),{display:P.display||"flex",direction:"column",ref:S}))})},94016:(G,s,e)=>{"use strict";e.d(s,{z:()=>R,o:()=>N});var o=e(6400),m=e(30396),f=e(34875),d=e(94184),g=e.n(d),y=e(62372);const C={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"};var v=Object.defineProperty,b=Object.defineProperties,x=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,_=(T,A,W)=>A in T?v(T,A,{enumerable:!0,configurable:!0,writable:!0,value:W}):T[A]=W,a=(T,A)=>{for(var W in A||(A={}))O.call(A,W)&&_(T,W,A[W]);if(E)for(var W of E(A))w.call(A,W)&&_(T,W,A[W]);return T},l=(T,A)=>b(T,x(A)),P=(T,A)=>{var W={};for(var j in T)O.call(T,j)&&A.indexOf(j)<0&&(W[j]=T[j]);if(T!=null&&E)for(var j of E(T))A.indexOf(j)<0&&w.call(T,j)&&(W[j]=T[j]);return W};const S=500,M=250,R=T=>{var A=T,{className:W="",children:j,layerClassName:Z,dontStopPropagation:J}=A,Q=P(A,["className","children","layerClassName","dontStopPropagation"]);const ne=N(a({className:Z},Q));return(0,o.h)("div",l(a(a({className:W},ne.triggerProps),ne.hoverProps),{onClick:te=>{J||te.stopPropagation()}}),j,ne.layer)};function N(T){var A=T,{disabled:W,onFetch:j,onOpen:Z,content:J,className:Q,layerOptions:ne,hideOnScroll:te=!1}=A,B=P(A,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[V,re,le]=(0,y.XI)({delayEnter:S,delayLeave:M,hideOnScroll:te}),ae=(0,m.sO)(!1);(0,m.d4)(()=>{V&&(!ae.current&&j&&(ae.current=!0,j()),Z&&Z())},[V,j,Z]);const[q,oe]=(0,m.eJ)(!1),{triggerProps:z,layerProps:ie,renderLayer:ue,layerSide:de}=(0,y.sJ)(a({isOpen:W?!1:V,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},ne));return{triggerProps:z,hoverProps:re,layer:(V||q)&&!W&&ue((0,o.h)(f.u,{appear:!0,show:V&&!B.loading,beforeEnter:()=>oe(!0),afterLeave:()=>oe(!1),enter:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",a(a({onClick:()=>{le()},className:g()(Q,C.hoverCardBase)},ie),re),J)))}}},56288:(G,s,e)=>{"use strict";e.d(s,{a:()=>O});var o=e(6400),m=e(94184),f=e.n(m);const d={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"};var g=Object.defineProperty,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?g(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>{var l={};for(var P in _)C.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&y)for(var P of y(_))a.indexOf(P)<0&&v.call(_,P)&&(l[P]=_[P]);return l};const O=_=>{var a=_,{type:l="circular"}=a,P=E(a,["type"]);if(l==="circular")return(0,o.h)(w,x({},P));throw new Error("not implemented")},w=({className:_,size:a="md",dataTestId:l})=>(0,o.h)("div",{"data-testid":l,className:f()(d.circularLoader,d[`size_${a}`],_)})},76235:(G,s,e)=>{"use strict";e.d(s,{v2:()=>ae,sN:()=>q});var o=e(6400),m=e(98661),f=e(30396),d=e(34875),g=e(94184),y=e.n(g),C=e(44396),v=e(71375),b=e(17685),x=e(51126),E=e(65919);const O={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",items:"frontend-pencraft-ActionSheet-module__items--ByTuz",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc"};var w=Object.defineProperty,_=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,P=(ie,ue,de)=>ue in ie?w(ie,ue,{enumerable:!0,configurable:!0,writable:!0,value:de}):ie[ue]=de,S=(ie,ue)=>{for(var de in ue||(ue={}))a.call(ue,de)&&P(ie,de,ue[de]);if(_)for(var de of _(ue))l.call(ue,de)&&P(ie,de,ue[de]);return ie},M=(ie,ue)=>{var de={};for(var fe in ie)a.call(ie,fe)&&ue.indexOf(fe)<0&&(de[fe]=ie[fe]);if(ie!=null&&_)for(var fe of _(ie))ue.indexOf(fe)<0&&l.call(ie,fe)&&(de[fe]=ie[fe]);return de};const R=(0,m.forwardRef)(({title:ie,subtitle:ue,onClose:de,children:fe,className:ye},pe)=>(0,o.h)(x.tu,{className:O.root,onClick:de},(0,o.h)(d.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,o.h)(x.tu,{className:y()(O.sheet,ye),ref:pe,onClick:we=>{we.stopPropagation()}},(0,o.h)(x.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,o.h)(x.tu,null,(0,o.h)(E.xv.B3,{weight:"semibold"},ie),(0,o.h)(E.xv.B4,{color:"secondary"},ue)),(0,o.h)(b.hU,{fill:"empty",onClick:()=>{de()},priority:"secondary"},(0,o.h)(v.Z,null))),(0,o.h)(x.tu,{paddingTop:8,overflowY:"auto",className:O.items},fe)))));function N(ie){var ue=ie,{children:de,onClick:fe,closeMenu:ye,icon:pe,className:we,priority:Me="primary",disabled:je}=ue,De=M(ue,["children","onClick","closeMenu","icon","className","priority","disabled"]);const me=De.href?"a":b.kG;return(0,o.h)(me,S({className:y()(O.item,O[Me],we,{[O.disabled]:!!je}),resetCss:!0,onClick:ce=>{fe==null||fe(ce),ye==null||ye()}},De),pe&&(0,o.cloneElement)(pe,{size:20,stroke:"var(--color-primary)"}),pe&&" ",(0,o.h)(E.xv.B4,{color:Me==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},de))}var T=e(89581);const A={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"};var W=Object.defineProperty,j=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,te=(ie,ue,de)=>ue in ie?W(ie,ue,{enumerable:!0,configurable:!0,writable:!0,value:de}):ie[ue]=de,B=(ie,ue)=>{for(var de in ue||(ue={}))Q.call(ue,de)&&te(ie,de,ue[de]);if(J)for(var de of J(ue))ne.call(ue,de)&&te(ie,de,ue[de]);return ie},V=(ie,ue)=>j(ie,Z(ue)),re=(ie,ue)=>{var de={};for(var fe in ie)Q.call(ie,fe)&&ue.indexOf(fe)<0&&(de[fe]=ie[fe]);if(ie!=null&&J)for(var fe of J(ie))ue.indexOf(fe)<0&&ne.call(ie,fe)&&(de[fe]=ie[fe]);return de};function le(ie){return typeof ie.type=="string"||ie.type.$$typeof===Symbol.for("react.forward_ref")}const ae=(0,m.forwardRef)((ie,ue)=>{var de=ie,{trigger:fe,children:ye,ariaLabel:pe="View more",hideOnScroll:we,layerOptions:Me,layerClassName:je,onOpen:De,onClose:me,useMobileBottomSheet:ce=!1,mobileBottomSheetTitle:ge,mobileBottomSheetSubtitle:Ie,stopPropagation:Re=!1,maxHeight:Ke=295,padding:ut=8,disableMenu:_t=!1}=de,ft=re(de,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);le(fe)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const We=(0,C.XA)(),{triggerProps:Be,layerProps:lt,renderLayer:Tt,isOpen:xt,setOpen:Gt}=(0,T.x)({layerOptions:B({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},Me),hideOnScroll:we&&!(ce&&We)}),[an,yt]=(0,f.eJ)(!1),ke=()=>{Gt(!1),me&&me()},Ve=(0,o.toChildArray)(ye).map(Ne=>(0,o.cloneElement)(Ne,{useMobileBottomSheet:ce,closeMenu:ke}));return(0,o.h)(o.Fragment,null,(0,o.cloneElement)(fe,V(B({},Be),{ariaLabel:pe,onClick:Ne=>{Ne.preventDefault(),Re&&Ne.stopPropagation(),_t||Gt(!xt),!xt&&De&&De(),xt&&me&&me()}})),(xt||an)&&Tt(ce&&We?(0,o.h)(d.u,{appear:!0,show:xt,beforeEnter:()=>yt(!0),afterLeave:()=>yt(!1),enter:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",B(B({},lt),ft),(0,o.h)(R,{title:ge,subtitle:Ie,onClose:ke,ref:ue,className:je},Ve))):(0,o.h)(d.u,{appear:!0,show:xt,beforeEnter:()=>yt(!0),afterLeave:()=>yt(!1),enter:"tw-duration-300",leave:"tw-duration-300"},(0,o.h)("div",B(B({},lt),ft),(0,o.h)(d.u,{appear:!0,show:xt,enter:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,o.h)(oe,B({className:je,ref:ue},!we&&{style:{maxHeight:Ke,padding:ut,overflowY:"auto"}}),Ve))))))}),q=ie=>{var ue=ie,{useMobileBottomSheet:de}=ue,fe=re(ue,["useMobileBottomSheet"]);const ye=(0,C.XA)();return de&&ye?(0,o.h)(N,B({},fe)):(0,o.h)(z,B({},fe))},oe=(0,m.forwardRef)((ie,ue)=>{var de=ie,{className:fe}=de,ye=re(de,["className"]);return(0,o.h)(x.tu,B({className:y()(A.menu,"elevated",fe),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:ue},ye))}),z=ie=>{var ue=ie,{children:de,onClick:fe,closeMenu:ye,icon:pe,suffix:we,priority:Me="primary",className:je,disabled:De,href:me,download:ce}=ue,ge=re(ue,["children","onClick","closeMenu","icon","suffix","priority","className","disabled","href","download"]);const Ie=me?"a":b.kG;return(0,o.h)(Ie,B({className:y()(A.menuItem,A[Me],je,{[A.disabled]:!!De}),resetCss:!0,onClick:Re=>{De||(fe&&fe(Re),ye&&ye())},href:De?"javascript:void(0)":me,download:ce},ge),pe&&(0,o.cloneElement)(pe,{size:24,className:y()(A.icon,pe.props.className)}),(0,o.h)(E.xv.B4,{color:Me==="destructive"?"accent-red":"primary",className:A.text,weight:"semibold",align:"left"},de),we)}},53940:(G,s,e)=>{"use strict";e.d(s,{u:()=>a,f:()=>w});var o=e(6400),m=e(98661),f=e(34875),d=e(53789),g=e(94184),y=e.n(g),C=e(50308),v=e.n(C),b=e(44396),x=e(21958),E=e(51126);const O={container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f",dynamicMobile:"frontend-pencraft-Modal-Modal-module__dynamicMobile--ujclO"},w=(0,x.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),_=({children:l})=>(0,o.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},l),a=({isOpen:l,onClose:P=()=>{},children:S,includeBackdrop:M=!0,position:R="default",opacity:N="medium",testId:T="modal",className:A,onEscape:W,fullscreenMobile:j,overflow:Z,width:J=440,disableCloseOnBackdropClick:Q=!1,initialFocus:ne})=>{const te=(0,b.XA)(),B=V=>{const{code:re}=V;W&&re==="Escape"&&W(V)};return(0,o.h)(f.u,{show:l,as:m.Fragment},(0,o.h)(d.V,{onMouseDown:V=>V.stopPropagation(),onMouseUp:V=>V.stopPropagation(),onClick:V=>V.stopPropagation(),"data-testid":T,as:"div",className:"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto",open:l,onClose:Q?v():P,onKeyDown:W&&B,initialFocus:ne},(0,o.h)(_,null,M&&(0,o.h)(f.u.Child,{enter:"tw-transition tw-ease-in-out tw-duration-500",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-in-out tw-duration-500",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)(d.V.Overlay,{className:N==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50"})),(0,o.h)(f.u.Child,{as:m.Fragment,enter:"tw-transition ease-in-out tw-duration-500",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-in-out tw-duration-500",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,o.h)(E.hs,{className:y()(A,O.container,O[R],j?O.fullscreenMobile:O.dynamicMobile),style:{width:te||R==="full"?void 0:J,overflow:Z}},S)))))}},29354:(G,s,e)=>{"use strict";e.d(s,{m:()=>x});var o=e(6400),m=e(94184),f=e.n(m),d=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,v=(w,_,a)=>_ in w?d(w,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):w[_]=a,b=(w,_)=>{for(var a in _||(_={}))y.call(_,a)&&v(w,a,_[a]);if(g)for(var a of g(_))C.call(_,a)&&v(w,a,_[a]);return w};const x=w=>w.alignment==="center"?(0,o.h)(O,b({},w)):(0,o.h)(E,b({},w)),E=({primaryButton:w,secondaryButton:_,destructiveButton:a,includeDivider:l,className:P})=>(0,o.h)("div",{className:f()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":l},P)},a&&(0,o.cloneElement)(a,{className:f()("tw-mr-auto",a.props.className)}),_,w),O=({includeDivider:w,primaryButton:_,secondaryButton:a,className:l})=>(0,o.h)("div",{className:f()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":w},l)},_,a)},28079:(G,s,e)=>{"use strict";e.d(s,{r:()=>b,x:()=>v});var o=e(6400),m=e(53789),f=e(94184),d=e.n(f),g=e(26059),y=e(33705),C=e(21958);const v=({isModal:x=!0,onClose:E,includeClose:O=!1,bottomBorder:w,title:_,description:a,as:l="h2",usePubThemeForTitle:P=!1,className:S,pagination:M})=>(0,o.h)("div",{className:d()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",S,{"tw-px-4":!M,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":w})},!_&&!M&&(0,o.h)(y.Z,{alt:"Substack icon",height:24}),M&&(0,o.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},M[0]," OF ",M[1]),O&&(0,o.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:E,"aria-label":"close"},(0,o.h)(g.Z,null)),_&&x&&(0,o.h)(m.V.Title,{as:l,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${P?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},_),a&&x&&(0,o.h)(m.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},a),_&&!x&&(0,o.h)(b,{className:"tw-col-start-1 tw-row-start-1"},_)&&(0,o.createElement)(l,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${P?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},_),a&&!x&&(0,o.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},a)&&(0,o.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},a)),b=(0,C.L)("tw-my-0 tw-font-title","h2")},92106:(G,s,e)=>{"use strict";var o=e(6400),m=e(94184),f=e(51126),d=e(65919);const g={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"};var y=Object.defineProperty,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(_,a,l)=>a in _?y(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,E=(_,a)=>{for(var l in a||(a={}))v.call(a,l)&&x(_,l,a[l]);if(C)for(var l of C(a))b.call(a,l)&&x(_,l,a[l]);return _},O=(_,a)=>{var l={};for(var P in _)v.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&C)for(var P of C(_))a.indexOf(P)<0&&b.call(_,P)&&(l[P]=_[P]);return l};const w=_=>{var a=_,{icon:l,text:P,textColor:S="secondary",bgColor:M="secondary",paddingX:R=24,paddingY:N=24,border:T,className:A,onClick:W}=a,j=O(a,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,E({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:R,paddingY:N,radius:8,border:T,className:cn(A,css.placeholder,css[`bg_${M}`],css[`text_${S}`],{[css.clickable]:!!W}),onClick:W},j),h(FlexColumn,{gap:8,alignItems:"center"},l,h(Text.B4,{color:S,className:css.text,weight:"bold"},P)))}},65414:(G,s,e)=>{"use strict";var o=e(6400),m=e(94184),f=e.n(m),d=e(30058),g=Object.defineProperty,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?g(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,x=(_,a)=>{for(var l in a||(a={}))C.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>{var l={};for(var P in _)C.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&y)for(var P of y(_))a.indexOf(P)<0&&v.call(_,P)&&(l[P]=_[P]);return l};const O=_=>{var a=_,{color:l="default",accessibilityLabel:P="Toggle setting",classNames:S,checked:M,small:R=!1,preflightClassName:N}=a,T=E(a,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const A=l==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return h(Preflight,{className:N},h(HeadlessSwitch,x({className:cn(M?A:"tw-bg-neutral-400",R?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-in-out disabled:tw-bg-neutral-200",S),checked:M},T),h("span",{className:"tw-sr-only"},P),h("span",{"aria-hidden":"true",className:cn(M?`${R?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",R?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-in-out")})))};var w=null},65919:(G,s,e)=>{"use strict";e.d(s,{Zx:()=>P,hh:()=>ue,xv:()=>l});var o=e(6400),m=e(94184),f=e.n(m),d=e(84606),g=e(28614),y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(de,fe,ye)=>fe in de?y(de,fe,{enumerable:!0,configurable:!0,writable:!0,value:ye}):de[fe]=ye,w=(de,fe)=>{for(var ye in fe||(fe={}))x.call(fe,ye)&&O(de,ye,fe[ye]);if(b)for(var ye of b(fe))E.call(fe,ye)&&O(de,ye,fe[ye]);return de},_=(de,fe)=>C(de,v(fe)),a=(de,fe)=>{var ye={};for(var pe in de)x.call(de,pe)&&fe.indexOf(pe)<0&&(ye[pe]=de[pe]);if(de!=null&&b)for(var pe of b(de))fe.indexOf(pe)<0&&E.call(de,pe)&&(ye[pe]=de[pe]);return ye};const l=de=>{var fe=de,{className:ye,align:pe,size:we,weight:Me,transform:je}=fe,De=a(fe,["className","align","size","weight","transform"]);return De=_(w({},De),{textAlign:pe!=null?pe:De.textAlign,textTransform:je!=null?je:De.textTransform,fontSize:we!=null?we:De.fontSize,fontWeight:Me!=null?Me:De.fontWeight}),(0,o.h)(d.x,w({className:f()(g.Z.reset,ye)},De))},P=de=>(0,o.h)(l,w({as:"span"},de)),S=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:f()(g.Z.header1,pe)},we),ye)},M=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:f()(g.Z.header2,pe)},we),ye)},R=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:f()(g.Z.header3,pe)},we),ye)},N=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:f()(g.Z.header4,pe)},we),ye)},T=(0,d.E)({font:"display",fontSize:20,lineHeight:30,fontWeight:"normal",color:"primary",className:g.Z.body1}),A=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:f()(g.Z.body2,pe)},we),ye)},W=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:f()(g.Z.body3,pe)},we),ye)},j=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:f()(g.Z.body4,pe)},we),ye)},Z=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:f()(g.Z.meta,pe)},we),ye)},J=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:f()(g.Z.digit,pe)},we),ye)},Q=de=>(0,o.h)(l,w({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},de)),ne=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:f()(pe)},we),ye)},te=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({font:"text",color:"primary",className:f()(g.Z.marketingBody,pe)},we),ye)},B=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h1",color:"primary",weight:"normal",className:f()(g.Z.marketingHeading1xl,pe)},we),ye)},V=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h1",color:"primary",weight:"normal",className:f()(g.Z.marketingHeading1,pe)},we),ye)},re=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h3",color:"primary",weight:"medium",className:f()(g.Z.marketingHeading2,pe)},we),ye)},le=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h3",color:"primary",weight:"medium",className:f()(g.Z.marketingHeading3,pe)},we),ye)},ae=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h4",color:"primary",weight:"medium",className:f()(g.Z.marketingHeading4,pe)},we),ye)},q=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h5",color:"primary",weight:"normal",className:f()(g.Z.marketingHeading5,pe)},we),ye)},oe=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h4",color:"primary",weight:"normal",align:"center",className:f()(g.Z.marketingQuote,pe)},we),ye)},z=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h4",color:"primary",weight:"normal",size:28,className:f()(g.Z.marketingSubtitle,pe)},we),ye)},ie=de=>{var fe=de,{children:ye,className:pe}=fe,we=a(fe,["children","className"]);return(0,o.h)(l,w({as:"h1",color:"primary",weight:"normal",className:f()(g.Z.stat,pe)},we),ye)},ue=(0,d.E)({as:"a",decoration:"hover-underline"});l.H1=S,l.H2=M,l.H3=R,l.H4=N,l.B1=T,l.B2=A,l.B3=W,l.B4=j,l.Detail=ne,l.MarketingBody=te,l.MarketingHeading1xl=B,l.MarketingHeading1=V,l.MarketingHeading2=re,l.MarketingHeading3=le,l.MarketingHeading4=ae,l.MarketingHeading5=q,l.MarketingQuote=oe,l.MarketingSubtitle=z,l.Meta=Z,l.Stat=ie,l.Digit=J,l.Button=Q},75425:(G,s,e)=>{"use strict";e.d(s,{FN:()=>N,Us:()=>T,VW:()=>V,dd:()=>re,lL:()=>A,pm:()=>le});var o=e(6400),m=e(98661),f=e(30396),d=e(34875),g=e(94184),y=e.n(g),C=e(71375),v=e(13833),b=e(21958),x=e(92271),E=e(51126),O=Object.defineProperty,w=Object.defineProperties,_=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(ae,q,oe)=>q in ae?O(ae,q,{enumerable:!0,configurable:!0,writable:!0,value:oe}):ae[q]=oe,M=(ae,q)=>{for(var oe in q||(q={}))l.call(q,oe)&&S(ae,oe,q[oe]);if(a)for(var oe of a(q))P.call(q,oe)&&S(ae,oe,q[oe]);return ae},R=(ae,q)=>w(ae,_(q));function N({text:ae,cta:q,onAccept:oe,href:z,onClose:ie,Icon:ue,className:de}){return(0,o.h)(j,{className:y()("tw-items-center",de)},(0,o.h)(E.gq,{className:"tw-flex-1",gap:12},ue&&(0,o.h)(ne,{Icon:ue}),(0,o.h)(Z,null,ae)),(0,o.h)(E.gq,{className:"tw-flex-none",gap:12},q&&(typeof q=="string"?(z||oe)&&(0,o.h)(x.z,{look:"flex",onClick:fe=>{ie==null||ie(),oe==null||oe(fe)},href:z},(0,o.h)(v.Av,{className:"tw-text-dark-secondary"},q)):q),(0,o.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,o.h)(Q,{onClick:ie})))}function T({title:ae,body:q,buttons:oe,onClose:z,Icon:ie}){return(0,o.h)(j,{className:"tw-max-w-md"},ie&&(0,o.h)(ne,{Icon:ie}),(0,o.h)(E.tu,{className:"tw-flex-0-5",gap:8},(0,o.h)(E.tu,{className:"tw-flex-0-5",gap:4},(0,o.h)(Z,null,ae),(0,o.h)(J,null,q)),oe&&(0,o.h)(E.gq,{gap:24},oe)),(0,o.h)(Q,{onClick:z}))}function A(ae){return(0,o.h)(x.z,M({look:"flex",className:"tw-h-9 tw-items-center"},ae))}function W(ae){return h("div",{className:te},h(N,M({},ae)))}const j=(0,b.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),Z=(0,b.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",v.Hj),J=(0,b.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",v.Hj);function Q({onClick:ae}){return(0,o.h)(x.z,{look:"flex",onClick:ae},(0,o.h)(C.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function ne({Icon:ae}){return(0,o.h)(ae,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const te="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",B=(0,o.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function V({children:ae}){const[q,oe]=(0,f.eJ)(null),[z,ie]=(0,f.eJ)("hidden"),[ue,de]=(0,f.eJ)(0),fe=(0,f.sO)(null),ye=()=>{ie("hidden")},pe=(Me,{ttl:je=5e3}={})=>{oe({element:Me({onClose:ye}),ttl:je}),ie("visible"),fe.current!=null&&clearTimeout(fe.current),fe.current=je===null?null:setTimeout(ye,je)},we=Me=>{de(Math.min(ue+Me,0))};return(0,o.h)(B.Provider,{value:{popToast:pe,addOffset:we}},ae,(0,o.h)("div",{className:te,style:{transform:`translateY(${ue}px)`}},(0,o.h)(d.u,{appear:!0,show:!!q&&z==="visible",enter:"tw-transition-all tw-duration-500 transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-500 transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>fe.current!=null&&clearTimeout(fe.current),onMouseLeave:()=>{fe.current!=null&&clearTimeout(fe.current),q&&(fe.current=q.ttl===null?null:setTimeout(ye,q.ttl))}},q==null?void 0:q.element)))}const re=ae=>{const q=(0,m.forwardRef)((oe,z)=>{const ie=le();return(0,o.h)(ae,R(M(M({},ie),oe),{ref:z}))});return q.displayName=`withToastContext(${ae.name||ae.displayName||"Anonymous"})`,q};function le(){return(0,f.qp)(B)}},92630:(G,s,e)=>{"use strict";e.d(s,{u:()=>P,_:()=>S});var o=e(6400),m=e(51126),f=e(25666);const d={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB"};var g=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,E=(M,R,N)=>R in M?g(M,R,{enumerable:!0,configurable:!0,writable:!0,value:N}):M[R]=N,O=(M,R)=>{for(var N in R||(R={}))b.call(R,N)&&E(M,N,R[N]);if(v)for(var N of v(R))x.call(R,N)&&E(M,N,R[N]);return M},w=(M,R)=>y(M,C(R)),_=(M,R)=>{var N={};for(var T in M)b.call(M,T)&&R.indexOf(T)<0&&(N[T]=M[T]);if(M!=null&&v)for(var T of v(M))R.indexOf(T)<0&&x.call(M,T)&&(N[T]=M[T]);return N};const a=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],l=["left-start","left-center","left-end","right-start","right-center","right-end"],P=M=>{var R=M,{children:N,text:T,as:A="span",icon:W,preferPlacement:j="top-center",disabled:Z,dangerouslySetTooltipZIndex:J}=R,Q=_(R,["children","text","as","icon","preferPlacement","disabled","dangerouslySetTooltipZIndex"]);const{layerProps:ne,triggerProps:te,transitionProps:B,renderLayer:V,shouldShow:re}=(0,f.l)({layerOptions:{placement:j,possiblePlacements:l.includes(j)?l:a}}),le=ne,{style:ae}=le,q=_(le,["style"]);return Z?(0,o.h)(o.Fragment,null,N):(0,o.h)(o.Fragment,null,(0,o.h)(A,O(O({},te),Q),N),re&&V((0,o.h)(S,{transitionProps:B,tooltipProps:w(O({},q),{style:w(O({},ae),{maxWidth:350,zIndex:J||Number.MAX_SAFE_INTEGER})}),icon:W,text:T})))};function S({transitionProps:M,tooltipProps:R,icon:N,text:T}){return(0,o.h)("div",O({},R),(0,o.h)(f.x,O({},M),(0,o.h)("div",{className:d.tooltip},(0,o.h)(m.gq,{alignItems:"center",gap:8,className:d.tooltipContent},N&&(0,o.h)(o.Fragment,null,(0,o.cloneElement)(N,{size:20})," "),T))))}},86605:(G,s,e)=>{"use strict";e.d(s,{P:()=>x});var o=e(6400),m=e(71375),f=e(17685),d=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,v=(E,O,w)=>O in E?d(E,O,{enumerable:!0,configurable:!0,writable:!0,value:w}):E[O]=w,b=(E,O)=>{for(var w in O||(O={}))y.call(O,w)&&v(E,w,O[w]);if(g)for(var w of g(O))C.call(O,w)&&v(E,w,O[w]);return E};function x(E){return(0,o.h)(f.hU,b({rounded:!0},E),(0,o.h)(m.Z,null))}},13833:(G,s,e)=>{"use strict";e.d(s,{xv:()=>S,Hj:()=>P,Av:()=>R,gx:()=>M});var o=e(6400),m=e(94184),f=e.n(m),d=e(19696);const g={reset:"frontend-pencraft-common-module__reset--IftZ_","color-primary":"frontend-pencraft-common-module__color-primary--YyVsd","color-secondary":"frontend-pencraft-common-module__color-secondary--XzfEj"};var y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(N,T,A)=>T in N?y(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,w=(N,T)=>{for(var A in T||(T={}))x.call(T,A)&&O(N,A,T[A]);if(b)for(var A of b(T))E.call(T,A)&&O(N,A,T[A]);return N},_=(N,T)=>C(N,v(T)),a=(N,T)=>{var A={};for(var W in N)x.call(N,W)&&T.indexOf(W)<0&&(A[W]=N[W]);if(N!=null&&b)for(var W of b(N))T.indexOf(W)<0&&E.call(N,W)&&(A[W]=N[W]);return A};const l=(0,d.L)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),P=(0,d.L)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function S(N){var T=N,{className:A,color:W,as:j="span"}=T,Z=a(T,["className","color","as"]);return(0,o.h)(j,_(w({},Z),{className:f()(A,W&&g[`color-${W}`])}))}const M="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",R=(0,d.L)(M,S)},92271:(G,s,e)=>{"use strict";e.d(s,{z:()=>w});var o=e(6400),m=e(94184),f=e.n(m),d=e(17685),g=e(13833),y=Object.defineProperty,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(S,M,R)=>M in S?y(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,E=(S,M)=>{for(var R in M||(M={}))v.call(M,R)&&x(S,R,M[R]);if(C)for(var R of C(M))b.call(M,R)&&x(S,R,M[R]);return S},O=(S,M)=>{var R={};for(var N in S)v.call(S,N)&&M.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&C)for(var N of C(S))M.indexOf(N)<0&&b.call(S,N)&&(R[N]=S[N]);return R};function w(S){var M=S,{className:R,variant:N,look:T="button",fill:A="outline",fixedHeight:W=!0,size:j="medium",leftIcon:Z,rightIcon:J,noPadding:Q=!1,forwardedRef:ne,children:te}=M,B=O(M,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return(0,o.h)(d.kG,E({className:f()(R,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!P.includes(T)&&"tw-bg-transparent",a.includes(T)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${g.gx}`,l.includes(T)&&!Q&&"tw-px-5",W||T=="round"?j==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",T==="button"&&"tw-rounded",T==="round"&&["tw-rounded-full tw-px-4",Z&&"tw-pl-[10px]",J&&"tw-pr-[10px]"],T==="circle"&&["tw-justify-center tw-rounded-full",j==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],T==="text"&&`tw-inline ${_}`,T==="reset"&&`tw-inline-block ${_}`,T==="flex"&&`tw-flex ${_}`,N==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(T)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:N==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(T)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:N==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",P.includes(T)?A==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:N==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:N==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",P.includes(T)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:N==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(T)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:N==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(T)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:ne},B),Z,te,J)}const _="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",a=["button","borderless","circle","round"],l=["button","borderless"],P=["button","circle","round"]},53570:(G,s,e)=>{"use strict";e.d(s,{X:()=>l});var o=e(6400),m=e(94184),f=e.n(m),d=e(25380);const g={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"};var y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(P,S,M)=>S in P?y(P,S,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[S]=M,w=(P,S)=>{for(var M in S||(S={}))x.call(S,M)&&O(P,M,S[M]);if(b)for(var M of b(S))E.call(S,M)&&O(P,M,S[M]);return P},_=(P,S)=>C(P,v(S)),a=(P,S)=>{var M={};for(var R in P)x.call(P,R)&&S.indexOf(R)<0&&(M[R]=P[R]);if(P!=null&&b)for(var R of b(P))S.indexOf(R)<0&&E.call(P,R)&&(M[R]=P[R]);return M};const l=P=>{var S=P,{name:M,size:R="medium",checked:N,disabled:T=!1,error:A=!1,onChange:W,as:j="label",withTheme:Z=!1}=S,J=a(S,["name","size","checked","disabled","error","onChange","as","withTheme"]);const Q=j;return(0,o.h)(Q,{className:f()("pencraft",g.container,g[R],T?g.disabled:g.enabled,N?Z?g.checkedWithTheme:g.checked:g.unchecked,A?g.error:"")},N&&(0,o.h)(d.Z,{size:R==="small"?16:24}),(0,o.h)("input",_(w({},J),{className:"pencraft",type:"checkbox",name:M,"data-testid":M,checked:N,disabled:T,onChange:ne=>{var te,B;!T&&W(!N,_(w({},ne.target),{name:(B=(te=ne.target)==null?void 0:te.name)!=null?B:""}))}})))}},71346:(G,s,e)=>{"use strict";e.d(s,{j:()=>g});var o=e(6400),m=e(51126),f=e(65919),d=e(53570);const g=({contentBelow:y,details:C,disabled:v,label:b,name:x,paddingBottom:E,paddingTop:O,testid:w,track:_,value:a,onChange:l})=>(0,o.h)(m.gq,{as:"label",gap:8,paddingBottom:E,paddingTop:O},(0,o.h)(d.X,{as:"div",checked:a,name:x!=null?x:w,"data-track-input":_,disabled:v,size:"small",onChange:l}),(0,o.h)(m.tu,{flex:"grow"},(0,o.h)(f.xv.B4,{as:"span",color:v?"secondary":"primary"},b),C&&(0,o.h)(f.xv.Detail,null,C),y))},69045:(G,s,e)=>{"use strict";var o=e(6400),m=e(98661),f=e(94184),d=e.n(f),g=e(67963),y=e(39419);const C={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"};var v=Object.defineProperty,b=(N,T,A)=>T in N?v(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,x=(N,T,A)=>(b(N,typeof T!="symbol"?T+"":T,A),A);const E=300,O=8,w=100;class _ extends o.Component{constructor(T,A){super(T,A),this.cardRef=(0,o.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,o.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},w)}setIsShown(T){this.setState({isOpen:T,attachCard:T})}onClick(T){T.stopPropagation()}render({content:T,preferPositionLeft:A,className:W,children:j},{attachCard:Z,isOpen:J}){var Q,ne,te;let B={},V=!1;if(Z&&((Q=this.wrapperRef)!=null&&Q.current)){const{top:re,left:le}=this.wrapperRef.current.getBoundingClientRect(),{height:ae,width:q}=(te=(ne=this.cardRef.current)==null?void 0:ne.getBoundingClientRect())!=null?te:{};V=A&&le-q>0,V?B={top:re-O-ae,left:le-q-O,"max-width":E}:B={top:re-O-ae,"max-width":E,left:le}}return(0,o.h)("div",{className:d()(C.portalWrapper,W),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:re=>this.onClick(re),ref:this.wrapperRef},typeof j=="function"?j({}):j,Z&&(0,m.createPortal)((0,o.h)("div",{className:d()(C.contentWrapper,{[C.contentWrapperShown]:J,"animate-opacity":!(0,y.isSafari)(),"position-left":V}),ref:this.cardRef,style:B,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},T),document.body))}}x(_,"defaultProps",{delay:w}),x(_,"contextType",g.St);const a=_,l={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"},P=({content:N})=>(0,o.h)(a,{content:N},(0,o.h)("div",{className:l.learnMoreChip},"?"));var S=e(51126),M=e(65919);const R=(0,m.forwardRef)(({action:N,children:T,className:A,errors:W,helpText:j,details:Z,label:J,paddingBottom:Q,paddingTop:ne,wrapWithLabel:te},B)=>(0,o.h)(S.tu,{ref:B,alignItems:"stretch",className:A,gap:8,paddingBottom:Q,paddingTop:ne},(0,o.h)(S.tu,{alignItems:"stretch",gap:8,as:te?"label":"div"},J&&(0,o.h)(S.gq,{gap:8,alignItems:"center"},(0,o.h)(M.xv.B4,{weight:"semibold",as:te?"div":"label",color:"primary"},J),j&&(0,o.h)(P,{content:j}),N&&(0,o.h)(S.gq,{flex:"grow",justifyContent:"end"},N)),(0,o.h)("div",null,T)),Z&&!Array.isArray(Z)&&(0,o.h)(M.xv.Detail,null,Z),Z&&Array.isArray(Z)&&Z.length>0&&(0,o.h)(S.tu,{gap:4},Z.map(V=>(0,o.h)(M.xv.Detail,null,V))),W&&W.map(V=>(0,o.h)(M.xv.B4,{color:"error",key:V},V))))},92958:(G,s,e)=>{"use strict";var o=e(6400),m=e(94184);const f={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP"};var d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&x(a,P,l[P]);if(C)for(var P of C(l))b.call(l,P)&&x(a,P,l[P]);return a},O=(a,l)=>g(a,y(l)),w=(a,l)=>{var P={};for(var S in a)v.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&C)for(var S of C(a))l.indexOf(S)<0&&b.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=w(a,[]);return h("div",{className:cn(css.container)},h("input",O(E({},l),{type:"radio"})),h("span",{className:css.radio}))}},2019:(G,s,e)=>{"use strict";var o=e(6400),m=e(30396),f=e(51126),d=e(65919),g=e(69045),y=e(92958);const C=({label:v,name:b,options:x,paddingBottom:E,paddingTop:O,size:w="medium",value:_,onChange:a})=>{const l=useCallback(P=>{a(P.target.value)},[a]);return h(Field,{label:v,paddingBottom:E,paddingTop:O},h(FlexColumn,{gap:w==="medium"?8:16},x.map(({value:P,label:S,disabled:M,track:R,testid:N})=>h(FlexRow,{as:"label",gap:8,alignItems:"center",paddingLeft:4},h(Radio,{checked:P===_,"data-testid":N,"data-track-input":R,disabled:M,name:b,value:P,onClick:l}),w==="medium"?h(Text.B4,{as:"span"},S):h(Text.B3,null,S)))))}},34394:(G,s,e)=>{"use strict";e.d(s,{o:()=>l});var o=e(6400),m=e(98661),f=e(94184),d=e.n(f),g=e(51220),y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(P,S,M)=>S in P?y(P,S,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[S]=M,w=(P,S)=>{for(var M in S||(S={}))x.call(S,M)&&O(P,M,S[M]);if(b)for(var M of b(S))E.call(S,M)&&O(P,M,S[M]);return P},_=(P,S)=>C(P,v(S)),a=(P,S)=>{var M={};for(var R in P)x.call(P,R)&&S.indexOf(R)<0&&(M[R]=P[R]);if(P!=null&&b)for(var R of b(P))S.indexOf(R)<0&&E.call(P,R)&&(M[R]=P[R]);return M};const l=(0,m.forwardRef)((P,S)=>{var M=P,{className:R,error:N=!1,type:T="text",width:A,font:W}=M,j=a(M,["className","error","type","width","font"]);return(0,o.h)("input",_(w({},j),{className:d()(R,g.Z.input,{[g.Z.error]:N},W&&g.Z[`font-${W}`]),style:{width:A},type:T,ref:S}))})},27885:(G,s,e)=>{"use strict";e.d(s,{g:()=>l});var o=e(6400),m=e(98661),f=e(94184),d=e.n(f),g=e(51220),y=Object.defineProperty,C=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(P,S,M)=>S in P?y(P,S,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[S]=M,w=(P,S)=>{for(var M in S||(S={}))x.call(S,M)&&O(P,M,S[M]);if(b)for(var M of b(S))E.call(S,M)&&O(P,M,S[M]);return P},_=(P,S)=>C(P,v(S)),a=(P,S)=>{var M={};for(var R in P)x.call(P,R)&&S.indexOf(R)<0&&(M[R]=P[R]);if(P!=null&&b)for(var R of b(P))S.indexOf(R)<0&&E.call(P,R)&&(M[R]=P[R]);return M};const l=(0,m.forwardRef)((P,S)=>{var M=P,{className:R,error:N=!1,font:T}=M,A=a(M,["className","error","font"]);return(0,o.h)("textarea",_(w({ref:S,className:d()(R,g.Z.input,g.Z.textarea,{[g.Z.error]:N},T&&g.Z[`font-${T}`])},A),{type:"text"}))})},89581:(G,s,e)=>{"use strict";e.d(s,{x:()=>_});var o=e(30396),m=e(62372);let f=0;function d(a="",l=[]){return(0,o.Ye)(()=>(f++,f=f>Number.MAX_SAFE_INTEGER?1:f,`${a}${f}`),l)}var g=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,E=(a,l,P)=>l in a?g(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,O=(a,l)=>{for(var P in l||(l={}))b.call(l,P)&&E(a,P,l[P]);if(v)for(var P of v(l))x.call(l,P)&&E(a,P,l[P]);return a},w=(a,l)=>y(a,C(l));const _=({layerOptions:a,hideOnScroll:l}={})=>{const[P,S]=(0,o.eJ)(!1);(0,o.d4)(()=>{if(l){const W=()=>{requestAnimationFrame(()=>{open&&l&&S(!1)})};return window.addEventListener("scroll",W,!0),()=>{window.removeEventListener("scroll",W,!0)}}},[l]);const{triggerProps:M,layerProps:R,renderLayer:N}=(0,m.sJ)(O({isOpen:P,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>S(!1)},a)),T=d("trigger"),A=d("dialog");return{triggerProps:w(O({},M),{id:T,"aria-expanded":P,"aria-haspopup":"dialog","aria-controls":A}),layerProps:w(O({},R),{id:A,role:"dialog",tabIndex:0,"aria-labeledby":T}),renderLayer:N,isOpen:P,setOpen:S}}},25666:(G,s,e)=>{"use strict";e.d(s,{l:()=>E,x:()=>O});var o=e(6400),m=e(30396),f=e(34875),d=e(62372),g=Object.defineProperty,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(w,_,a)=>_ in w?g(w,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):w[_]=a,x=(w,_)=>{for(var a in _||(_={}))C.call(_,a)&&b(w,a,_[a]);if(y)for(var a of y(_))v.call(_,a)&&b(w,a,_[a]);return w};function E({hoverOptions:w,layerOptions:_}={}){const[a,l]=(0,m.eJ)(!1),[P,S]=(0,d.XI)(x({delayEnter:500,delayLeave:500},w)),{triggerProps:M,layerProps:R,renderLayer:N}=(0,d.sJ)(x({isOpen:P,auto:!0,triggerOffset:8},_));return{layerProps:R,triggerProps:x(x({},M),S),transitionProps:{show:P,beforeEnter:()=>l(!0),afterLeave:()=>l(!1)},renderLayer:N,shouldShow:P||a}}function O(w){return(0,o.h)(f.u,x({appear:!0,enter:"tw-transition-all tw-ease-in-out tw-duration-300 tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-in-out tw-duration-300 tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},w))}},30058:(G,s,e)=>{"use strict";e.d(s,{e:()=>d});var o=e(6400),m=e(94184),f=e.n(m);const d=({className:g,children:y})=>(0,o.h)("div",{className:f()("tailwind-preflight",g)},y)},96427:(G,s,e)=>{"use strict";e.d(s,{P:()=>M});var o=e(6400),m=e(94184),f=e.n(m),d=e(99758),g=e(17685),y=e(51126),C=e(76235),v=e(65919);const b={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr"};var x=Object.defineProperty,E=Object.defineProperties,O=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(N,T,A)=>T in N?x(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,P=(N,T)=>{for(var A in T||(T={}))_.call(T,A)&&l(N,A,T[A]);if(w)for(var A of w(T))a.call(T,A)&&l(N,A,T[A]);return N},S=(N,T)=>E(N,O(T));const M=({children:N,className:T,name:A,value:W,onChange:j,disabled:Z=!1})=>{var J;const Q=N.find(ne=>ne.props.value===W);return Q||console.error("Select: value not found in children. value:",W,"options:",N.map(ne=>ne.props.value)),(0,o.h)(y.gq,{className:f()(b.select,T),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,o.h)(v.xv,{className:f()(b.selectedOption,{[b.disabled]:Z}),font:"text",weight:"semibold",size:14,color:Z?"secondary":"primary"},(J=Q==null?void 0:Q.props.children)!=null?J:""),(0,o.h)(d.Z,null),(0,o.h)("select",{name:A,value:W,onChange:ne=>{var te;j(ne.target.value,S(P({},ne.target),{name:(te=ne.target.name)!=null?te:""}))},disabled:Z},N))};function R({value:N,options:T,onChange:A,fill:W,disabled:j,className:Z}){var J,Q;return h(Menu,{className:Z,trigger:h(Button,{priority:"secondary",fill:W,disabled:j,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select"},(Q=(J=T.find(ne=>ne.value===N))==null?void 0:J.label)!=null?Q:"Select")},T.map(ne=>h(MenuItem,{onClick:()=>A(ne.value)},ne.label)))}},95297:(G,s,e)=>{"use strict";e.d(s,{s:()=>J,o:()=>Q});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(62372),y=e(51736),C=e(47052),v=e(3258),b=e(51126),x=e(65919),E=e(92630);const O={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--_nMrK",container:"frontend-pencraft-unstable-UserBadge-module__container--ADexK",popover:"frontend-pencraft-unstable-UserBadge-module__popover--X9HK4"};var w=Object.defineProperty,_=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,M=(ne,te,B)=>te in ne?w(ne,te,{enumerable:!0,configurable:!0,writable:!0,value:B}):ne[te]=B,R=(ne,te)=>{for(var B in te||(te={}))P.call(te,B)&&M(ne,B,te[B]);if(l)for(var B of l(te))S.call(te,B)&&M(ne,B,te[B]);return ne},N=(ne,te)=>_(ne,a(te));const T=100,A={sm:16,md:20,lg:24},W={100:C.Z,1e3:y.Z,1e4:y.Z},j={1e4:{fill:"var(--color-accent-purple)"}},Z={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},J=({className:ne,isStatic:te=!1,inline:B=!1,size:V="lg",tier:re,tooltipOnHover:le=!1,userId:ae})=>{const[q,oe]=(0,g.XI)({delayEnter:T,delayLeave:T,hideOnScroll:!0}),z=q&&!le,{triggerProps:ie,layerProps:ue,renderLayer:de}=(0,g.sJ)({isOpen:z,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),fe=ue.style;(0,m.d4)(()=>{q&&(0,v.j)(v.FP.BESTSELLER_INFO_SHOWN,{tier:re,form:le?"tooltip":"popover",hovered_user_id:ae})},[q,re,le,ae]);const ye=A[V];if(!re)return null;const pe=W[re.toString()],we=j[re.toString()],Me=d()(ne,B?O.inlineContainer:O.container);return te&&re?(0,o.h)("div",{className:Me},(0,o.h)(pe,N(R({},we),{height:ye}))):(0,o.h)("div",N(R(R({},oe),ie),{className:Me}),(0,o.h)(E.u,{text:`${Z[re.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!le},(0,o.h)(pe,N(R({},we),{height:ye}))),z&&de((0,o.h)("div",N(R(R({},ue),oe),{style:fe,className:O.popover}),(0,o.h)(b.tu,{alignItems:"center",gap:16,padding:16,paddingBottom:32},(0,o.h)(pe,N(R({},we),{height:40})),(0,o.h)(b.tu,{alignItems:"center",gap:4},(0,o.h)(x.xv.H3,null,"Bestseller"),(0,o.h)(x.xv.B4,{align:"center"},Z[re.toString()]," of paid subscribers"))))))},Q=({tier:ne})=>{if(!ne)return null;const te=W[ne.toString()],B=j[ne.toString()];return(0,o.h)(te,N(R({},B),{height:A.sm}))}},9686:(G,s,e)=>{"use strict";e.d(s,{I:()=>_});var o=e(6400),m=e(30396),f=e(86804),d=e(46209);function g(){const N=(0,m.sO)();return(0,m.d4)(()=>{var T;(T=N.current)==null||T.focus()},[]),N}var y=e(63503),C=e(8479),v=e(39419),b=e(5131),x=e(19696),E=e(34518),O=e(33510),w=(N,T,A)=>new Promise((W,j)=>{var Z=ne=>{try{Q(A.next(ne))}catch(te){j(te)}},J=ne=>{try{Q(A.throw(ne))}catch(te){j(te)}},Q=ne=>ne.done?W(ne.value):Promise.resolve(ne.value).then(Z,J);Q((A=A.apply(N,T)).next())});function _({onCancel:N,onSuccess:T,onSignup:A,noCloseButton:W,noExit:j}){const[Z,J]=(0,m.eJ)("email"),[Q,ne]=(0,m.eJ)(""),te=()=>{J("mfa")};return(0,o.h)(E.Yy,{className:"",isPopup:!0,onClose:N,noCloseButton:W,noExit:j},(0,o.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,o.h)(d.Z,{className:"reader-nav-logo modal-header-icon"}),(0,o.h)(O.y,null,"Log in to Substack"),Z==="email"?(0,o.h)(l,{onUsePassword:B=>{ne(B),J("password")},onSuccess:B=>{ne(B),J("poll")}}):Z==="poll"?(0,o.h)(P,{email:Q,onSuccess:T,onChangeMode:J}):Z==="mfa"?(0,o.h)(S,{onSuccess:T}):(0,o.h)(a,{email:Q,onMfa:te,onSuccess:T})),A&&(0,o.h)(O.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,o.h)("span",null,"Don't have an account yet?"," ",(0,o.h)(b.zx,{variant:"primary",look:"text",onClick:A},"Sign up"))))}function a({email:N,onSuccess:T,onMfa:A}){const W=(0,C.ib)({pathname:"/api/v1/login",method:"post"}),j=(0,m.sO)(),Z=Q=>w(this,null,function*(){if(Q.preventDefault(),W.isLoading)return;const ne=R(Q.currentTarget);j.current&&(ne.captcha_response=j.current.getResponse());const te=yield W.refetch({json:ne});te instanceof Error||(te.mfa_required?A():T())}),J=g();return(0,o.h)(o.Fragment,null,W.error instanceof C.kp&&W.error.response.status===401&&(0,o.h)(f.Z,{ref:j}),(0,o.h)(M,{onSubmit:Z,disabled:W.isLoading},(0,o.h)(O.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:N}),(0,o.h)(O.II,{type:"password",name:"password",placeholder:"Your password",ref:J}),W.error&&(0,o.h)(O.Xq,null,(0,v.getNetworkErrorMessage)(W.error)),(0,o.h)(b.zx,{type:"submit",variant:"primary"},W.isLoading?"Signing in...":"Sign in")))}function l({onUsePassword:N,onSuccess:T}){const A=(0,C.ib)({pathname:"/api/v1/email-login",method:"POST"}),W=Z=>{if(Z.preventDefault(),A.isLoading)return;const J=Z.currentTarget.email.value;A.refetch({json:{email:J,redirect:location.pathname}}).then(Q=>{Q instanceof C.kp||T(J)})},j=g();return(0,o.h)(M,{onSubmit:W,disabled:A.isLoading},(0,o.h)(O.II,{type:"email",name:"email",placeholder:"Your email",ref:j}),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,o.h)(b.zx,{type:"submit",variant:"primary"},A.isLoading?"Logging in...":"Log in with email"),(0,o.h)(b.zx,{variant:"secondary",look:"borderless",onClick:()=>{var Z;return N((Z=j.current)==null?void 0:Z.value)}},"or log in with password")))}function P({email:N,onSuccess:T,onChangeMode:A}){return(0,y.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(W=>w(this,null,function*(){(yield W.json()).loggedIn&&T()}))},5e3),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,o.h)("b",null,"Check your email"),(0,o.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,o.h)("b",null,N)," with a link that you can use to sign in."),(0,o.h)("div",null,"You can also"," ",(0,o.h)(b.zx,{look:"text",onClick:()=>A("email")},(0,o.h)("b",null,"try again"))," ","or"," ",(0,o.h)(b.zx,{look:"text",onClick:()=>A("password")},(0,o.h)("b",null,"sign in using your password")),"."))}function S({onSuccess:N}){const T=(0,C.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),A=W=>{W.preventDefault(),!T.isLoading&&T.refetch({json:R(W.currentTarget)}).then(j=>{j instanceof C.kp||N()})};return(0,o.h)(M,{onSubmit:A,disabled:T.isLoading},(0,o.h)(O.II,{type:"password",name:"code",placeholder:"Your MFA code"}),T.error&&(0,o.h)(O.Xq,null,(0,v.getNetworkErrorMessage)(T.error)),(0,o.h)(b.zx,{type:"submit",variant:"primary"},T.isLoading?"Signing in...":"Sign in"))}const M=(0,x.L)("tw-flex tw-flex-col tw-gap-3","form");function R(N){return Object.fromEntries(Array.from(N.elements).filter(T=>T instanceof HTMLInputElement||T instanceof HTMLTextAreaElement).map(T=>[T.name,T.value]))}},10186:(G,s,e)=>{"use strict";e.d(s,{qE:()=>W,BG:()=>j,YY:()=>Z});var o=e(6400),m=e(94184),f=e.n(m),d=e(40353),g=e(7370),y=e(85362),C=e(80332),v=e(66399),b=e(15045),x=e(51126),E=e(33510),O=e(68262);const w={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"};var _=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,R=(J,Q,ne)=>Q in J?_(J,Q,{enumerable:!0,configurable:!0,writable:!0,value:ne}):J[Q]=ne,N=(J,Q)=>{for(var ne in Q||(Q={}))S.call(Q,ne)&&R(J,ne,Q[ne]);if(P)for(var ne of P(Q))M.call(Q,ne)&&R(J,ne,Q[ne]);return J},T=(J,Q)=>a(J,l(Q)),A=(J,Q)=>{var ne={};for(var te in J)S.call(J,te)&&Q.indexOf(te)<0&&(ne[te]=J[te]);if(J!=null&&P)for(var te of P(J))Q.indexOf(te)<0&&M.call(J,te)&&(ne[te]=J[te]);return ne};function W({user:J,size:Q,className:ne,badge:te,badgeShape:B="square",showProfileHovercard:V}){const re=(0,b.getUserPhotoUrl)(J);return re?(0,o.h)(x.gq,{className:w.avatarContainer},(0,o.h)(C.Ct,{subject:N({id:0,name:""},J),dontStopPropagation:!1,disabled:!V},(0,o.h)(E.t5,{className:f()(w.avatar,ne),src:re,size:Q})),te&&(0,o.h)("div",{className:f()(w.badge,B&&w[B])},te)):null}function j(J){var Q=J,{pub:ne}=Q,te=A(Q,["pub"]);return(0,o.h)(W,T(N({},te),{badge:ne&&(0,o.h)(O.F,{pub:ne,size:16})}))}function Z(J){var Q=J,{subscriptionType:ne}=Q,te=A(Q,["subscriptionType"]);let B=null,V;return ne==="author"?(B=(0,o.h)(d.Z,{height:16,className:w.subscriptionBadge}),V="Author"):ne==="founding"?(B=(0,o.h)(g.Z,{height:16,className:w.subscriptionBadge}),V="Founding member"):ne==="paid"&&(B=(0,o.h)(y.Z,{height:16,className:w.subscriptionBadge}),V="Paid subscriber"),B=B?(0,o.h)(v.u,{text:V},B):null,(0,o.h)(W,T(N({},te),{badge:B,badgeShape:"circle"}))}},5131:(G,s,e)=>{"use strict";e.d(s,{zx:()=>w});var o=e(6400),m=e(94184),f=e.n(m),d=e(7922),g=e(19696),y=Object.defineProperty,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(l,P,S)=>P in l?y(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,E=(l,P)=>{for(var S in P||(P={}))v.call(P,S)&&x(l,S,P[S]);if(C)for(var S of C(P))b.call(P,S)&&x(l,S,P[S]);return l},O=(l,P)=>{var S={};for(var M in l)v.call(l,M)&&P.indexOf(M)<0&&(S[M]=l[M]);if(l!=null&&C)for(var M of C(l))P.indexOf(M)<0&&b.call(l,M)&&(S[M]=l[M]);return S};function w(l){var P=l,{className:S,variant:M,rounded:R,look:N="button",fixedHeight:T=!0,size:A="medium",hasLeftIcon:W,hasRightIcon:j,forwardedRef:Z}=P,J=O(P,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,o.h)(d.k,E({className:f()("reader2-button",S,`reader2-button-${N}`,T&&"fixedHeight",M&&(["text","borderless"].includes(N)?`reader2-button-text-${M}`:`reader2-button-${M}`),(R||N==="circle")&&"reader2-button-rounded",`reader2-button-${A}`,W&&"hasLeftIcon",j&&"hasRightIcon"),ref:Z},J))}function _(l){var P=l,{isActive:S=!1,isSmall:M=!1,icon:R,children:N}=P,T=O(P,["isActive","isSmall","icon","children"]);return h("button",E({className:classnames("reader2-button-reset reader2-tab",S&&"active",M&&"small",R?"hasIcon":null)},T),R,N)}const a=(0,g.L)("reader2-button-row")},55886:(G,s,e)=>{"use strict";e.d(s,{t:()=>C});var o=e(6400),m=e(31471),f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(v,b)=>{var x={};for(var E in v)d.call(v,E)&&b.indexOf(E)<0&&(x[E]=v[E]);if(v!=null&&f)for(var E of f(v))b.indexOf(E)<0&&g.call(v,E)&&(x[E]=v[E]);return x};function C(v){var b=v,{className:x,src:E,noStyle:O=!1,loading:w,onError:_}=b,a=y(b,["className","src","noStyle","loading","onError"]);let l,P;return"size"in a?(l=a.size,P=a.size):(l=a.width,P=a.height),(0,o.h)(m.e,{src:E,maxWidth:l*2,className:x,imageProps:{height:P*2,crop:"fill"},style:O?void 0:{width:l,height:P},loading:w,onError:_})}},15822:(G,s,e)=>{"use strict";e.d(s,{S:()=>w});var o=e(6400),m=e(94184),f=e.n(m),d=e(51126);const g={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var y=Object.defineProperty,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(_,a,l)=>a in _?y(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,E=(_,a)=>{for(var l in a||(a={}))v.call(a,l)&&x(_,l,a[l]);if(C)for(var l of C(a))b.call(a,l)&&x(_,l,a[l]);return _},O=(_,a)=>{var l={};for(var P in _)v.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&C)for(var P of C(_))a.indexOf(P)<0&&b.call(_,P)&&(l[P]=_[P]);return l};function w(_){var a=_,{className:l}=a,P=O(a,["className"]);return(0,o.h)(d.hs,E({justifyContent:"center",alignItems:"center",className:f()(g.container,l)},P),(0,o.h)("div",{className:g.drunkSpinner}))}},54520:(G,s,e)=>{"use strict";e.d(s,{SV:()=>x});var o=e(6400),m=e(30396),f=e(20042),d=e(31471),g=e(8479),y=e(11533),C=e(51126),v=e(65919);function b(){const{result:O}=(0,g.Wf)(()=>Promise.all([e.e(492),e.e(486)]).then(e.bind(e,71486)).then(w=>w.Sentry),[],{auto:!0});return(0,m.cO)(w=>{console.error(w),O&&O.captureException(w)})}function x({children:O}){const[w,_]=b(),a=(0,m.sO)((0,f.getCurrentUrl)());return(0,y.j)(l=>{w&&a.current!==l&&_(),a.current=l},[]),w?(0,o.h)(E,null):O}function E(){return(0,o.h)(C.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,o.h)(d.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,o.h)(C.tu,{gap:8},(0,o.h)(v.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,o.h)(v.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},55337:(G,s,e)=>{"use strict";e.d(s,{KL:()=>je,rS:()=>Me,au:()=>le,E$:()=>ue,dg:()=>pe,Zx:()=>De});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(98913),y=e(52066),C=e(92592),v=e(81470),b=e(15045),x=e(70444),E=e(20501),O=e(71765),w=e(91704),_=e(80332),a=e(4190),l=e(58718),P=e(63270),S=e(67963),M=e(3258),R=e(66141),N=e(16527),T=e(8479),A=e(6742),W=e(39419),j=e(66399),Z=e(86605),J=e(48960),Q=e(10186),ne=e(41474),te=e(68493),B=e(33510),V=e(70762);const re={personYouMayKnow:"frontend-reader2-FeedSidebar-module__personYouMayKnow--xfbDV",personYouMayKnowFeed:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeed--NDSjT",personYouMayKnowInfo:"frontend-reader2-FeedSidebar-module__personYouMayKnowInfo--ZK_E_",personYouMayKnowFeedButton:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeedButton--qUPdh",personYouMayKnowImage:"frontend-reader2-FeedSidebar-module__personYouMayKnowImage--z1fjJ",shareProfile:"frontend-reader2-FeedSidebar-module__shareProfile--3xYv4",fbConnect:"frontend-reader2-FeedSidebar-module__fbConnect--Omv4o",avatarContainer:"frontend-reader2-FeedSidebar-module__avatarContainer--R4y26",close:"frontend-reader2-FeedSidebar-module__close--XScse",badge:"frontend-reader2-FeedSidebar-module__badge--S42Dn",badgeIcon:"frontend-reader2-FeedSidebar-module__badgeIcon--ElLpK"},le="inviteFriendsNuxDismissed",ae="sidebarInviteFriendsNuxDismissed",q="sidebarFacebookNuxDismissed",oe=60*60*24*7;function z(){const ce=useSiteConfigs(),{user:ge}=useUserContext(),[Ie]=useDismissed(ae),[Re=Ie]=useDismissed(q,oe),Ke=ce.getConfigFor("twitter_connect_flows_enabled")&&ge&&!ge.has_linked_twitter,ut=!Re&&!!ce.getConfigFor("facebook_connect")&&ge&&!ge.has_linked_facebook,_t=ge&&!Ie&&!ut;return h(Sidebar,null,h(SidebarBody,{gap:0},_t&&h(Fragment,null,h(De,{utmSource:"feed_sidebar"}),h(Divider,{paddingX:8,paddingY:8})),Ke&&h(Fragment,null,h(Me,null),h(Divider,{paddingX:8,paddingY:8})),ut&&h(Fragment,null,h(je,null),h(Divider,{paddingX:8,paddingY:8})),h(ie,null)))}function ie(){var ce,ge;const Ie=useFetch({pathname:"/api/v1/reader/feed/sidebar-user-suggestions",auto:!0});return!Ie.isLoading&&!((ce=Ie.result)!=null&&ce.suggestions.length)?null:h(FlexColumn,{gap:8},h(SidebarHeader,null,h(Text.H4,null,"Suggestions"),h(Button,{priority:"secondary",fill:"empty",onClick:Re=>routeClick(Re,getFeedPeopleYouMayKnowUrl())},"See all")),h(FlexColumn,{gap:8},Ie.isLoading?times(5,()=>h(fe,null)):(ge=Ie.result)==null?void 0:ge.suggestions.map(Re=>h(ue,{feedUserSuggestion:Re,surface:FeedSurface.FeedSidebar,hoverCardPlacement:"left-center"}))),h(Divider,{paddingX:8,paddingY:8}))}function ue({feedUserSuggestion:ce,surface:ge,hoverCardPlacement:Ie}){var Re,Ke,ut,_t;const{exposeExperiment:ft}=(0,a.jc)(),We=(0,m.sO)(null),{getConfigFor:Be}=(0,P.xR)(),lt=Be("enable_notes_following"),Tt=(0,V._)({user:ce.user,publicationId:(Re=ce.publication)==null?void 0:Re.id,publicationName:(Ke=ce.publication)==null?void 0:Ke.name,allowSecondaryPublications:!1,allowPresubscribe:!0,subscriptionSource:ge===v.Uo.Feed?"notes_feed_item_suggestions":ge===v.Uo.Suggestions?"notes_full_page_suggestions":"notes_sidebar_suggestions"}),xt=(0,l.Sv)(ce.user,ge),Gt=ge===v.Uo.Feed?"pymk_notes_feed_item":ge===v.Uo.Suggestions?"pymk_notes_suggestions_page":"pymk_notes_sidebar";(0,A.UM)(We,()=>{(0,ne.MJ)(ce,ge),ft("people_you_may_know_algorithm_7")});const[an,yt]=(0,m.eJ)(!1),ke=be=>{an||(yt(!0),(0,ne.CD)(ce,ge,be))},Ve=be=>{ke("user-suggestion"),be.defaultPrevented||(0,W.redirect)((0,E.getReaderProfileUrl)(ce.user,{utm_source:Gt}),{event:be})},Ne=be=>{be.preventDefault(),ke("user-suggestion-cta"),lt?xt.toggle():Tt.isSubscribed?Tt.unsubscribe(be):Tt.subscribe(be)};if(!lt&&!Tt.showCta)return null;const Fe=lt?xt.isFollowing?"Following":"Follow":Tt.isSubscribed?"Subscribed":"Subscribe",Ue=(lt?xt.isFollowing:Tt.isSubscribed)?"secondary":"primary";return ge===v.Uo.Feed?(0,o.h)(j.tu,{ref:We,className:d()(re.personYouMayKnow,re.personYouMayKnowFeed),border:"detail",alignItems:"center",padding:12,gap:12,onClick:Ve},(0,o.h)(Q.BG,{user:ce.user,pub:ce.publication,size:40}),(0,o.h)(j.tu,{className:re.personYouMayKnowInfo,alignItems:"center",minWidth:0},(0,o.h)(j.xv.B4,{className:re.personYouMayKnowInfo,align:"center",weight:"bold",ellipsis:!0},ce.user.name),(0,o.h)(j.xv.B4,{className:re.personYouMayKnowInfo,align:"center",color:"secondary",ellipsis:!0},ce.source==="twitter"?"From Twitter":ce.publication?`${ce.publication.name}`:(ut=ce.user.bio)!=null?ut:"")),(0,o.h)(j.zx,{className:re.personYouMayKnowFeedButton,priority:Ue,fill:lt?"outline":"filled",onClick:Ne,grow:!0},Fe)):(0,o.h)(de,{user:ce.user,source:Gt,publication:ce.publication,label:ce.source==="twitter"?"From Twitter":ce.publication?`Writes ${ce.publication.name}`:(_t=ce.user.bio)!=null?_t:"",hoverCardPlacement:Ie,onClick:Ve,cta:(0,o.h)(j.zx,{priority:Ue,fill:ge===v.Uo.Suggestions?"outline":"empty",onClick:Ne},Fe),boxRef:We})}function de({user:ce,publication:ge,label:Ie,hoverCardPlacement:Re,onClick:Ke,cta:ut,source:_t,boxRef:ft}){return(0,o.h)(_.Ct,{subject:ce,placement:Re,utmSource:_t},(0,o.h)(j.hs,{ref:ft,className:re.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,onClick:Ke},(0,o.h)(j.hs,{gap:12,minWidth:0},(0,o.h)(Q.BG,{user:ce,pub:ge,size:40}),(0,o.h)(j.tu,{minWidth:0},(0,o.h)(j.xv.B4,{weight:"bold",ellipsis:!0},ce.name),(0,o.h)(j.xv.B4,{color:"secondary",ellipsis:!0},Ie))),ut))}function fe(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",padding:8,gap:12},h(Placeholder,{type:"circle",className:css.personYouMayKnowImage}),h(FlexColumn,{style:{width:"100%"},gap:8},h(Placeholder,{type:"bar",width:"80%",height:16}),h(Placeholder,{type:"bar",width:"40%",height:16})))}const ye="facebookPymkNuxDismissed";function pe(){const[ce,ge]=(0,R.Z)(ye,oe);return ce?null:(0,o.h)(j.tu,{className:d()(re.personYouMayKnow,re.personYouMayKnowFeed),border:"detail",alignItems:"center",padding:12,gap:12,style:{position:"relative"}},(0,o.h)(Z.P,{className:re.close,onClick:ge}),(0,o.h)(O.Z,{fill:"var(--color-accent-facebook)",stroke:"none"}),(0,o.h)(j.tu,{className:re.personYouMayKnowInfo,alignItems:"center",minWidth:0},(0,o.h)(j.xv.B4,{className:re.personYouMayKnowInfo,align:"center",weight:"bold"},"Connect Facebook"),(0,o.h)(j.xv.B4,{className:re.personYouMayKnowInfo,align:"center",color:"secondary"},"Find your friends")),(0,o.h)(j.zx,{className:re.personYouMayKnowFeedButton,priority:"primary",fill:"filled",href:(0,E.getConnectFacebookUrl)({type:"reader2",redirect:(0,b.getFeedUrl)()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,grow:!0},"Connect"))}function we(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12},h(FlexBox,{gap:12,minWidth:0},h(FacebookIconCircle,{height:40}),h(FlexColumn,{minWidth:0},h(Text.B4,{weight:"semibold"},"Connect Facebook"),h(Text.B4,{color:"secondary"},"Find your friends on Substack"))),h(Button,{priority:"primary",fill:"filled",href:getConnectFacebookUrl({type:"reader2",redirect:getFeedUrl()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1},"Connect"))}function Me(){return(0,o.h)(j.tu,{alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(y.Z,{size:32,fill:"var(--color-accent-twitter)",stroke:"none"}),(0,o.h)(j.tu,{alignItems:"center",gap:6},(0,o.h)(j.xv.H4,null,"Find people you know"),(0,o.h)(j.xv.B4,{align:"center",color:"secondary"},"Connect Twitter to see what the people you follow are reading.")),(0,o.h)(j.zx,{priority:"primary",href:(0,b.getConnectTwitterUrl)({type:"reader2",redirect:x.Ds}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-twitter)"},rounded:!0},"Connect Twitter"))}function je(){const[,ce]=(0,R.Z)(q),ge=()=>{ce()};return(0,o.h)(j.tu,{position:"relative",alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(Z.P,{className:re.close,onClick:ge}),(0,o.h)(O.Z,{width:32,height:32}),(0,o.h)(j.tu,{alignItems:"center",gap:6},(0,o.h)(j.xv.H4,null,"Find people you know"),(0,o.h)(j.xv.B4,{align:"center",color:"secondary"},"Connect Facebook to see what friends are reading.")),(0,o.h)(j.zx,{priority:"primary",href:(0,E.getConnectFacebookUrl)({type:"reader2",redirect:(0,b.getFeedUrl)()}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-facebook)"},rounded:!0},"Connect Facebook"))}function De({utmSource:ce}){const[ge,Ie]=(0,m.eJ)(!1),[Re,Ke]=(0,m.eJ)(!1),{user:ut,changeSetting:_t}=(0,S.SE)(),[,ft]=(0,R.Z)(le),[,We]=(0,R.Z)(ae);if(!ut)return null;const Be=()=>{_t("invite_friends_nux_dismissed_at",new Date().toISOString()),ft()},lt=()=>{Be(),We()},Tt=()=>{Ie(!1),Re&&Be()},xt=()=>{Ie(!0),(0,M.j)(M.FP.INVITE_FRIENDS_MODAL_SHOWN,{source:ce})};return(0,o.h)(o.Fragment,null,(0,o.h)(j.tu,null,(0,o.h)(j.tu,{alignItems:"center",gap:12,padding:32,className:re.shareProfile},(0,o.h)(Z.P,{className:re.close,onClick:lt}),(0,o.h)(j.tu,{className:re.avatarContainer},(0,o.h)(Q.qE,{user:ut,size:48}),(0,o.h)(j.hs,{className:re.badge,padding:4},(0,o.h)(w.HA,{className:re.badgeIcon,size:12}))),(0,o.h)(j.tu,{alignItems:"center",gap:6},(0,o.h)(j.xv.H4,null,"Invite your friends"),(0,o.h)(j.xv.B4,{align:"center",color:"secondary"},"Share your profile to help your friends find you on Notes.")),(0,o.h)(j.zx,{priority:"primary",onClick:xt,rounded:!0},"Invite friends"))),(0,o.h)(te.N,{isOpen:ge,utmSource:ce,onClose:Tt,setShared:()=>Ke(!0)}))}function me({url:ce}){const ge=useRef();return useEffect(()=>{const{current:Ie}=ge;Ie&&qrcode.toCanvas(Ie,ce,{width:180,margin:2})},[]),h("canvas",{ref:ge})}},68493:(G,s,e)=>{"use strict";e.d(s,{N:()=>v});var o=e(6400),m=e(20501),f=e(67963),d=e(73115),g=e(66399),y=e(10186);const C={card:"frontend-reader2-InviteFriendModal-module__card--Y_M2a",cardTop:"frontend-reader2-InviteFriendModal-module__cardTop--U1mKN",cardBottom:"frontend-reader2-InviteFriendModal-module__cardBottom--k08tv",cardAvatar:"frontend-reader2-InviteFriendModal-module__cardAvatar--XnNz6",cardOverlay:"frontend-reader2-InviteFriendModal-module__cardOverlay--d17EK",cardUrl:"frontend-reader2-InviteFriendModal-module__cardUrl--CRORb",fakeButton:"frontend-reader2-InviteFriendModal-module__fakeButton--sjhoe"},v=({isOpen:b,utmSource:x,onClose:E,setShared:O})=>{const{user:w}=(0,f.SE)();if(!w)return(0,o.h)(o.Fragment,null);const _=(0,m.getReaderProfileUrl)(w,{utm_source:x}),a=`/img/profile_cards/card-bg-${Math.ceil(w!=null&&w.id?w.id%9+1:Math.random()*8)}.png`;return(0,o.h)(g.u_,{isOpen:b,onClose:E,width:480,overflow:"hidden"},(0,o.h)(g.xB,{includeClose:!0,onClose:E}),(0,o.h)(g.tu,{paddingX:32,paddingTop:16,paddingBottom:24,gap:20},(0,o.h)(g.tu,{alignItems:"center",gap:8},(0,o.h)(g.xv.H2,{weight:"semibold"},"Invite your friends"),(0,o.h)(g.xv.B3,{align:"center",color:"secondary"},"Share your profile to help your friends and followers find you on Substack.")),(0,o.h)(g.tu,{justifyContent:"center",alignItems:"center",border:"detail",radius:12,shadow:"lg",className:C.card},(0,o.h)(g.tu,{flex:"grow",className:C.cardTop},(0,o.h)("img",{className:C.cardOverlay,src:(0,m.imginary)(a,800)})),(0,o.h)(g.tu,{flex:"grow",alignSelf:"stretch",className:C.cardBottom,gap:16,paddingX:20,paddingBottom:20,paddingTop:0},(0,o.h)(g.hs,{justifyContent:"space-between",alignItems:"end"},(0,o.h)(y.qE,{user:w,size:112,className:C.cardAvatar}),(0,o.h)(g.zx,{priority:"secondary",rounded:!0,className:C.fakeButton},"Subscribe")),(0,o.h)(g.tu,{flex:"grow",gap:8},(0,o.h)(g.xv.H2,null,w.name),(0,o.h)(g.xv.Meta,{className:C.cardUrl,size:12,color:"substack"},_.replace(/^(http|https):\/\//,"").replace(/\?.*$/,"")),w.bio&&(0,o.h)(g.xv.B4,{color:"secondary"},w.bio)))),(0,o.h)(g.xv.Meta,{align:"center"},"Share via"),(0,o.h)(d.sZ,{shareUrl:_,shareEventType:"profile",shareText:"Subscribe to me on Substack Notes!",itemKey:w.id,onShare:()=>{O&&O()}})))}},11688:(G,s,e)=>{"use strict";e.d(s,{Oe:()=>a,cr:()=>_});var o=e(6400),m=e(8479),f=Object.defineProperty,d=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(R,N,T)=>N in R?f(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,x=(R,N)=>{for(var T in N||(N={}))C.call(N,T)&&b(R,T,N[T]);if(y)for(var T of y(N))v.call(N,T)&&b(R,T,N[T]);return R},E=(R,N)=>d(R,g(N)),O=(R,N)=>{var T={};for(var A in R)C.call(R,A)&&N.indexOf(A)<0&&(T[A]=R[A]);if(R!=null&&y)for(var A of y(R))N.indexOf(A)<0&&v.call(R,A)&&(T[A]=R[A]);return T},w=(R,N,T)=>new Promise((A,W)=>{var j=Q=>{try{J(T.next(Q))}catch(ne){W(ne)}},Z=Q=>{try{J(T.throw(Q))}catch(ne){W(ne)}},J=Q=>Q.done?A(Q.value):Promise.resolve(Q.value).then(j,Z);J((T=T.apply(R,N)).next())});function _(R){return(0,o.h)(l,E(x({},R),{key:R.module}))}function a({module:R,onRequest:N,fetchImmediately:T=!0}){const A=S.has(R),W=(0,m.Wf)(()=>M(R,N),[],{auto:T&&!A,initialResult:A?S.get(R):null});return W.error&&console.error(W.error),{error:W.error,isLoading:W.isLoading,result:W.result,fetch:W.refetch}}function l(R){var N=R,{onRequest:T,resolve:A,module:W,whileLoading:j}=N,Z=O(N,["onRequest","resolve","module","whileLoading"]);const{error:J,isLoading:Q,result:ne}=a({module:W,onRequest:T});return(0,o.h)(o.Fragment,null,J?"Error":Q||!ne?j!=null?j:null:(0,o.h)(A(ne),Z))}function P(R){return h(_,E(x({},R),{resolve:N=>N.default}))}const S=new Map;function M(R,N){return w(this,null,function*(){let T=S.get(R);return T||(T=yield N(),S.set(R,T)),T})}},18130:(G,s,e)=>{"use strict";e.d(s,{r:()=>_});var o=e(6400),m=e(98661),f=e(92298),d=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,x=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&x(a,P,l[P]);if(C)for(var P of C(l))b.call(l,P)&&x(a,P,l[P]);return a},O=(a,l)=>g(a,y(l)),w=(a,l)=>{var P={};for(var S in a)v.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&C)for(var S of C(a))l.indexOf(S)<0&&b.call(a,S)&&(P[S]=a[S]);return P};const _=(0,m.forwardRef)((a,l)=>{var P=a,{href:S,onClick:M,campaign:R}=P,N=w(P,["href","onClick","campaign"]);if(S){let A;try{A=new URL(S)}catch(W){try{A=new URL(`${document.location.origin}${S}`)}catch(j){}}if(A){if(A.origin===document.location.origin&&!R){const W=new URLSearchParams,j={};for(const[Z,J]of A.searchParams)Z.startsWith("utm_")?Z==="utm_campaign"?j.name=J:j[Z.replace(/^utm_/,"")]=J:W.append(Z,J);R=j,S=`${A.pathname}${W}`}else if(A.origin!==document.location.origin&&R){for(const[W,j]of Object.entries(R)){const Z=W==="name"?"campaign":W;A.searchParams.set(`utm_${Z}`,j)}S=A.toString()}}}const T=A=>{M==null||M(A),!A.defaultPrevented&&!A.ctrlKey&&!A.shiftKey&&!A.metaKey&&S&&(0,f.j)(E({},R))};return(0,o.h)("a",O(E({},N),{ref:l,onClick:T,href:S}))})},42332:(G,s,e)=>{"use strict";e.d(s,{aw:()=>j,u:()=>Z});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(74285),y=e(21958),C=e(5131),v=Object.defineProperty,b=Object.defineProperties,x=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,_=(J,Q,ne)=>Q in J?v(J,Q,{enumerable:!0,configurable:!0,writable:!0,value:ne}):J[Q]=ne,a=(J,Q)=>{for(var ne in Q||(Q={}))O.call(Q,ne)&&_(J,ne,Q[ne]);if(E)for(var ne of E(Q))w.call(Q,ne)&&_(J,ne,Q[ne]);return J},l=(J,Q)=>b(J,x(Q)),P=(J,Q)=>{var ne={};for(var te in J)O.call(J,te)&&Q.indexOf(te)<0&&(ne[te]=J[te]);if(J!=null&&E)for(var te of E(J))Q.indexOf(te)<0&&w.call(J,te)&&(ne[te]=J[te]);return ne};function S({hideOnScroll:J}={}){const[Q,ne]=useState(!1),te=useRef();return useEffect(()=>{if(Q){const B=()=>{ne(!1)},V=re=>{re.key==="Escape"&&ne(!1)};return window.addEventListener("click",B),window.addEventListener("keydown",V),J&&window.addEventListener("scroll",B,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",B),window.removeEventListener("keydown",V),window.removeEventListener("scroll",B,{capture:!0})}}},[Q]),{ref:te,isOn:Q,setIsOn:ne,toggle:()=>{ne(!Q)}}}const M={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function R({tetherRef:J,fixTo:Q=M,isFixed:ne,offset:te={x:0,y:0},children:B,className:V}){const re=(0,m.sO)();return(0,m.bt)(()=>{const le=J.current,ae=re.current;if(!le||!ae)return;const q=le.getBoundingClientRect(),oe=ae.getBoundingClientRect(),z=a(a({},M),Q);let ie=z.anchorY==="center"?q.top+q.height/2:q[z.anchorY];z.tetherY==="bottom"&&(ie=window.innerHeight-ie),z.tetherY==="center"&&(ie-=oe.height/2);const ue=z.tetherY==="bottom"?"bottom":"top";let de=z.anchorX==="center"?q.left+q.width/2:q[z.anchorX];z.tetherX==="right"&&(de=window.innerWidth-de),z.tetherX==="center"&&(de-=oe.width/2);const fe=z.tetherX==="right"?"right":"left";ue==="top"&&ie+oe.height>window.innerHeight?(ie=q.top-oe.height,te.y&&(ie-=te.y)):te.y&&(ie+=te.y),te.x&&(de+=te.x),ne||(ie+=window.scrollY,de+=window.scrollX),Object.assign(ae.style,{minWidth:`${q.width}px`,[ue]:`${ie}px`,[fe]:`${de}px`})},[]),(0,o.h)(g.h,null,(0,o.h)("div",{className:d()("dropdown3",V),ref:re,style:{position:ne?"fixed":"absolute"}},B))}const N=(0,y.L)("reader2-menu reader2-font-base");function T(J){var Q=J,{priority:ne}=Q,te=P(Q,["priority"]);const B=classnames("reader2-menu-item","reader2-text-button",ne,te.className);return te.href?h("a",l(a({},te),{className:B})):h("div",l(a({},te),{className:B}))}function A({options:J,value:Q,onChange:ne,fixedHeight:te=!1}){var B;const V=S({hideOnScroll:!0});return h(Button,{variant:"tertiary",onClick:V.toggle,forwardedRef:V.ref,fixedHeight:te},(B=J.find(re=>re.value===Q))==null?void 0:B.label,h(ChevronDown,{size:16}),V.isOn&&h(R,{tetherRef:V.ref,fixTo:{anchorX:"right",tetherX:"right"}},h(N,null,J.map(re=>h(T,{key:re.value,onClick:()=>ne(re.value),className:classnames("reader2-split-menu-item selectable",Q===re.value&&"isSelected")},re.label,Q===re.value&&h(Check,{className:"feather-icon"}))))))}function W(J){var Q=J,{defaultValue:ne,onChange:te}=Q,B=P(Q,["defaultValue","onChange"]);const[V,re]=useState(ne);return h(A,l(a({},B),{value:V,onChange:le=>{re(le),te(le)}}))}function j({onHover:J}={}){const[Q,ne]=(0,m.eJ)(!1),te=(0,m.sO)(),B=(0,m.sO)(),V=(0,m.sO)(),re=ae=>{ae.pointerType==="mouse"&&(clearTimeout(V.current),ne(!0),J&&J())},le=ae=>{ae.pointerType==="mouse"&&(V.current=setTimeout(()=>{ne(!1)},200))};return(0,m.d4)(()=>{const ae=te.current;if(ae)return ae.addEventListener("pointerenter",re),ae.addEventListener("pointerleave",le),()=>{ae.removeEventListener("pointerenter",re),ae.removeEventListener("pointerleave",le)}},[]),(0,m.d4)(()=>{const ae=B.current,q=te.current;if(Q&&q){const oe=()=>{ne(!1)};return window.addEventListener("scroll",oe,{capture:!0,passive:!0}),ae&&(ae.addEventListener("pointerenter",re),ae.addEventListener("pointerleave",le)),()=>{window.removeEventListener("scroll",oe,{capture:!0}),ae&&(ae.removeEventListener("pointerenter",re),ae.removeEventListener("pointerleave",le))}}},[Q]),{ref:te,tooltipRef:B,isHovering:Q}}function Z({tetherRef:J,children:Q}){return(0,o.h)(R,{tetherRef:J,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},(0,o.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},Q,(0,o.h)("div",{className:"reader2-tooltip-arrow"},(0,o.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},(0,o.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},34518:(G,s,e)=>{"use strict";e.d(s,{Yy:()=>E});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(26059),y=e(74285),C=e(39419),v=e.n(C),b=e(5131),x=e(19696);function E({children:a,className:l,onClose:P,onClick:S,hasClosePill:M,isPopup:R,noExit:N,noExitOnClick:T,noFullscreen:A,noCloseButton:W,testID:j}){const Z=(0,m.sO)(),J=Q=>{!N&&!T&&R&&(A||window.innerWidth>540)&&(Q.stopPropagation(),Q.preventDefault(),P())};return(0,o.h)(y.h,null,(0,o.h)("div",{className:d()("modal simple-modal wide typography","in",l,{"has-close-pill":M,popup:R}),"data-testid":j,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{className:d()("modal-cell modal-content reader2-modal",{"no-fullscreen":A})},(0,o.h)("div",{className:"modal-clickspace",onClick:J}),(0,o.h)("div",{className:"container",ref:Z},!N&&(!W||(0,C.isMobileBrowser)())&&(0,o.h)(b.zx,{className:d()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":M}),onClick:()=>P()},(0,o.h)(g.Z,null)),a))))))}function O({children:a,onCancel:l}){return h(E,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:l},h(w,null,a))}const w=(0,x.L)("simple-modal-pad reader2-confirm-modal"),_=(0,x.L)("buttons")},10174:(G,s,e)=>{"use strict";e.d(s,{Au:()=>ue,i3:()=>de,oC:()=>ye,sA:()=>q});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(13639),y=e(82622),C=e(20501),v=e(34085),b=e(67963),x=e(83097),E=e(62952),O=e(8479),w=e(17685),_=e(51126),a=e(62246),l=e(65919),P=e(10186),S=e(91870),M=e(11688),R=e(50292),N=e(44396),T=e(70762),A=e(7980),W=Object.defineProperty,j=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,te=(Me,je,De)=>je in Me?W(Me,je,{enumerable:!0,configurable:!0,writable:!0,value:De}):Me[je]=De,B=(Me,je)=>{for(var De in je||(je={}))Q.call(je,De)&&te(Me,De,je[De]);if(J)for(var De of J(je))ne.call(je,De)&&te(Me,De,je[De]);return Me},V=(Me,je)=>j(Me,Z(je)),re=(Me,je)=>{var De={};for(var me in Me)Q.call(Me,me)&&je.indexOf(me)<0&&(De[me]=Me[me]);if(Me!=null&&J)for(var me of J(Me))je.indexOf(me)<0&&ne.call(Me,me)&&(De[me]=Me[me]);return De},le=(Me,je,De)=>new Promise((me,ce)=>{var ge=Ke=>{try{Re(De.next(Ke))}catch(ut){ce(ut)}},Ie=Ke=>{try{Re(De.throw(Ke))}catch(ut){ce(ut)}},Re=Ke=>Ke.done?me(Ke.value):Promise.resolve(Ke.value).then(ge,Ie);Re((De=De.apply(Me,je)).next())});function ae(Me){var je=Me,{isOpen:De}=je,me=re(je,["isOpen"]);return(0,o.h)(a.u_,{className:A.Z.composerModal,isOpen:De,onClose:me.onClose,fullscreenMobile:!0,disableCloseOnBackdropClick:!0},(0,o.h)(M.cr,V(B({},me),{module:"../feed/NoteComposer",resolve:ce=>ce.NoteComposer,onRequest:()=>Promise.all([e.e(313),e.e(171),e.e(679),e.e(563),e.e(733)]).then(e.bind(e,90938))})))}function q({disabled:Me,parentPubId:je,parentPostId:De,parentCommentId:me,placeholder:ce,tabId:ge}){const Ie=de(),Re=(0,b.aF)(),Ke=(0,N.XA)(),{requireLogin:ut}=(0,R.SJ)(),_t=()=>{Me||(Re?Ie.open({parentPubId:je,parentPostId:De,parentCommentId:me,tabId:ge}):ut==null||ut())},ft=(0,E.h)({onAddFiles:We=>{Ie.open({parentPubId:je,parentPostId:De,parentCommentId:me,initialFiles:We,tabId:ge})}});return(0,o.h)(_.tu,B({},ft.props),(0,o.h)(_.gq,{gap:12,alignItems:"center",className:d()(A.Z.inlineComposer,{[A.Z.disabled]:Me})},Re?(0,o.h)(_.hs,{as:"a",flex:"auto",href:(0,C.getReaderProfileUrl)(Re,{noBase:!0})},(0,o.h)(P.qE,{size:Ke?40:48,user:Re})):(0,o.h)(_.hs,{flex:"auto"},(0,o.h)(P.qE,{size:Ke?40:48})),(0,o.h)(w.kG,{className:d()(A.Z.inlineComposerButton,{[A.Z.mobile]:Ke,[A.Z.disabled]:Me,[A.Z.isDropping]:ft.isDragging}),onClick:_t,disabled:Me,resetCss:!0},(0,o.h)(l.xv.B3,{size:Ke?14:16,align:"left",color:"secondary"},ce||"What's on your mind?")),!Ke&&(0,o.h)(w.zx,{disabled:!0,rounded:!0},"Post")))}function oe(){const Me=de(),je=useUser(),De=()=>{Me.open({})};return je?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:De,shadow:"medium"},h(Plus,{size:24})):null}const z={isOpen:!1,firstComment:void 0},ie=(0,o.createContext)({state:z,open:()=>le(void 0,null,function*(){throw new Error("Not implemented")})});function ue({children:Me}){var je,De,me;const ce=(0,b.aF)(),ge=!(ce!=null&&ce.name),Ie=(0,S.I0)(),[Re,Ke]=(0,m.eJ)(z),{feedItem:ut}=Re,_t=ye(ut),ft=(De=(je=ut==null?void 0:ut.parentComments)==null?void 0:je[0])!=null?De:ut==null?void 0:ut.comment,We=(0,m.Ye)(()=>({state:Re,open:Tt=>new Promise((xt,Gt)=>{Ke(V(B({},Tt),{isOpen:!0,resolve:xt,reject:Gt}))})}),[Re]),Be=()=>{var Tt,xt;(xt=(Tt=document.activeElement)==null?void 0:Tt.blur)==null||xt.call(Tt),Ke({isOpen:!1})},lt=!1;return(0,o.h)(ie.Provider,{value:We},Me,ge?(0,o.h)(fe,{isOpen:Re.isOpen,onClose:Be,onSuccess:()=>Ke(V(B({},Re),{isOpen:!0}))}):lt?(0,o.h)(a.u_,{isOpen:Re.isOpen,onClose:Be,width:316},(0,o.h)(we,{onClose:Be})):_t?(0,o.h)(a.u_,{isOpen:Re.isOpen,onClose:Be,width:316},(0,o.h)(pe,{onClose:Be,requirement:_t,writerId:(me=ft==null?void 0:ft.user_id)!=null?me:0})):(0,o.h)(ae,V(B({},Re),{isOpen:Re.isOpen,onClose:Be,onSuccess:Tt=>{var xt,Gt;Tt.isFirstFeedCommentByUser?Ke(V(B({},Re),{firstComment:Tt})):Be(),Ie({type:Re.editComment?"edit_comment":"new_comment",payload:{comment:Tt}}),(xt=Re.onCompose)==null||xt.call(Re,Tt),(Gt=Re.resolve)==null||Gt.call(Re,Tt)},onError:Re.reject})),(0,o.h)(a.u_,{isOpen:Re.isOpen&&!!Re.firstComment},Re.firstComment&&(0,o.h)(x.q,{onClose:Be,comment:Re.firstComment})))}function de(){return(0,m.qp)(ie)}function fe({isOpen:Me,onClose:je,onSuccess:De}){const me=(0,b.SE)();return(0,o.h)(a.u_,{isOpen:Me,onClose:je,fullscreenMobile:!0},(0,o.h)(a.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:je}),(0,o.h)(v._0,{className:A.Z.setupProfileModalContent,pageTitle:"",user:me.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:ce=>{me.setUser(ce.body),De()}}))}function ye(Me){var je,De;const me=(De=(je=Me==null?void 0:Me.parentComments)==null?void 0:je[0])!=null?De:Me==null?void 0:Me.comment,{user_id:ce,reply_minimum_role:ge}=me!=null?me:{},Ie=(0,b.aF)(),Re=(0,T.K)(ce!=null?ce:0);if(!ce||!ge||Me!=null&&Me.canReply||me&&Ie&&(0,y._N)(me,Ie.id))return null;if(ge){if(ge==="free_subscriber"&&(!Re||!["free_subscription","subscribed"].includes(Re)))return"free_subscriber";if(ge==="paid_subscriber"&&Re!=="subscribed")return"paid_subscriber"}return null}function pe({requirement:Me,writerId:je,onClose:De}){var me;const ce=(0,b.aF)(),{error:ge,result:Ie}=(0,O.ib)({pathname:`/api/v1/user/${je}/primary-publication`,deps:[je],auto:!0});return(0,o.h)(_.tu,{padding:16},(0,o.h)(_.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,o.h)(g.Z,{size:32,color:"var(--color-primary)"})),(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:8,alignItems:"center"},(0,o.h)(l.xv.H3,{align:"center"},Me==="free_subscriber"?"Subscribers only":"Paid subscribers only"),Ie&&(0,o.h)(l.xv.B3,{color:"secondary",align:"center"},"To join the conversation, ",Me==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(me=Ie.name)!=null?me:"this publication",".")),(0,o.h)(_.tu,{gap:8},Ie&&(0,o.h)(w.zx,{priority:"primary",rounded:!0,href:(0,C.getSubscribeUrl)(Ie,{user:ce,addBase:!0,params:{utm_source:"feed-comment-reply-restriction"}})},"Subscribe"),(0,o.h)(w.zx,{priority:"secondary",rounded:!0,onClick:De},"Cancel"))))}function we({onClose:Me}){return(0,o.h)(_.tu,{padding:16},(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:8,alignItems:"center"},(0,o.h)(l.xv.H3,{align:"center"},"Confirm your email address"),(0,o.h)(l.xv.B3,{color:"secondary",align:"center"},"Please confirm your email address before using Notes.")),(0,o.h)(_.tu,{gap:8},(0,o.h)(w.zx,{priority:"primary",rounded:!0,onClick:Me},"Ok"),(0,o.h)(w.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},33510:(G,s,e)=>{"use strict";e.d(s,{t5:()=>M.t,Sv:()=>S.S,Xq:()=>Ne,EU:()=>Oe,II:()=>we,Uj:()=>re,y:()=>lt,zr:()=>K,mE:()=>We,pe:()=>Ke,Vm:()=>q,Hj:()=>Ve,_Y:()=>ae,mb:()=>me,eK:()=>ce});var o=e(6400),m=e(98661),f=e(30396),d=e(94184),g=e.n(d),y=e(1852),C=e(20501),v=e(16527),b=e(39419),x=e(17685),E=e(51126),O=e(65919),w=e(44396),_=e(5131),a=e(19696),l=e(54520);const P={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",placeholder:"frontend-reader2-Page-module__placeholder--qZjLi",travel:"frontend-reader2-Page-module__travel--cox8O",bar:"frontend-reader2-Page-module__bar--kRTwB",circle:"frontend-reader2-Page-module__circle--ZMmhY",elevated:"frontend-reader2-Page-module__elevated--QKV5Y",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3"};var S=e(15822),M=e(55886),R=Object.defineProperty,N=Object.defineProperties,T=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,Z=(Y,he,Te)=>he in Y?R(Y,he,{enumerable:!0,configurable:!0,writable:!0,value:Te}):Y[he]=Te,J=(Y,he)=>{for(var Te in he||(he={}))W.call(he,Te)&&Z(Y,Te,he[Te]);if(A)for(var Te of A(he))j.call(he,Te)&&Z(Y,Te,he[Te]);return Y},Q=(Y,he)=>N(Y,T(he)),ne=(Y,he)=>{var Te={};for(var He in Y)W.call(Y,He)&&he.indexOf(He)<0&&(Te[He]=Y[He]);if(Y!=null&&A)for(var He of A(Y))he.indexOf(He)<0&&j.call(Y,He)&&(Te[He]=Y[He]);return Te};function te({children:Y}){const he=useMobile();return h(ut,null,he?h(Text.H2,null,Y):h(Text.H1,null,Y))}function B({className:Y,children:he,title:Te,hasTitle:He}){return h("div",{className:classnames("reader2-page-section",(Te||He)&&"withTitle",Y)},Te&&h(V,null,Te),he)}function V({children:Y,className:he,actions:Te}){return h("div",{className:classnames("reader2-section-title",he)},h("span",{className:"reader2-text-h3 reader2-section-title"},Y),Te&&h("div",{className:"reader2-header-actions"},Te))}const re=(0,m.forwardRef)((Y,he)=>{var Te=Y,{isPadded:He=!0,className:Qe,linkClassName:ht}=Te,ct=ne(Te,["isPadded","className","linkClassName"]);return(0,o.h)("div",{ref:he,className:g()(P.linkRow,He&&P.isPadded,Qe)},(0,o.h)(le,Q(J({},ct),{className:ht})))});function le(Y){var he=Y,{children:Te,className:He,href:Qe,newTab:ht,onClick:ct,noAnchor:Pt,native:Nt,utmCampaign:sn,utmSource:Et,isSelected:Ot}=he,at=ne(he,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const Ht=typeof location!="undefined"?location.pathname:"",zt=!Pt&&Qe!=null?"a":"div",on=Qe&&(0,C.pathWithQuery)(Qe,{utm_source:Et||Ht,utm_medium:"reader2",utm_campaign:sn}),hn=gn=>{ct&&ct(gn),!gn.defaultPrevented&&Pt&&on&&(0,v.Q)(gn,on,{native:Nt,newTab:ht})};return(0,o.h)(E.hs,J({as:zt,className:g()(P.linkRowA,He,(on||ct)&&Ot==null&&P.isClickable,Ot&&P.isSelected,Ot!=null&&P.isSelectable),"data-selected":Ot,href:on,target:ht?"_blank":void 0,onClick:hn},at),Te)}function ae({icon:Y,title:he,text:Te,action:He,className:Qe}){return(0,o.h)(E.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:g()(P.zero,Qe)},Y,(0,o.h)(E.tu,{gap:4},(0,o.h)(O.xv.B3,{weight:"medium",color:"secondary"},he),(0,o.h)(O.xv.B4,{color:"secondary"},Te)),He)}function q({className:Y,style:he,type:Te,width:He,height:Qe,size:ht,maxWidth:ct,elevated:Pt}){ht!=null&&(He=ht,Qe=ht);const Nt=Te==="bar";return(0,o.h)("div",{className:g()(P.placeholder,Y,Pt&&P.elevated,Nt&&P.bar,Te==="circle"&&P.circle),style:Q(J({},he),{width:He,height:Qe,maxWidth:ct})})}function oe(Y){var he=Y,{className:Te,variant:He,size:Qe,serif:ht,isConstrained:ct,maxLines:Pt=3}=he,Nt=ne(he,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",J({className:classnames("reader2-paragraph",He&&`reader2-${He}`,Qe&&`reader2-font-${Qe}`,ht&&"reader2-font-serif",ct&&`reader2-clamp-lines reader2-${Pt}-lines`,Te)},Nt))}function z({className:Y,children:he}){return h("div",{className:classnames("reader-nav-center",Y)},h("div",{className:"reader2-page reader2-font-base"},he))}function ie({className:Y,scrollRef:he,children:Te}){return h(pe,{ref:he},h(z,{className:Y},Te))}function ue(Y){var he=Y,{scrollRef:Te}=he,He=ne(he,["scrollRef"]);return h(pe,{ref:Te},h(FlexBox,Q(J({},He),{flex:"grow",paddingX:{mobile:0,desktop:20}})))}function de(Y){return useMediaQuery({minWidth:1100})?h(FlexColumn,J({className:"reader2-inbox-sidebar",paddingTop:20},Y)):null}function fe(Y){return h(FlexBox,J({alignItems:"center",justifyContent:"space-between",paddingX:8},Y))}function ye(Y){return h(FlexColumn,J({gap:8},Y))}const pe=(0,m.forwardRef)((Y,he)=>(0,o.h)(l.SV,null,(0,o.h)("div",J({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:he},Y)))),we=(0,m.forwardRef)((Y,he)=>{var Te=Y,{className:He,hasError:Qe}=Te,ht=ne(Te,["className","hasError"]);return(0,o.h)("input",Q(J({className:g()(P.input,Qe&&P.error,He)},ht),{ref:he}))});function Me(Y){var he=Y,{className:Te,hasError:He,textareaRef:Qe}=he,ht=ne(he,["className","hasError","textareaRef"]);return h("textarea",J({ref:Qe,className:classnames(css.input,css.textarea,He&&css.error,Te)},ht))}function je({error:Y}){return h(Ne,null,getNetworkErrorMessage(Y))}const De=({header:Y,icon:he,title:Te,text:He,action:Qe})=>h(B,{title:Y},h(me,{icon:he,title:Te,text:He,action:Qe}));function me(Y){return(0,o.h)(E.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,o.h)(ae,J({},Y)))}const ce=(Y,{initialState:he}={})=>{const[Te,He]=(0,f.eJ)(he||{showLeft:!1,showRight:!0});return(0,f.d4)(()=>{const{current:ht}=Y;if(ht){const ct=()=>{He(Pt=>{let Nt=Pt;!Nt.showLeft&&ht.scrollLeft>0?Nt=Q(J({},Pt),{showLeft:!0}):Nt.showLeft&&ht.scrollLeft<=0&&(Nt=Q(J({},Pt),{showLeft:!1}));const sn=ht.scrollWidth-ht.offsetWidth-4;return!Nt.showRight&&ht.scrollLeft<sn?Nt=Q(J({},Pt),{showRight:!0}):Nt.showRight&&ht.scrollLeft>=sn&&(Nt=Q(J({},Pt),{showRight:!1})),Nt})};return ht.addEventListener("scroll",ct),setTimeout(()=>{ct()},1e3),()=>{ht.removeEventListener("scroll",ct)}}},[]),{state:Te,handleArrowClick:ht=>()=>{const{current:ct}=Y;ct&&ct.scrollBy({left:ht*ct.offsetWidth,behavior:"smooth"})}}};function ge({tabs:Y,value:he,onChange:Te}){const He=useRef(),Qe=useMobile(),{state:ht,handleArrowClick:ct}=ce(He);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:css.tabContainer},h(FlexRow,{className:"reader2-tab-bar-parent"},!Qe&&h("div",{className:classnames("reader2-carousel-fade left",ht.showLeft&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow left",onClick:ct(-1)},h(ChevronLeft,{size:20}))),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:He},h(Ie,{tabs:Y,value:he,onChange:Te})),!Qe&&h("div",{className:classnames("reader2-carousel-fade right",ht.showRight&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow right",onClick:ct(1)},h(ChevronRight,{size:20})))))}function Ie({tabs:Y,value:he,onChange:Te}){return h(FlexRow,{gap:8},Y.map(He=>h(PillButton,{key:He.value,isActive:he===He.value,onClick:()=>Te(He.value),icon:He.icon},He.label)))}function Re({children:Y}){const he=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:he},Y)}function Ke(Y){var he=Y,{gap:Te=16}=he,He=ne(he,["gap"]);return(0,o.h)(E.tu,Q(J({},He),{className:g()(P.pageStack,P[`gap_${Te}`])}))}const ut=(0,a.L)("reader2-page-top"),_t=(0,a.L)(P.pageTopFixed),ft=(0,a.L)("reader2-page-body"),We=(0,a.L)(P.pageStack),Be=(0,a.L)("reader2-page-center"),lt=(0,a.L)("reader2-modal-title-text"),Tt=(0,a.L)("reader2-column"),xt=(0,a.L)("reader2-text-h3"),Gt=(0,a.L)("reader2-text-h3 reader2-section-title"),an=(0,a.L)("reader2-text-h4"),yt=(0,a.L)("reader2-item-title"),ke=(0,a.L)("reader2-item-meta"),Ve=(0,a.L)("reader2-text-b4"),Ne=(0,a.L)("reader2-form-error"),Fe=(0,a.L)("reader2-subtitle"),Ue=(0,a.L)("reader2-separator","hr"),be=(0,a.L)("reader2-page-section withTitle"),Ge=(0,a.L)("reader2-row reader2-split-row"),nt=(0,a.L)("reader2-emphasis-box"),Oe=(0,a.L)(g()(P.hoverLink,"pencraft"),"a");function K(Y){return(0,o.h)(Oe,J({target:"_blank"},Y))}},4263:(G,s,e)=>{"use strict";var o=e(6400),m=e(98661),f=e(30396),d=e(94184),g=e.n(d),y=e(42395),C=e.n(y),v=e(15045),b=e(7922),x=e(45809),E=e(24491),O=e(11862),w=e(38199),_=e(56790),a=e(26523),l=e(53206),P=e(67963),S=e(3258),M=e(15748),R=e(6742),N=e(39419),T=e.n(N),A=e(51126),W=e(65919),j=e(95297),Z=e(33510),J=e(68262),Q=e(40172),ne=e(47585),te=e(44396),B=e(72307),V=Object.defineProperty,re=Object.defineProperties,le=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,z=(Oe,K,Y)=>K in Oe?V(Oe,K,{enumerable:!0,configurable:!0,writable:!0,value:Y}):Oe[K]=Y,ie=(Oe,K)=>{for(var Y in K||(K={}))q.call(K,Y)&&z(Oe,Y,K[Y]);if(ae)for(var Y of ae(K))oe.call(K,Y)&&z(Oe,Y,K[Y]);return Oe},ue=(Oe,K)=>re(Oe,le(K)),de=(Oe,K)=>{var Y={};for(var he in Oe)q.call(Oe,he)&&K.indexOf(he)<0&&(Y[he]=Oe[he]);if(Oe!=null&&ae)for(var he of ae(Oe))K.indexOf(he)<0&&oe.call(Oe,he)&&(Y[he]=Oe[he]);return Y};function fe(Oe){var K=Oe,{post:Y,pub:he}=K,Te=de(K,["post","pub"]);const He=!!useUser(),{subscription:Qe}=usePubSubscription(he.id);return h(pe,ue(ie({},Te),{post:Y,postId:Y.id,title:Y.title,description:decodeHtmlEntitiesFast(Y.description),bylines:Y.publishedBylines,consumptionTime:Be(Y),coverImage:Y.cover_image,type:getPostType(Y),Icon:xt(getPostType(Y)),canonicalUrl:getPostUrl(he,Y,{signedIn:He}),timestamp:Y.post_date,pub:he,audienceBadge:["only_paid","founding"].includes(Y.audience)?(Qe==null?void 0:Qe.membership_state)==="free_signup"&&Y.should_send_free_preview?"preview":"paid":void 0}))}var ye=null;function pe(Oe){var K=Oe,{post:Y,title:he,description:Te,bylines:He,consumptionTime:Qe,coverImage:ht,type:ct,Icon:Pt,audienceBadge:Nt,showBestsellerBadge:sn,highlights:Et,excerpt:Ot}=K,at=de(K,["post","title","description","bylines","consumptionTime","coverImage","type","Icon","audienceBadge","showBestsellerBadge","highlights","excerpt"]);return h(Me,ue(ie({},at),{highlights:Et}),h(Ke,{post:Y,bylines:He,consumptionTime:Qe,Icon:Pt,audienceBadge:Nt,showBestsellerBadge:sn,highlights:Et,excerpt:Ot}))}function we({post:Oe,pub:K,context:Y,isViewed:he,isSaved:Te,isSelected:He,onClick:Qe,onMouseEnter:ht,onVisible:ct,position:Pt}){const Nt=!!useUser(),sn=Oe.cover_image;return h(Me,{postId:Oe.id,canonicalUrl:getPostUrl(K,Oe,{signedIn:Nt,urlParams:{pos:Pt}}),timestamp:Oe.post_date,pub:K,isViewed:he,isSelected:He,defaultSaved:Te,onClick:Qe,onMouseEnter:ht,onVisible:ct},h(Re,{post:Oe,metaText:Y,image:sn&&h(Tt,{post:Oe})}))}function Me({children:Oe,pub:K,publisherName:Y,logoUrl:he,timestamp:Te,isViewed:He,isArchived:Qe,isSelected:ht,isLiked:ct,isSaved:Pt,onLike:Nt,onClick:sn,canonicalUrl:Et,postId:Ot,defaultSaved:at,onSave:Ht,onArchive:zt,onMouseEnter:on,onVisible:hn,utmSource:gn,highlights:bn}){const Un=useUser(),[qn,cr]=useUnreadBadge(!He),hr=isMobileBrowser(),pr=useRef();return useFirstVisible(pr,()=>hn&&hn(),{threshold:.2}),h(ce,{ref:pr,href:Et,onClick:Lr=>{cr(),sn&&sn(Lr)},className:"reader2-post-container",utmSource:gn,isSelected:ht,onMouseMove:()=>{on==null||on(Ot)}},h(ge,{pub:K,publisherName:Y,logoUrl:he,highlights:bn},h(FlexRow,{className:classnames("reader2-post-info tw-items-center tw-gap-3",Un&&"hasUser")},h(Ie,{className:"inbox-item-timestamp",value:Te}),h(je,{isMobile:hr,postId:Ot,defaultSaved:at,isSaved:Pt,onSave:Ht,user:Un,isArchived:Qe,onArchive:zt,isLiked:ct,onLike:Nt,canonicalUrl:Et,communityEnabled:K==null?void 0:K.community_enabled}),qn)),Oe)}function je({isMobile:Oe,postId:K,defaultSaved:Y,isLiked:he,onLike:Te,isSaved:He,onSave:Qe,user:ht,isArchived:ct,onArchive:Pt,canonicalUrl:Nt,communityEnabled:sn}){const{isSaved:Et,onSave:Ot}=useSavePostById({postId:K,defaultSaved:Y}),at=hn=>{hn.stopPropagation(),hn.preventDefault()},Ht=()=>{Qe?Qe(K,!Et):Ot()},zt=()=>{Pt==null||Pt()},on=useLinkCopyToast();return Oe?null:h(FlexBox,{padding:4,gap:4,className:"inbox-item-actions-menu",onClick:at},Te&&sn&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>Te(K)},h(yt,{isActive:he})),h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>{on(Nt)}},h(be,null)),ht&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:Ht},h(Ne,{isActive:He!=null?He:Et})),Pt&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:zt},h(Ue,null)))}function De({post:Oe,highlights:K}){return h(Ke,{post:Oe,bylines:Oe.publishedBylines,consumptionTime:Be(Oe),Icon:xt(getPostType(Oe)),highlights:K})}function me({post:Oe,pub:K}){const Y=!!useUser();return h(ce,{href:getPostUrl(K,Oe,{signedIn:Y})},h(ge,{pub:K},h(Ie,{value:Oe.post_date})),h(De,{post:Oe}))}const ce=(0,m.forwardRef)((Oe,K)=>(0,o.h)(Z.Uj,ie({ref:K,linkClassName:g()("reader2-inbox-post",Oe.isSelected==null&&"hover-action-menu"),native:!0,isPadded:!1,newTab:!0},Oe)));function ge({pub:Oe,logoUrl:K,publisherName:Y,children:he,highlights:Te={}}){return h("div",{className:"reader2-post-head reader2-text-meta"},(Oe||K)&&h(PubIcon,{className:"pub-logo",pub:Oe,logoUrl:K,publicationName:Y,size:20}),h("div",{className:"pub-name"},Y||Oe&&h(NewTabHoverLink,{href:Oe.base_url,onClick:He=>He.stopPropagation()},highlightText(Oe.name,Te["publication.name"]))),he)}function Ie({value:Oe,className:K}){return h("div",{className:classnames("timestamp",K)},formatPostDate(Oe))}function Re({post:Oe,image:K,metaText:Y,highlights:he={},excerpt:Te}){return h("div",{className:"reader2-post-body",onClick:()=>{const He=(window==null?void 0:window.location)&&new URL(window.location.href);He&&track(EVENTS.POST_SEARCH_RESULT_CLICKED,{post_id:Oe.id,query:decodeURIComponent(He.pathname.replace(/\/search\//g,""))})}},h(FlexColumn,{minWidth:0,gap:8},h("div",{className:"reader2-post-title reader2-clamp-lines"},highlightText(Oe.title,he.title||he["posts.title"],"extrabold")),Oe.description&&h(Paragraph,{variant:"secondary",isConstrained:!Te},Te?h(Text,{as:"span",fontStyle:"italic"},"\u201C...",highlightText(Te,he.body_text,"extrabold"),"\u201D"):highlightText(decodeHtmlEntitiesFast(Oe.description),he.subtitle||he["posts.subtitle"],"extrabold")),Y),K)}function Ke({bylines:Oe,consumptionTime:K,Icon:Y,audienceBadge:he,showBestsellerBadge:Te,post:He,highlights:Qe,excerpt:ht}){return h(Re,{post:He,metaText:h(ut,{bylines:Oe,consumptionTime:K,Icon:Y,audienceBadge:he,showBestsellerBadge:Te,highlights:Qe}),image:He.cover_image&&h(Tt,{post:He}),highlights:Qe,excerpt:ht})}function ut({bylines:Oe,consumptionTime:K,Icon:Y,audienceBadge:he,showBestsellerBadge:Te,highlights:He={}}){return h(ItemMeta,null,he&&h(Fragment,null,h("span",{className:"meta-audience-badge"},he),h(ft,null)),Oe.length>0?h(Fragment,null,h(FormattedArray,{array:Oe,limit:5,formatter:Qe=>Te?h(_t,{name:Qe.name,tier:Qe.bestseller_tier,userId:Qe.id}):highlightText(Qe.name,He["publication.author_name"])}),K&&h(ft,null)):null,Y&&h(Fragment,null,h(Y,{className:"meta-icon tw-align-text-top"})," "),K)}const _t=({name:Oe,tier:K,userId:Y})=>K?h(FlexRow,{inline:!0,gap:4,alignItems:"center"},Oe," ",h(UserBadge,{userId:Y,tier:K,size:"sm"})):h(Fragment,null,Oe),ft=()=>h("span",{className:"meta-bullet"},"\u2219");function We(Oe){var K,Y;return(K=Oe==null?void 0:Oe.duration_metadata)!=null&&K.audio_duration?"podcast":Oe.video_id&&((Y=Oe==null?void 0:Oe.duration_metadata)!=null&&Y.video_duration)?"video":"newsletter"}function Be(Oe){const{comment_count:K,podcast_duration:Y,wordcount:he,videoUpload:Te}=Oe;let He,Qe;const ht=getPostType(Oe);if(ht==="podcast")He=Y/60,Qe="listen";else if(ht==="video")He=Te.duration/60,Qe="watch";else{if(ht==="thread")return K>0?`${K.toLocaleString()} replies`:"Thread";if(he!=null&&he>0)He=he/220,Qe="read";else return null}return`${Math.max(Math.round(He),1).toLocaleString()} min ${Qe}`}function lt(Oe){var K;let Y,he;const Te=We(Oe);if(Te==="podcast")Y=Oe.duration_metadata.audio_duration/60,he="listen";else if(Te==="video")Y=Oe.duration_metadata.video_duration/60,he="watch";else if((((K=Oe==null?void 0:Oe.duration_metadata)==null?void 0:K.word_count)||0)>0)Y=Oe.duration_metadata.word_count/220,he="read";else return null;return`${Math.max(Math.ceil(Y),1).toLocaleString()} min ${he}`}function Tt({post:Oe,size:K=132,square:Y}){const he=Oe.cover_image,Te=getPostType(Oe),He=K,Qe=Te==="podcast"||Y?K:200,[ht,ct]=useState(null);return ht?null:h("div",{className:"reader2-post-picture-container"},h(CloudImage,{className:classnames("reader2-post-picture",Te),src:he,width:Qe,height:He,loading:"lazy",noStyle:!Y,onError:Pt=>ct(Pt)}),(Te==="podcast"||Te==="video")&&h("div",{className:"reader2-picture-overlay"},h(InboxPodcastPlayIcon,{className:"picture-play"})))}function xt(Oe){return Oe==="podcast"?AudioIcon:Oe==="video"?VideoIcon:Oe==="thread"?ThreadIcon:null}const Gt=20;function an(Oe){return h(UnstyledButton,ie({className:"reader2-post-action-button"},Oe))}function yt({isActive:Oe}){return h(Heart,{className:classnames("reader2-post-action-heart",Oe&&"isActive"),size:Gt})}function ke({isActive:Oe}){return h(Comment,{size:Gt})}function Ve({isActive:Oe}){return h(Flag,{size:Gt})}function Ne({isActive:Oe}){return h(Bookmark,{className:classnames("reader2-post-action-bookmark",Oe&&"isActive"),size:Gt})}function Fe({text:Oe}){return h(LinkRow,{linkClassName:"reader2-info-card",noAnchor:!0,native:!0,isPadded:!1},h(RoundedInformationIcon,{className:"reader2-info-card-icon"}),h(Text,{font:"text",color:"secondary",size:14,weight:"medium",lineHeight:20},Oe))}function Ue(){return h(Archive,{size:Gt,className:"inbox-item-action-icon reader2-post-action-archive"})}function be(){return h(Link,{size:Gt,className:"inbox-item-action-icon reader2-post-action-copy"})}function Ge(){return h(Fragment,null,Array(6).fill(0).map(()=>h(nt,null)))}function nt(){const Oe=useMobile();return h(LinkRow,null,h(FlexColumn,{flex:"grow",gap:12},h(FlexBox,{gap:12,alignItems:"center"},h(Placeholder,{size:24,style:{borderRadius:6}}),h(Placeholder,{type:"bar",maxWidth:120,className:"tw-grow"}),h(Placeholder,{type:"bar",maxWidth:80,className:"tw-ml-auto tw-grow"})),h("div",{className:"reader2-post-body"},h(FlexColumn,{minWidth:0,gap:4},h(Placeholder,{type:"bar",width:"70%"}),h(Placeholder,{type:"bar",width:"80%"}),h(Placeholder,{type:"bar",width:"50%"})),h(Placeholder,{width:Oe?96:160,height:Oe?96:120,style:{borderRadius:6}}))))}},7778:(G,s,e)=>{"use strict";e.d(s,{wg:()=>uo});var o=e(6400),m=e(30396),f=e(94184),d=e(3312),g=e(28175),y=e(99869),C=e(71212),v=e(80569),b=e(2731),x=e(82771),E=e(81470),O=e(15045),w=e(70444),_=e(20501),a=e(83322),l=e(43615),P=e(78041),S=e(48963),M=e(53668),R=e(68227),N=e(66839),T=e(96733),A=e(59736),W=e(81243),j=e(63861),Z=e(91001),J=e(69427),Q=e(25877),ne=e(58718),te=e(92643),B=e(63270),V=e(67963),re=e(69371),le=Object.defineProperty,ae=Object.defineProperties,q=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,ue=(At,Yt,Wt)=>Yt in At?le(At,Yt,{enumerable:!0,configurable:!0,writable:!0,value:Wt}):At[Yt]=Wt,de=(At,Yt)=>{for(var Wt in Yt||(Yt={}))z.call(Yt,Wt)&&ue(At,Wt,Yt[Wt]);if(oe)for(var Wt of oe(Yt))ie.call(Yt,Wt)&&ue(At,Wt,Yt[Wt]);return At},fe=(At,Yt)=>ae(At,q(Yt)),ye=(At,Yt)=>{var Wt={};for(var rn in At)z.call(At,rn)&&Yt.indexOf(rn)<0&&(Wt[rn]=At[rn]);if(At!=null&&oe)for(var rn of oe(At))Yt.indexOf(rn)<0&&ie.call(At,rn)&&(Wt[rn]=At[rn]);return Wt};function pe(At){var Yt=At,{size:Wt=24,stroke:rn="var(--color-light-secondary)"}=Yt,vn=ye(Yt,["size","stroke"]);return h("svg",fe(de({},vn),{width:Wt,height:Wt,viewBox:"0 0 24 24",fill:"none",stroke:rn,xmlns:"http://www.w3.org/2000/svg"}),h("path",{d:"M18.4824 5.92426L6.89132 2.81843C5.82439 2.53255 4.72772 3.16571 4.44183 4.23264L1.33606 15.8236C1.05017 16.8905 1.68332 17.9872 2.75024 18.2731L5.69847 19.0631M11 14.1569L13.1696 16.3139L17.5089 12M6 8.00001V19.9998C6 21.1044 6.89541 21.9998 7.99997 21.9998L20 22C21.1046 22 22 21.1046 22 20V8.00001C22 6.89544 21.1046 6.00001 20 6.00001H8C6.89543 6.00001 6 6.89544 6 8.00001Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))}var we=e(60779),Me=e(55687),je=e(20447),De=e(2387),me=e(59386),ce=e(3258),ge=e(8479),Ie=e(11533),Re=e(39419),Ke=e(17685),ut=e(48960),_t=e(51126),ft=e(76235),We=e(65919),Be=e(75425),lt=e(92630),Tt=e(95297),xt=e(10186),Gt=e(91870),an=e(68493),yt=e(11688),ke=e(50292),Ve=e(33510),Ne=e(4263),Fe=e(7922),Ue=e(96789),be=e(66399);const Ge={reasonRow:"frontend-reader2-ProfileReportModal-module__reasonRow--CTUTF",reasonLabel:"frontend-reader2-ProfileReportModal-module__reasonLabel--eMrhr"};var nt=(At,Yt,Wt)=>new Promise((rn,vn)=>{var An=Jn=>{try{er(Wt.next(Jn))}catch(Nn){vn(Nn)}},zn=Jn=>{try{er(Wt.throw(Jn))}catch(Nn){vn(Nn)}},er=Jn=>Jn.done?rn(Jn.value):Promise.resolve(Jn.value).then(An,zn);er((Wt=Wt.apply(At,Yt)).next())});function Oe({userId:At,surface:Yt,onClose:Wt,onReportSuccess:rn}){const vn=useRef(),An=()=>{var yr;return(yr=vn==null?void 0:vn.current)==null?void 0:yr.close()};useEffect(()=>{var yr;(yr=vn==null?void 0:vn.current)==null||yr.open()},[!!vn.current]);const zn=[{value:"spam",label:"It's spam"},{value:"impersonation",label:"It's pretending to be someone else"},{value:"violation",label:"It's posting content that violates Substack's Content Guidelines"}],[er,Jn]=useState(null),[Nn,Pr]=useState(!1),Er=yr=>nt(this,null,function*(){if(!yr){alert("Please enter a reason!");return}Pr(!0);try{yield request.post(`/api/v1/user/${At}/report`).send({userId:At,reason:yr,surface:Yt}),An(),rn(),Pr(!1),yr==="violation"&&(location.href=getHcProfileViolationFormUrl(At))}catch(Br){Pr(!1),alert(getNetworkErrorMessage(Br))}});return h(PopupModal,{ref:vn,onClose:Wt},h(FlexColumn,{padding:24,gap:8},h(Text.H3,null,"Report profile"),h(Text.Detail,null,"Why are you reporting this profile?"),h(EmphasisBox,null,h(FlexColumn,{gap:4},zn.map(({value:yr,label:Br})=>h("label",{className:css.reasonRow},h(Text,{className:css.reasonLabel},Br),h("input",{type:"radio",name:"reason",value:yr,onInput:()=>Jn(yr)}))))),h(FlexRow,null,h(Text.Detail,null,"Substack ",h("a",{href:"/content"},"Content Guidelines"))),h(FlexRow,{style:{flexDirection:"row-reverse"}},h(Button,{className:"primary",onClick:()=>Er(er),disabled:er===null||Nn},h("span",null,Nn?"Loading...":er==="violation"?"Proceed":"Submit")),h(Button,{className:"secondary",onClick:An},h("span",null,"Cancel")))))}var K=e(68262),Y=e(79167),he=e(74462),Te=e(20533),He=e(4948),Qe=e(44396),ht=e(70762);const ct={fillIcon:"frontend-reader2-ProfilePage-module__fillIcon--uQnv7",twitterVerifiedIcon:"frontend-reader2-ProfilePage-module__twitterVerifiedIcon--D8_VN",profileRow:"frontend-reader2-ProfilePage-module__profileRow--eeceW",profileImage:"frontend-reader2-ProfilePage-module__profileImage--UGMJ2",stat:"frontend-reader2-ProfilePage-module__stat--rf1FK",avatar:"frontend-reader2-ProfilePage-module__avatar--fwwNi",readsRow:"frontend-reader2-ProfilePage-module__readsRow--mkhra",page:"frontend-reader2-ProfilePage-module__page--m0EUw",grid:"frontend-reader2-ProfilePage-module__grid--yXlQ6",pubMain:"frontend-reader2-ProfilePage-module__pubMain--uGuNF",pub:"frontend-reader2-ProfilePage-module__pub--JVugC"};var Pt=Object.defineProperty,Nt=Object.defineProperties,sn=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,Ht=(At,Yt,Wt)=>Yt in At?Pt(At,Yt,{enumerable:!0,configurable:!0,writable:!0,value:Wt}):At[Yt]=Wt,zt=(At,Yt)=>{for(var Wt in Yt||(Yt={}))Ot.call(Yt,Wt)&&Ht(At,Wt,Yt[Wt]);if(Et)for(var Wt of Et(Yt))at.call(Yt,Wt)&&Ht(At,Wt,Yt[Wt]);return At},on=(At,Yt)=>Nt(At,sn(Yt)),hn=(At,Yt)=>{var Wt={};for(var rn in At)Ot.call(At,rn)&&Yt.indexOf(rn)<0&&(Wt[rn]=At[rn]);if(At!=null&&Et)for(var rn of Et(At))Yt.indexOf(rn)<0&&at.call(At,rn)&&(Wt[rn]=At[rn]);return Wt},gn=(At,Yt,Wt)=>new Promise((rn,vn)=>{var An=Jn=>{try{er(Wt.next(Jn))}catch(Nn){vn(Nn)}},zn=Jn=>{try{er(Wt.throw(Jn))}catch(Nn){vn(Nn)}},er=Jn=>Jn.done?rn(Jn.value):Promise.resolve(Jn.value).then(An,zn);er((Wt=Wt.apply(At,Yt)).next())});const bn=(0,O.getProfileSetupUrl)({utm_source:"substack"}),Un="profile-page-feed";function qn({id:At,initialData:{profileSubscribeOnTransit:Yt=!1}}){var Wt;const rn=useUser(),vn=useRef(null),An=useMobile(),zn=useToast();let er,Jn;At.includes("-")?(er=hr(At),Jn=pr(At)):er=At;const{subjectProfile:Nn,error:Pr}=useProfile({subjectId:er,subjectName:Jn}),Er=useUserBlockStatus(Nn==null?void 0:Nn.id),yr=Er==="blocked"||Er==="blocking",Br=!!(Nn!=null&&Nn.profile_set_up_at),ao=Nn&&Nn.id===(rn==null?void 0:rn.id),to=(Nn==null?void 0:Nn.subscriptions)||[],Sr=(Nn==null?void 0:Nn.primaryPublication)&&((Wt=Nn.publicationUsers.find(Vo=>{var bo;return Vo.publication_id===((bo=Nn==null?void 0:Nn.primaryPublication)==null?void 0:bo.id)}))==null?void 0:Wt.publication),Ao=!!(Sr&&(Nn!=null&&Nn.isSubscribed)),fo=(Nn==null?void 0:Nn.max_pub_tier)===2;useEffect(()=>{Nn&&(track(EVENTS.PROFILE_VISITED,{profile_user_id:Nn.id,is_set_up:Br,is_self:ao,has_name:!!Nn.name,has_photo:!!Nn.photo_url,has_bio:!!Nn.bio,has_twitter:!!Nn.twitterAccount,reads_count:to.length,writes_count:Nn.publicationUsers.length,subscribe_cta_publication_id:!Ao&&(Sr==null?void 0:Sr.id)}),Yt&&(removeQueryParam("subscribed"),zn.popToast(Vo=>h(Toast,on(zt({},Vo),{text:`Subscribed to ${(Sr==null?void 0:Sr.name)||Nn.name||"user"}`,Icon:Check})))))},[At]);const[{url:Ho}]=useRouter(),No=nn(Ho)?Un:"profile-page";return Pr?h(Page,{className:css.page},setMetaData({title:"Profile not found"}),h(FlexBox,{paddingY:64,flex:"grow"},h(ZeroBox,{icon:h(AlertCircle,null),title:"Profile not found",text:"We couldn't load this profile.",action:h(Button,{priority:"secondary",href:getDiscoverSearchUrl()},"Search")}))):Nn?h(FlexColumn,{style:{maxWidth:640},flex:"grow",minWidth:0},setMetaData({title:`${Nn.name||"<no name>"} | Substack`,description:Nn&&Nn.bio,image:Nn&&Nn.photo_url&&imginary(Nn.photo_url),seoProps:{noindex:!(fo&&(Nn.photo_url||Nn.bio||Br))}}),h(ShareDialog,{ref:vn,medium:"profile-page",user:rn,profile:Nn,onClick:Vo=>Vo.preventDefault()}),h(Yr,{profile:Nn}),h(FlexColumn,null,h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingY:{desktop:32,mobile:16}},h(Nr,{profile:Nn,primaryPublication:Sr,yourProfile:!!ao,setUp:Br,user:rn,showCTAs:!yr,subscriptionSource:No,subscribeButton:!ao&&Sr&&!yr&&h(xr,{user:rn,profile:Nn,primaryPublication:Sr,subscriptionSource:No})}),Nn.publicationUsers.length>0&&!yr&&h(Xo,{isMobile:An,profile:Nn,primaryPublication:Sr,subscriptionSource:No}),Er==="blocked"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`${Nn.name||"They"} blocked you`,text:`You are blocked from subscribing to ${Nn.name||"them"} and their publications`})),Er==="blocking"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`You blocked ${Nn.name||"them"}`,text:"You can manage your blocks in your account settings.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Account settings")}))),!yr&&Br&&h(oo,{subscriptions:to,profile:Nn})),!Br&&ao&&h(PageCenter,null,h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(ProfileIcon,null),title:"You haven\u2019t set up your profile yet.",text:"Click the button below to get started.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Set up profile")})))):h(cr,null)}const cr=()=>{const At=useMobile();return h(FlexColumn,{style:{maxWidth:600},flex:"grow"},h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingTop:{desktop:32,mobile:16},paddingBottom:16},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Placeholder,{type:"circle",size:At?96:112}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",height:40,width:100}))),h(Placeholder,{type:"bar",height:32,width:120}),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Placeholder,{type:"bar",height:20,width:"70%"}),h(Placeholder,{type:"bar",height:20,width:"80%"}),h(Placeholder,{type:"bar",height:20,width:"30%"}))))};function hr(At){const Yt=At.split("-");return Yt.length?parseInt(Yt[0]):-1}function pr(At){const Yt=At.split("-");return Yt.length?Yt.slice(1).join("-"):""}function Lr({profile:At}){var Yt;useEffect(()=>{track(EVENTS.FEED_PROFILE_SCREEN_VIEWED)},[]);const[Wt,rn]=useReducer(reduceFeed,defaultFeedState),{canFetchMore:vn,lastPage:An,fetchMore:zn,hasLoadedOnce:er}=useInfiniteFetch({pathname:`/api/v1/reader/feed/profile/${At.id}`,query:zt({},parseQuery(document.location.href)),getPageInit:({lastPage:Br,init:ao})=>{var to;const Sr=(to=Br==null?void 0:Br.result)==null?void 0:to.nextCursor;return Sr&&(ao.query=on(zt({},ao.query),{cursor:Sr})),ao},auto:!0,deps:[At.id],pages:Wt.pages,dispatch:rn}),Jn=vn&&!!((Yt=An==null?void 0:An.result)!=null&&Yt.nextCursor),{bodyRef:Nn}=useInfiniteScroll(zn,[An],{shouldCheck:Jn,threshold:640}),Pr=Wt.pages.map(Br=>{var ao;return((ao=Br.result)==null?void 0:ao.items)||[]}).flat(),Er=useUser(),yr=At&&At.id===(Er==null?void 0:Er.id);return useEffect(()=>{var Br;((Br=An==null?void 0:An.result)==null?void 0:Br.items.length)==0&&Jn&&zn()},[An]),h(FeedProvider,{surface:FeedSurface.Profile,dispatch:rn,state:Wt},h(PageStack,{ref:Nn},h(MuteFreeZoneContextProvider,null,Pr.map(Br=>h(FeedItem,{item:on(zt({},Br),{publication:Br.publication?Wt.publications.get(Br.publication.id):Br.publication,post:Br.post?Wt.posts.get(Br.post.id):Br.post,comment:Br.comment?Wt.comments.get(Br.comment.id):Br.comment,parentComments:Br.parentComments?Br.parentComments.map(ao=>ao&&Wt.comments.get(ao.id)||null):Br.parentComments})}))),An!=null&&An.isLoading||!er?h(LotsOfNotes,null):Pr.length===0?h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${yr?"You haven\u2019t":`${At.name} hasn\u2019t`||"This user hasn\u2019t"} published any notes yet.`,text:`Once ${yr?"you":"they"} do, you\u2019ll see them here.`,action:h(Button,{priority:"secondary",href:getFeedUrl()},"Visit Notes")})):null))}function oo({subscriptions:At,profile:Yt}){const Wt=Yt.publicationUsers.length>0,[rn,vn]=useState(Wt?"post":"note");return h(FlexColumn,{flex:"fill",paddingX:{desktop:20,mobile:0}},h(Tabs,null,Wt&&h(Tab,{value:"post",currentValue:rn,onClick:vn},"Posts"),h(Tab,{value:"note",currentValue:rn,onClick:vn},"Notes"),h(Tab,{value:"reads",currentValue:rn,onClick:vn},"Reads",At.length>0&&` (${At.length})`)),h(FlexColumn,{flex:"fill"},rn==="note"&&h(Lr,{profile:Yt}),rn==="post"&&h(lo,{profile:Yt,userId:Yt.id}),rn==="reads"&&h(Go,{subscriptions:At,profile:Yt})))}function Kr(At){var Yt=hn(At,[]);return h("div",zt({className:css.grid},Yt))}function co({profile:At}){const Yt=useUser(),Wt=At&&At.id===(Yt==null?void 0:Yt.id);return h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${Wt?"You haven\u2019t":`${At.name} hasn\u2019t`||"This user hasn\u2019t"} published any posts yet.`,text:"Once they do, you\u2019ll see them here."}))}function lo({profile:At,userId:Yt}){const Wt="new",[vn,An]=useState(0),[zn,er]=useState([]),{result:Jn,isLoading:Nn}=useFetch({pathname:"/api/v1/profile/posts",query:{profile_user_id:Yt,sort:Wt.toLowerCase(),offset:vn,limit:12+1},auto:!0,deps:[Yt,Wt,vn]});useLayoutEffect(()=>{Jn&&er(vn===0?[Jn]:[...zn,Jn])},[Jn]);const Pr=useMemo(()=>({posts:zn.map(Sr=>Sr.posts.slice(0,12)).flat(),publicationMap:new Map(zn.map(Sr=>Sr.publications).flat().map(Sr=>[Sr.id,Sr]))}),[zn]),Er=zn[zn.length-1],yr=Er&&Er.posts.length>12,{bodyRef:Br}=useInfiniteScroll(()=>{An(vn+12)},[Pr,Nn],{shouldCheck:yr&&!Nn}),{posts:ao,publicationMap:to}=Pr;return h(FlexColumn,null,h(PageStack,{ref:Br},Jn?ao.length>0?ao.map((Sr,Ao)=>{const fo=to.get(Sr.publication_id);if(fo)return h(PostWithActions,{key:Sr.id,post:Sr,pub:fo,isViewed:!0,isLiked:!!Sr.reaction,isSaved:Sr.is_saved,onClick:()=>track(EVENTS.ARCHIVE_PAGE_POST_CLICKED,{post_id:Sr.id,tab:Wt,rank_in_feed:Ao,source:"profile"}),utmSource:"profile"})}):h(co,{profile:At}):h(LotsOfPlaceholders,null),Nn&&h(DrunkSpinner,null)))}function dr({url:At,type:Yt,label:Wt,verified:rn,value:vn}){var An,zn,er,Jn;vn=vn.replace(/^@/,"");const Nn={twitter:{icon:h(TwitterIcon,{className:css.fillIcon,height:14}),label:"Twitter",verifiedIcon:h(Verified,{className:cn(css.fillIcon,css.twitterVerifiedIcon),size:18}),showUsername:!0},facebook:{icon:h(FacebookIcon,{className:css.fillIcon,height:14}),label:"Facebook"},instagram:{icon:h(InstagramIcon,{className:css.fillIcon,height:14}),label:"Instagram",showUsername:!0},linkedin:{icon:h(LinkedinIcon,{className:css.fillIcon,height:14}),label:"LinkedIn"},youtube:{icon:h(YoutubeIcon,{className:css.fillIcon,height:16}),label:"YouTube"},tiktok:{icon:h(TikTokIcon,{className:css.fillIcon,height:16}),label:"TikTok",showUsername:!0},books:{icon:h(BookOpen,{className:css.fillIcon,height:16}),label:"Books",showUsername:!0}};return h(Button,{size:"small",allCaps:!0,newTab:!0,href:At.startsWith("http")?At:`http://${At}`,rounded:!0,onClick:()=>{track(EVENTS.USER_LINK_CLICKED,{type:Yt,url:At,label:Wt})},outline:"none",priority:"secondary",leftIcon:((An=Nn[Yt])==null?void 0:An.icon)||h(Link,{size:14}),rightIcon:rn&&((zn=Nn[Yt])==null?void 0:zn.verifiedIcon),className:rn&&css.verified},(er=Nn[Yt])!=null&&er.showUsername?vn:((Jn=Nn[Yt])==null?void 0:Jn.label)||Wt)}function Nr({profile:At,primaryPublication:Yt,yourProfile:Wt,setUp:rn,user:vn,showCTAs:An,subscriptionSource:zn,subscribeButton:er}){const Jn=(At==null?void 0:At.name)||"<no name>",Nn=useMobile(),Pr=Nn?Text.H2:Text.H1;return h(FlexColumn,{gap:20},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Rn,{profile:At}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(mo,{profile:At,primaryPublication:Yt,yourProfile:Wt,setUp:rn,user:vn,showCTAs:An,subscriptionSource:zn}),er)),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Pr,null,Jn,h("span",{style:{whiteSpace:"nowrap",verticalAlign:Nn?"middle":void 0}},"\xA0",h(UserBadge,{tier:At.bestseller_tier,userId:At.id,inline:!0}))),h(Hr,{profile:At,yourProfile:Wt}),At.bio&&h(Oo,{profile:At})),At.userLinks.length!==0&&h(FlexRow,{gap:12,wrap:"wrap",justifyContent:"start"},At.userLinks.sort((Er,yr)=>Er.type!==yr.type?(Er.type||"website")>(yr.type||"website")?1:-1:Number(Er.id)>Number(yr.id)?1:-1).map(Er=>h(dr,zt({},Er)))))}function Hr({profile:At,yourProfile:Yt}){const[Wt,rn]=useState(!1),{result:vn,error:An,isLoading:zn,refetch:er}=useFetch({pathname:`/api/v1/presubscribe/subscriptions?id=${At.id}`,auto:!1,deps:[At]}),{getConfigFor:Jn}=useSiteConfigs(),Nn=useMobile(),Pr=useToast(),Er=()=>{rn(!0),zn||er()},yr=()=>{rn(!1)},Br=()=>{!vn&&!zn&&er()},ao=()=>{copyToClipboard(getReaderProfileUrl(At)),Pr.popToast(ci=>h(Toast,on(zt({},ci),{text:"Link copied",Icon:Link})))};let to;Jn("enable_all_author_handles")?to=At.handleEditingEnabled:to=!!Jn("handle_selection_enabled");const Sr=At.handle||Yt&&to,Ao=!!(At.rough_num_subscribers||Jn("enable_notes_following")),fo=!!At.presubscriberCount&&At.presubscriberCount>0&&!Ao;if(!(Sr||Ao||fo))return null;const Po=Sr&&(Ao||fo),No=Sr&&Ao&&fo,Vo=!!(An||Nn||zn||!vn),bo=(vn==null?void 0:vn.subs.map(ci=>ci.user))||[],_i=At.presubscriberCount&&formatNumber(At.presubscriberCount),si=pluralize(At.presubscriberCount,"Subscriber",{just_word:!0}),oi=h(FlexBox,{gap:4,alignItems:"center",className:cn(At.presubscriberCount&&css.stat)},h(Text.Digit,{color:"secondary"},_i),h(Text.Meta,null,si));return h(FlexBox,{gap:8},Sr&&(At.handle?h(Text.Meta,{as:"a",onClick:ao,style:{cursor:"pointer"},decoration:"hover-underline"},h(Tooltip,{text:"Copy link",disabled:Nn},`@${At.handle}`)):Yt&&h(Text.Meta,{color:"substack"},h(TextLink,{href:getEditProfileUrl({params:{utm_source:"handle-notification",[HANDLE_EDIT_MODAL_QUERY_PARAM]:!0}})},"New: Claim your handle"))),Po&&h(Text.Meta,null," \xB7 "),Ao&&h(Ur,{profile:At}),No&&h(Text.Meta,null," \xB7 "),fo&&h(FlexBox,{onClick:Er,onMouseEnter:Br},Vo?oi:h(ReactorsTooltip,{users:bo},oi),h(FacepileDetailModal,{isOpen:Wt,onClose:yr,modalLabel:si,totalCount:At.presubscriberCount,utmSource:"profile-subscribers-list",faces:bo})))}function Ur({profile:At}){return useSiteConfigs().getConfigFor("enable_notes_following")?h(Text.Meta,{as:"a",href:getProfileConnectionsUrl(At,null,{noBase:!0}),decoration:"hover-underline"},At.subscriberCountString):At.rough_num_subscribers?h(Text.Meta,null,At.rough_num_subscribers," of paid subscribers"):null}const uo=({url:At,twitterText:Yt,onLinkClicked:Wt,comment:rn})=>{const vn=(0,Be.pm)(),An=(0,B.xR)().getConfigFor("note-preview-image-enabled"),zn=()=>{(0,Re.copyToClipboard)(At),vn.popToast(Pr=>(0,o.h)(Be.FN,on(zt({},Pr),{text:"Link copied",Icon:y.Z}))),Wt==null||Wt("copy")},er=()=>{window.open((0,_.pathWithQuery)("https://twitter.com/share",{url:At,text:Yt||""}),"_blank"),Wt==null||Wt("twitter")},Jn=()=>{window.open((0,_.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:At}),"_blank"),Wt==null||Wt("facebook")},Nn=()=>{vn.popToast(Pr=>(0,o.h)(Be.FN,on(zt({},Pr),{text:"Downloading image...",Icon:C.Z}))),Wt==null||Wt("download")};return[(0,o.h)(ft.sN,{icon:(0,o.h)(y.Z,null),onClick:zn},"Copy link"),An&&rn?(0,o.h)(ft.sN,{icon:(0,o.h)(C.Z,null),onClick:Nn,href:(0,w.IY)(rn.id),target:"_blank",download:!0},"Save as image"):(0,o.h)(o.Fragment,null),(0,o.h)(ft.sN,{icon:(0,o.h)(N.Z,null),onClick:er},"Share to Twitter"),(0,o.h)(ft.sN,{icon:(0,o.h)(R.Z,null),onClick:Jn},"Share to Facebook")]},mo=({profile:At,primaryPublication:Yt,yourProfile:Wt,setUp:rn,user:vn,showCTAs:An,subscriptionSource:zn})=>{const er=useMobile(),{getConfigFor:Jn}=useSiteConfigs(),Nn=useNavContextAndTitle("",{backAction:!0}),Pr=Jn("enable_notes_following"),Er=!Wt&&!Yt&&Jn("enable_presubscriptions")&&!At.presubscribes_disabled,yr=useUserBlockMenuItems(At,"profile"),Br=useFeedFollowMenuItems(At,"profile"),[ao,to]=useState(!1),[Sr,Ao]=useState(!1),fo=uo({url:getReaderProfileUrl(At,{utm_source:"substack_profile"}),twitterText:`Subscribe to ${At.name}${At.twitter_screen_name?`(@${At.twitter_screen_name})`:""}`,onLinkClicked:Ho=>{track(EVENTS.PROFILE_SHARE_LINK_CLICKED,{type:Ho,shared_user_id:At.id})}});return h(FlexBox,{gap:8,direction:"row"},h(InviteFriendModal,{isOpen:Sr,utmSource:"profile-page",onClose:()=>Ao(!1)}),!Wt&&h(Fragment,null,h(Menu,{trigger:h(IconButton,{fill:"outline"},h(MoreHorizontal,null)),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More"},Br,yr,h(MenuItem,{icon:h(Flag,null),priority:"destructive",onClick:()=>to(!0)},"Report"),(vn==null?void 0:vn.is_global_admin)&&h(Fragment,null,h(Divider,{paddingX:8}),h(MenuItem,{icon:h(ExternalLink,null),onClick:()=>window.location.href=getUserUndergroundUrl(At.id)},"Open in Underground")),Pr&&An&&h(Fragment,null,h(Divider,{paddingX:8}),fo)),An&&(Pr?vn&&h(yo,{profile:At}):h(Menu,{trigger:h(IconButton,{fill:"outline"},h(Share,{height:20,strokeWidth:2})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share"},fo)),ao&&h(ProfileReportModal,{userId:At.id,surface:"profile",onClose:()=>to(!1),onReportSuccess:()=>{}})),An&&h(Fragment,null,Er?h(PresubscribeCta,{profile:At,requireLogin:Nn.requireLogin,source:{type:"profile",utmSource:zn}}):null,Wt&&h(Fragment,null,h(IconButton,{fill:"outline",href:getEditProfileUrl()},h(Edit2,{size:20})),!(vn!=null&&vn.has_publication)&&!er&&h(Button,{priority:"secondary",fill:"outline",href:getStartPublishingUrl(),localNavigation:!1,rounded:!0},"Create your Substack"),rn?h(Button,{onClick:()=>Ao(!0),rounded:!0},"Invite friends"):h(Button,{href:bn,localNavigation:!1,rounded:!0},"Set up profile"))))};function yo({profile:At}){const{isFollowing:Yt,buttonProps:Wt,css:rn}=useFollowButtonState(At,"profile");return h(IconButton,zt({fill:"outline"},Wt),Yt?h(Fragment,null,h(FollowedIcon,{className:rn.off}),h(UnfollowIcon,{className:rn.on})):h(FollowIcon,null))}const Oo=({profile:At})=>h(Text.B4,null,h(Linkify,{options:{attributes:{rel:"nofollow ugc"}}},At.bio)),Xo=({profile:At,primaryPublication:Yt,isMobile:Wt})=>{const rn=useUser(),vn=!!rn,An=At.publicationUsers.filter(Jn=>Jn.publication.id!==(Yt==null?void 0:Yt.id)),zn=At&&At.id===(rn==null?void 0:rn.id),er=!zn&&Yt&&(rn==null?void 0:rn.primary_publication);return h(FlexColumn,{gap:16},Yt&&h(FlexColumn,{className:css.pubMain,bg:"secondary",padding:{desktop:16,mobile:8},radius:8,as:"a",href:getPubUrl(Yt,{signedIn:vn,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"substack_profile"}}),onClick:()=>trackPublicationVisit(Yt,"profile")},h(PublicationContainer,null,h(FlexBox,{flex:"grow",minWidth:0,gap:12,alignItems:"center"},h(PubIcon,{pub:Yt,size:Wt?56:64}),h(FlexColumn,{flex:"grow",minWidth:0,gap:4},h(Text.H4,{ellipsis:!0},Yt.name),h(PublicationAuthorText,{author:Yt.author,pub:Yt})),!Wt&&er&&h($r,{user:rn,recommendedPublication:Yt,userPublication:rn==null?void 0:rn.primary_publication})),Yt.hero_text&&h(PublicationAbout,null,Yt.hero_text),Wt&&er&&h($r,{user:rn,recommendedPublication:Yt,userPublication:rn==null?void 0:rn.primary_publication}),!zn&&(rn==null?void 0:rn.is_author)&&(rn==null?void 0:rn.primary_publication)&&h($r,{recommendedPublication:Yt,userPublication:rn==null?void 0:rn.primary_publication}))),At.publicationUsers.length>1&&h(Kr,null,An.map(Jn=>h(Bo,{key:Jn.id,pub:Jn.publication,subtitleType:"writer",signedIn:vn}))))};function Go({subscriptions:At,profile:Yt}){const Wt=useUser(),rn=Yt.id===(Wt==null?void 0:Wt.id);return At.length===0?h(FlexBox,{paddingY:64,flex:"grow"},rn?Yt.hasHiddenPublicationUsers?h(Zero,{icon:h(HideIcon,null),title:"All of your publications are hidden.",text:"To show others what you read, edit your profile.",action:h(Button,{priority:"secondary",href:getEditProfileUrl()},"Edit profile")}):h(Zero,{icon:h(BookOpen,null),title:"You haven\u2019t subscribed to any publications yet.",text:"Visit the Explore tab to find something to read.",action:h(Button,{priority:"secondary",href:getDiscoverCategoryUrl()},"Get started")}):h(Zero,{icon:h(Library,null),title:`${Yt.name} doesn\u2019t have any subscriptions to show.`,text:"Once they do, you'll see them here."})):h(FlexColumn,{flex:"fill",gap:{desktop:8,mobile:0},padding:8},At.map(vn=>h(Mo,{key:vn.id,subscription:vn})))}function Mo({subscription:At}){const Yt=At.is_founding?"founder":At.membership_state==="subscribed"?"subscribed":null,{publication:Wt}=At,{author:rn}=Wt,vn=useSubscriptionController({publication:Wt,subscriptionSource:"profile-subscriptions"});return h(FlexRow,{as:"a",href:getPubUrl(Wt),gap:12,alignItems:"center",paddingY:8,paddingX:8,className:css.readsRow,minWidth:0,flex:"grow"},h(PubIcon,{pub:Wt,size:40,badgeType:Yt}),h(FlexColumn,{flex:"grow",minWidth:0,size:14},h(Text.B4,{ellipsis:!0,weight:"semibold",color:"primary",href:getPubUrl(Wt)},Wt.name),rn&&h(Text.B4,{ellipsis:!0,color:"secondary"},"by ",rn.name)),vn.isSubscribed?h(Lo,{onUnsubscribe:vn.unsubscribe,publication:Wt}):h(Button,{fill:"outline",priority:"primary",size:"small",onClick:vn.subscribe},"Subscribe"))}function Lo({onUnsubscribe:At,publication:Yt}){return h(Menu,{trigger:h(Button,{fill:"outline",priority:"secondary",size:"small"},"Subscribed")},h(MenuItem,{icon:h(Settings,null),href:getPubAccountSettingsUrl(Yt,{addBase:!0})},"Manage subscription"),h(MenuItem,{icon:h(X,null),onClick:At,priority:"destructive"},"Unsubscribe"))}const Bo=({pub:At,subtitleType:Yt})=>{const Wt=!!useUser(),rn=["subscribed","founder"].includes(Yt)?Yt:null;return h(Fragment,null,h("a",{className:css.pub,href:getPubUrl(At,{signedIn:Wt,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"profile_page"}}),onClick:()=>trackPublicationVisit(At,"profile")},h(FlexBox,{paddingX:{mobile:0,desktop:8},paddingY:8,minWidth:0,flex:"grow"},h(PublicationCard,{pub:At,subtitle:Qr[Yt],badgeType:rn,surface:"profile"}))))},Qr={writer:"Writer",free_signup:"Free subscriber",subscribed:"Paid subscriber",founder:"Founding member"},Yr=({profile:At})=>h("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:jsesc(getProfileStructuredData(At),{json:!0,isScriptContext:!0})}}),$r=({recommendedPublication:At,userPublication:Yt})=>{const[Wt,rn]=useState(!1),[vn,An]=useState(!1),zn=useMobile(),{popToast:er}=useToast(),{result:Jn,hasLoadedOnce:Nn}=useFetch({pathname:`/api/v1/recommendations/from/${Yt.id}/to/${At.id}`,auto:!0,deps:[Yt.id,At.id]});useEffect(()=>{const Er=!!(Jn!=null&&Jn.recommended_publication_id);An(Er),vn!==Er&&An(Er)},[Nn,Jn]);const Pr=Er=>gn(void 0,null,function*(){rn(!0);try{Er.preventDefault(),vn?(yield request.delete("/api/v1/recommendations").send({recommended_publication_id:At.id,recommending_publication_id:Yt.id,source:"profile"}),er(yr=>h(Toast,on(zt({},yr),{text:"Recommendation removed"})))):(yield request.put("/api/v1/recommendations").send({recommended_publication_id:At.id,recommending_publication_id:Yt.id,source:"profile",suggested:!1}),er(yr=>h(Toast,on(zt({},yr),{text:`Recommended ${At.name}`})))),An(!vn)}catch(yr){er(Br=>h(Toast,on(zt({},Br),{text:"Something went wrong. Please try again.",Icon:X})))}rn(!1)});return vn?h(Button,{priority:"secondary",fill:"outline",onClick:Pr,disabled:Wt,rounded:!zn},"Recommended"):h(Button,{priority:"primary",fill:"outline",onClick:Pr,disabled:Wt||!Nn,rounded:!zn},"Recommend")},xr=({user:At,profile:Yt,primaryPublication:Wt,subscriptionSource:rn})=>{const[vn,An]=useState(!1),[zn,er]=useState(Yt.isSubscribed),Jn=useOnboardingHandler("profile"),{popToast:Nn}=useToast(),Pr=Er=>gn(void 0,null,function*(){At||Nn(yr=>h(Toast,on(zt({},yr),{text:"Something went wrong. Please try again.",Icon:X}))),An(!0);try{Er.preventDefault(),yield request.post("/api/v1/reader/signup/pub").send({publication_id:Wt.id,email:At==null?void 0:At.email,visibility:"private",source:rn}),Nn(yr=>h(Toast,on(zt({},yr),{text:`Subscribed to ${Wt.name}`,Icon:Check}))),er(!0),track(EVENTS.FEED_ONE_CLICK_SUBSCRIBE,{source:rn,publication_id:Wt.id})}catch(yr){Nn(Br=>h(Toast,on(zt({},Br),{text:"There was an issue subscribing to this profile.",Icon:X})))}An(!1)});return zn?h(Button,{priority:"secondary",href:getSubscribeUrl(Wt,{user:At,addBase:!0,params:{next:document.location.href,utm_source:rn,utm_medium:"web",utm_campaign:"profile_page"}}),rounded:!0,onClick:()=>trackPublicationVisit(Wt,"profile")},"Subscribed"):rn===Un&&At?h(Button,{priority:"primary",onClick:Pr,disabled:vn,rounded:!0},"Subscribe"):h(Button,{priority:"primary",href:getSubscribeUrl(Wt,{user:At,addBase:!0,params:{next:document.location.href,utm_source:rn,utm_medium:"web",utm_campaign:"profile_page"}}),onClick:Jn(Wt,Yt),rounded:!0},"Subscribe")},$t=({profile:At,includeTopPadding:Yt})=>{const Wt=At.publicationUsers.filter(An=>An.public).length,rn=At.primaryPublication&&`Writes ${At.primaryPublication.name}
${Wt>1?` and ${pluralize(Wt-1,"other publication")}`:""}`,vn=At!=null&&At.handle?rn?`@${At.handle} \u2022 ${rn}`:`@${At.handle}`:rn;return h(FlexColumn,{paddingTop:Yt?16:void 0,paddingBottom:16},h(FlexRow,{gap:12,alignItems:At.bio?"start":"center",className:css.profileRow,padding:8,radius:8,onClick:()=>{window.location.href=getReaderProfileUrl(At)}},h(Avatar,{user:At,size:48}),h(FlexColumn,null,h(Text.H4,null,At.name||"<unset>"),vn&&h(Text.B4,{color:"secondary"},vn),h(Text.B4,{paddingTop:4},At.bio))))},en=null;function nn(At){var Yt;const Wt=(Yt=new URL(At,"https://monograph.dev").searchParams)==null?void 0:Yt.get("utm_source");return Wt&&en.includes(Wt)}function Rn({profile:At}){const[Yt,Wt]=useState(!1),rn=getUserPhotoUrl(At),vn=useMobile();return h(FlexBox,{style:{cursor:"pointer"},onClick:()=>Wt(!0),className:css.avatar},h(Avatar,{size:vn?96:112,user:At}),h(LazyComponent,{module:"../components/ImageViewerModal",resolve:An=>An.ImageViewerModal,onRequest:()=>e.e(934).then(e.bind(e,55661)),showModal:Yt,modalContent:[{src:rn,attrs:{src:rn}}],onClose:()=>{Wt(!1)},step:0,includeDownloadButton:!1}))}},68262:(G,s,e)=>{"use strict";e.d(s,{F:()=>v});var o=e(6400),m=e(94184),f=e.n(m),d=e(6378),g=e(64234),y=e(55886);const C={root:"frontend-reader2-PubIcon-module__root--jPSt4",custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"};function v({pub:b,logoUrl:x,publicationName:E,size:O=196,title:w,className:_,badgeType:a}){var l;return b&&!x&&(x=(0,d.getLogo)(b)),b&&!E&&(E=b.name||b.subdomain),(0,o.h)("div",{className:f()(C.root,_),title:w,style:{width:O,height:O}},x?(0,o.h)(y.t,{className:C.custom,src:x,size:O,alt:E}):(0,o.h)("span",{className:C.placeholder,style:{width:O,height:O,backgroundColor:b&&(b.is_www===!0?null:((l=b==null?void 0:b.theme)==null?void 0:l.background_pop_color)||(b==null?void 0:b.theme_var_background_pop)||null),color:null}},E==null?void 0:E[0]),a&&(0,o.h)(g.A,{className:"reader2-pub-badge",type:a,accentColor:b&&(b.is_www===!0?null:b.theme_var_background_pop)}))}},79167:(G,s,e)=>{"use strict";e.d(s,{i:()=>q});var o=e(6400),m=e(94184),f=e(15045),d=e(67963),g=e(3258),y=e(84606),C=e(51126),v=e(65919),b=e(50292),x=e(5131),E=e(33510),O=e(4263),w=e(68262),_=e(40172),a=e(72307);const l={checkmarkWrapper:"frontend-reader2-Publication-module__checkmarkWrapper--K7AwJ"};var P=Object.defineProperty,S=Object.defineProperties,M=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,A=(oe,z,ie)=>z in oe?P(oe,z,{enumerable:!0,configurable:!0,writable:!0,value:ie}):oe[z]=ie,W=(oe,z)=>{for(var ie in z||(z={}))N.call(z,ie)&&A(oe,ie,z[ie]);if(R)for(var ie of R(z))T.call(z,ie)&&A(oe,ie,z[ie]);return oe},j=(oe,z)=>S(oe,M(z)),Z=(oe,z)=>{var ie={};for(var ue in oe)N.call(oe,ue)&&z.indexOf(ue)<0&&(ie[ue]=oe[ue]);if(oe!=null&&R)for(var ue of R(oe))z.indexOf(ue)<0&&T.call(oe,ue)&&(ie[ue]=oe[ue]);return ie};function J(oe){var z=oe,{pub:ie,subscribeButtonStyle:ue,className:de,onClick:fe}=z,ye=Z(z,["pub","subscribeButtonStyle","className","onClick"]);const pe=!!useUser();return h(LinkRow,{linkClassName:classnames("reader2-pub-link",de),href:getPubUrl(ie,{params:{utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"},signedIn:pe}),newTab:ue!=null,onClick:fe},h(Q,j(W({},ye),{pub:ie,subscribeButtonStyle:ue})))}function Q({pub:oe,author:z,subscribeButtonStyle:ie,surface:ue,highlights:de={},highlightedPost:fe}){var ye;const pe=(z==null?void 0:z.name)||oe.author_name||((ye=oe.author)==null?void 0:ye.name)||oe.name,we=!!useUser();return h(ne,null,h(B,{className:"head",pub:oe,subtitle:h("span",null,"By ",highlightText(pe,de.author_name)),subscribeButtonStyle:ie,surface:ue,highlights:de}),(oe.editorial_bio||oe.hero_text)&&h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},oe.editorial_bio||highlightText(oe.hero_text,de.hero_text)),fe&&h("a",{target:"_blank",rel:"noopener",href:getPostUrl(oe,fe,{signedIn:we})},h(Box,{border:"detail",padding:12,radius:4,shadow:"md"},h(PostBody,{highlights:de,post:fe}))),oe.rankingDetail&&h(Text.Meta,null,oe.rankingDetailFreeSubscriberCount))}function ne(oe){return h(FlexBox,W({className:"reader2-pub-link",gap:12},oe))}function te({children:oe}){return h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},oe)}function B({pub:oe,subtitle:z,subscribeButtonStyle:ie=null,isSubscribed:ue,className:de,badgeType:fe,surface:ye,highlights:pe={}}){const we=useUser();return h(FlexBox,{gap:12,flex:"grow",minWidth:0,className:de},h(PubIcon,{className:"logo",pub:oe,size:40,badgeType:fe}),h(FlexColumn,{minWidth:0,flex:"grow"},h(Text.B4,{weight:"semibold",ellipsis:!0},highlightText(oe.name,pe.name,"extrabold")),h(Text.B4,{color:"secondary",ellipsis:!0},z)),ue?h(FlexBox,{className:css.checkmarkWrapper,alignItems:"center",justifyContent:"center"},h(Check,{size:16,stroke:"var(--color-tertiary)"})):ie&&h(V,{pub:oe,user:we,buttonStyle:ie,surface:ye}))}function V({pub:oe,user:z,buttonStyle:ie,surface:ue}){const de=useSubscriptionsContext(),fe=q(ue)(oe);return h(Button,{variant:"primary",look:ie==="big"?"round":"circle",size:"small",hasLeftIcon:ie==="big",newTab:!0,href:getSubscribeUrl(oe,{addBase:!0,user:z,utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"}),onClick:ye=>{if(ye.stopPropagation(),z){const pe="visibilitychange",we=()=>{document.visibilityState==="visible"&&(de.refetch(),document.removeEventListener(pe,we))};document.addEventListener(pe,we)}fe(ye)}},ie==="big"?h(Fragment,null,h("div",{className:"reader2-button-icon-circle"},h(Plus,{size:12,strokeWidth:3})),"Subscribe"):h(Fragment,null,h(Plus,{size:20})))}function re(oe){var z;return oe.author_name||((z=oe.author)==null?void 0:z.name)}function le({pub:oe,author:z}){const ie=(z==null?void 0:z.name)||re(oe);return h(Text.B4,null,"By ",ie)}function ae({className:oe}){return h(LinkRow,{linkClassName:classnames("reader2-pub-link",oe)},h("div",{className:"reader2-publication-card"},h(Placeholder,{size:48}),h("div",{className:"meta",style:{gap:8}},h(Placeholder,{type:"bar",width:120}),h(Placeholder,{type:"bar",width:80}))),h("div",{className:"body"},h(Placeholder,{type:"bar",width:"90%"}),h(Placeholder,{type:"bar",width:"100%"}),h(Placeholder,{type:"bar",width:"80%"})))}function q(oe){const z=(0,d.aF)(),{onboardingModalRef:ie}=(0,b.SJ)();return(ue,de)=>fe=>{var ye,pe;if(!z){if(!ie.current)return;fe.preventDefault(),de?(ye=ie.current)==null||ye.openForPub(ue,de):(pe=ie.current)==null||pe.openToPubSignup(ue);return}(0,g.x6)(ue,oe)}}},44695:(G,s,e)=>{"use strict";e.d(s,{GF:()=>ae,Sm:()=>Q,Sz:()=>le});var o=e(6400),m=e(94184),f=e.n(m),d=e(25380),g=e(15045),y=e(83322),C=e(67963),v=e(3258),b=e(8479),x=e(17685),E=e(48960),O=e(51126),w=e(94016),_=e(65919),a=e(95297),l=e(10186),P=e(33510),S=e(68262),M=e(79167),R=e(27797),N=Object.defineProperty,T=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,j=(q,oe,z)=>oe in q?N(q,oe,{enumerable:!0,configurable:!0,writable:!0,value:z}):q[oe]=z,Z=(q,oe)=>{for(var z in oe||(oe={}))A.call(oe,z)&&j(q,z,oe[z]);if(T)for(var z of T(oe))W.call(oe,z)&&j(q,z,oe[z]);return q},J=(q,oe)=>{var z={};for(var ie in q)A.call(q,ie)&&oe.indexOf(ie)<0&&(z[ie]=q[ie]);if(q!=null&&T)for(var ie of T(q))oe.indexOf(ie)<0&&W.call(q,ie)&&(z[ie]=q[ie]);return z};const Q=q=>{var oe=q,{publication_id:z,inline:ie,utmSource:ue}=oe,de=J(oe,["publication_id","inline","utmSource"]);const{result:fe,refetch:ye}=(0,b.ib)({pathname:`/api/v1/publication/public/${z}`,auto:!1,deps:[z]}),pe=(0,C.aF)();return(0,o.h)(w.z,Z({className:f()(R.Z.publicationHoverCardTarget,ie&&R.Z.inline),content:fe?(0,o.h)(ne,{result:fe,utmSource:ue}):(0,o.h)(re,null),onFetch:ye,layerClassName:R.Z.publicationHoverCard},de))};function ne({result:q,utmSource:oe}){const{pub:z}=q,ie=(0,C.aF)();(0,v.j)(v.FP.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:z.id});let ue=z.contributors,de=null;ue&&ue.length>3&&(de=`See all (${(0,y.numberToString)(ue.length)})`,ue=ue.slice(0,3));const fe=`${z.base_url}?utm_source=${oe}`;return(0,o.h)(O.tu,{gap:16,padding:8},(0,o.h)(O.gq,null,(0,o.h)("a",{href:fe},(0,o.h)(S.F,{pub:q.pub,size:56}))),(0,o.h)(O.tu,{gap:6},(0,o.h)(le,{title:q.pub.name,handle:void 0,blurb:q.pub.hero_text,url:q.pub.base_url}),z.rankingDetail&&z.rankingDetailFreeSubscriberCount&&(0,o.h)(_.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},z.rankingDetailFreeSubscriberCount.toUpperCase())),(0,o.h)(O.tu,null,(0,o.h)(te,{isContr:q.isContributor,isSubs:q.isSubscribed,pub:q.pub,user:ie,dashboardUrl:q.pub.base_url,utmSource:oe})),(0,o.h)(E.i,null),(0,o.h)(O.tu,null,(0,o.h)(B,{contributors:ue,seeAllLabel:de,redirLink:q.pub.base_url,utmSource:oe})))}function te({isContr:q,isSubs:oe,pub:z,user:ie,dashboardUrl:ue,utmSource:de}){const fe=(0,M.i)("profile");return(0,o.h)(O.tu,null,q?(0,o.h)(o.Fragment,null,(0,o.h)(x.zx,{priority:"secondary",fill:"outline",href:`${ue}/publish`},"Dashboard")):oe?(0,o.h)(x.zx,{priority:"secondary",fill:"outline",href:(0,g.getSubscribeUrl)(z,{user:ie,addBase:!0,utm_source:de||"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),leftIcon:(0,o.h)(d.Z,null)},"Subscribed"):(0,o.h)(x.zx,{priority:"primary",href:(0,g.getSubscribeUrl)(z,{user:ie,addBase:!0,utm_source:de|"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),onClick:fe(z)},"Subscribe"))}function B({contributors:q,seeAllLabel:oe,redirLink:z,utmSource:ie}){return(0,o.h)(O.tu,null,(0,o.h)(ae,{sectionTitle:"Written by",seeAllLabel:oe,link:`${z}/about?sort=people`}),(0,o.h)(O.tu,null,q.map(ue=>(0,o.h)(V,{profile:ue,utmSource:ie}))))}function V({profile:q,utmSource:oe}){return(0,o.h)("a",{href:(0,g.getProfileUrlById)(q.user_id,q.name,{searchParams:{utm_source:oe}}),className:R.Z.hoverCardAvatar},(0,o.h)(l.qE,{user:q,size:32}),(0,o.h)(_.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},q.name))}function re(){return(0,o.h)(O.tu,{padding:8,gap:8},(0,o.h)(P.Vm,{size:56,style:{borderRadius:4}}),(0,o.h)(P.Vm,{type:"bar",width:"100%",height:20}),(0,o.h)(P.Vm,{type:"bar",width:"20%",height:20}),(0,o.h)(P.Vm,{type:"bar",width:"60%",height:20}))}function le({title:q,handle:oe,blurb:z,url:ie,themed:ue,bestsellerTier:de,userId:fe}){return(0,o.h)(o.Fragment,null,(0,o.h)("a",{style:{textDecoration:"none"},href:ie},(0,o.h)(_.xv.H3,{color:ue?"pub-primary-text":"primary",className:R.Z.hoverCardTitle},q,!!de&&!!fe&&(0,o.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,o.h)(a.s,{inline:!0,tier:de,userId:fe,tooltipOnHover:!0,size:"md"})))),oe&&(0,o.h)(_.xv.Meta,null,`@${oe}`),z&&(0,o.h)(_.xv.B3,{color:ue?"pub-secondary-text":"secondary",clamp:4},z))}function ae({sectionTitle:q,seeAllLabel:oe,link:z}){return(0,o.h)(O.gq,{justifyContent:"space-between"},(0,o.h)(_.xv.Meta,{color:"secondary"},q),oe&&(0,o.h)("a",{className:R.Z.hoverCardSeeAll,href:z},(0,o.h)(_.xv.B4,{color:"accent-blue"},oe)))}},74462:(G,s,e)=>{"use strict";e.d(s,{F:()=>d});var o=e(6400),m=e(92630),f=e(44396);function d({users:y,children:C}){const v=(0,f.XA)(),b=6;let x;y.length>b+1?x=y.slice(0,b).map(O=>{var w;return(w=O.name)!=null?w:"A reader"}).concat([`+ ${g.format(y.length-b)} others`]):x=y.map(O=>{var w;return(w=O.name)!=null?w:"A reader"});const E=x.join(`
`);return(0,o.h)(m.u,{text:E,disabled:v},C)}const g=Intl.NumberFormat(void 0,{maximumSignificantDigits:4})},40172:(G,s,e)=>{"use strict";var o=e(6400),m=e(65919);const f=(d,g,y)=>{if(!d)return"";if(!g)return d;const C=new RegExp(g.join("|"),"ig"),v=d.split(C),b=[...d.matchAll(C)];return v.map((E,O)=>h(Fragment,null,E,O!==v.length-1&&h(Text,{as:"span",weight:y||"bold",fontStyle:"italic"},b[O])))}},20533:(G,s,e)=>{"use strict";var o=e(6400),m=e(94184),f=e(17685),d=e(51126),g=e(65919);const y={tabs:"frontend-reader2-TabBar-module__tabs--WpXhb",tab:"frontend-reader2-TabBar-module__tab--E9FLI",isActive:"frontend-reader2-TabBar-module__isActive--hHYju"};var C=Object.defineProperty,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,E=(l,P,S)=>P in l?C(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,O=(l,P)=>{for(var S in P||(P={}))b.call(P,S)&&E(l,S,P[S]);if(v)for(var S of v(P))x.call(P,S)&&E(l,S,P[S]);return l},w=(l,P)=>{var S={};for(var M in l)b.call(l,M)&&P.indexOf(M)<0&&(S[M]=l[M]);if(l!=null&&v)for(var M of v(l))P.indexOf(M)<0&&x.call(l,M)&&(S[M]=l[M]);return S};function _(l){var P=l,{value:S,currentValue:M,children:R,onClick:N}=P,T=w(P,["value","currentValue","children","onClick"]);const A=S===M;return h(UnstyledButton,O({className:classnames(css.tab,A&&css.isActive),resetCss:!0,onClick:()=>N(S)},T),h(Text.Button,{color:A?"primary":"secondary"},R))}function a(l){return h(FlexBox,O({className:css.tabs,style:{height:40}},l))}},47585:(G,s,e)=>{"use strict";e.d(s,{Eb:()=>x,in:()=>E,r8:()=>v});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(21958),y=e(42332);const C={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--GSn8Q"};function v(O,w=(0,o.h)(b,null)){const[_,a]=(0,m.eJ)(O);return[_&&w,()=>{a(!1)}]}function b(){return(0,o.h)(x,null)}function x({className:O}){const{isHovering:w,ref:_}=(0,y.aw)();return(0,o.h)(o.Fragment,null,(0,o.h)(E,{className:d()(O,"reader2-unread-dot"),ref:_}),w&&(0,o.h)(y.u,{tetherRef:_},"New since your last visit"))}const E=(0,g.L)(C.unreadDot)},16742:(G,s,e)=>{"use strict";e.d(s,{K:()=>V,y:()=>re});var o=e(6400),m=e(30396),f=e(81108),d=e(74655),g=e(36250),y=e(70444),C=e(20501),v=e(31517),b=e(1706),x=e(67963),E=e(8479),O=e(39419),w=e.n(O),_=e(17685),a=e(51126),l=e(76235),P=e(62246),S=e(65919),M=e(75425),R=e(91870),N=e(10174),T=Object.defineProperty,A=Object.defineProperties,W=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Q=(q,oe,z)=>oe in q?T(q,oe,{enumerable:!0,configurable:!0,writable:!0,value:z}):q[oe]=z,ne=(q,oe)=>{for(var z in oe||(oe={}))Z.call(oe,z)&&Q(q,z,oe[z]);if(j)for(var z of j(oe))J.call(oe,z)&&Q(q,z,oe[z]);return q},te=(q,oe)=>A(q,W(oe)),B=(q,oe,z)=>new Promise((ie,ue)=>{var de=pe=>{try{ye(z.next(pe))}catch(we){ue(we)}},fe=pe=>{try{ye(z.throw(pe))}catch(we){ue(we)}},ye=pe=>pe.done?ie(pe.value):Promise.resolve(pe.value).then(de,fe);ye((z=z.apply(q,oe)).next())});function V({pub:q,post:oe,comment:z,feedItem:ie,onRestack:ue,tabId:de}){var fe,ye;const pe=(0,x.aF)(),we=(0,M.pm)(),Me=!!pe,je=!!((fe=z||oe)!=null&&fe.restacked),De=((ye=z||oe)==null?void 0:ye.restacks)||0,me=(0,R.I0)(),ce=(0,N.i3)(),ge=(0,E.ib)({pathname:"/api/v1/restack/feed"}),{nuxModal:Ie,showRestackNux:Re}=re(z&&!z.post_id?"note":z?"comment":"post"),Ke=()=>B(this,null,function*(){const ft=yield ge.refetch({method:"POST",json:{postId:z?null:oe==null?void 0:oe.id,commentId:(z==null?void 0:z.id)||null,tabId:de}});if(ft instanceof Error){alert((0,O.getNetworkErrorMessage)(ft));return}we.popToast(We=>(0,o.h)(M.FN,te(ne({},We),{text:`${ft.comment?"Note":"Post"} restacked`,Icon:v.Z,cta:"View",href:(0,y.E2)()}))),ft.comment?me({type:"comment_restack",payload:{commentId:ft.comment.id,isRestacked:!0}}):me({type:"post_restack",payload:{postId:ft.post.id,isRestacked:!0}}),Re(),ue==null||ue(!0)}),ut=()=>B(this,null,function*(){const ft=yield ge.refetch({method:"DELETE",json:{postId:z?null:oe==null?void 0:oe.id,commentId:(z==null?void 0:z.id)||null,tabId:de}});if(ft instanceof Error){alert((0,O.getNetworkErrorMessage)(ft));return}we.popToast(We=>(0,o.h)(M.FN,te(ne({},We),{text:"Restack undone",Icon:f.Z}))),z?me({type:"comment_restack",payload:{commentId:z.id,isRestacked:!1}}):oe&&me({type:"post_restack",payload:{postId:oe.id,isRestacked:!1}}),ue==null||ue(!1)}),_t=ft=>B(this,null,function*(){ft.preventDefault();try{yield ce.open({feedItem:ie,restackUrl:z?(0,g.getCommentUrl)(oe,z,q):(0,C.getPostUrl)(q,oe),tabId:de}),Re()}catch(We){}});return{canRestack:Me,isRestacked:je,restacks:De,nuxModal:Ie,menuItems:[je?(0,o.h)(l.sN,{icon:(0,o.h)(f.Z,null),onClick:ut},"Undo restack"):(0,o.h)(l.sN,{icon:(0,o.h)(v.Z,null),onClick:Ke},"Restack"),(0,o.h)(l.sN,{icon:(0,o.h)(b.Z,null),onClick:_t},"Restack with a note")]}}function re(q){const oe=le({entityType:q}),z=(0,E.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),ie=()=>B(this,null,function*(){var ue;const de=(ue=z.result)!=null?ue:yield z.refetch();!(de instanceof Error)&&(de==null?void 0:de.hasRestacked)===!1&&(oe.open(),z.setResult({hasRestacked:!0}))});return{nuxModal:oe.element,showRestackNux:ie}}function le({entityType:q}){const[oe,z]=(0,m.eJ)(!1),ie=()=>{z(!1)};return{open:()=>{z(!0)},element:(0,o.h)(P.u_,{isOpen:oe,onClose:ie},(0,o.h)(ae,{onClose:ie,entityType:q}))}}function ae({onClose:q,entityType:oe}){return(0,o.h)(a.tu,{paddingX:16},(0,o.h)(a.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,o.h)(d.Z,{size:40,stroke:"var(--color-primary)"})),(0,o.h)(a.tu,{gap:12},(0,o.h)(S.xv.H3,{align:"center"},"You restacked a ",oe),(0,o.h)(S.xv.B3,{color:"secondary",align:"center"},"Restack ",oe,"s that inspire you to share them with more people. Subscribers can see your restacks in the Notes tab and on your profile.")),(0,o.h)(a.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,o.h)(_.zx,{rounded:!0,href:(0,y.E2)()},"View now"),(0,o.h)(_.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:q},"OK")))}},70762:(G,s,e)=>{"use strict";e.d(s,{K:()=>N,_:()=>R});var o=e(6400),m=e(30396),f=e(86418),d=e(20501),g=e(63270),y=e(67963),C=e(8479),v=e(75425),b=e(72307),x=Object.defineProperty,E=Object.defineProperties,O=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(ne,te,B)=>te in ne?x(ne,te,{enumerable:!0,configurable:!0,writable:!0,value:B}):ne[te]=B,P=(ne,te)=>{for(var B in te||(te={}))_.call(te,B)&&l(ne,B,te[B]);if(w)for(var B of w(te))a.call(te,B)&&l(ne,B,te[B]);return ne},S=(ne,te)=>E(ne,O(te)),M=(ne,te,B)=>new Promise((V,re)=>{var le=oe=>{try{q(B.next(oe))}catch(z){re(z)}},ae=oe=>{try{q(B.throw(oe))}catch(z){re(z)}},q=oe=>oe.done?V(oe.value):Promise.resolve(oe.value).then(le,ae);q((B=B.apply(ne,te)).next())});function R({publicationId:ne,publication:te,publicationName:B,user:V,allowSecondaryPublications:re=!0,allowPresubscribe:le,subscriptionSource:ae,sourceNoteId:q}){var oe,z,ie;ne=(ie=(oe=te==null?void 0:te.id)!=null?oe:ne)!=null?ie:(z=V==null?void 0:V.primary_publication)==null?void 0:z.id;const{getConfigFor:ue}=(0,g.xR)(),de=ue("enable_presubscriptions"),fe=(0,y.aF)(),ye=(0,v.pm)(),pe=(0,b.Th)(),[we,Me]=(0,m.eJ)(!1),je=A(fe,ne,pe)||T(fe,V,pe,{allowSecondaryPublications:re}),[De,me]=(0,m.eJ)(null),ce=!!(ne||le&&de&&V),ge=pe.isLoading||!!De||!ce,Ie=ut=>M(this,null,function*(){var _t;if(ut&&(ut.preventDefault(),ut.stopPropagation()),ge||je||!ce)return;me("subscribing");const ft=ne?yield j(ne,ae,{publication:te,user:fe,sourceNoteId:q}):V?yield J(fe,V,ae):{didAction:!1,errorMessage:"No subscription target"},We=`Subscribed to ${ne?(_t=B!=null?B:te==null?void 0:te.name)!=null?_t:"publication":V?V.name:"profile"}`;if(ft.didAction){if(Me(!0),ye.popToast(Be=>(0,o.h)(v.FN,S(P({},Be),{text:We}))),fe)try{yield pe.refetch()}catch(Be){console.error("Failed to reload subscriptions:",Be)}}else ft.errorMessage&&ye.popToast(Be=>{var lt;return(0,o.h)(v.FN,S(P({},Be),{text:(lt=ft.errorMessage)!=null?lt:""}))});me(null)}),Re=ut=>M(this,null,function*(){var _t;if(ut&&(ut.preventDefault(),ut.stopPropagation()),ge||!je||!ce)return;me("unsubscribing");const ft=ne?yield Z(ne,ae):V?yield Q(fe,V,ae):{didAction:!1,errorMessage:"No subscription target"},We=`Unsubscribed from ${ne?(_t=B!=null?B:te==null?void 0:te.name)!=null?_t:"publication":V?V.name:"profile"}`;if(ft.didAction){if(Me(!1),ye.popToast(Be=>(0,o.h)(v.FN,S(P({},Be),{text:We}))),fe)try{yield pe.refetch()}catch(Be){console.error("Failed to reload subscriptions:",Be)}}else ft.errorMessage&&ye.popToast(Be=>{var lt;return(0,o.h)(v.FN,S(P({},Be),{text:(lt=ft.errorMessage)!=null?lt:""}))});me(null)}),Ke=je&&!De||De==="subscribing";return{showCta:ce&&(!fe||pe.hasLoadedOnce)&&!(fe&&fe.id===(V==null?void 0:V.id))&&(!je||we||De==="unsubscribing"),isSubscribed:Ke,hasPublication:!!ne,subscribe:Ie,unsubscribe:Re,toggle:Ke?Re:Ie}}function N(ne){var te;const B=(0,b.Th)(),V=(0,y.aF)();if((V==null?void 0:V.id)===ne)return"subscribed";const{result:re}=B;if(!re)return null;const{subscriptions:le,publicationUsers:ae}=re;for(const oe of ae)if(["admin","contributor"].includes(oe.role)&&W(ne,oe.publication_id,B))return"subscribed";let q=null;for(const oe of le)W(ne,oe.publication_id,B)&&(q=(te=(0,f.P)(oe.membership_state,q)?oe.membership_state:q)!=null?te:null);return q}function T(ne,te,B,{allowSecondaryPublications:V}={}){if(!ne||!te||!B.hasLoadedOnce||!B.result)return!1;const{presubscriptions:re,subscriptions:le,publicationUsers:ae}=B.result;if(re.includes(te.id))return!0;if(V){for(const q of le)if(q.membership_state!=="unsubscribed"&&W(te.id,q.publication_id,B))return!0;for(const q of ae)if(["admin","contributor"].includes(q.role)&&W(te.id,q.publication_id,B))return!0}return!1}function A(ne,te,B){if(!ne||!te||!B.hasLoadedOnce||!B.result)return!1;const V=B.result.subscriptionMap.get(te);if(V&&V.membership_state!=="unsubscribed")return!0;const re=B.result.publicationUserMap.get(te);return!!(re&&["admin","contributor"].includes(re.role))}function W(ne,te,B){if(B.isLoading||!B.result)return!1;const V=B.result.publicationMap.get(te);if(V){if(V.author_id===ne)return!0;for(const re of V.contributors)if(re.user_id===ne)return!0}return!1}function j(ne,te){return M(this,arguments,function*(B,V,{publication:re,user:le,sourceNoteId:ae}={}){let q=!1,oe;if(le)try{(yield(0,C.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:B,email:le.email,source:V,noWelcomeEmail:!0,sourceNoteId:ae}})).requires_confirmation?oe="Check your email to confirm subscription":q=!0}catch(z){console.error(z),oe="Failed to subscribe"}else if(!le){if(!re)try{re=yield(0,C.rd)(`/api/v1/reader/publication/${B}`)}catch(z){console.error(z)}if(re){const z=(0,d.getSubscribeUrl)(re,{addBase:!0,user:le!=null?le:void 0});window.open(z,"_blank")}}return{didAction:q,errorMessage:oe}})}function Z(ne,te){return M(this,null,function*(){let B=!1,V;try{yield(0,C.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:ne,email_disabled:!0,digest_enabled:!1,receive_podcast_emails:!1,source:te}}),B=!0}catch(re){console.error(re),V="Failed to unsubscribe"}return{didAction:B,errorMessage:V}})}function J(ne,te,B){return M(this,null,function*(){let V=!1,re;try{yield(0,C.rd)((0,d.getPresubscribeUrl)(te),{method:"POST",json:{source:B}}),V=!0}catch(le){console.error(le),re="Failed to subscribe"}return{didAction:V,errorMessage:re}})}function Q(ne,te,B){return M(this,null,function*(){let V=!1,re;try{yield(0,C.rd)((0,d.getPresubscribeUrl)(te),{method:"DELETE",json:{source:B}}),V=!0}catch(le){console.error(le),re="Failed to unsubscribe"}return{didAction:V,errorMessage:re}})}},81671:(G,s,e)=>{"use strict";e.d(s,{Z:()=>b});var o=e(6400),m=e(94184),f=e.n(m),d=e(15045),g=e(83322),y=e(31471);function C({href:x,linkify:E,children:O,openInNewTab:w}){return E?w?(0,o.h)("a",{href:x,target:"_blank"},O):(0,o.h)("a",{href:x,native:!0},O):O}const b=({pub:x,href:E="",logo_url:O,showHover:w=!1,byline:_=null,proof:a=null,size:l=196,linkify:P=!0,title:S=null,className:M="",noMargin:R=!1,openInNewTab:N=!1,isStatic:T=!1,belowTheFold:A=!1})=>{var W;return(0,o.h)("div",{className:f()("pub-icon",!R&&"pub-icon-margin",M),title:S},w&&(0,o.h)("div",{className:"logo-hover"},(0,o.h)("div",{className:"logo-hover-title"},(0,o.h)("a",{href:E||x.base_url,native:!0},(x.name||x.subdomain)+(_?` by ${_}`:""))),(0,o.h)("div",{className:"logo-hover-proof"},a),(0,o.h)("div",{className:"logo-hover-description"},x.hero_text)),(0,o.h)(C,{href:E||x.base_url,linkify:P,openInNewTab:N},O?T?(0,o.h)("img",{src:(0,d.imginary)(O,l*2,{height:l*2,crop:"fill"}),width:l,height:l,className:"custom",alt:x.name}):(0,o.h)(y.e,{className:"custom",alt:x.name,imageProps:{height:l*2,crop:"fill"},maxWidth:l*2,src:O,width:l,height:l,loading:A?"lazy":null}):(0,o.h)("span",{className:"placeholder",style:x.theme_var_background_pop?`border-color:${(0,g.colorLightness)(x.theme_var_background_pop,.7)} ${x.theme_var_background_pop} ${x.theme_var_background_pop} ${(0,g.colorLightness)(x.theme_var_background_pop,.7)}`:""},(W=x.name||x.subdomain)==null?void 0:W[0])))}},86804:(G,s,e)=>{"use strict";e.d(s,{Z:()=>g});var o=e(6400),m=(b,x,E)=>new Promise((O,w)=>{var _=P=>{try{l(E.next(P))}catch(S){w(S)}},a=P=>{try{l(E.throw(P))}catch(S){w(S)}},l=P=>P.done?O(P.value):Promise.resolve(P.value).then(_,a);l((E=E.apply(b,x)).next())});const f="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let d=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=C);class g extends o.Component{componentDidMount(){return m(this,null,function*(){yield v(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:x}){return(0,o.h)("div",{className:x})}}function y(){const b=document.getElementsByTagName("script")[0],x=document.createElement("script");x.type="text/javascript",x.async=!0,x.defer=!0,x.src=f,b.parentNode.insertBefore(x,b)}function C(){if(d){const b=d;d=!0;for(const x of b)x()}}function v(){return new Promise(b=>{d===!0?b():d===!1?(d=[b],y()):d.push(b)})}},19826:(G,s,e)=>{"use strict";e.d(s,{EJ:()=>v.E,Fx:()=>a,ZP:()=>_});var o=e(6400),m=e(94184),f=e.n(m),d=e(39419),g=e.n(d),y=e(7922),C=e(26059),v=e(22939),b=Object.defineProperty,x=(l,P,S)=>P in l?b(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,E=(l,P,S)=>(x(l,typeof P!="symbol"?P+"":P,S),S);const O="active",w=.7;class _ extends o.Component{constructor(P,S){if(super(P,S),E(this,"onDocumentMouseUp",M=>{!(0,d.isRootOrChild)(M.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),E(this,"onDocumentKeyDown",M=>{M.key==="Escape"&&this.state.active&&this.close()}),E(this,"onWindowResize",()=>{this.placeDropdown()}),E(this,"placeDropdown",()=>{var M,R;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const N=this.base.getBoundingClientRect(),T=N.width/(this.state.active?1:w),A=N.right+(T-N.width)/2,W=N.left-(T-N.width)/2,j=typeof window!="undefined"&&window.innerWidth;if(T>=j)return;const Z=typeof window!="undefined"&&window.getComputedStyle(this.base),J=!isNaN(parseFloat(Z.left))&&parseFloat(Z.left),Q=!isNaN(parseFloat(Z.right))&&parseFloat(Z.right),ne=(M=this.state.originalLeft)!=null?M:Z.left,te=(R=this.state.originalRight)!=null?R:Z.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:ne}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:te}),W<0?typeof this.state.left=="number"?this.setState({left:this.state.left-W,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+W}):typeof Q=="number"?this.setState({left:null,right:Q+W}):this.setState({left:(J||0)-W,right:null}):A>=j&&(typeof this.state.left=="number"?this.setState({left:this.state.left-A+j,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+A-j}):typeof J=="number"?this.setState({left:J-A+j,right:null}):this.setState({left:null,right:(Q||0)+A-j}))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const M=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:M.matches};const R=N=>{this.setState({isMobileWidth:N.matches})};M.addEventListener?M.addEventListener("change",R):M.addListener&&M.addListener(R)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:P=null}={}){this.blockToggle||(0,d.stateTransaction)(this,S=>{P===null&&(P=!S.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[P?"add":"remove"]("modal-in"),this.setState({active:P},()=>{this.props.onToggle&&this.props.onToggle({active:P})})})}isOpen(){return!!this.state.active}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:P,attachOnActive:S,noDrawerCloseButton:M},{active:R}){const N=(0,o.toChildArray)(this.props.children),T={},A={};typeof this.state.left=="number"?(T.left=`${this.state.left}px`,T.right="unset",A.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(T.left="unset",T.right=`${this.state.right}px`,A.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const W=this.useDrawerStyle();return(0,o.h)(o.Fragment,null,W&&(0,o.h)("div",{className:f()("dropdown-drawer-backdrop",{[O]:R}),onclick:()=>this.drawerBackdropClicked()}),(!S||R||W)&&(0,o.h)("ul",{className:f()("dropdown-menu",this.props.className,{[O]:R,"no-rect":this.props.noRectWhenClosed,drawer:W,tooltip:!W,"no-place":!!this.props.noPlace}),style:T},!P&&!this.useDrawerStyle()&&(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"dropdown-menu-tail",style:A}),(0,o.h)("div",{className:"dropdown-menu-tail-shadow",style:A})),(0,o.h)("div",{className:f()("dropdown-menu-wrapper",this.props.wrapperClassName)},W&&!M&&(0,o.h)(y.k,{className:"drawer-close-button",onClick:()=>this.close()},(0,o.h)(C.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?N:N.map(j=>(0,o.h)("li",null,j)))))}}class a extends o.Component{constructor(P){super(P),E(this,"onDocumentMouseUp",S=>{!(0,d.isRootOrChild)(S.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),E(this,"onDocumentKeyDown",S=>{S.key==="Escape"&&this.close()}),E(this,"onWindowResize",()=>{this.placeDropdown()})}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:P=null}={}){this.blockToggle||(0,d.stateTransaction)(this,S=>{P===null&&(P=!S.active),this.setState({active:P},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return!!this.state.active}render(){const P=(0,o.toChildArray)(this.props.children);return this.props.noList?(0,o.h)("div",{className:f()("dropdown-menu tooltip",this.props.className,{[O]:this.state.active}),ref:this.props.forwardedRef},(0,o.h)("div",{className:"dropdown-menu-wrapper"},P)):(0,o.h)("ul",{className:f()("dropdown-menu tooltip",this.props.className,{[O]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,o.h)("div",{className:"dropdown-menu-wrapper"},P.map(S=>(0,o.h)("li",null,S))))}}},93881:(G,s,e)=>{"use strict";e.d(s,{Z:()=>x});var o=e(6400),m=e(30396),f=e(19237),d=e(15045),g=e(39419),y=e.n(g),C=e(7922),v=(E,O,w)=>new Promise((_,a)=>{var l=M=>{try{S(w.next(M))}catch(R){a(R)}},P=M=>{try{S(w.throw(M))}catch(R){a(R)}},S=M=>M.done?_(M.value):Promise.resolve(M.value).then(l,P);S((w=w.apply(E,O)).next())});const x=({photoUrl:E,newPhotoUrl:O,newPhotoOrientation:w,updatePhoto:_})=>{const a=(0,m.sO)(null),l=()=>v(void 0,null,function*(){const P=a.current.files[0];if(a.current.value="",!P){_({newPhotoUrl:null,newPhotoOrientation:null});return}let S;try{S=yield(0,g.getDataUrlFromFile)(P)}catch(R){console.error("Failed to get data URL from file:",R),alert(R.message);return}let M;try{M=yield(0,g.getExifOrientationFromFile)(P)}catch(R){console.error("Failed to extract EXIF data from file:",R)}_({newPhotoUrl:S,newPhotoOrientation:M})});return(0,o.h)("div",{className:"profile-photo-wrap"},E&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${O||(0,d.imginary)(E,144)})`,transform:(0,g.transformExifOrientation)(w)}}),!E&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,d.imginary)(d.DEFAULT_PHOTO_URL,144)})`,transform:(0,g.transformExifOrientation)(w)}}),(0,o.h)(C.Z,{onClick:()=>{((0,g.isIE)()||(0,g.isFirefox)())&&a.current.click()}},(0,o.h)("input",{ref:a,type:"file",name:"photo",accept:"image/*",onChange:l}),(0,o.h)("div",{className:"add-photo-fab",onClick:P=>{P.preventDefault(),a.current.click()}},(0,o.h)(f.Z,{size:20,color:"var(--color-light-primary)"}))))}},23890:(G,s,e)=>{"use strict";e.d(s,{GP:()=>M,UD:()=>S,ZP:()=>A,ew:()=>T,lQ:()=>l});var o=e(6400),m=e(94184),f=e.n(m),d=e(80569),g=e.n(d),y=e(83322),C=e(3258),v=Object.defineProperty,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(W,j,Z)=>j in W?v(W,j,{enumerable:!0,configurable:!0,writable:!0,value:Z}):W[j]=Z,w=(W,j)=>{for(var Z in j||(j={}))x.call(j,Z)&&O(W,Z,j[Z]);if(b)for(var Z of b(j))E.call(j,Z)&&O(W,Z,j[Z]);return W},_=(W,j)=>{var Z={};for(var J in W)x.call(W,J)&&j.indexOf(J)<0&&(Z[J]=W[J]);if(W!=null&&b)for(var J of b(W))j.indexOf(J)<0&&E.call(W,J)&&(Z[J]=W[J]);return Z},a=(W,j,Z)=>new Promise((J,Q)=>{var ne=V=>{try{B(Z.next(V))}catch(re){Q(re)}},te=V=>{try{B(Z.throw(V))}catch(re){Q(re)}},B=V=>V.done?J(V.value):Promise.resolve(V.value).then(ne,te);B((Z=Z.apply(W,j)).next())});function l(W,j){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const Z={};return j&&j.stripe_user_id?y.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(j.stripe_country)&&(Z.stripeAccount=j.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(W,Z)}function P(W,j){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(j!=null&&j.stripe_user_id))return null;const Z={stripeAccount:j.stripe_user_id};return window.Stripe(W,Z)}function S(W){return W.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}class M extends o.Component{componentDidMount(){this.props.card&&this.props.card.mount(this.cardElement)}componentWillUnmount(){if(this.props.card)try{this.props.card.unmount(this.cardElement)}catch(j){}}render({className:j,card:Z}){if(Z)return(0,o.h)("div",{className:`fancy-stripe ${j||""}`},(0,o.h)("div",{ref:J=>this.cardElement=J}))}}class R extends o.Component{constructor(j,Z){if(super(j,Z),j.stripe&&j.pub.stripe_country){(0,C.j)(C.FP.APPLE_PAY_SETUP_STARTED);try{const J=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),Q=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:J});this.state={paymentRequest:J,stripeButton:Q}}catch(J){console.error(J),(0,C.j)(C.FP.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return a(this,null,function*(){let j=!1;if(this.state.paymentRequest){try{const Z=yield this.state.paymentRequest.canMakePayment();Z&&Z.applePay&&(j=!0)}catch(Z){console.error(Z)}(0,C.j)(C.FP.APPLE_PAY_SETUP_FINISHED,{success:j})}yield this.setState({canMount:j}),j?(this.button||(yield new Promise(Z=>setTimeout(Z,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",Z=>this.onTokenReceived(Z)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(j){let Z=!1;for(const J of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(j[J]!==this.props[J]||J==="coupon"&&j[J]&&j[J].loading&&(!this.props[J]||!this.props[J].loading)){Z=!0;break}Z&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(j){}}onTokenReceived(j){return a(this,null,function*(){(0,C.j)(C.FP.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:j.payerEmail,name:j.payerName,stripe_token:j.token}),j.complete("success"),(0,C.j)(C.FP.APPLE_PAY_SUCCEEDED)}catch(Z){console.error("Apple Pay submission failed:",j,Z),j.complete("fail"),(0,C.j)(C.FP.APPLE_PAY_FAILED,{reason:Z.message})}})}getPaymentTotal(){var j;const{pub:Z,plan:J,quantity:Q,coupon:ne,notRecurring:te,variableAmount:B}=this.props;let V=0,re=Math.max(0,J.trial_period_days||0,ne&&!ne.error&&!ne.loading&&ne.trial_period_days||0,Z.trial_end_override&&Math.ceil((Z.trial_end_override-Date.now()/1e3)/60/60/24));te&&(re=0);const ae=(((j=J.metadata)==null?void 0:j.founding)&&B||J.amount)*(Q||1);let q=ae;ne&&!ne.error&&!ne.loading&&(ne.percent_off?q=Math.round(q*(1-(ne.percent_off_precise||ne.percent_off)/100)):ne.amount_off&&(q=Math.max(0,q-ne.amount_off)),q<=0&&(q=ae,ne.duration==="once"?J.interval==="year"?V+=12*J.interval_count:V+=J.interval_count:ne.duration==="repeating"&&(V+=ne.duration_in_months)));let oe;return te?oe="one-time":(oe=`${this.props.plan.interval}ly`,this.props.quantity>1&&(oe+=" per person"),V?(re>15&&(V+=parseInt(re/30)),oe+=` with ${V}-month trial`):re&&(oe+=` with ${re}-day trial`)),{label:oe,amount:q}}render({children:j,className:Z,error:J},{canMount:Q}){if(!(typeof Q!="undefined"&&!Q&&typeof window!="undefined"))return(0,o.h)("div",{className:"apple-pay-parent-container"},Q?(0,o.h)("div",{className:`apple-pay-element ${Z||""}`,ref:ne=>this.button=ne}):(0,o.h)("p",{className:`apple-pay-loader ${Z||""}`},"Loading\u2026"),J&&(0,o.h)("div",{className:"error"},J),j)}}class N extends o.Component{render(j,Z){var J=j,{children:Q,ref:ne}=J,te=_(J,["children","ref"]);return(0,o.h)("div",{className:"fancy-input"},(0,o.h)("input",w({ref:B=>this._input=B},te)),Q)}blur(){this._input&&this._input.blur()}}class T extends Error{constructor(j){super(j),this.response={body:{error:this.message}}}}class A extends o.Component{constructor(j,Z){super(j,Z),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=l(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this._stripeCard=S(this._stripe),this._connectedStripe=P(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const j=[];if(this.base){const Z=Array.from(this.base.getElementsByTagName("*"));for(const J of Z)["INPUT","TEXTAREA","SELECT"].includes(J.nodeName)&&J.getAttribute("name")&&j.push(J)}return j}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const j of this.getInputs())j.blur&&j.blur(),j.type==="checkbox"?j.checked=!1:j.type==="select"?j.selectedIndex=-1:j.type==="radio"?j.checked=!1:j.target?j.target.value="":j.value=""}handleStripeChange({error:j}){j?this.setState({_stripeError:j.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCard&&this._stripeCard.addEventListener("change",j=>this.handleStripeChange(j))}componentWillUnmount(){this._stripeCard&&this._stripeCard.destroy()}onInputBlur(j){this.props.analyticsName&&new Date().getTime()-this._mountTime>1e3&&j.target&&j.target.value&&!j.target._blurTracked&&((0,C.j)(`${this.props.analyticsName} Input Filled`,{name:j.target.name}),j.target._blurTracked=!0)}onPaymentRequestAttempt(j){return a(this,null,function*(){const Z=yield this.handleSubmitAsync(null,j);if(Z)throw Z})}handleSubmit(j){j&&j.preventDefault(),this.handleSubmitAsync(j).catch(Z=>{console.error(Z)})}handleSubmitAsync(j){return a(this,arguments,function*(Z,J={}){var Q,ne;if(Z&&Z.preventDefault(),this.props.analyticsName&&(0,C.j)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const te=this.props.method?this.props.method:"post";let B=null;if(this.stripeElement&&!J.stripe_token){const{token:ae,error:q}=this._stripe?yield this._stripe.createToken(this._stripeCard):{error:{message:""}};if(ae)B=ae;else{this.setState({loading:!1,_stripeError:q&&q.message}),this.props.analyticsName&&(console.log("error",q),(0,C.j)(`${this.props.analyticsName} Missing Payment`,{type:q&&q.type,code:q&&q.code,decline_code:q&&q.decline_code,reason:q&&q.message}));return}}let V={};for(const ae of this.getInputs())ae.blur&&ae.blur(),ae.type=="checkbox"?V[ae.name]=!!ae.checked:ae.type=="radio"?ae.checked&&(V[ae.name]=ae.value):ae.type==="select"?V[ae.name]=ae.options[ae.selectedIndex].value:V[ae.name]=ae.value;if(Object.keys(J).forEach(ae=>{!V[ae]&&J[ae]&&(V[ae]=J[ae])}),B&&(V.stripe_token=B),this.props.prepareData)try{const ae=yield this.props.prepareData(V,Z);ae&&(V=ae)}catch(ae){throw this.setState({loading:!1}),ae}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let re,le;try{if(this.props.performSubmit)re=yield this.props.performSubmit(V);else if(this.props.action){const ae=g()[te](this.props.action);this.props.method&&this.props.method==="get"?re=yield ae.query(V):re=yield ae.send(V)}else this.props.onSubmit&&this.props.onSubmit(V)}catch(ae){le=ae}if((Q=re==null?void 0:re.body)!=null&&Q.confirmPaymentUrl&&re.body.clientSecret&&this._connectedStripe){(0,C.j)(C.FP.PAYMENT_CONFIRMATION_STARTED);const ae=yield this._connectedStripe.confirmCardPayment(re.body.clientSecret);if(ae.error){(0,C.j)(C.FP.PAYMENT_CONFIRMATION_FAILED,{error:(ne=ae.error)==null?void 0:ne.message});const q={error:ae.error.message||"Failed to confirm payment"};le={response:{body:q,text:JSON.stringify(q)}}}else(0,C.j)(C.FP.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!le)this.props.onSuccess&&this.props.onSuccess(re,V);else if(this.processErrors(le.response),this.props.onError&&this.props.onError(le),!le.response)throw le;return le})}processErrors(j){const Z={},J=[];if(j&&j.body&&j.body.errors){const Q=this.getInputs();j.body.errors.forEach(ne=>{this.props.noInlineErrors!==!0&&ne.param&&Q.filter(te=>te.getAttribute("name")===ne.param).length>0?Z[ne.param]?(console.log("Discarding repeated error"),console.log(ne)):Z[ne.param]=ne:J.push(ne)})}else j&&j.body&&typeof j.body.error=="string"?J.push({msg:j.body.error}):J.push({msg:"Something went wrong"});this.setState({_paramErrors:Z,_otherErrors:J}),this.props.analyticsName&&(0,C.j)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(Z),otherErrors:JSON.stringify(J)})}render(j,Z){const J=j.autoLock&&Z.loading||j.loading;let Q=!1,ne=!1;const te=B=>{const V=[];return(0,o.toChildArray)(B).forEach(re=>{if(!re)return null;if((re.type===N||re.type==="input"||re.type==="textarea"||re.type==="select")&&re.props&&re.props.name){const le=re.props.name;if(V.push((0,o.cloneElement)(re,{disabled:J||re.props.disabled,onChange:ae=>{var q,oe;const z=((q=re.props)==null?void 0:q.onChange)||((oe=re.props)==null?void 0:oe.onInput);z&&z(ae),this.props.onChange&&this.props.onChange(ae)},onInput:ae=>{re.props&&re.props.onInput&&re.props.onInput(ae),this.props.onInput&&this.props.onInput(ae)},onBlur:ae=>{this.onInputBlur(ae),re.props&&re.props.onBlur&&re.props.onBlur(ae)}})),Z._paramErrors[le]&&!J){const ae=Z._paramErrors[le];ae.msgHTML?V.push((0,o.h)("div",{className:"error",name:le,dangerouslySetInnerHTML:{__html:ae.msgHTML}})):V.push((0,o.h)("div",{className:"error",name:le},ae.msg||"Invalid"))}}else if(re.props&&re.props.type==="submit")V.push((0,o.cloneElement)(re,{disabled:J||re.props.disabled,onClick:le=>{re.props&&re.props.onClick&&re.props.onClick(le)!==!1&&this.handleSubmit(le)}}));else if(re.props&&re.props.id==="error-container"){if(Z._otherErrors&&!J){const le=Z._otherErrors.map(ae=>ae.msgHTML?(0,o.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:ae.msgHTML}}):(0,o.h)("div",{className:"error other-error"},ae.msg)).concat(re.props&&re.props.children?(0,o.toChildArray)(re.props.children):[]);V.push((0,o.cloneElement)(re,{},le))}}else if(re.type===M){if(Q)throw new Error("Can only handle one stripe element");Q=!0,V.push((0,o.cloneElement)(re,{ref:le=>{re.props&&re.props.ref&&re.props.ref(le),this.stripeElement=le},card:this._stripeCard})),(Z._stripeError||!this._stripeCard)&&!J&&typeof window!="undefined"&&V.push((0,o.h)("div",{className:f()("error",j.stripeErrorClassName),role:"alert"},Z._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(re.type===R){if(ne)throw new Error("Can only handle one stripe payment request button");ne=!0,V.push((0,o.cloneElement)(re,{ref:le=>{re.props&&re.props.ref&&re.props.ref(le),this.stripePaymentRequestButton=le},stripe:this._stripe,onSuccess:le=>(re.props&&re.props.onSuccess&&re.props.onSuccess(le),this.onPaymentRequestAttempt(le))}))}else re.props&&re.props.children?V.push((0,o.cloneElement)(re,{},te(re.props.children))):V.push(re)}),V};return(0,o.h)("form",w({className:`form ${j.className||""}`,action:j.noJsAction||j.action,method:j.method&&["get","post"].includes(j.method.toLowerCase())&&j.method.toLowerCase()||"post",autoComplete:j.autoComplete,onSubmit:B=>this.handleSubmit(B),noValidate:!0},j.enctype&&{enctype:j.enctype}),te(j.children))}}},60074:(G,s,e)=>{"use strict";e.d(s,{Z:()=>fe});var o=e(6400),m=e(94184),f=e.n(m),d=e(15045),g=e(83322),y=e(4190),C=e(1824),v=e(3258),b=e(72496),x=e(39419),E=e(30396),O=e(34875),w=e(92271),_=e(51126),a=e(65919);const l={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--UT0du",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--jLAJH",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--j9Xhk",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--pyBNR",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--gViyO",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--XorHI",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--me9Bp"},P=({emailSuggestions:ye,currentEmail:pe,onAccept:we,onReject:Me})=>{const je=(0,x.isMobileBrowser)(),[De,me]=(0,E.eJ)(!1),[ce,ge]=(0,E.eJ)(null),Ie=(0,E.sO)(null),Re=_t=>{me(!1),(0,v.j)(v.FP.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:pe,email_suggested:_t}),Me&&Me()},Ke=ye&&pe&&ye[pe]&&ye[pe]!=pe.trim(),ut=_t=>{me(!1),(0,v.j)(v.FP.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:pe,email_suggested:_t}),we(_t)};return(0,E.d4)(()=>{if(Ke){const _t=ye[pe];(0,v.j)(v.FP.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:pe,email_suggested:_t}),ge(_t),me(!0)}else me(!1)},[Ke,ye,pe]),(0,o.h)("div",{className:l.animationWrapper},(0,o.h)(O.u,{show:De,enter:"tw-transition-all tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:Ie},(0,o.h)(_.hs,{className:l.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},(0,o.h)(_.tu,{className:l.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:4,alignItems:"start",gap:20},(0,o.h)(a.xv,{size:16,font:"display",className:l.secondaryText},"Did you mean",(0,o.h)("br",null),(0,o.h)(a.xv,{as:"span",weight:"semibold",className:l.primaryText},ce),"?"),(0,o.h)(_.gq,{justifyContent:"space-between",flex:"grow",gap:12,className:l.buttonWrapper},(0,o.h)(w.z,{onClick:()=>ut(ce),className:l.buttonFill,variant:"themed-primary"},je?"Yes":"Yes, Subscribe with correction"),(0,o.h)(w.z,{className:l.buttonFill,variant:"secondary",onClick:()=>Re(ce)},"No"))))))};var S=e(23279),M=e.n(S),R=e(80569),N=e.n(R),T=e(83868),A=e.n(T),W=(ye,pe,we)=>new Promise((Me,je)=>{var De=ge=>{try{ce(we.next(ge))}catch(Ie){je(Ie)}},me=ge=>{try{ce(we.throw(ge))}catch(Ie){je(Ie)}},ce=ge=>ge.done?Me(ge.value):Promise.resolve(ge.value).then(De,me);ce((we=we.apply(ye,pe)).next())});const j=(ye,pe)=>W(void 0,null,function*(){const we=yield N().get("/api/v1/check-email").query({email:ye});pe([ye,we.body])}),Z=M()((ye,pe)=>W(void 0,null,function*(){yield j(ye,pe)}),200),J=ye=>W(void 0,null,function*(){return A()(ye)?new Promise((pe,we)=>{Z(ye,pe)}):[]});var Q=e(7922),ne=e(23890),te=e(26059),B=Object.defineProperty,V=Object.defineProperties,re=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,oe=(ye,pe,we)=>pe in ye?B(ye,pe,{enumerable:!0,configurable:!0,writable:!0,value:we}):ye[pe]=we,z=(ye,pe)=>{for(var we in pe||(pe={}))ae.call(pe,we)&&oe(ye,we,pe[we]);if(le)for(var we of le(pe))q.call(pe,we)&&oe(ye,we,pe[we]);return ye},ie=(ye,pe)=>V(ye,re(pe)),ue=(ye,pe,we)=>(oe(ye,typeof pe!="symbol"?pe+"":pe,we),we),de=(ye,pe,we)=>new Promise((Me,je)=>{var De=ge=>{try{ce(we.next(ge))}catch(Ie){je(Ie)}},me=ge=>{try{ce(we.throw(ge))}catch(Ie){je(Ie)}},ce=ge=>ge.done?Me(ge.value):Promise.resolve(ge.value).then(De,me);ce((we=we.apply(ye,pe)).next())});class fe extends o.Component{constructor(pe){super(pe),ue(this,"handleEmailChange",()=>{const we=this.emailInput.value;we&&(this.setState({currentEmail:we}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(we))&&J(we).then(Me=>{const[je,De]=Me;this.setState({emailSuggestions:ie(z({},this.state.emailSuggestions),{[je]:De})})}))}),ue(this,"_onSuccess",we=>de(this,null,function*(){we.body.prompt_to_login||v.IU(),we.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(we):alert(`Confirmation required: we sent an email to ${we.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==we.body.email&&(0,C.a)({freeSignupEmail:we.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(we))})),ue(this,"onSuccess",we=>de(this,null,function*(){typeof window!="undefined"&&window.campaign&&(0,d.getQueryItem)("referralCode")?window.campaign.identify({email:we.body.email},()=>this._onSuccess(we)):yield this._onSuccess(we)})),ue(this,"onAcceptSuggestion",we=>{this.emailInput.value=we,this.form.handleSubmit(null,!0)}),this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return de(this,null,function*(){this.getPrefilledEmail()&&(this.emailInput.value=this.getPrefilledEmail())})}onLoadingState(pe){this.setState({loading:pe,requires_confirmation:!1})}onError(pe){pe.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(pe)}render({pub:pe,className:we,referralCode:Me,submitButtonText:je,showArchives:De,hideLogin:me,hideTerms:ce,contentLinks:ge,source:Ie,loginRedirect:Re,autoFocus:Ke,disabled:ut,onPrepareData:_t,children:ft,onMaybeLater:We,useSubscribeLink:Be,user:lt,utm_campaign:Tt,next:xt},{loading:Gt,requires_confirmation:an}){var yt,ke,Ve,Ne,Fe,Ue;const be=Ie==="treatment_bold_fade",Ge=((Ve=(ke=(yt=(0,d.getQueryItem)("referring_pub_ids"))==null?void 0:yt.split)==null?void 0:ke.call(yt,","))==null?void 0:Ve[0])||void 0,nt=((Ue=(Fe=(Ne=(0,d.getQueryItem)("referring_pub_ids"))==null?void 0:Ne.split)==null?void 0:Fe.call(Ne,","))==null?void 0:Ue.slice(1))||void 0,Oe=this.getPrefilledEmail();return(0,o.h)(o.Fragment,null,(0,o.h)(ne.ZP,{ref:K=>this.form=K,className:we,noInlineErrors:!0,action:(0,d.pathWithQuery)("/api/v1/free"),noJsAction:(0,d.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:K=>{an&&(K.resend_confirmation=!0),_t&&_t(K)},onChangeLoadingState:this.onLoadingState.bind(this),onError:K=>this.onError(K),onSuccess:K=>this.onSuccess(K),typoFound:K=>this.setState({emailSuggestion:K}),disableSubmit:Be},(0,o.h)("input",{type:"hidden",name:"first_url",value:b.xY}),(0,o.h)("input",{type:"hidden",name:"first_referrer",value:b.ip}),(0,o.h)("input",{type:"hidden",name:"current_url",value:b.UE}),(0,o.h)("input",{type:"hidden",name:"current_referrer",value:b.xU}),(0,o.h)("input",{type:"hidden",name:"referral_code",value:Me}),(0,o.h)("input",{type:"hidden",name:"source",value:Ie}),(0,o.h)("input",{type:"hidden",name:"referring_pub_id",value:Ge}),(0,o.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:nt}),(0,o.h)("div",{className:"sideBySideWrap"},!!Oe&&(0,x.inputPrefillHack)(),(0,o.h)("input",{onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:K=>this.emailInput=K,type:"email",name:be?"email-pop":"email",readOnly:!!(this.getSavedEmail()||Gt||ut),disabled:!!(Gt||ut),autoFocus:Ke&&!(this.getPrefilledEmail()||ut)&&!(0,x.isMobileBrowser)(),placeholder:I`Type your email…`}),(0,o.h)(Q.Z,{className:`rightButton ${be?"pop":""} primary subscribe-btn`,type:"submit",disabled:!!(Gt||ut),onClick:K=>{Be&&(location.href=(0,d.getSubscribeUrl)(pe,{addBase:!0,user:lt,utm_source:"substack",utm_medium:"web",utm_campaign:Tt,next:xt}))}},(0,o.h)("b",{className:`button-text ${be?"pop":""}`},je||(0,g.getSubscribeText)(pe)))),an?(0,o.h)("div",null,(0,o.h)("div",{className:"error other-error"},"This email address is not confirmed yet.",(0,o.h)("br",null),(0,o.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):(0,o.h)("div",{id:"error-container"}),ge&&(0,o.h)("div",{className:"welcome-links-mobile"},(0,o.h)("div",null,this.getSavedEmail()?(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getSignoutUrl)({for_pub:pe.subdomain}),native:!0},I`Not you?`):(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getSigninUrl)({for_pub:pe.subdomain,redirect:Re}),native:!0},I`Login`),(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getAboutUrl)(pe),onClick:this.props.markWelcomePageAsHidden,native:!0},I`About`),(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getArchiveUrl)(pe),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Archive`)),We&&(0,o.h)("button",{className:"button close-welcome-modal-mobile",onClick:K=>{K.preventDefault(),We()},"aria-label":"Close"},(0,o.h)(te.Z,null))),(0,o.h)("div",{className:f()("subtle-help-text below-input",{"welcome-modal":ge})},!me&&(this.getSavedEmail()?(0,o.h)("a",{className:"login-button",href:(0,d.getSignoutUrl)({for_pub:pe.subdomain}),native:!0},I`Not you?`):(0,o.h)("a",{className:"login-button",href:(0,d.getSigninUrl)({for_pub:pe.subdomain,redirect:Re}),native:!0},I`Login`)),De&&(0,o.h)("a",{className:"legal",href:(0,d.getBaseArchiveUrl)(pe),native:!0},"Archives"),!ce&&[(0,o.h)("a",{className:"legal",href:(0,d.getPrivacyUrl)(pe),target:"_blank",native:!0},I`Privacy`),(0,o.h)("a",{className:"legal",href:"/tos",target:"_blank",native:!0},I`Terms`),(0,o.h)("a",{className:"legal",href:`${(0,d.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"_blank",native:!0},"Information collection notice")],ge&&[(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getArchiveUrl)(pe,{params:{sort:"top"}}),onClick:this.props.markWelcomePageAsHidden},I`Top posts`),(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getAboutUrl)(pe),onClick:this.props.markWelcomePageAsHidden,native:!0},I`About`),(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getArchiveUrl)(pe),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Archive`),(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getAboutUrl)(pe,{params:{sort:"people"}}),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Authors`),this.getSavedEmail()?(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getSignoutUrl)({for_pub:pe.subdomain}),native:!0},I`Not you?`):(0,o.h)("a",{className:"welcome-content-link",href:(0,d.getSigninUrl)({for_pub:pe.subdomain,redirect:Re}),native:!0},I`Login`)],ft)),(0,o.h)(P,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}ue(fe,"contextType",y.kx)},89867:(G,s,e)=>{"use strict";e.d(s,{Z:()=>O});var o=e(6400),m=e(30396),f=e(46505),d=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,v=(w,_,a)=>_ in w?d(w,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):w[_]=a,b=(w,_)=>{for(var a in _||(_={}))y.call(_,a)&&v(w,a,_[a]);if(g)for(var a of g(_))C.call(_,a)&&v(w,a,_[a]);return w},x=(w,_)=>{var a={};for(var l in w)y.call(w,l)&&_.indexOf(l)<0&&(a[l]=w[l]);if(w!=null&&g)for(var l of g(w))_.indexOf(l)<0&&C.call(w,l)&&(a[l]=w[l]);return a};const O=w=>{const _=w,{ampProps:a}=_,l=x(_,["ampProps"]);return(0,m.qp)(f.E).isAmp?(0,o.h)("amp-img",b(b({},a),l)):(0,o.h)("img",b({},l))}},96789:(G,s,e)=>{"use strict";e.d(s,{Z:()=>l,p:()=>P});var o=e(6400),m=e(94184),f=e.n(m),d=e(71375),g=e(39419),y=e.n(g),C=e(17685),v=Object.defineProperty,b=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(S,M,R)=>M in S?v(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,w=(S,M)=>{for(var R in M||(M={}))x.call(M,R)&&O(S,R,M[R]);if(b)for(var R of b(M))E.call(M,R)&&O(S,R,M[R]);return S},_=(S,M,R)=>(O(S,typeof M!="symbol"?M+"":M,R),R),a=(S,M,R)=>new Promise((N,T)=>{var A=Z=>{try{j(R.next(Z))}catch(J){T(J)}},W=Z=>{try{j(R.throw(Z))}catch(J){T(J)}},j=Z=>Z.done?N(Z.value):Promise.resolve(Z.value).then(A,W);j((R=R.apply(S,M)).next())});class l extends o.Component{constructor(M,R){super(M,R),_(this,"onDocumentKeyDown",N=>{N.key==="Escape"&&!this.props.noExit&&!(0,g.isFocused)(this.base)&&this.close()}),this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(M){M&&(this._callback=M);const R=document.getElementsByTagName("html")[0];(0,g.hasClass)(R,"modal-in")||(0,g.addClass)(R,"modal-in"),this.setState({display:!0,open:!0})}open(M){return a(this,null,function*(){M&&(this._callback=M);const R=document.getElementsByTagName("html")[0];(0,g.hasClass)(R,"modal-in")||(0,g.addClass)(R,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(N=>{this.setState({display:!0},()=>{this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),N()})},50)})})})}close(M){return a(this,null,function*(){this.isOpen()&&this.onBeforeClose(M)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(M)===!1||((0,g.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(R=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(M),this.props.onClose&&this.props.onClose(M),this._callback&&this._callback(M),R()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(M){var R,N;M.stopPropagation(),(N=(R=this.props).onClick)==null||N.call(R,M),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&M.target&&this.container&&this.close()}onClickInner(M){var R,N;M.stopPropagation(),(N=(R=this.props).onClick)==null||N.call(R,M)}render(){const M=this.state.open?"in":"out",R=this.state.display===!1?"gone":"",N=this.props.variant==="structured";return(0,o.h)("div",{className:f()("modal typography",M,R,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":N,popup:this.popup}),onClick:T=>this.onClickOuter(T),"data-testid":this.props.testID,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{ref:T=>this.content=T,className:f()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},(0,o.h)("div",w({className:f()({container:!N}),ref:T=>this.container=T,onClick:T=>this.onClickInner(T)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||(0,g.isMobileBrowser)())&&(N?(0,o.h)("div",{className:"structured-modal__close-button"},(0,o.h)(C.hU,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},(0,o.h)(d.Z,{size:20,color:"secondary"}))):(0,o.h)(C.hU,{"data-testid":"close-modal",className:f()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},(0,o.h)(d.Z,{size:20,color:"secondary"}))),N?(0,o.h)("div",{className:"structured-modal__wrapper"},(0,o.h)("div",{className:"structured-modal__header"},this.props.modalTitle?(0,o.h)("h3",null,this.props.modalTitle):(0,o.h)("h3",null,"\xA0")),(0,o.h)("div",{className:"structured-modal__body"},(0,o.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&(0,o.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:M},R){return M}}class P extends l{constructor(M,R){super(M,R),this.popup=!0}}},50615:(G,s,e)=>{"use strict";e.d(s,{l:()=>N,y:()=>R});var o=e(6400),m=e(30396),f=e(50308),d=e.n(f),g=e(80569),y=e.n(g),C=e(15045),v=e(83322),b=e(3258),x=e(39419),E=e.n(x),O=e(19826),w=e(46595),_=e(22702),a=e(65726),l=Object.defineProperty,P=(T,A,W)=>A in T?l(T,A,{enumerable:!0,configurable:!0,writable:!0,value:W}):T[A]=W,S=(T,A,W)=>(P(T,typeof A!="symbol"?A+"":A,W),W),M=(T,A,W)=>new Promise((j,Z)=>{var J=te=>{try{ne(W.next(te))}catch(B){Z(B)}},Q=te=>{try{ne(W.throw(te))}catch(B){Z(B)}},ne=te=>te.done?j(te.value):Promise.resolve(te.value).then(J,Q);ne((W=W.apply(T,A)).next())});class R extends o.Component{constructor(){super(...arguments),S(this,"toggleTopExclusion",A=>(0,x.stateTransaction)(this,(W,j)=>M(this,[W,j],function*(Z,{post:J,onChange:Q}){if(Z.topExcluding)return;this.setState({topExcluding:A.id});const ne=J.top_exclusions.includes(A.id),te=`/api/v1/publication/${A.id}/exclusion/${J.id}`;try{ne?(yield y().del(te),J.top_exclusions.splice(0)):(yield y().post(te),J.top_exclusions.splice(0),J.top_exclusions.push(A.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(B){console.error("Failed to exclude post:",B),alert((0,x.getNetworkErrorMessage)(B));return}finally{this.setState({topExcluding:null})}Q&&(yield Q({post:J}))}))),S(this,"toggleSectionPin",(A,W)=>(0,x.stateTransaction)(this,(j,Z)=>M(this,[j,Z],function*(J,{post:Q,onChange:ne}){if(J.pinning)return;this.setState({sectionPinning:W});const te=`/api/v1/publication/${A.id}/section/${W}/pin/${Q.id}`;try{Q.is_section_pinned?(yield y().del(te),Q.is_section_pinned=!1):(yield y().post(te),Q.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(B){console.error("Failed to pin post:",B),alert((0,x.getNetworkErrorMessage)(B));return}finally{this.setState({sectionPinning:null})}ne&&(yield ne({post:Q}))}))),S(this,"togglePin",A=>(0,x.stateTransaction)(this,(W,j)=>M(this,[W,j],function*(Z,{post:J,onChange:Q}){if(Z.pinning)return;this.setState({pinning:A.id});const ne=J.pins.includes(A.id),te=`/api/v1/publication/${A.id}/pin/${J.id}`;try{ne?(yield y().del(te),J.pins.splice(J.pins.indexOf(A.id),1)):(yield y().post(te),A.multiple_pins||J.pins.splice(0),J.pins.push(A.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(B){console.error("Failed to pin post:",B),alert((0,x.getNetworkErrorMessage)(B));return}finally{this.setState({pinning:null})}Q&&(yield Q({post:J}))}))),S(this,"sendEmail",()=>M(this,null,function*(){const{post:A}=this.props,W={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[A.audience];if(!confirm(`Send this published post as an email to ${W}?`))return;const j=`/api/v1/drafts/${A.id}/publish`;try{yield y().post(j).send({send:!0,only_send:!0}),location.reload()}catch(Z){console.error("Failed to send post:",Z),alert((0,x.getNetworkErrorMessage)(Z))}})),S(this,"clearCache",()=>M(this,null,function*(){const{post:A}=this.props;try{yield y().put(`/api/v1/posts/${A.id}/clear_cache`),location.reload()}catch(W){console.error("Failed to clear post from cache"),alert((0,x.getNetworkErrorMessage)(W))}})),S(this,"duplicatePost",()=>M(this,null,function*(){this.setState({duplicating:!0});const{pub:A,post:W}=this.props;try{const j=yield y().post(`/api/v1/posts/${W.id}/duplicate`);(0,x.redirect)((0,C.getEditPostUrlById)(A,j.body.id),{local_navigation:!1})}catch(j){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,x.getNetworkErrorMessage)(j))}}))}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:A,post:W,hidePinning:j,user:Z,emailSent:J,allowSendEmail:Q,className:ne,useDrawerOnMobile:te,handleCrossPost:B},{pinning:V,sectionPinning:re,topExcluding:le,duplicating:ae}){let q=null;return W.section_id&&A.sections&&A.sections.length&&(q=A.sections.find(oe=>oe.id===W.section_id)),(0,o.h)(O.ZP,{attachOnActive:!0,ref:oe=>this.editMenu=oe,className:ne,useDrawerOnMobile:te},(0,o.h)(a.Z,{href:(0,C.getPostUrl)(A,W,{edit:!0}),onClick:d()},"Edit post"),!j&&W.slug&&[(0,v.isPinnable)(A)&&W.section_id&&(W.section_name||q.name)&&(0,o.h)(a.Z,{onClick:()=>this.toggleSectionPin(A,W.section_id)},[W.is_section_pinned^re===W.section_id?"Unpin from":"Pin on",` ${W.section_name||q.name}`]),(0,v.isPinnable)(A)&&(0,o.h)(a.Z,{onClick:()=>this.togglePin(A)},[W.pins.includes(A.id)^V===A.id?"Unpin from":"Pin on",A.parent_publication_id||q?` ${A.name}`:" homepage"]),A.parent_publication&&(0,v.isPinnable)(A.parent_publication)&&(0,o.h)(a.Z,{onClick:()=>this.togglePin(A.parent_publication)},[W.pins.includes(A.parent_publication.id)^V===A.parent_publication.id?"Unpin from":"Pin on",` ${A.parent_publication.name}`])],W.slug&&W.type!=="adhoc_email"&&[(0,o.h)(a.Z,{onClick:()=>this.toggleTopExclusion(A)},[W.top_exclusions.includes(A.id)^le===A.id?"Include in":"Exclude from"," Top",A.parent_publication_id&&` for ${A.name}`]),A.parent_publication&&(0,o.h)(a.Z,{onClick:()=>this.toggleTopExclusion(A.parent_publication)},[W.top_exclusions.includes(A.parent_publication.id)^le===A.parent_publication.id?"Include in":"Exclude from"," Top",` for ${A.parent_publication.name}`])],(0,o.h)(a.Z,{disabled:ae,onClick:()=>this.duplicatePost()},ae?"Duplicating":"Duplicate"," to drafts"),!J&&Q&&W.is_published&&(0,o.h)(a.Z,{onClick:()=>this.sendEmail()},"Send as email"),(Z==null?void 0:Z.is_global_admin)&&(0,o.h)(a.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(0,o.h)(a.Z,{onClick:()=>{window.open(`${(0,C.getPostUrl)(A,W)}/media-assets`)}},"View media assets"),B&&(0,o.h)(a.Z,{onClick:B},"Cross post"))}}S(R,"state",{duplicating:!1});function N({pub:T,post:A,iconHeight:W,hidePinning:j,user:Z,emailSent:J,allowSendEmail:Q,showUpdatedIcons:ne,dropdownClassName:te,iconClassName:B}){const V=(0,m.sO)();return(0,o.h)(o.Fragment,null,(0,o.h)(a.Z,{onClick:()=>{V.current.isOpen()||(0,b.j)(b.FP.EDIT_POST_DROPDOWN_MENU_OPENED),V.current.toggle()}},ne?(0,o.h)(_.Z,{stroke:"#262626",height:W,className:B}):(0,o.h)(w.Z,{stroke:"#757575",height:W,className:B})),(0,o.h)(R,{ref:V,pub:T,post:A,hidePinning:j,user:Z,emailSent:J,allowSendEmail:Q,className:te}))}},34085:(G,s,e)=>{"use strict";e.d(s,{EB:()=>V,_0:()=>B});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(80569),y=e.n(g),C=e(15045),v=e(83322),b=e(3258),x=e(39419),E=e.n(x),O=e(35291),w=e(7922),_=e(93881),a=e(23890),l=e(96789),P=e(81671),S=Object.defineProperty,M=Object.defineProperties,R=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,W=(le,ae,q)=>ae in le?S(le,ae,{enumerable:!0,configurable:!0,writable:!0,value:q}):le[ae]=q,j=(le,ae)=>{for(var q in ae||(ae={}))T.call(ae,q)&&W(le,q,ae[q]);if(N)for(var q of N(ae))A.call(ae,q)&&W(le,q,ae[q]);return le},Z=(le,ae)=>M(le,R(ae)),J=(le,ae)=>{var q={};for(var oe in le)T.call(le,oe)&&ae.indexOf(oe)<0&&(q[oe]=le[oe]);if(le!=null&&N)for(var oe of N(le))ae.indexOf(oe)<0&&A.call(le,oe)&&(q[oe]=le[oe]);return q},Q=(le,ae,q)=>new Promise((oe,z)=>{var ie=fe=>{try{de(q.next(fe))}catch(ye){z(ye)}},ue=fe=>{try{de(q.throw(fe))}catch(ye){z(ye)}},de=fe=>fe.done?oe(fe.value):Promise.resolve(fe.value).then(ie,ue);de((q=q.apply(le,ae)).next())});const ne=({sub:le,onSetVisibility:ae,source:q})=>{const oe=le.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:oe,logo_url:oe.logo_url||oe.author_photo_url}),h("span",null,oe.name)),h("div",{className:"right"},h(BigCheckbox,{checked:le.visibility==="public",onChange:()=>ae(le.visibility==="public"?"private":"public")})))},te=({profile:le,onFinalizeVisibility:ae,onSetVisibility:q,source:oe})=>{if(!le)return;const z=le.subscriptions.every(({visibility:fe})=>fe==="public"),ie=()=>{q(le.subscriptions.reduce((fe,{publication:ye})=>Z(j({},fe),{[ye.id]:z?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:le.subscriptions.length})},ue=fe=>ye=>{q(le.subscriptions.reduce((pe,{visibility:we,publication:Me})=>Z(j({},pe),{[Me.id]:Me.id===fe.id?ye:we}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:ye})},de=h("button",{className:"small",onClick:ie},z?"Hide all":"Show all");return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},de),h("div",{className:"edit-sub-visibility-frame"},le.subscriptions.map(fe=>h(ne,{sub:fe,onSetVisibility:ue(fe.publication),source:oe}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:ae},"Done")))};class B extends o.Component{constructor(ae,q){var oe;super(ae,q),this.formRef=(0,o.createRef)(),this.state={newName:null,newBio:null,newEmail:ae.user&&ae.user.is_magic?ae.user.email:null},ae.isPostInvite&&!((oe=ae.user)!=null&&oe.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var ae,q,oe;this.props.autoSubmit&&(this.isComplete()?(ae=this.formRef.current)==null||ae.handleSubmit():(oe=(q=this.props).onAutoSubmitFailed)==null||oe.call(q))}isComplete(){const{user:ae,needsPhoto:q}=this.props;return ae&&!ae.is_magic&&ae.name&&(!q||ae.photo_url)}onFileInputChanged(){return Q(this,null,function*(){const ae=this.fileInput.files[0];if(this.fileInput.value="",!ae){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let q;try{q=yield(0,x.getDataUrlFromFile)(ae)}catch(z){console.error("Failed to get data URL from file:",z),alert(z.message);return}let oe;try{oe=yield(0,x.getExifOrientationFromFile)(ae)}catch(z){console.error("Failed to extract EXIF data from file:",z)}this.setState({newPhotoUrl:q,newPhotoOrientation:oe})})}onError(ae){var q,oe;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(oe=(q=this.props).onAutoSubmitFailed)==null||oe.call(q)),this.setState({sentLoginEmail:!1}),ae.status===401&&this.sendLoginEmail()}createDefaultPublication(ae,q){return Q(this,null,function*(){try{const oe=yield y().get("/api/v1/publication/suggestion"),z=q||`${ae} on Substack`;yield y().post("/api/v1/publication").send({name:ae,subdomain:oe.body.subdomain,hero_text:z,tos:!0})}catch(oe){(0,b.j)(b.FP.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",oe)}})}sendLoginEmail(){return Q(this,null,function*(){const ae=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!ae)){this.setState({loading:!0});try{yield y().post("/api/v1/email-login").send({email:ae,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(q){console.error("Failed send login email:",q)}this.setState({loading:!1})}})}render({className:ae,user:q,numVisibleSubscriptions:oe,numSubscriptions:z,freeSignup:ie,freeSignupEmail:ue,initialPhotoUrl:de,needsPhoto:fe,optionalPhoto:ye,token:pe,text:we,onSuccess:Me,prepareData:je,pageTitle:De,primaryEligiblePublications:me,isPostInvite:ce,complete:ge,profileExists:Ie,onSkip:Re,onEditReadVisibility:Ke,barebones:ut,onEditRecommendations:_t,numRecommendationsToMake:ft,noSubscribeCta:We,style:Be},{newPhotoUrl:lt,newPhotoOrientation:Tt,newName:xt,newEmail:Gt,loading:an,sentLoginEmail:yt,newBio:ke,createPublication:Ve}){const Ne=lt||de||(0,C.getUserPhotoUrl)(q,{noFallbackToSignedOut:!0}),Fe=typeof De=="string"?De:`${this.isComplete()?"Update":"Create"} your profile`,Ue=xt||q&&q.name||"",be=typeof ke=="string"?ke:q&&q.bio||"",Ge=(nt,Oe)=>Q(this,null,function*(){Ve&&(yield this.createDefaultPublication(Ue,be)),Me(nt,Oe)});return(0,o.h)("div",{className:d()("profile-updater",ae),style:Be},(0,o.h)("h2",{className:"page-title profile-updater-title"},Fe),(Ne||fe||ye)&&(0,o.h)(_.Z,{photoUrl:Ne,newPhotoUrl:lt,newPhotoOrientation:Tt,updatePhoto:({newPhotoOrientation:nt,newPhotoUrl:Oe})=>this.setState({newPhotoOrientation:nt,newPhotoUrl:Oe}),onFileInputChanged:()=>this.onFileInputChanged()}),(0,o.h)(a.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:je,onSuccess:Ge,onError:nt=>this.onError(nt),noInlineErrors:!0,loading:an,autoLock:!0},(0,o.h)("label",{htmlFor:"name"},"Name (Required)"),(0,o.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:"Type your name\u2026",name:"name",id:"name",value:Ue,onInput:nt=>this.setState({newName:nt.target.value})}),!ut&&(0,o.h)("label",{htmlFor:"bio"},"Bio"),!ut&&(0,o.h)("textarea",{className:"profile-bio",placeholder:"Say something about yourself\u2026",name:"bio",id:"bio",value:be,onInput:nt=>this.setState({newBio:nt.target.value})}),ce&&(0,o.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),ce&&(0,o.h)("div",{className:"bio-guest-tip"},"Tip: this will be shown at the bottom of your guest post"),ce&&me&&(q==null?void 0:q.has_publication)&&me.length>1&&(0,o.h)(o.Fragment,null,(0,o.h)("label",null,"Publication to display"),(0,o.h)("div",{className:"primary-publication-selector"},me.map((nt,Oe)=>(0,o.h)("label",{className:"publication-selector-row",for:`primary-radio-${nt.id}`},(0,o.h)("input",{id:`primary-radio-${nt.id}`,type:"radio",name:"primary_publication_user_id",value:nt.id,checked:Oe===0}),(0,o.h)(P.Z,{pub:nt.publication,logo_url:(0,C.imginary)(nt.publication.logo_url,56,{height:56,crop:"fill"}),linkify:!1,size:28,title:nt.publication.name}),(0,o.h)("div",{className:"primary-publication-name"},nt.publication.name))))),(!q||q.is_magic)&&!ue&&!ce&&(0,o.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:Gt,onInput:nt=>this.setState({newEmail:nt.target.value})}),!We&&!(q&&(q.is_subscribed||q.is_free_subscribed)||ie)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," Subscribe to the newsletter"),ce&&!(q!=null&&q.has_publication)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:Ve,onChange:nt=>this.setState({createPublication:nt.target.checked})}),"Create a Substack publication for me"),(0,o.h)("input",{type:"hidden",name:"photo_url",value:Ne}),(0,o.h)("input",{type:"hidden",name:"user_id",value:(q==null?void 0:q.id)||""}),(0,o.h)("input",{type:"hidden",name:"needs_photo",value:!!fe}),(0,o.h)("input",{type:"hidden",name:"token",value:pe}),ge&&(0,o.h)("input",{type:"hidden",name:"complete",value:!0}),(0,o.h)("div",{id:"error-container"},yt&&(0,o.h)("div",{className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,o.h)("b",null,Gt)," with a link that you can use to sign in.")),(0,o.h)("p",{className:d()("left",{hidden:!(typeof oe=="number"&&z>0&&Ke)})},(0,v.pluralize)(oe||0,"subscription")," ",Ie?"are":"will be"," displayed on your profile (",(0,o.h)("a",{onClick:Ke},"edit"),")"),!Ie&&_t&&ft>0&&(0,o.h)("p",{className:"left second"},(0,v.pluralize)(ft||0,"recommendation")," will be made on your publication (",(0,o.h)("a",{onClick:_t},"edit"),")"),(0,o.h)("div",{className:"modal-ctas"},(0,o.h)("p",{className:d()("skip",{hidden:!Re})},(0,o.h)("a",{className:"small",onClick:Re||(()=>{})},"Skip for now")),(0,o.h)(w.Z,{className:"primary",type:"submit"},we||"Save"),ce&&(0,o.h)(o.Fragment,null,(0,o.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,o.h)("div",{className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,o.h)("a",{href:`${(0,C.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}class V extends l.p{renderChildren(){const ae=this.props,{ref:q,onBeforeClose:oe,contributor:z}=ae,ie=J(ae,["ref","onBeforeClose","contributor"]);return(0,o.h)("div",{className:"profile-updater-modal"},z?(0,o.h)(re,Z(j({},ie),{onSuccess:()=>this.close(!0)})):(0,o.h)(B,Z(j({},ie),{onSuccess:()=>this.close(!0)})))}}const re=({profile:le,user:ae,pub:q,onSuccess:oe,isOwnProfile:z})=>{const ie=(0,m.sO)(),[ue,de]=(0,m.eJ)(null),[fe,ye]=(0,m.eJ)(null),pe=ue||le&&le.photo_url,[we,Me]=(0,m.eJ)(le.name),[je,De]=(0,m.eJ)(le.bio),me=()=>Q(void 0,null,function*(){var ce;const ge=(ce=ie.current)!=null&&ce.files?ie.current.files[0]:null;if(ie.value="",!ge){de(null),ye(null);return}let Ie;try{Ie=yield(0,x.getDataUrlFromFile)(ge)}catch(Ke){console.error("Failed to get data URL from file:",Ke),alert(Ke.message);return}let Re;try{Re=yield(0,x.getExifOrientationFromFile)(ge)}catch(Ke){console.error("Failed to extract EXIF data from file:",Ke)}de(Ie),ye(Re)});return(0,o.h)("div",{className:"profile-updater"},(0,o.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,o.h)("div",{className:"profile-photo-wrap"},pe&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${ue||(0,C.imginary)(le.photo_url,144)})`,transform:(0,x.transformExifOrientation)(fe)}}),(0,o.h)(w.Z,{onClick:()=>{((0,x.isIE)()||(0,x.isFirefox)())&&ie.click()}},!pe&&"Set photo",(0,o.h)("input",{ref:ie,type:"file",name:"photo",accept:"image/*",onChange:()=>me()}))),(0,o.h)(a.ZP,{method:"patch",action:`/api/v1/publication/users/${le.id}`,onSuccess:oe,autoLock:!0},(0,o.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:we,onInput:ce=>Me(ce.target.value)}),(0,o.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:je,onInput:ce=>De(ce.target.value)}),(0,o.h)("input",{type:"hidden",name:"photo_url",value:pe}),(0,o.h)("span",{className:"notice"},(0,o.h)("p",null,(0,o.h)("b",null,"Note:")," This is a contributor profile, viewable by ",q.name,"'s readers."),z&&(0,o.h)("p",null,"You may also edit your"," ",(0,o.h)("a",{native:!0,href:`${(0,C.getReaderProfileUrl)(ae)}`},"personal profile"),".")),(0,o.h)(w.Z,{className:"primary",type:"submit"},"Update profile")))}},31533:(G,s,e)=>{"use strict";e.d(s,{E6:()=>ne,dJ:()=>le,fS:()=>te,oq:()=>ae,xl:()=>re});var o=e(6400),m=e(94184),f=e.n(m),d=e(12297),g=e.n(d),y=e(80569),C=e.n(y),v=e(82626),b=e(15045),x=e(83322),E=e(1824),O=e(3258),w=e(39419),_=e.n(w),a=e(51126),l=e(65919),P=e(60074),S=e(12650),M=e(96789),R=Object.defineProperty,N=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,W=(q,oe,z)=>oe in q?R(q,oe,{enumerable:!0,configurable:!0,writable:!0,value:z}):q[oe]=z,j=(q,oe)=>{for(var z in oe||(oe={}))T.call(oe,z)&&W(q,z,oe[z]);if(N)for(var z of N(oe))A.call(oe,z)&&W(q,z,oe[z]);return q},Z=(q,oe,z)=>(W(q,typeof oe!="symbol"?oe+"":oe,z),z),J=(q,oe,z)=>new Promise((ie,ue)=>{var de=pe=>{try{ye(z.next(pe))}catch(we){ue(we)}},fe=pe=>{try{ye(z.throw(pe))}catch(we){ue(we)}},ye=pe=>pe.done?ie(pe.value):Promise.resolve(pe.value).then(de,fe);ye((z=z.apply(q,oe)).next())});const Q="\u2764",ne=(q,oe,z)=>{const{reaction:ie,reactions:ue,reactor_names:de}=B(q,oe,z);V(oe,ie,ue,de)},te=(q,oe)=>B(q,oe,!oe.reaction),B=(q,oe,z)=>{let{reaction:ie,reactions:ue={},reactor_names:de=[]}=oe;return ue=j({},ue),de=[...de],z&&!ie?(ie=Q,ue[ie]=ue[ie]?ue[ie]+1:1,q&&q.is_public_admin&&de.push(q.name||"author")):!z&&ie&&(ue[Q]=ue[Q]?ue[Q]-1:0,q&&q.is_public_admin&&(de=de.filter(fe=>fe!==(q.name||"author"))),ie=null),{reaction:ie,reactions:ue,reactor_names:de}},V=(q,oe,z,ie)=>{q.reaction=oe,q.reactions=z,q.reactor_names=ie};function re(q,oe,z,ie){const ue=(0,b.pathWithQuery)(`/api/v1/${oe?"comment":"post"}/${q.id}/reaction`,{token:ie});return z?C().post(ue).send({reaction:Q}):C().delete(ue)}class le extends o.Component{constructor(){super(...arguments),Z(this,"state",{includeModal:!1}),Z(this,"modalRef",(0,o.createRef)(null)),Z(this,"react",oe=>J(this,null,function*(){if(this.props.isStatic)return;oe&&oe.stopPropagation();const ie=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(ie),this.props.noSelfUpdate)return;const ue=yield(0,w.stateLock)(this,"locked",(de,fe)=>J(this,null,function*(){const ye=fe.comment||fe.post,pe=re(ye,!!fe.comment,ie,fe.token),{reaction:we,reactions:Me,reactor_names:je}=te(fe.user,ye);this.notifyParent({reactions:Me,reaction:we,reactor_names:je});let De;try{yield pe}catch(me){De=me,this.notifyParent(ye)}return{error:De,reaction:we}}));return ue&&ue.error&&(ue.error.response&&ue.error.response.statusCode===401?yield this.reactionRejected(ue.reaction):alert((0,w.getNetworkErrorMessage)(ue.error))),!!ue&&!ue.error}))}notifyParent({reaction:oe,reactions:z,reactor_names:ie}){const ue=j({},this.props.post),de=this.props.comment&&j({},this.props.comment);V(de||ue,oe,z,ie),this.props.onChange&&this.props.onChange({post:ue,comment:de})}reactionRejected(oe){return J(this,null,function*(){(0,O.j)(O.FP.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!oe}),yield new Promise(z=>{this.state.includeModal?this.modalRef.current.open(z):this.setState({includeModal:!0},()=>this.modalRef.current.open(z))})})}render({className:oe,user:z,pub:ie,comment:ue,height:de,isStatic:fe,post:ye,buttonStyle:pe,hideReactionCount:we,countInParenthesesStyle:Me}){const je=ue||ye,De=je.reaction,me=je.reactions||{},ce=g()(Object.values(me));let ge;return ye&&ye.reaction_url_override?ge=ye.reaction_url_override:fe?ge=v.Substitutions.REACTION_URL:ge="javascript:void(0)",(0,o.h)(l.xv,{as:"span",decoration:"hover-underline",color:De?"accent-red":"pub-secondary-text",className:oe},this.props.render?this.props.render({liked:De,numReactions:ce>0?(0,x.numberToString)(ce):null,onClick:Ie=>{this.react(Ie)}}):(0,o.h)("a",{href:ge,className:f()("like-button",{button:pe,"post-meta-button":pe,liked:De}),onClick:Ie=>this.react(Ie)},(0,o.h)(a.hs,{gap:6,alignItems:"center",className:oe},fe?(0,o.h)(S.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:de,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,o.h)(a.hs,{className:"reaction-container"},(0,o.h)(S.Z,{className:"animation"}),!De&&(0,o.h)(S.Z,{strokeWidth:2,height:de,fill:"transparent",stroke:"var(--color-secondary-themed)"}),De&&(0,o.h)(S.Z,{height:de,strokeWidth:2})),Me?(0,o.h)(l.xv.Meta,{color:De?"accent-red":"pub-secondary-text",className:"like-count"},De?"Liked":"Like",!we&&ce>0?` (${(0,x.numberToString)(ce)})`:""):!we&&ce>0?(0,o.h)("span",{className:"like-count"},(0,x.numberToString)(ce)):pe?(0,o.h)("span",{className:"like-count"},"Like"):null)),!fe&&this.state.includeModal&&(0,o.h)(ae,{modalRef:this.modalRef,user:z,pub:ie,comment:ue,react:this.react}))}}function ae({comment:q,pub:oe,user:z,modalRef:ie,onClose:ue,react:de}){return(0,o.h)(M.Z,{className:"modal-free-signup",ref:ie,onClose:ue},(0,o.h)("h2",{className:"page-title"},"Subscribe to like this ",q?"comment":"post"),(0,o.h)(P.Z,{user:z,pub:oe,source:"like_button",onSuccess:fe=>J(this,null,function*(){const ye=fe&&fe.body&&fe.body.email;fe&&fe.body&&fe.body.prompt_to_login||!(yield de())?window.location.href=(0,b.getSigninUrl)({for_pub:oe.subdomain,email:ye}):ie!=null&&ie.current&&((0,E.a)({freeSignup:!0,freeSignupEmail:ye}),yield ie.current.close())})}))}},49715:(G,s,e)=>{"use strict";e.d(s,{J:()=>le});var o=e(6400),m=e(30396),f=e(80569),d=e.n(f),g=e(82626),y=e(85928),C=e.n(y),v=e(6385),b=e(15045),x=e(83322),E=e(66399),O=e(63270),w=e(3258),_=e(39419),a=e(17685),l=e(51126),P=e(62246),S=e(65919),M=e(75425),R=e(96427),N=e(81671),T=e(61152);const A={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var W=Object.defineProperty,j=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Q=(ae,q,oe)=>q in ae?W(ae,q,{enumerable:!0,configurable:!0,writable:!0,value:oe}):ae[q]=oe,ne=(ae,q)=>{for(var oe in q||(q={}))Z.call(q,oe)&&Q(ae,oe,q[oe]);if(j)for(var oe of j(q))J.call(q,oe)&&Q(ae,oe,q[oe]);return ae},te=(ae,q,oe)=>new Promise((z,ie)=>{var ue=ye=>{try{fe(oe.next(ye))}catch(pe){ie(pe)}},de=ye=>{try{fe(oe.throw(ye))}catch(pe){ie(pe)}},fe=ye=>ye.done?z(ye.value):Promise.resolve(ye.value).then(ue,de);fe((oe=oe.apply(ae,q)).next())});const B={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},V={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},re={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},le=({pub:ae,post:q,user:oe,open:z,setOpen:ie,placeholderText:ue=""})=>{const de=C()().add(2,"minutes"),[fe,ye]=(0,m.eJ)(null),[pe,we]=(0,m.eJ)(ue),[Me,je]=(0,m.eJ)(!1),[De,me]=(0,m.eJ)(!0),[ce,ge]=(0,m.eJ)(B.PREAMBLE),[Ie,Re]=(0,m.eJ)(null),[Ke,ut]=(0,m.eJ)(null),[_t,ft]=(0,m.eJ)(!0),[We,Be]=(0,m.eJ)(!0),[lt,Tt]=(0,m.eJ)(!1),[xt,Gt]=(0,m.eJ)(C()().add(1,"day").toDate()),[an,yt]=(0,m.eJ)(""),{getConfigFor:ke}=(0,O.xR)(),Ve={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[Ke],Ne=_t?"Send":"Publish",Fe=lt&&xt?C()(xt).max(de).fromNow():"",be=`${Ne} cross-post ${_t?Ve:""} ${Fe}`,Ge=fe==null?void 0:fe.find(Y=>Y.id===Ie),nt=(0,M.pm)();(0,m.d4)(()=>{z&&!fe&&De&&(()=>te(void 0,null,function*(){var he;try{const Te=yield d().get("/api/v1/restack/restackable-pubs"),He=((he=Te==null?void 0:Te.body)==null?void 0:he.publications)||[];ye(He),me(!1),He.length>0&&(Re(He[0].id),ut("everyone"))}catch(Te){console.error("Failed to load user profile for restacking: ",Te)}}))()},[z,oe,De,me,fe,ye]),(0,m.d4)(()=>{z&&fe&&fe.length===0&&!De&&(0,_.redirect)((0,b.getStartPublishingUrl)())},[z,fe,De]);const Oe=(Y,he)=>{ie(!z,he),ge(B.PREAMBLE),yt(null),me(!1),he&&(we(""),(0,w.j)(w.FP.RESTACK_POST_SUBMITTED,{restacked_publication_id:ae.id,restacked_post_id:q.id,restacking_user_id:oe.id,restacking_publication_id:Ge.id,restacking_blurb:pe}),nt.popToast(Te=>(0,o.h)(M.FN,ne({text:lt?`This post is scheduled to cross-post ${Fe}`:"This post was cross-posted to your subscribers"},Te)))),(0,w.j)(w.FP.CROSS_POST_MODAL_CLOSED,{didRestack:he})},K=()=>te(void 0,null,function*(){(0,w.j)(w.FP.CROSS_POST_MODAL_SUBMIT_CLICKED),me(!0);try{if(lt){const Y=C()(xt).max(de).toDate();yield d().post(`/api/v1/restack/${q.id}/schedule`).send({audience:Ke,restackingPubId:Ge.id,introText:pe,sendEmail:_t,publishToWeb:We,scheduledAt:Y})}else yield d().post(`/api/v1/restack/${q.id}`).send({audience:Ke,restackingPubId:Ge.id,introText:pe,sendEmail:_t,publishToWeb:We});(0,w.j)(w.FP.CROSS_POST_MODAL_SUBMITTED),Oe({},!0);return}catch(Y){if((0,w.j)(w.FP.CROSS_POST_MODAL_SUBMIT_FAILED),Y instanceof TypeError)throw yt("An unknown error ocurred. This post was not recommended."),me(!1),Y;yt((0,_.getNetworkErrorMessage)(Y,"This post could not be recommended.")),me(!1)}});return(0,o.h)(P.u_,{isOpen:z,onClose:Oe},(0,o.h)(P.xB,{includeClose:!0,onClose:Oe,title:"Cross-post to your Substack"}),(0,o.h)("div",{"data-testid":"modal-ref-id",className:A.modalWrap},ce===B.PREAMBLE?(0,o.h)(l.tu,{gap:24,paddingTop:12},(0,o.h)(l.tu,{gap:16},(0,o.h)("textarea",ne({className:A.textarea,placeholder:"Say why this post is worth reading...",onChange:Y=>{Me||(je(!0),(0,w.j)(w.FP.CROSS_POST_MODAL_TYPING_STARTED)),we(Y.target.value)},value:pe,maxLength:"800"},T.J)),(0,o.h)(l.tu,{gap:12,className:A.postPreview,paddingX:16,paddingY:16},(0,o.h)(l.gq,{alignItems:"center",gap:8},(0,o.h)(N.Z,{pub:ae,size:24,logo_url:ae.logo_url,linkify:!1,className:A.pubIcon,noMargin:!0}),(0,o.h)(S.xv.B4,{color:"primary",weight:"semibold",size:14},ae.name)),(0,o.h)(l.tu,{gap:4},(0,o.h)(S.xv.H4,{weight:"semibold"},q.title),(0,o.h)(S.xv.B3,{color:"secondary"},(0,x.formatEllipsis)(((q.truncated_body_text||"").replace(g.Substitutions.PUBLICATION_NAME,ae.name)||q.subtitle||"").substring(0,100)))))),an&&(0,o.h)(S.xv.B4,{color:"accent-red"},an),(0,o.h)(a.zx,{priority:"primary-theme",onClick:()=>{if((0,w.j)(w.FP.CROSS_POST_MODAL_CONTINUE_CLICKED),!pe){yt("Please write something to your subscribers to continue"),(0,w.j)(w.FP.CROSS_POST_MODAL_CONTINUE_FAILED);return}yt(""),ge(B.AUDIENCE_SELECTION),(0,w.j)(w.FP.CROSS_POST_MODAL_CONTINUED)},disabled:De||!pe,className:"restack-modal-button "},"Continue")):(0,o.h)(l.tu,{gap:24,paddingTop:12},(0,o.h)(l.tu,{gap:20},(0,o.h)(l.tu,{gap:8},(0,o.h)(S.xv.B3,null,"Post to"),(0,o.h)(R.P,{value:Ge.id,onChange:Y=>{ut("everyone"),Re(Number(Y))},className:A.select},fe.map(Y=>(0,o.h)("option",{value:Y.id},Y.name)))),(0,o.h)(l.tu,{gap:8},(0,o.h)(S.xv.B3,null,"Send to"),(0,o.h)(R.P,{value:Ke,onChange:Y=>ut(Y),className:A.select},((Ge==null?void 0:Ge.payments_state)==="enabled"?(0,v.getAudiencesForPublicListing)():["everyone"]).map(Y=>(0,o.h)("option",{value:Y},V[Y]))))),(0,o.h)(l.tu,{gap:12},(0,o.h)(S.xv.B3,null,"Delivery"),(0,o.h)(E.ji,{value:_t,label:"Send cross-post via email",onChange:Y=>ft(Y)}),(0,o.h)(E.ji,{value:We,label:"Publish cross-post to web",onChange:Y=>Be(Y)}),(0,o.h)(E.ji,{value:lt,label:"Schedule time to publish cross-post",onChange:Y=>Tt(Y),contentBelow:(0,o.h)(E.HZ,{expanded:lt},(0,o.h)(l.tu,{paddingTop:8},(0,o.h)(E.Tz,{value:xt!=null?xt:new Date,max:C()().add(92,"days").toDate(),onChange:Y=>{Gt(new Date(Y.currentTarget.value))}})))})),an&&(0,o.h)(S.xv.B4,{color:"accent-red"},an),(0,o.h)(a.zx,{priority:!_t&&!We?"secondary":"primary-theme",onClick:K,disabled:De||!_t&&!We,className:"restack-modal-button "},be))))}},69427:(G,s,e)=>{"use strict";e.d(s,{ZP:()=>we});var o=e(6400),m=e(98661),f=e(91004),d=e(15045),g=e(4190),y=e(3258),C=e(58884),v=e(39419),b=e.n(v),x=e(51126),E=e(76235),O=e(65919),w=e(7922),_=e(46595),a=e(51889),l=e(54813),P=e(64484),S=e(73416),M=e(21302),R=e(65665),N=e(7775),T=e(74957),A=e(41874),W=e(95950),j=e(96789),Z=e(31471),J=e(38441),Q=Object.defineProperty,ne=Object.defineProperties,te=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,V=Object.getPrototypeOf,re=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,ae=Reflect.get,q=(je,De,me)=>De in je?Q(je,De,{enumerable:!0,configurable:!0,writable:!0,value:me}):je[De]=me,oe=(je,De)=>{for(var me in De||(De={}))re.call(De,me)&&q(je,me,De[me]);if(B)for(var me of B(De))le.call(De,me)&&q(je,me,De[me]);return je},z=(je,De)=>ne(je,te(De)),ie=(je,De,me)=>(q(je,typeof De!="symbol"?De+"":De,me),me),ue=(je,De,me)=>ae(V(je),me,De),de=(je,De,me)=>new Promise((ce,ge)=>{var Ie=ut=>{try{Ke(me.next(ut))}catch(_t){ge(_t)}},Re=ut=>{try{Ke(me.throw(ut))}catch(_t){ge(_t)}},Ke=ut=>ut.done?ce(ut.value):Promise.resolve(ut.value).then(Ie,Re);Ke((me=me.apply(je,De)).next())});const fe=(0,m.forwardRef)((je,De)=>(0,o.h)(w.Z,z(oe({},je),{className:"share-action",forwardedRef:De}),(0,o.h)("div",{className:"action-icon"},(0,o.h)(_.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Other"))),ye=({pub:je,post:De,profile:me})=>{let ce=typeof document!="undefined"?document.title:"",ge="",Ie="";const Re=(0,d.getBaseUrl)(je).replace(/^https?:\/\//,"").replace(/\/$/);return De?(ce=De.title||De.draft_title,ge=Re,Ie=De.cover_image||null):je?(ce=je.name,ge=Re,Ie=je.logo_url):me&&(ce=me.name,ge=me.bio,Ie=(0,d.getUserPhotoUrl)(me)),(0,o.h)(x.gq,{className:`social-preview-box ${De?"post":je?"pub":"user"}`,radius:8,border:"detail",padding:8},(0,o.h)("div",{className:"social-image-box"},(De||je)&&Ie&&(0,o.h)(Z.e,{className:"social-image",src:Ie,alt:"",maxWidth:120,loading:"lazy"}),!De&&!je&&Ie&&(0,o.h)(J.cy,{className:"social-image",imageUrl:Ie,size:52}),!Ie&&(0,o.h)(l.Z,{className:"social-image-default"})),(0,o.h)(x.tu,{paddingLeft:12,paddingY:8},(0,o.h)(O.xv.H4,null,ce),(0,o.h)(O.xv.B4,{color:"secondary"},ge)))},pe=class extends j.p{constructor(je,De){super(je,De),this.noFullscreen=!0}open(){return de(this,null,function*(){const je="direct",De={title:(0,f.B8)(oe({},this.props)),url:(0,f.O1)(je,oe({medium:this.state.medium},this.props))};if((0,v.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(De))try{yield navigator.share(De),(0,y.j)(y.FP.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"}),(0,C.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(me){if(me.name==="AbortError")return;(0,y.j)(y.FP.NATIVE_SHARE_FAILED,{errorName:me.name,errorMessage:me.message})}ue(pe.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){this.props.source==="share-dialog-experiment"&&this.context.exposeExperiment("share_dialog_modal_or_dropdown"),(0,y.j)(y.FP.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}onClose(){this.setState({copied:!1,utm_campaign:null})}renderChildren({post:je,pub:De,profile:me}){const ce=je?"post":De?"publication":me?"profile":null,ge=ce?`Share this ${ce}`:"Share";return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"share-dialog-title"},ge),(0,o.h)(x.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(je||De||me)&&(0,o.h)(ye,{post:je,pub:De,profile:me}),(0,o.h)(Me,z(oe({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,f.B8)(oe({},this.props)),shareUrl:(0,f.O1)(null,oe({medium:this.state.medium},this.props)),variant:this.context.getExperimentVariant("share_modal_platforms")}))))}};let we=pe;ie(we,"contextType",g.kx);class Me extends o.Component{maybeOnChange(){const{onChange:De}=this.props;De&&De()}render({}){const De=this.props.variant||"control";return(0,o.h)(x.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,o.h)(w.Z,{onClick:()=>{(0,f.Ui)(oe({},this.props)),this.maybeOnChange()},className:"share-action"},(0,o.h)("div",{className:"action-icon"},(0,o.h)(N.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Copy link")),(0,o.h)(w.Z,{className:"share-action",onClick:()=>{(0,f.Po)(oe({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(A.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Facebook")),(0,o.h)(w.Z,{className:"share-action",onClick:()=>{(0,f.WZ)(oe({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(T.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Email")),(0,o.h)(w.Z,{className:"share-action",onClick:()=>{(0,f.BZ)(oe({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(S.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Notes")),(0,o.h)(E.v2,{layerOptions:{triggerOffset:-20},className:"share-dialog-network-menu",trigger:(0,o.h)(fe,null),onOpen:()=>{(0,y.j)(y.FP.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}},(0,o.h)(E.sN,{onClick:()=>{(0,f.lc)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(P.Z,null)},"Linkedin"),(0,o.h)(E.sN,{onClick:()=>{(0,f.sn)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(R.Z,null)},"Reddit"),(0,o.h)(E.sN,{onClick:()=>{(0,f.b6)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(a.Z,null)},"Hacker News"),(0,o.h)(E.sN,{onClick:()=>{(0,f.Vn)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(M.Z,null)},"Pinterest"),(0,o.h)(E.sN,{onClick:()=>{(0,f.Wn)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(W.Z,null)},"Twitter")))}}},61152:(G,s,e)=>{"use strict";e.d(s,{J:()=>w,Z:()=>_});var o=e(6400),m=e(83322),f=e(39419),d=e.n(f),g=Object.defineProperty,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?g(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,x=(a,l)=>{for(var P in l||(l={}))C.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>{var P={};for(var S in a)C.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P},O=(a,l,P)=>(b(a,typeof l!="symbol"?l+"":l,P),P);const w={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class _ extends o.Component{constructor(){super(...arguments),O(this,"onWindowResize",l=>{this.setAutoHeight()}),O(this,"onKeyDown",l=>(this.props.inline&&l.key==="Enter"&&l.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(l))),O(this,"onInput",l=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(l))),O(this,"onBlur",()=>{var l;if(this.props.inline){const P=(l=this.base)==null?void 0:l.value,S=(0,m.sanitizeInlineText)(P);P&&P!==S&&(this.base.value=S,this.props.onInput&&this.props.onInput(event))}})}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(l,P,S){l.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,f.stateTransaction)(this,l=>{this.base.style.height="";const P=window.getComputedStyle(this.base),S=parseInt(P.getPropertyValue("height")),M=parseInt(P.getPropertyValue("padding-top"))+parseInt(P.getPropertyValue("padding-bottom")),R=parseInt(P.getPropertyValue("line-height")),N=Math.min(Math.round((this.base.scrollHeight-M)/R),this.props.maxLines||1/0);this.base.style.height=`${Math.max(N*R+M,S)}px`,this.base.style.height!==l.height&&this.setState({height:this.base.style.height})}))}render(l,{height:P}){var S=l,{children:M,ref:R,style:N,onKeyDown:T,onInput:A,inline:W,autoHeight:j,maxLines:Z}=S,J=E(S,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return j&&(N=Object.assign({},N,{height:P})),(0,o.h)("textarea",x(x({style:N,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},w),J),M)}}},4605:(G,s,e)=>{"use strict";e.d(s,{ZP:()=>a,g1:()=>O});var o=e(6400),m=e(30396),f=e(80569),d=e.n(f),g=e(85928),y=e.n(g),C=e(83322),v=e(3258),b=e(66141);const x=(l,{timeout:P=5e3,className:S="",dismissable:M=!1,beforeDismiss:R=null}={},N=document.body)=>{const T=document.createElement("div");T.setAttribute("id","toast"),T.setAttribute("role","alert"),S&&T.classList.add(S),N.appendChild(T);const A=()=>{R&&R(),T.classList.remove("in"),setTimeout(()=>{T.remove()},500)};(0,o.render)([(0,o.h)("p",null,l),M&&(0,o.h)("a",{className:"dismiss",onClick:A},"Dismiss")],T),setTimeout(()=>{T.classList.add("in")}),!M&&setTimeout(A,P)},E=({children:l,className:P,dismissKey:S,dismissDurationInSeconds:M,beforeDismiss:R,container:N})=>{const[T,A]=(0,b.Z)(S,M,R);if(!T)return x(l,{className:P,beforeDismiss:A,dismissable:!0},N)},O=({user:l,pub:P,container:S})=>{if(!(!l||!P||!l.is_subscribed))return(0,o.h)(_,{pub:P,container:S})},w=l=>{if(l&&l.cardExpiresAt){const P=y()(l.expiry).subtract(C.GRACE_PERIOD_DAYS,"day"),S=y()(l.cardExpiresAt),M=y()().add(12,"day");return S.isBefore(P)&&P.isBefore(M)}return!1},_=({pub:l,container:P})=>{const[S,M]=(0,m.eJ)(null);if((0,m.d4)(()=>{d().get("/api/v1/subscription").then(R=>M(R.body)).catch(R=>{console.error("Failed to fetch subscription data: ",R)})},[]),w(S))return(0,o.h)(E,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*C.WEEK_IN_SECONDS,beforeDismiss:()=>{(0,v.j)(v.FP.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:P},"Your credit card is expiring soon."," ",(0,o.h)("a",{href:"/account/billing",native:!0,onClick:()=>{(0,v.j)(v.FP.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${l.name}`,".")},a=x},71708:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(30396);const m=({root:f=null,threshold:d=0,rootMargin:g}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[y,C]=(0,o.eJ)(null),[v,b]=(0,o.eJ)(null),x=(0,o.sO)(new IntersectionObserver(([E])=>C(E),{root:f,threshold:d,rootMargin:g}));return(0,o.d4)(()=>{var E;const O=(E=v==null?void 0:v.base)!=null&&E.addEventListener?v.base:v!=null&&v.addEventListener?v:null,{current:w}=x;return w.disconnect(),O&&w.observe(O),()=>w.disconnect()},[v]),[b,y]}},38441:(G,s,e)=>{"use strict";e.d(s,{ZP:()=>W,cy:()=>te,m1:()=>j});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(15045),y=e(3258),C=e(11688),v=e(32127),b=e(1782),x=e(36377),E=e(89867),O=e(34085),w=e(31471),_=e(71708),a=e(84017),l=Object.defineProperty,P=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,R=(B,V,re)=>V in B?l(B,V,{enumerable:!0,configurable:!0,writable:!0,value:re}):B[V]=re,N=(B,V)=>{for(var re in V||(V={}))S.call(V,re)&&R(B,re,V[re]);if(P)for(var re of P(V))M.call(V,re)&&R(B,re,V[re]);return B},T=(B,V,re)=>(R(B,typeof V!="symbol"?V+"":V,re),re);const A=33;class W extends o.Component{constructor(){super(...arguments),T(this,"onClick",V=>{if(this.props.onClick)this.props.onClick(V);else if(this.props.modalProfile)V.preventDefault(),V.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,y.j)(y.FP.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1})}static getSubject(V){return V?V.author_id?{id:V.author_id,name:V.author_name,photo_url:(0,g.getUserPhotoUrl)(V,{preferAuthorPhoto:!0}),publications:V.subdomain?[V]:[]}:V.user_id?{id:V.user_id,name:V.name,photo_url:(0,g.getUserPhotoUrl)(V),publications:[]}:{id:V.id,name:V.name,photo_url:(0,g.getUserPhotoUrl)(V),publications:[]}:{id:null,name:null,photo_url:g.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(V){return!!W.getSubject(V).photo_url}isSelf(){return this.props.user&&this.props.user.id===W.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.isAuthor?(0,g.getProfileUrl)(W.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):(0,g.getReaderProfileUrl)(W.getSubject(this.props.subject))}onBeforeProfileClose(V){if(V)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:V,pub:re,user:le,badge:ae,freeSignup:q,freeSignupEmail:oe,token:z,isStatic:ie,size:ue,modalProfile:de,isBanned:fe,lazy:ye,tooltip:pe,noLink:we,className:Me}){ue=ue||A;const je=W.getSubject(V);return(0,o.h)("div",{className:d()("user-head",{banned:fe},Me)},we?(0,o.h)(j,{photo_url:je.photo_url,size:ue,isStatic:ie,isBanned:fe,lazy:ye,badge:ae,tooltip:pe,className:"default-pointer"}):(0,o.h)("a",{href:ie||!de?this.profileUrl():null,onClick:this.onClick},(0,o.h)(j,{photo_url:je.photo_url,size:ue,isStatic:ie,isBanned:fe,lazy:ye,badge:ae,tooltip:pe})),this.props.modalProfile&&!ie&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?(0,o.h)(O.EB,{ref:De=>this.profile=De,user:le,freeSignup:q,freeSignupEmail:oe,needsPhoto:!0,token:z,onBeforeClose:De=>this.onBeforeProfileClose(De)}):(0,o.h)(a.FI,{ref:De=>this.profile=De,profileUser:je,pub:re,isBanned:fe})))}}const j=({photo_url:B,size:V,isStatic:re,isBanned:le,lazy:ae,badge:q,tooltip:oe,style:z,expandable:ie,children:ue,className:de})=>{const[fe,ye]=(0,m.eJ)(!1),pe=!B&&!!ue,we={founding:x.Z,author:v.Z}[q];return(0,o.h)("div",{onClick:()=>{ie&&ye(!0)},className:d()("profile-img-wrap",de)},pe?ue:ae?(0,o.h)(J,N({},{photo_url:B,size:V,isStatic:re,badge:q,style:z})):(0,o.h)(Q,N({},{photo_url:B,size:V,isStatic:re,badge:q,style:z})),we&&(0,o.h)("div",{className:"profile-img-badge",title:oe},(0,o.h)(we,{height:14,width:14,stroke:"var(--print_on_pop)",title:oe})),le&&(0,o.h)(b.Z,null),(0,o.h)(C.cr,{module:"./ImageViewerModal",resolve:Me=>Me.ImageViewerModal,onRequest:()=>Promise.all([e.e(28),e.e(661)]).then(e.bind(e,55661)),showModal:fe,modalContent:[{src:pe?ue:B,attrs:{src:pe?ue:B}}],onClose:()=>{ye(!1)},step:0,includeDownloadButton:!1}))},Z=(B,V)=>(0,g.imginary)(B,V*2,{height:V*2,crop:"fill"}),J=({photo_url:B,size:V,isStatic:re,badge:le,style:ae})=>{const[q,oe]=(0,_.Z)({}),z=!oe||oe.isIntersecting?B:g.DEFAULT_PHOTO_URL;return(0,o.h)(ne,{url:Z(z,V),size:V,ref:q,badge:le,isStatic:re,style:ae})},Q=({photo_url:B,size:V,isStatic:re,badge:le,style:ae})=>(0,o.h)(ne,{url:Z(B,V),size:V,badge:le,isStatic:re,style:ae}),ne=({url:B,size:V,isStatic:re,ref:le,badge:ae,className:q})=>re?(0,o.h)(E.Z,{className:q,src:(0,g.imginary)(B,V*2,{height:V*2,crop:"fill"}),ref:le,height:V,width:V,alt:ae||""}):(0,o.h)(w.e,{className:q,src:B,imageProps:{height:V*2,crop:"fill"},maxWidth:V*2,ref:le,alt:ae||""}),te=({imageUrl:B,alt:V,size:re,className:le})=>(0,o.h)(ne,{className:`user-photo ${le||""}`,url:B,badge:V,size:re})},84017:(G,s,e)=>{"use strict";e.d(s,{FI:()=>T,fi:()=>W});var o=e(6400),m=e(94184),f=e.n(m),d=e(80569),g=e.n(d),y=e(85928),C=e.n(y),v=e(15045),b=e(83322),x=e(1782),E=e(96789),O=Object.defineProperty,w=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(j,Z,J)=>Z in j?O(j,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):j[Z]=J,P=(j,Z)=>{for(var J in Z||(Z={}))_.call(Z,J)&&l(j,J,Z[J]);if(w)for(var J of w(Z))a.call(Z,J)&&l(j,J,Z[J]);return j},S=(j,Z)=>{var J={};for(var Q in j)_.call(j,Q)&&Z.indexOf(Q)<0&&(J[Q]=j[Q]);if(j!=null&&w)for(var Q of w(j))Z.indexOf(Q)<0&&a.call(j,Q)&&(J[Q]=j[Q]);return J},M=(j,Z,J)=>new Promise((Q,ne)=>{var te=re=>{try{V(J.next(re))}catch(le){ne(le)}},B=re=>{try{V(J.throw(re))}catch(le){ne(le)}},V=re=>re.done?Q(re.value):Promise.resolve(re.value).then(te,B);V((J=J.apply(j,Z)).next())});const R=92;class N extends o.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(Z){!this.props.manualLoad&&Z.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return M(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const Z=yield g().get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:Z.body})}catch(Z){console.error("Failed to load profile:",Z)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:Z}){var J;const Q=((J=this.getProfileUser().publications)==null?void 0:J.filter(ne=>ne.id!==Z.id))||[];return(0,o.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},(0,o.h)(W,{photo_url:(0,v.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:Z}),(0,o.h)("div",{className:"user-profile-name"},this.getProfileUser().name),(0,o.h)("div",{className:"user-profile-status"},this.getProfileUser().id===Z.author_id?(0,o.h)("b",null,"Author of ",Z.name):this.getProfileUser().subscribed_at?`Subscriber to ${Z.name} since ${C()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),Q.length>0&&(0,o.h)("div",{className:"user-profile-publication"},"Author of"," ",(0,b.oxfordComma)(Q.map(ne=>(0,o.h)("a",{href:ne.base_url,native:!0},ne.name)))),this.props.isBanned&&(0,o.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",Z.name))}}class T extends E.p{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const Z=this.props,{ref:J}=Z,Q=S(Z,["ref"]);return(0,o.h)("div",{className:"user-profile-modal"},(0,o.h)(N,P({ref:ne=>this.profile=ne,manualLoad:!0},Q)))}}const A=({children:j,email:Z,pub:J})=>(0,o.h)("a",{target:"_blank",href:(0,v.getSubscriberDetailsUrl)(J,Z)},j),W=({photo_url:j,size:Z=R,banned:J=!1,email:Q="",className:ne="",pub:te=null,children:B=void 0})=>{const V=(0,o.h)("img",{className:"user-profile-head",height:Z,width:Z,src:(0,v.imginary)(j,Z*2,{height:Z*2,crop:"fill"})});return(0,o.h)("div",{className:f()(ne,"profile-image-wrapper")},Q&&te?(0,o.h)(A,{email:Q,pub:te},V):V,J&&(0,o.h)(x.Z,{height:Z}),B)}},1824:(G,s,e)=>{"use strict";e.d(s,{Z:()=>a,a:()=>l});var o=e(98661),m=e(87367),f=e(6400),d=e(36808),g=e.n(d),y=e(15045),C=e(3258),v=e(39419),b=e.n(v),x=e(37888),E=e(33291);e(14369);const O="entry",w="ajs_anonymous_id";let _;function a(T){var A,W;if(_)throw new Error("Cannot re-render the things");_=T,window._preloads&&(window._preloads.original_url=window.location.href),(0,C.uF)(),(0,x.j0)((W=(A=window._preloads)==null?void 0:A.user)==null?void 0:W.id),R(),P(),S(),M(),N()}function l(T){let A=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const W in T)(typeof T[W]=="object"&&T[W]!==null||T[W]!==window._preloads[W])&&(window._preloads[W]=T[W],A=!0);A&&M()}function P(){const T=(0,y.parseQuery)(window.location.href);if(!T.token&&!T.lli||!window.history.replaceState)return;delete T.token,delete T.lli;const A=`${(0,y.pathWithQuery)(window.location.pathname,T)}${window.location.hash}`;window.history.replaceState({},document.title,A)}function S(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const T=window.history.pushState;history.pushState=function(A,W,j){const Z=T.apply(history,arguments);return j.indexOf("#")===-1&&window.scrollTo(0,0),Z}}function M(){if(!_)return;const T=document.getElementById(O);(0,f.render)((0,f.h)(_,{initialData:window._preloads}),T||document.body)}function R(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let T;try{T=JSON.parse(d.get(w))}catch(A){}T||(T=(0,v.uuidV4)(),d.set(w,JSON.stringify(T),{expires:365})),window._analyticsConfig.anonymousId=T}}function N(){var T;!(console!=null&&console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||(T=window._preloads.user)!=null&&T.is_global_admin||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},8826:G=>{"use strict";G.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,o,m=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([o,m]),this}once(e,o){return this.on(e,o,!0)}off(e,o){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].filter(m=>m[0]!==o))}emit(e,o){const m=this.callbacks[e];if(m){for(const[f,d]of m)if(d&&this.off(e,f),f(o)===!1)return!1;return!0}}}},63503:(G,s,e)=>{"use strict";e.d(s,{Z:()=>f});var o=e(30396);const f=(d,g)=>{const y=(0,o.sO)();(0,o.d4)(()=>{y.current=d},[d]),(0,o.d4)(()=>{function C(){y.current()}if(g!==null){const v=setInterval(C,g);return()=>clearInterval(v)}},[g])}},89018:G=>{"use strict";G.exports={substack_color:"#FF6719",subscriber_green:"#318631",lifetime_lavender:"#792BA9",comped_salmon:"#E07F69",gifted_ocean:"#8BD1E0",free_trial_yellow:"#F7ED92",new_paid_cerulean:"#39a5f7",upgrades_teal:"#008080",downgrades_red:"#E06666",expirations_orange:"#FFB347",chart_line_color:"#444444",chart_grid_color:"#F4F4F4",chart_axis_label_color:"#AAAAAA",share_button_size_px:18,tweet_icon_size_px:48}},72496:(G,s,e)=>{"use strict";e.d(s,{UE:()=>b,ip:()=>v,xU:()=>x,xY:()=>C});var o=e(79546),m=e.n(o);const f="substack_ref_url",d="substack_ref";let g,y;typeof window!="undefined"&&window.location&&window.location.href&&(g=window.location.href,y=document.referrer,m().get(f)||(m().set(f,g),m().set(d,y)));const C=m().get(f),v=m().get(d),b=g,x=y},58884:(G,s,e)=>{"use strict";var o;const m=e(79546);s.mM=(f,d=null)=>typeof window!="undefined"?m.get(f,d):d,s.ex=(f,d)=>{if(typeof window!="undefined")return m.set(f,d)},o=f=>{if(typeof window!="undefined")return m.remove(f)}},39419:function(G,s,e){"use strict";var o=Object.defineProperty,m=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(z,ie,ue)=>ie in z?o(z,ie,{enumerable:!0,configurable:!0,writable:!0,value:ue}):z[ie]=ue,v=(z,ie)=>{for(var ue in ie||(ie={}))g.call(ie,ue)&&C(z,ue,ie[ue]);if(d)for(var ue of d(ie))y.call(ie,ue)&&C(z,ue,ie[ue]);return z},b=(z,ie)=>m(z,f(ie)),x=(z,ie,ue)=>new Promise((de,fe)=>{var ye=Me=>{try{we(ue.next(Me))}catch(je){fe(je)}},pe=Me=>{try{we(ue.throw(Me))}catch(je){fe(je)}},we=Me=>Me.done?de(Me.value):Promise.resolve(Me.value).then(ye,pe);we((ue=ue.apply(z,ie)).next())});const{h:E}=e(6400),{route:O}=e(20042),{getQueryItem:w,pathWithQuery:_,parseQuery:a,getGlobalAccountSettingsUrl:l,getPubAccountSettingsUrl:P,getCurrentUrlForLoginRedirect:S}=e(15045),{centsToPriceString:M,toTitleCase:R,pluralize:N,isZeroDecimalCurrency:T}=e(83322),A=e(8826),{isMobileUserAgent:W,getIosVersion:j}=e(76193),{validatePledgePrices:Z}=e(48971),J=e(27484),{Metadata:Q}=e(35442),{getPodcastEpisodeImageUrl:ne}=e(63030);s.getPodcastEpisodeImageUrl=ne;const te=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let B=typeof window=="undefined"||!window.addEventListener;B||window.addEventListener("load",()=>{B=!0},!1),typeof window!="undefined"&&window._preloads,s.globalPlaybackNotifier=typeof window!="undefined"?new A:null,s.windowReady=z=>{B?z():window.addEventListener("load",z,!1)},s.debounce=function(z,ie,ue=this){let de=null;return function(){clearTimeout(de),de=setTimeout(()=>z.apply(ue,arguments),ie)}},s.planToString=function(z,{totalAmount:ie=null,discount:ue=null,quantity:de=1,trial_end_override:fe=null,noTrial:ye=!1,recurring:pe=!0,intervalPostfix:we=null}={}){const Me=ie===null?z.amount*(de||1):ie,je=M(Me,z.currency);let De;z.is_bitcoin?De=N(z.interval_count,z.interval):z.interval_count===1&&pe?De=`per ${z.interval}`:De=`${pe?"per":"for"} ${N(z.interval_count,z.interval)}`,we&&(De+=` ${we}`);let me="";const ce=Math.max(0,z.trial_period_days||0,ue&&ue.trial_period_days||0,fe&&Math.ceil((fe-Date.now()/1e3)/60/60/24));!ye&&ce>0&&(me=E("span",{className:"trial"},` ${ce} day free trial`));let ge;if(ue){if(ue.loading)me=E("span",{className:"discount-price"}," (coupon loading)");else if(ue.error)me=E("span",{className:"discount-price error"}," (coupon invalid or expired)");else if(ue.percent_off||ue.amount_off){let Ie;if(ue.percent_off?Ie=Math.round(Me*(1-(ue.percent_off_precise||ue.percent_off)/100)):ue.amount_off&&(Ie=Math.max(0,Me-ue.amount_off)),ge=M(Ie,z.currency),pe){if(Ie===0&&(De=""),ue.duration==="once")De+=` for first ${z.interval}`;else if(ue.duration==="repeating"){const Re=ue.duration_in_months/(z.interval==="year"?12:1)*z.interval_count;Re>1?De+=` for first ${Re} ${z.interval}s`:De+=` for first ${z.interval}`}}}}return ge?[E("span",{className:"crossed-out"},je)," ",E("span",{className:"discount-price"},ge," ",De," ",me)]:[`${je}${z.is_bitcoin?"/":" "}${De}`,me]},s.couponToString=(z,ie)=>{if(!z||z.loading||z.error)return;let ue;return z.trial_period_days?ue=`${z.trial_period_days} day free trial`:(z.percent_off?ue=`${Math.round(z.percent_off_precise||z.percent_off)}% off`:z.amount_off&&(ue=`${M(z.amount_off,ie.currency)} off`),z.duration==="once"?ie?ue+=` first ${ie.interval}`:ue+=" first payment":z.duration==="repeating"?z.duration_in_months%12===0?ue+=` for ${N(z.duration_in_months/12,"year")}`:ue+=` for ${N(z.duration_in_months,"month")}`:ue+=" forever"),ue},s.preloadImage=function(z,ie){const ue=new Image;ue.onload=()=>{ue.onload=ue.onerror=null,ie&&ie(ue)},ue.onerror=ue.onload,ue.src=z},s.getHostname=z=>{const ie=document.createElement("a");return ie.href=z,(ie.hostname||"").replace(/\.localhost$/,"")},s.getPathname=z=>{const ie=document.createElement("a");return ie.href=z,ie.pathname||""},s.getPath=z=>{const ie=document.createElement("a");return ie.href=z,(ie.pathname||"")+(ie.search||"")+(ie.hash||"")},s.getNetworkErrorMessage=(z,ie)=>{var ue;return s.getNetworkErrorMessageFromResponse((z==null?void 0:z.body)||((ue=z==null?void 0:z.response)==null?void 0:ue.body),ie)},s.getNetworkErrorBody=z=>{var ie;const ue=(z==null?void 0:z.body)||((ie=z==null?void 0:z.response)==null?void 0:ie.body);if(ue&&ue.error)return{msg:ue.error};if(ue&&ue.errors&&ue.errors.length>0)return{html:ue.errors[ue.errors.length-1].msgHTML,msg:ue.errors[ue.errors.length-1].msg}},s.getNetworkErrorMessageFromXhr=(z,ie)=>{let ue;try{ue=JSON.parse(z&&z.responseText)}catch(de){}return s.getNetworkErrorMessageFromResponse(ue,ie)},s.getNetworkErrorMessageFromResponse=(z,ie)=>(ie=ie||"Something went wrong",z&&z.error?z.error:z&&z.errors&&z.errors.length>0&&z.errors[z.errors.length-1].msg||ie),s.inputPrefillHack=function(){return[E("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),E("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},s.isBrowser=function(){return typeof window!="undefined"},s.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const z=navigator.userAgent||navigator.vendor||window.opera;if(W(z,{checkFirst4:!0}))return!0}return!1},s.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),s.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),s.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),s.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),s.isIOs=()=>!!s.iosVersion(),s.isMac=(z=window.navigator)=>z?z.userAgentData&&z.userAgentData.platform?/macOS/.test(z.userAgentData.platform):/Mac/.test(z.platform):!1,s.isSafari=()=>{var z;return typeof window=="undefined"||!((z=window.navigator)!=null&&z.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},s.getModKeyLabel=(z=s.isMac())=>z?"\u2318":"^",s.iosVersion=()=>typeof window=="undefined"?null:j(),s.fixSmsUrl=z=>{const ie=s.iosVersion();return ie?ie>=9?z.replace("?body=","&body="):z.replace("?body=",";body="):z};const V=z=>((ie,ue)=>{let de;const fe=()=>ue.userAgent.match(/ipad|iphone/i),ye=je=>{de=ie.createElement("textArea"),de.value=je,ie.body.appendChild(de)},pe=()=>{let je,De;fe()?(je=ie.createRange(),je.selectNodeContents(de),De=z.getSelection(),De.removeAllRanges(),De.addRange(je),de.setSelectionRange(0,999999)):de.select()},we=()=>{ie.execCommand("copy"),ie.body.removeChild(de)};return{copy:je=>{ye(je),pe(),we()}}})(document,navigator);s.copyToClipboard=z=>{if(typeof window=="undefined")return;V(window).copy(z);const ie=ue=>{ue&&ue.clipboardData?(ue.clipboardData.setData("text/plain",z),ue.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",z)};s.iosVersion()||window.addEventListener("copy",ie),setTimeout(()=>{try{const ue=document.createElement("input");ue.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(ue),ue.value=z,ue.contentEditable=!0,ue.readOnly=!1;const de=document.createRange();de.selectNodeContents(ue);const fe=window.getSelection();fe.removeAllRanges(),fe.addRange(de),ue.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(ue)}catch(ue){}window.removeEventListener("copy",ie)},0)},s.copyNodeToClipboard=z=>{try{s.selectNode(z),document.execCommand("copy")}catch(ie){console.error("Failed to copy text:",ie)}},s.selectNode=z=>{try{if(["INPUT","TEXTAREA"].includes(z.nodeName)&&z.select)z.select();else if(document.body.createTextRange){const ie=document.body.createTextRange();ie.moveToElementText(z),ie.select()}else if(window.getSelection){const ie=window.getSelection(),ue=document.createRange();ue.selectNodeContents(z),ie.removeAllRanges(),ie.addRange(ue)}else console.warn("Could not select text in node: Unsupported browser")}catch(ie){console.error("Failed to select node:",ie)}},s.deselectNode=z=>{try{const ie=window.getSelection?window.getSelection():document.selection;ie&&ie.anchorNode===z&&(ie.empty?ie.empty():ie.removeAllRanges&&ie.removeAllRanges())}catch(ie){console.error("Failed to deselect node:",ie)}},s.setMetaData=function(z){return E(Q,v({},z))},s.getBodyOffset=(z,ie)=>{const ue=`offset${R(ie)}`;let de=0;for(;z&&z!==document.body;)de+=z[ue],z=z.offsetParent||z.parentNode;return de},s.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),s.scrollToHash=function(z){const ie=s.getUrlHash();if(!ie)return;const ue=document.getElementById(ie);ue&&(typeof z!="number"&&(z=-122),document.documentElement.scrollTop=Math.max(0,s.getBodyOffset(ue,"top")+z))},s.mightSupportApplePay=z=>!(!z||!z.stripe_country||z.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),s.addClass=(z,ie)=>{z.className+=` ${ie}`},s.removeClass=(z,ie)=>{z.className=z.className.replace(new RegExp(`\\b${ie}\\b`,"g"),"").trim()},s.hasClass=(z,ie)=>new RegExp(`\\b${ie}\\b`,"g").test(z.className),s.isFocused=(...z)=>s.isRootOrChild(document.activeElement,...z),s.isRootOrChild=(z,...ie)=>{for(;z;){for(const ue of ie)if(typeof ue=="function"?ue(z):z===ue)return!0;z=z.parentNode}return!1},s.getRootOrChild=(z,ie,{maxDepth:ue}={})=>{const de=[z];let fe=0;for(;de.length>0;){fe++;const ye=de.splice(0);for(const pe of ye)if(pe){if(ie(pe))return pe;(!ue||fe<ue)&&pe.children&&de.push(...pe.children)}}return null},s.getRootOrParent=(z,ie)=>z?ie(z)?z:s.getRootOrParent(z.parentNode,ie):null,s.getVisibilityApi=()=>{let z,ie;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(z="visibilitychange",ie="hidden"):typeof document.msHidden!="undefined"?(z="msvisibilitychange",ie="msHidden"):typeof document.webkitHidden!="undefined"&&(z="webkitvisibilitychange",ie="webkitHidden")),{visibilityChange:z,hidden:ie}},s.isWindowVisible=()=>{const{hidden:z}=s.getVisibilityApi();return z?!document[z]:!0},s.onWindowVisibilityChange=z=>{const{visibilityChange:ie}=s.getVisibilityApi();ie&&document.addEventListener(ie,z,!1)},s.offWindowVisibilityChange=z=>{const{visibilityChange:ie}=s.getVisibilityApi();ie&&document.removeEventListener(ie,z,!1)},s.disableBackspaceNavigation=()=>{document.addEventListener("keydown",re,!1)},s.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",re,!1)};function re(z){if(z.keyCode!==8)return;const ie=z.srcElement||z.target;if(!ie.readonly&&!ie.disabled){if(ie.isContentEditable)return;if(ie.nodeName==="TEXTAREA")return;if(ie.nodeName==="INPUT"&&te.indexOf((ie.getAttribute("type")||"").toLowerCase())>-1)return}return z.preventDefault(),!1}s.getBlob=z=>new Promise((ie,ue)=>{const de=new XMLHttpRequest;de.open("GET",z,!0),de.responseType="blob",de.onerror=ue,de.onload=fe=>{de.status==200?ie(de.response):ue(new Error("Failed to fetch blob"))},de.send()}),s.getDataUrlFromFile=z=>new Promise((ie,ue)=>{if(!window.FileReader){ue(new TypeError("File reader API not found"));return}const de=new FileReader;de.onerror=ue,de.onload=()=>{ie(de.result)},de.readAsDataURL(z)}),s.getExifOrientationFromFile=z=>new Promise((ie,ue)=>{if(!window.FileReader){ue(new TypeError("File reader API not found"));return}if(!window.DataView){ue(new TypeError("DataView API not found"));return}const de=new FileReader;de.onerror=ue,de.onload=()=>{const fe=new DataView(de.result);if(fe.getUint16(0,!1)!=65496)return ie(-2);const ye=fe.byteLength;let pe=2;for(;pe<ye;){if(fe.getUint16(pe+2,!1)<=8)return ie(-1);const we=fe.getUint16(pe,!1);if(pe+=2,we==65505){if(fe.getUint32(pe+=2,!1)!=1165519206)return ie(-1);const Me=fe.getUint16(pe+=6,!1)==18761;pe+=fe.getUint32(pe+4,Me);const je=fe.getUint16(pe,Me);pe+=2;for(let De=0;De<je;De++)if(fe.getUint16(pe+De*12,Me)==274)return ie(fe.getUint16(pe+De*12+8,Me))}else{if((we&65280)!=65280)break;pe+=fe.getUint16(pe,!1)}}ie(-1)},de.readAsArrayBuffer(z)}),s.getImageDataFromFileInput=z=>x(this,null,function*(){let ie,ue;const de=z!=null&&z.files?z.files[0]:null;if(z.value="",de){try{ie=yield s.getDataUrlFromFile(de)}catch(fe){console.error("Failed to get data URL from file:",fe),alert(fe.message);return}try{ue=yield s.getExifOrientationFromFile(de)}catch(fe){console.error("Failed to extract EXIF data from file:",fe)}}return{url:ie,orientation:ue}}),s.transformExifOrientation=z=>{switch(z){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},s.canScroll=()=>s.maxScroll()>0,s.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,s.getLoginRedirect=({redirect:z,email:ie,justTrying:ue,with_password:de=!1,useOriginalUrl:fe=!1}={})=>(typeof z!="string"&&(z=S({useOriginalUrl:fe})),_("/account/login",{redirect:z||"",email:ie||"",with_password:de?"1":"",justTrying:ue||""})),s.redirectToLogin=(z={})=>{document.location.href=s.getLoginRedirect(z)},s.redirectToAccount=z=>{window.location.assign(P(z))},s.redirectToAccountSettings=()=>{document.location.href=l()},s.base64encode=z=>{const ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let ue="",de,fe,ye,pe,we,Me,je,De=0;for(z=s.utf8Encode(z);De<z.length;)de=z.charCodeAt(De++),fe=z.charCodeAt(De++),ye=z.charCodeAt(De++),pe=de>>2,we=(de&3)<<4|fe>>4,Me=(fe&15)<<2|ye>>6,je=ye&63,isNaN(fe)?Me=je=64:isNaN(ye)&&(je=64),ue=ue+ie.charAt(pe)+ie.charAt(we)+ie.charAt(Me)+ie.charAt(je);return ue},s.utf8Encode=z=>{let ie="";for(let ue=0;ue<z.length;ue++){const de=z.charCodeAt(ue);de<128?ie+=String.fromCharCode(de):de>127&&de<2048?(ie+=String.fromCharCode(de>>6|192),ie+=String.fromCharCode(de&63|128)):(ie+=String.fromCharCode(de>>12|224),ie+=String.fromCharCode(de>>6&63|128),ie+=String.fromCharCode(de&63|128))}return ie},s.redirectNoScroll=z=>{const ie=[window.scrollX,window.scrollY];s.redirect(z),window.scrollTo(...ie)},s.redirect=(z,{event:ie=null,local_navigation:ue=!0,replace:de=!1,newTab:fe=!1}={})=>{var ye;if(ie&&ie.preventDefault(),!z.trim().startsWith("javascript:")){if(z.startsWith("#")&&ue){window.location.hash!==z&&(de&&((ye=window.history)!=null&&ye.replaceState)?window.history.replaceState(null,null,z):window.location.hash=z),s.scrollToHash();return}if(ue&&s.getHostname(z)&&s.getHostname(z)!==s.getHostname(window.location.href)&&(ue=!1),fe||ie&&(ie.metaKey||ie.ctrlKey)){window.open(z,"_blank");return}if(ue&&O(s.getPath(z),de)){setTimeout(()=>s.scrollToHash(),0);return}window.location.href=z}},s.setState=(z,ie)=>new Promise(ue=>{z.setState(ie,ue)}),s.stateTransaction=(z,ie)=>new Promise((ue,de)=>{z.setState((...fe)=>x(this,null,function*(){try{ue(yield ie.apply(z,fe))}catch(ye){de(ye)}}))}),s.stateLock=(z,ie,ue,...de)=>x(this,[z,ie,ue,...de],function*(fe,ye,pe,{force:we}={}){return typeof ye=="function"&&(pe=ye,ye="lock"),yield s.stateTransaction(fe,(Me,...je)=>x(this,null,function*(){if(Me[ye]&&!we)return;yield s.setState(fe,{[ye]:!0});const De=yield pe.call(fe,Me,...je);return yield s.setState(fe,{[ye]:!1}),De}))}),s.getsMessageQuery=z=>ie=>{const ue=a(document.location.href),de=w("message");if(de){delete ue.message;const fe=`${_(document.location.pathname,ue)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,fe)}return E(z,v({message:de},ie))},s.uuidV4=()=>{const z=window.crypto||window.msCrypto;if(typeof(z==null?void 0:z.randomUUID)=="function")return z.randomUUID();if(z)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,ie=>(ie^z.getRandomValues(new Uint8Array(1))[0]&15>>ie/4).toString(16));{let ie=new Date().getTime(),ue=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(de){let fe=Math.random()*16;return ie>0?(fe=(ie+fe)%16|0,ie=Math.floor(ie/16)):(fe=(ue+fe)%16|0,ue=Math.floor(ue/16)),(de==="x"?fe:fe&3|8).toString(16)})}},s.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,s.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",s.focusElement=z=>{z.focus&&z.focus(),z.select&&z.select()},s.getRoleOrOwner=(z,ie)=>z?z.user_id===ie.author_id?"owner":z.role:"byline",s.hexWithOpacity=(z,ie)=>{if(!z)return z;z=z.replace("#","");const ue=parseInt(z.substring(0,2),16),de=parseInt(z.substring(2,4),16),fe=parseInt(z.substring(4,6),16);return`rgba(${ue},${de},${fe},${ie/100})`},s.getSelectTheme=({primary:z,neutral0:ie="#f8f8f8",neutral20:ue="#d8d8d8",danger:de="var(--color-accent-red)",dangerLight:fe="var(--color-bg-accent-red)"})=>ye=>b(v({},ye),{colors:b(v({},ye.colors),{primary:z,primary25:s.hexWithOpacity(z,25),primary50:s.hexWithOpacity(z,50),primary75:s.hexWithOpacity(z,75),neutral0:ie,neutral20:ue,danger:de,dangerLight:fe})}),s.removeQueryParam=(z,{stripHash:ie=!1}={})=>{var ue;if(typeof window!="undefined"&&((ue=window.history)!=null&&ue.replaceState)){const de=a(window.location.href);if(!Array.isArray(z))delete de[z];else for(const ye of z)delete de[ye];const fe=`${_(window.location.pathname,de)}${ie?"":window.location.hash}`;window.history.replaceState({},document.title,fe)}},s.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,s.goFullscreen=z=>typeof window=="undefined"?!1:z.requestFullScreen?(z.requestFullScreen(),!0):z.webkitRequestFullScreen?(z.webkitRequestFullScreen(),!0):z.mozRequestFullScreen?(z.mozRequestFullScreen(),!0):!1,s.exitFullscreen=()=>{if(!s.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},s.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),s.getVideoBlobDuration=(z,...ie)=>x(this,[z,...ie],function*(ue,{timeout:de=5e3}={}){const fe=document.createElement("video");fe.volume=0;const ye=Promise.race([new Promise((pe,we)=>{fe.onloadedmetadata=()=>{fe.onloadedmetadata=null,fe.duration===1/0?(fe.currentTime=Number.MAX_SAFE_INTEGER,fe.ontimeupdate=()=>{fe.ontimeupdate=null,pe(fe.duration),fe.currentTime=0}):pe(fe.duration)},fe.onerror=Me=>we(Me.target.error)}),new Promise((pe,we)=>{setTimeout(()=>{we(new Error("Blob duration fetching timed out"))},de)})]);return fe.src=typeof ue=="string"||ue instanceof String?ue:window.URL.createObjectURL(ue),ye}),s.downloadSrc=z=>{const ie=document.createElement("a");document.body.appendChild(ie),ie.href=z,ie.target="_blank",ie.click(),document.body.removeChild(ie)},s.getCurrencyFormattedPledgePlans=(z,{skipFoundingPlan:ie=!1}={})=>{if(!(z!=null&&z.length))return[];const ue=[];for(const de of z)ie&&de.is_founding?ue.push(v({},de)):de.amount?ue.push(b(v({},de),{amount:de.amount})):ue.push(v({},de));return ue},s.validatePledgePlanValues=(z,ie,ue,de)=>{if(ue<=ie)return"Your founding price must be greater than your yearly price";const fe=Z({value:z,interval:"month",is_founding:!1,currency:de});if(fe)return fe;const ye=Z({value:ie,interval:"year",is_founding:!1,currency:de});if(ye)return ye;const pe=Z({value:ue,interval:"year",is_founding:!0,currency:de});return pe||null},s.decimalToPercentString=z=>{let ie=z;return typeof z=="string"&&(ie=parseFloat(z)),`${Math.round(ie*100)}%`};const le=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),ae=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),q=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),oe=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});s.formatPostDate=(z,{includeTime:ie}={})=>{const ue=J(z),de=J();return ue.isBefore(de.startOf("year"))?q.format(ue.toDate())+(ie?` at ${le.format(ue.toDate())}`:""):ue.isBefore(de.startOf("day"))?ae.format(ue.toDate())+(ie?` at ${le.format(ue.toDate())}`:""):ue.isAfter(de.endOf("year"))?oe.format(ue.toDate())+(ie?` at ${le.format(ue.toDate())}`:""):ue.isAfter(de.endOf("day"))?ae.format(ue.toDate())+(ie?` at ${le.format(ue.toDate())}`:""):le.format(ue.toDate())}},702:(G,s,e)=>{"use strict";e.d(s,{Z:()=>M});var o=e(6400),m=e(30396),f=e(94184),d=e.n(f),g=e(80569),y=e.n(g),C=e(7922),v=e(1138),b=e(96789),x=e(61152),E=e(89018),O=e.n(E),w=e(39419),_=e.n(w),a=(R,N,T)=>new Promise((A,W)=>{var j=Q=>{try{J(T.next(Q))}catch(ne){W(ne)}},Z=Q=>{try{J(T.throw(Q))}catch(ne){W(ne)}},J=Q=>Q.done?A(Q.value):Promise.resolve(Q.value).then(j,Z);J((T=T.apply(R,N)).next())});const l=({className:R,pub:N,comment:T,onClose:A,onReportSuccess:W})=>{const j=(0,m.sO)(null),[Z,J]=(0,m.eJ)(!1),Q={Report:0,Confirm:1},[ne,te]=(0,m.eJ)(Q.Report),B=re=>a(void 0,null,function*(){if(re===""){alert("Please enter a reason!");return}J(!0);try{yield y().post(`/api/v1/comment/${T.id}/report`).send({publication_id:N==null?void 0:N.id,reason:re}),W(),te(Q.Confirm)}catch(le){alert((0,w.getNetworkErrorMessage)(le))}finally{J(!1)}}),V=()=>{var re;(re=j==null?void 0:j.current)==null||re.close()};return(0,m.d4)(()=>{var re;(re=j==null?void 0:j.current)==null||re.open()},[]),(0,o.h)(b.p,{className:d()("report-comment-modal",R),ref:j,onClose:A},ne===Q.Report?(0,o.h)(P,{pub:N,reportComment:B,reporting:Z,closeModal:V}):(0,o.h)(S,{pub:N,closeModal:V}))},P=({pub:R,reportComment:N,reporting:T,closeModal:A})=>{const[W,j]=(0,m.eJ)("");return(0,o.h)(o.Fragment,null,(0,o.h)("h4",null,"Report ",R?`to ${R.name} admins`:"note"),(0,o.h)("p",null,"Thanks for reporting this ",R?"comment":"note","."," ",R?(0,o.h)(o.Fragment,null,"Only the admins of ",(0,o.h)("span",{className:"weight"},R.name)," will see your name and the content of this report."):"Please help us understand the issue."),(0,o.h)(x.Z,{placeholder:"Describe why you\u2019re reporting this comment...",maxLines:8,value:W,onInput:Z=>j(Z.target.value)}),(0,o.h)("div",{className:"buttons"},(0,o.h)(C.Z,{className:"secondary",onClick:A},(0,o.h)("span",null,"Cancel")),(0,o.h)(C.Z,{className:"primary",onClick:()=>N(W),disabled:W===""||T},(0,o.h)("span",null,T?"Loading...":"Submit"))))},S=({pub:R,closeModal:N})=>(0,o.h)(o.Fragment,null,(0,o.h)(v.Z,{stroke:(R==null?void 0:R.theme_var_background_pop)||E.substack_color}),(0,o.h)("h4",null,"Thanks for your report"),R?(0,o.h)("p",null,"The admins of ",(0,o.h)("span",{className:"weight"},R.name)," will review this comment."):(0,o.h)("p",null,"We will review this note."),(0,o.h)("div",{className:"buttons"},(0,o.h)(C.Z,{className:"primary",onClick:N},(0,o.h)("span",null,"Done")))),M=l},37888:(G,s,e)=>{"use strict";e.d(s,{j0:()=>ae});var o=e(7436),m=e.n(o),f=e(62195),d=e.n(f),g=e(39627),y=e.n(g),C=e(8728),v=e.n(C),b=Object.defineProperty,x=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(oe,z,ie)=>z in oe?b(oe,z,{enumerable:!0,configurable:!0,writable:!0,value:ie}):oe[z]=ie,l=(oe,z)=>{for(var ie in z||(z={}))w.call(z,ie)&&a(oe,ie,z[ie]);if(O)for(var ie of O(z))_.call(z,ie)&&a(oe,ie,z[ie]);return oe},P=(oe,z)=>x(oe,E(z));const S=d().createStore([y(),v()],[]),M=".buffer",R="ss-version-backups-local",N=32,T=4,A=null,W=oe=>{var z,ie,ue,de;return(ie=(z=window._preloads)==null?void 0:z.pub)!=null&&ie.id?(de=(ue=window._preloads)==null?void 0:ue.user)!=null&&de.id?Z().filter(fe=>!(fe.publication_id!==window._preloads.pub.id||fe.user_id&&fe.user_id!==window._preloads.user.id||fe.post_id!==oe||fe.local_version_saved_at&&Date.now()-new Date(fe.local_version_saved_at)>A)):[]:[]},j=oe=>{if(!(oe!=null&&oe.post_id)||!(oe!=null&&oe.draft_updated_at)||!(oe!=null&&oe.draft_body))return;const z=Z();if(z.filter(de=>de.post_id===oe.post_id).length>=T){const de=findLastIndex(z,fe=>fe.post_id===oe.post_id);de>=0&&z.splice(de,1)}const ue=[oe].concat(z.filter(de=>de.post_id!==oe.post_id||de.draft_updated_at!==oe.draft_updated_at&&de.draft_body&&de.draft_body!==oe.draft_body)).slice(0,N);q(R,ue)},Z=()=>S.get(R,[]).filter(Boolean),J=()=>S.get(R+M,{}),Q=oe=>{var z,ie;(z=window._preloads.pub)!=null&&z.id&&(ie=window._preloads.user)!=null&&ie.id&&oe!=null&&oe.post_id&&oe!=null&&oe.draft_updated_at&&oe!=null&&oe.draft_body&&q(R+M,P(l({},oe),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},ne=()=>{S.remove(R+M)},te=oe=>{if(!(oe!=null&&oe.post_id)||!(oe!=null&&oe.draft_updated_at))return;const ie=Z().filter(ue=>ue.post_id!==oe.post_id||ue.draft_updated_at!==oe.draft_updated_at);q(R,ie)},B=({postId:oe,editorId:z})=>!!Z().find(ue=>ue.post_id===oe&&ue.editor_id&&ue.editor_id!==z),V=({postId:oe,editorId:z})=>{const ue=Z().filter(de=>de.editor_id?de.post_id!==oe||de.editor_id!==z:!1);q(R,ue)},re=()=>{const oe=J();oe!=null&&oe.draft_body&&(j(oe),ne())},le=()=>{ne(),S.remove(R)},ae=oe=>{(!oe||Z().find(z=>z.user_id&&z.user_id!==oe))&&le()},q=(oe,z)=>{try{if(S.set(oe,z),JSON.stringify(S.get(oe))!==JSON.stringify(z))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",oe)}catch(ie){console.error("localStorage.setItem failed:",ie),le()}}},56242:(G,s,e)=>{"use strict";var o;const{TASTEMAKER_CATEGORY_NAME:m,COMMUNITY_PICKS_CATEGORY_NAME:f}=e(83322);o=(d,g)=>{if(!d)return"featured";if(d==="featured"||d==="twitter"||d==="podcast"||d===f||d===m)return d;const y=g.find(C=>C.slug===d);return y?y.id:"featured"}},87251:(G,s)=>{"use strict";s.cleanSlug=(e,{hashIfEmpty:o=!1,allowUnicode:m=!1}={})=>{const f=(e||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(m?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return e&&typeof e=="string"&&!f&&o?Array.from(e).map(d=>d.codePointAt(0)).map(d=>d.toString(16)).join("").substring(0,12):f}},94930:(G,s)=>{"use strict";s.isCouponValid=(e,{is_group:o,is_gift:m,paywallFreeTrialEnabled:f})=>!(!e||!e.valid||e.max_redemptions&&e.max_redemptions<=e.times_redeemed||e.group_only&&!o||e.redeem_by&&new Date(e.redeem_by)<new Date||e.type==="FREE_TRIAL"&&(!f||m||o)),s.isCouponValidForPlan=(e,o)=>!(!e||!o||o.metadata.no_coupons||o.metadata.unlimited_group||o.interval==="forever"||e.yearly_only&&o.interval!=="year"||e.monthly_only&&o.interval!=="month"||e.duration==="repeating"&&(o.interval==="month"&&e.duration_in_months%o.interval_count!==0||o.interval==="year"&&e.duration_in_months%(o.interval_count*12)!==0)||e.amount_off&&e.currency&&e.currency!==o.currency),s.isEmailValidEdu=(e,o)=>{const m=o.filter(g=>g.is_suffix);return o.filter(g=>!g.is_suffix).find(g=>e.split("@").pop().startsWith(g.pattern))||m.find(g=>e.endsWith(g.pattern))},s.isCouponValidForEmail=(e,o,m)=>!(e.edu_only&&!s.isEmailValidEdu(o,m)||e.allowed_suffixes&&!e.allowed_suffixes.split(/, */).find(d=>o.toLowerCase().endsWith(d.toLowerCase()))),s.getDiscountedAmount=(e,o)=>{let m=e.amount;return o&&s.isCouponValidForPlan(o,e)&&(o.percent_off?m=Math.round(m*(1-(o.percent_off_precise||o.percent_off)/100)):o.amount_off&&(m=Math.max(0,m-o.amount_off))),m}},85928:(G,s,e)=>{"use strict";var o=Object.defineProperty,m=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(O,w,_)=>w in O?o(O,w,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[w]=_,v=(O,w)=>{for(var _ in w||(w={}))g.call(w,_)&&C(O,_,w[_]);if(d)for(var _ of d(w))y.call(w,_)&&C(O,_,w[_]);return O},b=(O,w)=>m(O,f(w));const x=e(27484);G.exports=x,x.extend(e(28734)).extend(e(10285)).extend(e(92997)).extend(e(1646)).extend(e(66607)).extend(e(10423)).extend(e(79212)).extend(e(37412)).extend(e(96671)).extend(e(84110)).extend(e(70178)).extend(e(55183)).extend(e(29387)).extend(e(94712)).extend(e(6833)).extend(e(90850)).extend(e(10423)).extend(E);function E(O,w,_){w.prototype.standardDateOrTime=function({long:S=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const{secondsToLargestUnit:M}=e(83322),R=_().diff(this,"seconds");return R<60?"just now":`${M(R,{long:S})} ago`}},w.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},w.prototype.readerDateTime=function(){const S=this.diff(_(),"day");let M;return S===0?M=this.format("h:mm a"):S===-1?M="Yesterday":S>-7?M=this.standardDate():M=this.standardDate(),M},w.prototype.standardDate=function({full:S=!1}={}){return!S&&this.isSame(_(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},w.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===_().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},w.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===_().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},w.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},w.prototype.standardDatetimeWithYear=function(){const S=_().year();return this.year()!=S?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},w.prototype.min=function(...S){let M=this;for(let R of S)R=_(R),M.isAfter(R)&&(M=R);return M},w.prototype.max=function(...S){let M=this;for(let R of S)R=_(R),M.isBefore(R)&&(M=R);return M},w.prototype.minNow=function(){return this.min(_())},w.prototype.maxNow=function(){return this.max(_())},w.prototype.isBeforeNow=function(S){return this.isBefore(_(),S)},w.prototype.isAfterNow=function(S){return this.isAfter(_(),S)},w.prototype.isSameNow=function(S){return this.isSame(_(),S)};const a=_.en,l=b(v({},a),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),P=_.locale();_.locale("enshort",l),_.locale(P),w.prototype.fromNowShort=function(){return a?this.locale("enshort").fromNow():this.fromNow()}}},42395:G=>{"use strict";G.exports=s=>(s||"").replace(/&#(\d+);/g,(e,o)=>String.fromCharCode(o))},6378:(G,s)=>{"use strict";s.isMultiPub=d=>d?d.child_publications&&d.child_publications.length>0:!1,s.isSectionedPub=d=>{var g;return!!(d!=null&&d.sections)&&((g=d.sections)==null?void 0:g.length)>0},s.canAddSections=d=>{var g;return!(!d||(g=d.child_publications)!=null&&g.length||d.parent_publication_id||d.parent_publication)},s.canEditNavigationBar=d=>{var g;return!(!d||(g=d.child_publications)!=null&&g.length||d.parent_publication_id||d.parent_publication)},s.hasMultiplePodcasts=d=>e(d)>1;const e=d=>{let g=[];return s.isMultiPub(d)&&(g=s.getMultiPubChildPodcasts(d)),s.isSectionedPub(d)&&(g=s.getSectionPodcasts(d)),(d.podcast_enabled?1:0)+g.length};s.hasPodcast=d=>e(d)>0,s.hasOnePodcast=d=>e(d)===1,s.getMultiPubChildPodcasts=d=>s.isMultiPub(d)?d.child_publications.filter(g=>g.type==="podcast"):[],s.getSectionPodcasts=d=>s.isSectionedPub(d)?d.sections.filter(g=>g.is_podcast):[];const o=d=>d&&!d.includes("substack");s.pubCouldHavePublicPodcastUrl=d=>o(d.podcast_feed_url),s.sectionCouldHavePublicPodcastUrl=d=>{var g;return o((g=d.podcastSettings)==null?void 0:g.podcast_feed_url)},s.userCouldSeePublicPodcastUrls=d=>{if(s.pubCouldHavePublicPodcastUrl(d))return!0;if(s.hasMultiplePodcasts(d)){if(s.isMultiPub(d)){const g=s.getMultiPubChildPodcasts(d);for(const y of g)if(s.pubCouldHavePublicPodcastUrl(y))return!0}if(s.isSectionedPub(d)){const g=s.getSectionPodcasts(d);for(const y of g)if(s.sectionCouldHavePublicPodcastUrl(y))return!0}}return!1},s.userCouldSubscribeToPodcast=(d,g)=>g?s.isMultiPub(g)?!0:!s.hasPodcast(g)||g.hide_podcast_feed_link?!1:g.has_free_podcast?!0:g.has_subscriber_only_podcast?s.userIsPaidSubscriber(d):!1:!1,s.userIsFreeOnly=d=>d?!!(d.is_free_subscribed&&!d.is_subscribed):!1,s.userIsPaidSubscriber=d=>d?!!d.is_subscribed:!1,s.paymentsAreEnabled=d=>d?d.payments_state==="enabled":!1;const m=(d,{usePreview:g=!1,useDraft:y=!1}={})=>{switch(d==null?void 0:d.type){case"newsletter":return y?d.draftVoiceoverUpload:d.voiceoverUpload;case"podcast":return g?y?d.draftPodcastPreviewUpload:d.podcastPreviewUpload:y?d.draftPodcastUpload:d.podcastUpload;case"video":return y?d.draftVideoUpload:d.videoUpload;default:return null}};s.getMediaDuration=(d,{usePreview:g=!1,useDraft:y=!1}={})=>{var C;const v=m(d,{usePreview:g,useDraft:y});if(v)return(C=v.duration)!=null?C:null;if((d==null?void 0:d.type)==="podcast"&&!g){const b=y?d.draft_podcast_duration:d.podcast_duration;return b!=null?b:null}return null},s.getMediaFileSize=(d,{usePreview:g=!1,useDraft:y=!1}={})=>{var C,v;const b=m(d,{usePreview:g,useDraft:y});return b?(C=b.primary_file_size)!=null?C:null:(d==null?void 0:d.type)==="podcast"&&!g&&!y&&(v=d.legacy_podcast_file_size)!=null?v:null},s.podcastPostIsFreePreview=d=>!d||d.type!=="podcast"||!d.podcastUpload?!1:!!d.podcastUpload.is_free_preview,s.hasPodcastPreview=d=>!!d&&!!d.podcast_preview_upload_id,s.getLogo=d=>{var g;return d.logo_url||d.cover_photo_url||d.author_photo_url||((g=d.author)==null?void 0:g.photo_url)},s.getFoundingTierPlan=d=>{var g;return Array.isArray(d==null?void 0:d.plans)&&(g=d.plans.find(y=>{var C;return((C=y.metadata)==null?void 0:C.founding)==="yes"}))!=null?g:null},s.getFoundingTierName=d=>{var g,y;const C=s.getFoundingTierPlan(d);return(y=(g=C==null?void 0:C.metadata)==null?void 0:g.short_description)!=null?y:null},s.mediaUploadHasProblem=d=>!d||!d.state?!1:d.state==="error"||d.state==="cancelled",s.getPaidOrFoundingTierNameForPost=(d,g)=>(g==null?void 0:g.audience)==="founding"&&s.getFoundingTierName(d)||"paid",s.hasVoiceover=d=>!!d&&!!d.voiceover_upload_id,s.canSyndicateVoiceoverDraft=(d,g)=>!d||!g||!s.hasPodcast(d)?!1:!!g.draft_voiceover_upload_id;const f=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i;s.getAspectRatioFromBucketeerUrl=d=>{const g=d.match(f);return g?parseInt(g[1])/parseInt(g[2]):null},s.isBulwarkPub=(d,{checkParent:g=!0}={})=>{var y;return g&&d.subdomain==="thebulwark"||((y=d.parent_publication)==null?void 0:y.subdomain)==="thebulwark"}},8221:(G,s)=>{"use strict";var e;let o="";s.S=o},87367:(G,s,e)=>{"use strict";var o;const m=e(70709),f="en";let d=!1;const g=[];if(o=v,typeof window!="undefined"){let O=y();window.document.location.pathname==="/subscribe"&&["fr","es","de","pt"].includes(O)&&(O=f),window.I=v(O,{omitKeys:["ca","de","es","fr","it","pt"].includes(O)?null:["Subscribe","Subscribe now"]})}else e.g.I=(...O)=>{const w=C();return v(w,{omitKeys:["ca","de","es","fr","it","pt"].includes(w)?null:["Subscribe","Subscribe now"]})(...O)};function y(){var O,w;return typeof window=="undefined"?f:(O=window._preloads)!=null&&O.language?(w=window._preloads)==null?void 0:w.language:navigator!=null&&navigator.language?navigator.language.split("-")[0].toLowerCase():f}function C(){var O;return typeof jsdom=="undefined"||typeof jsdom.window=="undefined"?f:(O=jsdom.window.navigator)!=null&&O.language?jsdom.window.navigator.language:f}function v(O,{omitKeys:w}={}){function _(a,...l){return Array.isArray(a)&&(a=(a[0]||"")+a.slice(1).map((P,S)=>`\${${S}}${P}`).join("")),w!=null&&w.includes(a.toString())?a.toString():b(a.toString(),l,O)}for(const a in m)_[a]=(...l)=>b(a,l,O);return _}function b(O,w,_){_=(_||f).split(/[-_]/g)[0];let a=O;return m[O]?m[O][_]&&(a=m[O][_],x(O,_)):void 0,w.forEach((l,P)=>a=a.replace(new RegExp(`\\$\\{${P}\\}`,"g"),l.toString())),a}function x(O,w){typeof window!="undefined"&&(d||(d=!0,document.documentElement.lang=w))}function E(O){}},15045:(G,s,e)=>{"use strict";var o=Object.defineProperty,m=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(ce,ge,Ie)=>ge in ce?o(ce,ge,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):ce[ge]=Ie,v=(ce,ge)=>{for(var Ie in ge||(ge={}))g.call(ge,Ie)&&C(ce,Ie,ge[Ie]);if(d)for(var Ie of d(ge))y.call(ge,Ie)&&C(ce,Ie,ge[Ie]);return ce},b=(ce,ge)=>m(ce,f(ge)),x=(ce,ge)=>{var Ie={};for(var Re in ce)g.call(ce,Re)&&ge.indexOf(Re)<0&&(Ie[Re]=ce[Re]);if(ce!=null&&d)for(var Re of d(ce))ge.indexOf(Re)<0&&y.call(ce,Re)&&(Ie[Re]=ce[Re]);return Ie};const{cleanSlug:E}=e(87251),{substack_color:O}=e(89018),{CDN_URL:w,substackDomain:_,getSubscribeUrl:a,serializeQuery:l,pathWithQuery:P,getBaseUrl:S,getSubstackUrl:M,getHostname:R,_getUrl:N,getBaseAppLinkUrl:T,getLikelyLoggedInParam:A,getPubAccountSettingsUrl:W,getPostDashboardUrl:j,getDashboardHomeUrl:Z,getSubscriberDashboardUrl:J,getProfileUrlById:Q,getReaderProfileUrl:ne,imginary:te,unimginary:B,extractDimensionsFromImageUrl:V,getPodcastRssUrlFromIds:re,parseUrl:le,getPublishBaseUrl:ae,getPublishSettingsUrl:q,getDonateSubscriptionUrl:oe,stripeBaseUrl:z,getPostUrl:ie,getPostUrlBySlug:ue,getEditPostUrlById:de,getGroupManagementUrl:fe,getConnectTwitterUrl:ye,getPubConnectTwitterUrl:pe,getCancelOrUncancelUrl:we,getSubstackUrlWithDomain:Me}=e(20501),{getPostCommentsUrl:je}=e(36250),De=[/\/embed\/podcast\//];s.TWITTER_CARD_WIDTH=504,s.TWITTER_CARD_HEIGHT=264,s.TWITTER_CARD_LOGO_SIZE=70,s.USER_BAN_APPEAL_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",s.IMPORT_FILE_TOO_LARGE_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=8613857127700&request_from_search=true",s.getBaseUrl=S,s.getSubstackUrl=M,s.getSubstackUrlWithDomain=Me,s.getBaseAppLinkUrl=T,s.getHostname=R,s.serializeQuery=l,s.getSubscribeUrl=a,s.pathWithQuery=P,s.getLikelyLoggedInParam=A,s.getPubAccountSettingsUrl=W,s.getPostDashboardUrl=j,s.getSubscriberDashboardUrl=J,s.getProfileUrlById=Q,s.getReaderProfileUrl=ne,s.imginary=te,s.unimginary=B,s.extractDimensionsFromImageUrl=V,s.parseUrl=le,s.getPublishBaseUrl=ae,s.getPublishSettingsUrl=q,s.getDonateSubscriptionUrl=oe,s.stripeBaseUrl=z,s.getPostUrl=ie,s.getPostUrlBySlug=ue,s.getEditPostUrlById=de,s.getGroupManagementUrl=fe,s.getDashboardHomeUrl=Z,s.getConnectTwitterUrl=ye,s.getPubConnectTwitterUrl=pe,s.getCancelOrUncancelUrl=we,s.getPostCommentsUrl=je,s.getPodcastRssUrlFromIds=re,s.updateQuery=function(ce,ge,{skipHash:Ie=!1}={}){typeof ce=="object"&&(ge=ce,ce=document.location.pathname+document.location.search+document.location.hash);let Re=s.pathWithQuery(ce.split("?")[0].split("#")[0],Object.assign(s.parseQuery(ce),ge));return ce.indexOf("#")!==-1&&!Ie&&(Re+=ce.substr(ce.indexOf("#"))),Re},s.parseQuery=function(ce){const ge={},Ie=((ce==null?void 0:ce.split("?")[1])||"").split("#")[0].trim();if(Ie){const Re=Ie.split("&");for(let Ke=0;Ke<Re.length;Ke++){const ut=Re[Ke].split("=");ge[decodeURIComponent(ut[0])]=decodeURIComponent(ut.slice(1).join("="))}}return ge},s.getQueryItem=(ce,ge)=>{if(typeof ge!="string"){if(typeof window=="undefined"||!(window!=null&&window.location))return null;ge=ce,ce=window.location.href}const Ie=s.parseQuery(ce);if(ge in Ie)return Ie[ge]},s.getPubUrl=(ce,{params:ge={},signedIn:Ie=!1}={})=>{const Re=A(Ie,ce);return s.pathWithQuery(`${s.getBaseUrl(ce)}/`,v({lli:Re},ge))},s.DEFAULT_PHOTO_URL=`${s.getSubstackUrl()}/img/avatars/logged-out.png`,s.getCallbackUrl=ce=>`${s.getBaseUrl({subdomain:"callback"})}${ce}`,s.getTld=ce=>{try{return new URL(ce).hostname.split(".").slice(-2).join(".")}catch(ge){return null}},s.cdnSvg=ce=>!ce||!ce.startsWith("/")||ce.startsWith("//")||!/\.svg(\?|#|$)/.test(ce)?ce:`${w}/${ce}`,s.stripProtocol=ce=>(ce||"").replace(/^(\w+:)?\/\//g,""),s.getUserPhotoUrl=(ce,{preferAuthorPhoto:ge,noFallbackToSignedOut:Ie}={})=>{if(ge&&(ce!=null&&ce.author_photo_url)&&te(ce.author_photo_url))return te(ce.author_photo_url);if(ce!=null&&ce.photo_url&&te(ce.photo_url))return te(ce.photo_url);if((ce==null?void 0:ce.id)!==void 0)return s.getDefaultUserPhotoById(ce.id);if(!Ie)return s.DEFAULT_PHOTO_URL},s.getDefaultUserPhotoById=ce=>{const ge=["purple","yellow","orange","green","black"];return`${s.getSubstackUrl()}/img/avatars/${ge[ce%5]}.png`},s.getUndergroundUrl=ce=>{const Ie=N(`admin.${_}`);return ce?`${Ie}/publications/${ce}`:Ie},s.getStockLandingUrl=ce=>`${N(`${_}`)}/discover/stocks/${ce}`,s.getUserUndergroundUrl=ce=>{const Ie=N(`admin.${_}`);return ce?`${Ie}/users/${ce}`:Ie},s.getBaseReaderUrl=({utm_source:ce}={})=>{const ge=_,Ie="reader";return s.pathWithQuery(N(`${Ie}.${ge}`),{utm_source:ce})},s.getReaderSignupUrl=ce=>s.pathWithQuery(`${N(_)}/browse`,b(v({},ce),{action:"signup"})),s.getReaderUrl=(ce,{query:ge}={})=>{const Ie=_;return s.pathWithQuery(`${N(Ie)}${ce}`,ge)},s.getNotificationsUrl=ce=>s.getReaderUrl("/activity",{query:ce}),s.getLibraryUrl=ce=>s.getReaderUrl("/library",{query:ce}),s.getFeedUrl=ce=>s.getReaderUrl("/feed",{query:ce}),s.getChatUrl=ce=>s.getReaderUrl("/chat",{query:ce}),s.getSavedPostsUrl=ce=>s.getReaderUrl("/saved",ce),s.getDeprecatedPostAppLinkUrl=(ce,ge,{params:Ie={},redirect:Re=null,source:Ke=null,postUuid:ut=null}={})=>{const _t=ut?`${s.getSubstackUrl()}/app-link/publications/${ce}/drafts/${ut}`:`${s.getSubstackUrl()}/app-link/post`,ft=v({publication_id:ce,post_id:ge,utm_source:Ke,redirect:Re},Ie);return s.pathWithQuery(_t,ft)},s.getPostAppLinkUrl=(ce,ge,{params:Ie={},redirect:Re=null,source:Ke=null,postUuid:ut=null,inbox:_t=null}={})=>{if(!ce||!ge)return"";const ft=ut?`${s.getBaseAppLinkUrl()}/pub/${ce}/drafts/${ut}`:`${s.getBaseAppLinkUrl()}/pub/${ce}/p/${ge}`,We=v({utm_source:Ke,redirect:Re,inbox:_t},Ie);return s.pathWithQuery(ft,We)},s.getPostCommentInContextUrl=function(ce,ge,Ie,Re=3){if(!Ie.ancestor_path)return s.getPostCommentsUrl(ce,ge,Ie);const Ke=Ie==null?void 0:Ie.ancestor_path.split("."),ut=Ke.length<Re?0:Ke.length-Re;return s.getPostUrl(ce,ge,{comments:!0,commentId:Ie.id,commentContextId:Ke[ut]})},s.getPodcastLandingUrl=({pub:ce,section:ge,addBase:Ie=!0})=>{ge=ge||ce.section;const Re=Ie?s.getBaseUrl(ce):"";return ge?`${Re}/listen/${ge.slug||ge.id}`:`${Re}/podcast`},s.getEditSectionUrl=(ce,{addBase:ge,type:Ie,id:Re}={})=>`${ge?s.getBaseUrl(ce):""}/publish/settings/${Ie}/${Re}`,s.getArchiveUrl=(ce,{params:ge}={})=>{const Ie=ce.section?`/s/${ce.section.slug||ce.section.id}`:"";return s.pathWithQuery(`${Ie}/archive`,ge)},s.getBaseArchiveUrl=(ce,{addBase:ge,params:Ie}={})=>{const Re=ge?s.getBaseUrl(ce):"";return s.pathWithQuery(`${Re}/archive`,Ie)},s.getAboutUrl=(ce,{addBase:ge,params:Ie}={})=>{const Re=ge?s.getBaseUrl(ce):"";return s.pathWithQuery(`${Re}/about`,Ie)},s.getSitemapUrl=(ce,{addBase:ge,params:Ie}={})=>{const Re=ge?s.getBaseUrl(ce):"";return s.pathWithQuery(`${Re}/sitemap`,Ie)},s.getDashboardUrlForSubdomain=(ce,{params:ge}={})=>{const Ie=`${s.getBaseUrl({subdomain:ce})}/publish/home`;return s.pathWithQuery(Ie,ge)},s.getFindTwitterPubsUrl=ce=>s.pathWithQuery(`${s.getSubstackUrl()}/twitter/find-pubs`,ce),s.getPodcastingUrl=(ce,{addBase:ge,params:Ie,slug:Re,isSection:Ke}={})=>{let _t=`${ge?s.getBaseUrl(ce):""}/publish/podcasting`;return Re&&(Ke?_t=`${_t}/s/${Re}`:_t=`${_t}/${Re}`),Ie?s.pathWithQuery(_t,Ie):_t},s.getCreatePostUrl=(ce,ge={})=>{var Ie=ge,{baseUrl:Re=null}=Ie,Ke=x(Ie,["baseUrl"]);return s.pathWithQuery(`${Re!=null?Re:s.getBaseUrl(ce)}/publish/post`,Ke)},s.getCreateMarketingPostUrl=(ce,ge)=>s.pathWithQuery(`${s.getBaseUrl(ce)}/publish/post/marketing`,ge),s.getSubscriberStatsUrl=(ce,{addBase:ge,params:Ie}={})=>{const Re=ge?s.getBaseUrl(ce):"";return s.pathWithQuery(`${Re}/publish/subscribers`,Ie)},s.getAddSubscriberUrl=ce=>"/publish/subscribers/add",s.getDomainConfigUrl=(ce,{payment:ge}={})=>`/publish/domain${ge?"/pay":""}`,s.getDomainMigrateUrl=ce=>"/publish/domain/migrate",s.getDomainStatusUrl=()=>"/publish/domain/status",s.getSubscriberDetailsUrl=(ce,ge,{addBase:Ie,tab:Re}={})=>{const Ke=Ie?s.getBaseUrl(ce):"";return s.pathWithQuery(`${Ke}/publish/subscribers/legacy`,{email:ge,tab:Re})},s.getGroupDetailsUrl=ce=>`/publish/groups/${ce}`,s.getManageGroupsUrl=()=>"/publish/groups",s.getCheckoutUrl=function(ce,ge={}){const Ie=s.pathWithQuery(`${s.getBaseUrl(ce)}/subscribe`,ge);return Ie.indexOf("?")===-1?`${Ie}?`:Ie},s.getFoundingCheckoutUrl=function(ce){return`${s.getBaseUrl(ce)}/subscribe?plan=founding&`},s.getLoginUrl=(ce={})=>s.pathWithQuery("/account/login",ce),s.getMfaUrl=(ce={})=>s.pathWithQuery(`${s.getSubstackUrl()}/sign-in/mfa`,ce),s.getGlobalAccountRedirectForPub=(ce,ge,Ie)=>{const Re=ce==null?void 0:ce.subdomain;return s.pathWithQuery(`${s.getSubstackUrl()}${ge}`,{redirect:Ie,for_pub:Re})},s.getWriterReferralUrl=(ce,ge={})=>{if(ce)return s.pathWithQuery(`${s.getSubstackUrl()}/refer/${ce}`,ge)},s.getWriterReferralSettingsUrl=({utm_source:ce,utm_context:ge,utm_content:Ie}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/referral`,{utm_source:ce,utm_context:ge,utm_content:Ie}),s.getGlobalAccountSettingsUrl=({utm_source:ce,section:ge,highlightNotification:Ie}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/settings`,{utm_source:ce,section:ge,highlightNotification:Ie}),s.getGlobalNotificationSettingsUrl=({highlight:ce,utm_source:ge}={})=>s.getGlobalAccountSettingsUrl({section:"notifications",highlightNotification:ce,utm_source:ge}),s.getManageSubscriptionsUrl=({utm_source:ce}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/settings/subscriptions`,{utm_source:ce}),s.getSharePubUrl=ce=>`${s.getBaseUrl(ce)}/?utm_source=substack&utm_medium=email&utm_content=share&action=share`,s.getPodcatcherSetupUrlForAllPodcasts=(ce,ge)=>{var Ie=ge,{startAtSubscribeFlow:Re}=Ie,Ke=x(Ie,["startAtSubscribeFlow"]);let ut=`${s.getBaseUrl(ce)}/listen`;if(Ke){const _t=s.serializeQuery(Ke);_t&&(ut+=`?${_t}`)}return Re?s.getSubscribeUrl(ce,v({addBase:!0,next:ut,skipPodcastSetupPage:!0},Ke)):ut},s.getPodcatcherSetupUrl=(ce,{addBase:ge,params:Ie,noSection:Re,section:Ke,user:ut,startAtSubscribeFlow:_t}={})=>{let ft="";if(ge&&(ft+=s.getBaseUrl(ce)),Ke=Ke||(ce==null?void 0:ce.section),Ke&&!Re&&(ft+=`/s/${Ke.slug||Ke.id}`),ft+="/account/add-podcast",ut&&ut.email&&(Ie=b(v({},Ie),{email:ut.email}),ft+="/email"),Ie){const We=s.serializeQuery(Ie);We&&(ft+=`?${We}`)}return _t?s.getSubscribeUrl(ce,v({addBase:!0,next:ft,skipPodcastSetupPage:!0},Ie)):ft},s.getCdnUrl=(ce,{cdnUrl:ge=w}={})=>ce==null?void 0:ce.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,ge);const me="https://chrt.fm/track";s.getAsChartableUrl=(ce,ge)=>ce?`${me}/${encodeURIComponent(ce)}/${s.stripProtocol(ge)}`:ge,s.getCdnUrlForAudio=(ce,ge,{token:Ie}={})=>(ge=s.getCdnUrl(ge),ce!=null&&ce.id&&(ge=s.updateQuery(ge,{post_id:ce.id})),Ie&&(ge=s.updateQuery(ge,{podcast_rss_token:Ie})),ge),s.getClientReadyPodcastUrl=(ce,ge,{rssToken:Ie})=>{if(ge.podcast_upload_id){let Re=s.updateQuery(`${s.getBaseUrl({subdomain:"api"})}/api/v1/audio/upload/${ge.podcast_upload_id}/src`,{token:Ie});return ce!=null&&ce.chartable_token&&(Re=s.getAsChartableUrl(ce.chartable_token,Re)),Re}if(ge.podcast_url){let Re=s.getCdnUrlForAudio(ge,ge.podcast_url,{token:Ie});return ce!=null&&ce.chartable_token&&(Re=s.getAsChartableUrl(ce.chartable_token,Re)),Re}return null},s.urlIsRegularlyShownInIframe=ce=>{for(let ge=0;ge<De.length;ge++)if(De[ge].test(ce))return!0;return!1},s.getCurrentUrlForLoginRedirect=({useOriginalUrl:ce})=>{if(ce&&typeof window!="undefined"&&window._preloads.original_url)try{const ge=new URL(window._preloads.original_url);return`${ge.pathname}${ge.search}${ge.hash}`}catch(ge){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},s.getSigninUrl=(ce={})=>{const{for_pub:ge,email:Ie,with_password:Re,error:Ke,message:ut,change_user:_t,justTrying:ft,useOriginalUrl:We}=ce;let{redirect:Be}=ce;return typeof Be!="string"&&(Be=s.getCurrentUrlForLoginRedirect({useOriginalUrl:We})),s.pathWithQuery(`${s.getSubstackUrl()}/sign-in`,{redirect:Be,for_pub:ge,email:Ie,with_password:Re,error:Ke,message:ut,change_user:_t,justTrying:ft})},s.getTermsUrl=({utm_source:ce}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/tos`,{utm_source:ce}),s.getGoingPaidUrl=()=>`${s.getSubstackUrl()}/going-paid`,s.getInfoCollectionUrl=({utm_source:ce}={})=>`${s.pathWithQuery(`${s.getSubstackUrl()}/ccpa`,{utm_source:ce})}#personal-data-collected`,s.getHomeUrl=({utm_source:ce}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/home`,{utm_source:ce}),s.getPrivacyUrl=({pub:ce,utm_source:ge,hash:Ie=null}={})=>{const Re=ce?`${s.getBaseUrl(ce)}`:s.getSubstackUrl(),Ke=Ie?`#${Ie}`:"";return`${s.pathWithQuery(`${Re}/privacy`,{utm_source:ge})}${Ke}`},s.getLegalUrls=()=>({infoCollection:s.getInfoCollectionUrl(),privacy:s.getPrivacyUrl(),terms:s.getTermsUrl()}),s.getEditProfileUrl=({params:ce}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/profile/edit`,ce),s.getReaderOnboardingUrl=(ce,{isAbbreviated:ge,redirect:Ie,postRedirectToast:Re,pubId:Ke=null}={})=>{let ut=null;if(Ie)try{ut=new URL(Ie),Re&&ut.searchParams.set("profile-setup-message",Re)}catch(_t){ut=new URL(s.getSubstackUrl())}return s.pathWithQuery(`${s.getSubstackUrl()}/reader-onboarding`,{isAbbreviated:ge,redirect:ut?ut.toString():null,pubId:Ke})},s.getProfileSetupUrl=({utm_source:ce}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/profile/start`,{utm_source:ce}),s.getDiscoverCategoryUrl=(ce,ge)=>`${s.getSubstackUrl()}/discover${ce?`/category/${ce.slug}`:""}${ge==="all"?"/all":""}`,s.getDiscoverSearchUrl=({query:ce,params:ge={}}={})=>{let Ie=`${s.getSubstackUrl()}/search`;return ce&&(Ie=`${s.getSubstackUrl()}/search/${encodeURIComponent(ce)}`),s.updateQuery(Ie,ge)},s.getSubscribeUrl=(ce,ge={})=>{var Ie=ge,{signedIn:Re=!1,addBase:Ke=!1,root:ut=void 0,user:_t=void 0}=Ie,ft=x(Ie,["signedIn","addBase","root","user"]);const We=A(Re,ce);return a(ce,{root:ut,user:_t,addBase:Ke,params:v({lli:We},ft)})},s.getRecommendationsPageUrl=(ce,ge={})=>s.pathWithQuery(`${s.getBaseUrl(ce)}/recommendations`,ge),s.getStartPublishingUrl=(ce={})=>s.updateQuery(`${s.getSubstackUrl()}/signup`,ce),s.getMigrateFromTwitterUrl=(ce={})=>s.updateQuery(`${s.getSubstackUrl()}/twitter-quitter`,ce),s.getImportUrl=(ce={})=>s.updateQuery(`${s.getSubstackUrl()}/signup/import`,ce),s.getPublishStripeAccountImportUrl=(ce,{addBase:ge=!1,baseUrlOptions:Ie={},params:Re=void 0}={})=>s.pathWithQuery(`${ae(ce,{addBase:ge,baseUrlOptions:Ie})}/stripe-import`,Re),s.getPublishStatsUrl=(ce,{addBase:ge,baseUrlOptions:Ie,params:Re}={})=>{const Ke=ge?s.getBaseUrl(ce,Ie):"";return s.pathWithQuery(`${Ke}/publish/stats`,Re)},s.getPublishSettingsRecommendationsUrl=(ce,{addBase:ge,baseUrlOptions:Ie,params:Re}={})=>{const Ke=ge?s.getBaseUrl(ce,Ie):"";return s.pathWithQuery(`${Ke}/publish/settings/recommendations`,Re)},s.getPublishStatsRecommendationsUrl=(ce,{addBase:ge,baseUrlOptions:Ie,params:Re}={})=>{const Ke=ge?s.getBaseUrl(ce,Ie):"";return s.pathWithQuery(`${Ke}/publish/recommendations`,Re)},s.getManageBlurbsUrl=(ce,{addBase:ge,baseUrlOptions:Ie,params:Re}={})=>{const Ke=ge?s.getBaseUrl(ce,Ie):"";return s.pathWithQuery(`${Ke}/publish/settings/blurbs`,Re)},s.getManageReaderReferralSettingsUrl=ce=>{const ge=s.getBaseUrl(ce);return s.pathWithQuery(`${ge}/publish/settings/`,{search:"referral"})},s.getPublishModerationUrl=(ce,{addBase:ge=!1,baseUrlOptions:Ie={}}={})=>`${ae(ce,{addBase:ge,baseUrlOptions:Ie})}/moderation`,s.getPublicationPodcastUrl=ce=>"/publish/settings/podcast/edit",s.getInviteUrl=ce=>`${s.getBaseUrl(ce)}/invite`,s.getProfileSlug=ce=>{let ge=`${ce.author_id||ce.id}`;const Ie=E(ce.author_id?ce.author_name:ce.name,{hashIfEmpty:!0});return Ie&&(ge+=`-${Ie}`),ge},s.getProfileUrl=(ce,ge,{utm_source:Ie}={})=>s.getReaderProfileUrl(ce,{utm_source:Ie}),s.getPodcastRssUrl=({pub:ce,token:ge=null})=>{var Ie;if(ce.section){const{section:Ke}=ce;if((Ie=Ke.podcastSettings)!=null&&Ie.podcast_feed_url)return Ke.podcastSettings.podcast_feed_url;let ut=`${s.getBaseUrl({subdomain:"api"})}/feed/podcast/${ce.id}/s/`;return ge?ut+=`${Ke.id}/private/${ge}.rss`:ut+=`${Ke.id}.rss`,ut}else if(ce.podcast_feed_url)return ce.podcast_feed_url;let Re=`${s.getBaseUrl({subdomain:"api"})}/feed/podcast/${ce.id}`;return ge?Re+=`/private/${ge}.rss`:Re+=".rss",Re},s.getSupportEmail=(ce,{noOverride:ge}={})=>{if(ce){if(ce.support_email&&!ge)return ce.support_email}else return"support@substack.com";return`support+${ce.subdomain}@substack.com`},s.getSupportUrl=(ce,ge)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(s.getSupportEmail(ce,ge))}`,s.getPostSelectionPreviewUrl=(ce,ge,Ie)=>s.imginary(`${s.getPostSelectionPreviewSvgUrl(ce,ge,Ie)}`,s.TWITTER_CARD_WIDTH*2,{height:s.TWITTER_CARD_HEIGHT*2,format:"jpg",crop:"fill",skipDomainValidation:!0,quality:"auto:best",version:7}),s.getPostSelectionPreviewSvgUrl=(ce,ge,Ie)=>`${s.getBaseUrl(ce)}/api/v1/post_selection_image/${ge.id}/${Ie}.svg`,s.getTwitterAccountUrl=ce=>`https://twitter.com/${ce}`,s.getInstagramAccountUrl=ce=>`https://instagram.com/${ce}`,s.getTiktokAccountUrl=ce=>`https://tiktok.com/@${ce}`,s.getYoutubeAccountUrl=ce=>`https://youtube.com/channel/${ce}`,s.getTwitterSubscribeCardUrl=ce=>s.imginary(`${s.getTwitterSubscribeCardSvgUrl(ce)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),s.getTwitterSubscribeCardSvgUrl=ce=>{const{hashString:ge}=e(83322);let Ie=`${s.getBaseUrl(ce,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const Re=`${ce.logo_url}:${ce.hero_text}:${ce.name}:${ce.author_name}:${ce.subdomain}`,Ke=ge(Re);return Ke?Ie+=`?v=${Ke}`:Ie+="?v=bust",Ie},s.getPressKitUrl=(ce,ge,Ie)=>{const Re=s.getPressKitImageUrl(ce,ge,Ie);return s.imginary(Re,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},s.getPressKitImageUrl=(ce,ge,Ie)=>{const{hashString:Re}=e(83322),Ke=Re(`${ge.social_title+ge.title+ge.description+ge.cover_image}`);return s.pathWithQuery(`${s.getBaseUrl(ce,{forceSubdomain:!0})}/api/v1/press_kit/${ge.id}.jpg`,b(v({},Ie),{isDraft:ge.is_draft,hash:Ke}))},s.getLatexUrl=ce=>{const ge=s.getLatexImageUrl(ce);return s.imginary(ge,null,{quality:"auto:best",version:9})},s.getLatexImageUrl=ce=>s.pathWithQuery("/api/v1/latex/jpeg",{expression:ce}),s.getBestsellerAssetUrl=ce=>{const ge=`${s.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${ce.id}-bestseller.jpg`;return s.imginary(ge,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},s.getBestsellerShareCardUrl=ce=>{const ge=`${s.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${ce.id}-bestseller-share-card.jpg`;return s.imginary(ge,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},s.getThreadDeepLinkUrl=ce=>`substack://publications/${ce.id}/threads`,s.isPublishPath=(ce,ge)=>ce.startsWith("/publish"),s.looksLikePostUrl=ce=>{const ge=s.parseUrl(ce);return ge?ge.pathname.startsWith("/p/"):!1},s.getPostSlug=ce=>s.looksLikePostUrl(ce)?s.parseUrl(ce).pathname.split("/")[2]:null,s.looksLikePostCommentsUrl=ce=>{if(!s.looksLikePostUrl(ce))return!1;const Ie=s.parseUrl(ce).pathname.split("/");return Ie.length===4&&Ie[3]==="comments"},s.getSignoutUrl=({redirect:ce,for_pub:ge,utm_source:Ie}={})=>(ce=ce||"",s.pathWithQuery(`${s.getSubstackUrl()}/sign-out`,{redirect:ce,for_pub:ge,utm_source:Ie})),s.getPodcastOnboardingUrl=ce=>`/publish/podcast/new?referrer=${encodeURIComponent(ce)}`,s.getUrlExtension=ce=>{try{const Ie=new URL(ce).pathname.match(/\.(\w+)$/);return Ie?Ie[0]:null}catch(ge){return null}},s.EMAIL_CONTENT_WIDTH=550,s.WEB_CONTENT_WIDTH=728,s.WEB_CONTENT_WIDTH_MOBILE=424,s.WEB_RESPONSIVE_IMAGE_WIDTHS=[s.WEB_CONTENT_WIDTH_MOBILE,s.WEB_CONTENT_WIDTH_MOBILE*2,s.WEB_CONTENT_WIDTH_MOBILE*3,s.WEB_CONTENT_WIDTH*2],s.LARGE_IMAGE_WIDTH=1200,s.MAX_REASONABLE_SCREEN_WIDTH=2880,s.MIN_GIF_WIDTH=320,s.MAX_GIF_WIDTH=550,s.getMediaUploadThumbnailUrl=ce=>{var ge;return ce?`https://substack-video.s3.amazonaws.com/video_upload/post/${ce.post_id}/${ce.id}/transcoded-${((ge=ce.thumbnail_id)!=null?ge:1).toString().padStart(5,"0")}.png`:void 0},s.getMediaUploadThumbnailUrlForPlayer=(ce,{pub:ge,isStatic:Ie}={})=>{var Re;const{colorLuma:Ke,videoPlayerDimensions:ut}=e(83322),{height:_t,width:ft}=ut(ce,{isStatic:Ie}),We=ft/_t<1920/1080?"pad":"fill",Be=((Re=ge==null?void 0:ge.theme)==null?void 0:Re.background_pop_color)||(ge==null?void 0:ge.theme_var_background_pop)||O,lt=Ke(Be)>.6?"#1a1a1a":"#ffffff";return s.imginary(s.getMediaUploadThumbnailUrl(ce),ft*2,{crop:We,height:_t*2,trailingSegments:Ie?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${Be.slice(1)}`,`l_video_play_icon_c75z6z,w_152,e_colorize:100,co_rgb:${lt.slice(1)}`]:[]})},s.getPreviewInAppUrl=(ce,ge,Ie={})=>s.pathWithQuery(`https://substack.com/app-link/publications/${ce.id}/drafts/${ge}`,Ie),s.getLinkRedirectUrl=(ce,{userIdJwt:ge,domain:Ie}={})=>`${Ie?s.getSubstackUrlWithDomain(Ie):s.getSubstackUrl()}/redirect/${ce}?j=${ge||""}`,s.getLoginChallengeDeepUrl=ce=>s.pathWithQuery("substack://sign-in/challenge",{token:ce}),s.DIRECT_APPLE_APP_STORE_URL="https://apps.apple.com/us/app/substack-reader/id1581650857",s.DIRECT_GOOGLE_PLAY_STORE_URL="https://play.google.com/store/apps/details?id=com.substack.app",s.getSubstackMarketingUrl=(ce={})=>s.pathWithQuery(`${s.getSubstackUrl()}/home`),s.getAppMarketingUrl=(ce={})=>s.pathWithQuery(`${s.getSubstackUrl()}/app`,ce),s.getAppWriterFaqUrl=(ce={})=>s.pathWithQuery("https://on.substack.com/p/writerfaq",ce),s.getAppStoreRedirectUrl=ce=>s.pathWithQuery(`${s.getSubstackUrl()}/app/app-store-redirect`,ce),s.getAppStoreUrl=ce=>s.pathWithQuery(`${s.getSubstackUrl()}/app/get-ios`,ce),s.getPlayStoreUrl=ce=>s.pathWithQuery(`${s.getSubstackUrl()}/app/get-android`,ce),s.getDefaultPodcastArtUrl=({pathOnly:ce=!1}={})=>{const ge="/img/podcast/generic.png";return ce?ge:`${s.getSubstackUrl()}${ge}`},s.getDefaultPodcastArtUrlCDN=()=>{const ce=s.getDefaultPodcastArtUrl({pathOnly:!0});return s.imginary(ce,1400)}},17187:G=>{function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}G.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(d){if(!o(d)||d<0||isNaN(d))throw TypeError("n must be a positive number");return this._maxListeners=d,this},s.prototype.emit=function(d){var g,y,C,v,b,x;if(this._events||(this._events={}),d==="error"&&(!this._events.error||m(this._events.error)&&!this._events.error.length)){if(g=arguments[1],g instanceof Error)throw g;var E=new Error('Uncaught, unspecified "error" event. ('+g+")");throw E.context=g,E}if(y=this._events[d],f(y))return!1;if(e(y))switch(arguments.length){case 1:y.call(this);break;case 2:y.call(this,arguments[1]);break;case 3:y.call(this,arguments[1],arguments[2]);break;default:v=Array.prototype.slice.call(arguments,1),y.apply(this,v)}else if(m(y))for(v=Array.prototype.slice.call(arguments,1),x=y.slice(),C=x.length,b=0;b<C;b++)x[b].apply(this,v);return!0},s.prototype.addListener=function(d,g){var y;if(!e(g))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",d,e(g.listener)?g.listener:g),this._events[d]?m(this._events[d])?this._events[d].push(g):this._events[d]=[this._events[d],g]:this._events[d]=g,m(this._events[d])&&!this._events[d].warned&&(f(this._maxListeners)?y=s.defaultMaxListeners:y=this._maxListeners,y&&y>0&&this._events[d].length>y&&(this._events[d].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[d].length),typeof console.trace=="function"&&console.trace())),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(d,g){if(!e(g))throw TypeError("listener must be a function");var y=!1;function C(){this.removeListener(d,C),y||(y=!0,g.apply(this,arguments))}return C.listener=g,this.on(d,C),this},s.prototype.removeListener=function(d,g){var y,C,v,b;if(!e(g))throw TypeError("listener must be a function");if(!this._events||!this._events[d])return this;if(y=this._events[d],v=y.length,C=-1,y===g||e(y.listener)&&y.listener===g)delete this._events[d],this._events.removeListener&&this.emit("removeListener",d,g);else if(m(y)){for(b=v;b-- >0;)if(y[b]===g||y[b].listener&&y[b].listener===g){C=b;break}if(C<0)return this;y.length===1?(y.length=0,delete this._events[d]):y.splice(C,1),this._events.removeListener&&this.emit("removeListener",d,g)}return this},s.prototype.removeAllListeners=function(d){var g,y;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[d]&&delete this._events[d],this;if(arguments.length===0){for(g in this._events)g!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events={},this}if(y=this._events[d],e(y))this.removeListener(d,y);else if(y)for(;y.length;)this.removeListener(d,y[y.length-1]);return delete this._events[d],this},s.prototype.listeners=function(d){var g;return!this._events||!this._events[d]?g=[]:e(this._events[d])?g=[this._events[d]]:g=this._events[d].slice(),g},s.prototype.listenerCount=function(d){if(this._events){var g=this._events[d];if(e(g))return 1;if(g)return g.length}return 0},s.listenerCount=function(d,g){return d.listenerCount(g)};function e(d){return typeof d=="function"}function o(d){return typeof d=="number"}function m(d){return typeof d=="object"&&d!==null}function f(d){return d===void 0}},4445:G=>{G.exports=d,d.default=d,d.stable=v,d.stableStringify=v;var s="[...]",e="[Circular]",o=[],m=[];function f(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function d(E,O,w,_){typeof _=="undefined"&&(_=f()),y(E,"",0,[],void 0,0,_);var a;try{m.length===0?a=JSON.stringify(E,O,w):a=JSON.stringify(E,x(O),w)}catch(P){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var l=o.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return a}function g(E,O,w,_){var a=Object.getOwnPropertyDescriptor(_,w);a.get!==void 0?a.configurable?(Object.defineProperty(_,w,{value:E}),o.push([_,w,O,a])):m.push([O,w,E]):(_[w]=E,o.push([_,w,O]))}function y(E,O,w,_,a,l,P){l+=1;var S;if(typeof E=="object"&&E!==null){for(S=0;S<_.length;S++)if(_[S]===E){g(e,E,O,a);return}if(typeof P.depthLimit!="undefined"&&l>P.depthLimit){g(s,E,O,a);return}if(typeof P.edgesLimit!="undefined"&&w+1>P.edgesLimit){g(s,E,O,a);return}if(_.push(E),Array.isArray(E))for(S=0;S<E.length;S++)y(E[S],S,S,_,E,l,P);else{var M=Object.keys(E);for(S=0;S<M.length;S++){var R=M[S];y(E[R],R,S,_,E,l,P)}}_.pop()}}function C(E,O){return E<O?-1:E>O?1:0}function v(E,O,w,_){typeof _=="undefined"&&(_=f());var a=b(E,"",0,[],void 0,0,_)||E,l;try{m.length===0?l=JSON.stringify(a,O,w):l=JSON.stringify(a,x(O),w)}catch(S){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var P=o.pop();P.length===4?Object.defineProperty(P[0],P[1],P[3]):P[0][P[1]]=P[2]}}return l}function b(E,O,w,_,a,l,P){l+=1;var S;if(typeof E=="object"&&E!==null){for(S=0;S<_.length;S++)if(_[S]===E){g(e,E,O,a);return}try{if(typeof E.toJSON=="function")return}catch(T){return}if(typeof P.depthLimit!="undefined"&&l>P.depthLimit){g(s,E,O,a);return}if(typeof P.edgesLimit!="undefined"&&w+1>P.edgesLimit){g(s,E,O,a);return}if(_.push(E),Array.isArray(E))for(S=0;S<E.length;S++)b(E[S],S,S,_,E,l,P);else{var M={},R=Object.keys(E).sort(C);for(S=0;S<R.length;S++){var N=R[S];b(E[N],N,S,_,E,l,P),M[N]=E[N]}if(typeof a!="undefined")o.push([a,O,E]),a[O]=M;else return M}_.pop()}}function x(E){return E=typeof E!="undefined"?E:function(O,w){return w},function(O,w){if(m.length>0)for(var _=0;_<m.length;_++){var a=m[_];if(a[1]===O&&a[0]===w){w=a[2],m.splice(_,1);break}}return E.call(this,O,w)}}},17648:G=>{"use strict";var s="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,o=Object.prototype.toString,m="[object Function]";G.exports=function(d){var g=this;if(typeof g!="function"||o.call(g)!==m)throw new TypeError(s+g);for(var y=e.call(arguments,1),C,v=function(){if(this instanceof C){var w=g.apply(this,y.concat(e.call(arguments)));return Object(w)===w?w:this}else return g.apply(d,y.concat(e.call(arguments)))},b=Math.max(0,g.length-y.length),x=[],E=0;E<b;E++)x.push("$"+E);if(C=Function("binder","return function ("+x.join(",")+"){ return binder.apply(this,arguments); }")(v),g.prototype){var O=function(){};O.prototype=g.prototype,C.prototype=new O,O.prototype=null}return C}},58612:(G,s,e)=>{"use strict";var o=e(17648);G.exports=Function.prototype.bind||o},40210:(G,s,e)=>{"use strict";var o,m=SyntaxError,f=Function,d=TypeError,g=function(Q){try{return f('"use strict"; return ('+Q+").constructor;")()}catch(ne){}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch(Q){y=null}var C=function(){throw new d},v=y?function(){try{return arguments.callee,C}catch(Q){try{return y(arguments,"callee").get}catch(ne){return C}}}():C,b=e(41405)(),x=Object.getPrototypeOf||function(Q){return Q.__proto__},E={},O=typeof Uint8Array=="undefined"?o:x(Uint8Array),w={"%AggregateError%":typeof AggregateError=="undefined"?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?o:ArrayBuffer,"%ArrayIteratorPrototype%":b?x([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":typeof Atomics=="undefined"?o:Atomics,"%BigInt%":typeof BigInt=="undefined"?o:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?o:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?o:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":E,"%Int8Array%":typeof Int8Array=="undefined"?o:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?o:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b?x(x([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%Map%":typeof Map=="undefined"?o:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!b?o:x(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?o:Promise,"%Proxy%":typeof Proxy=="undefined"?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?o:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!b?o:x(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b?x(""[Symbol.iterator]()):o,"%Symbol%":b?Symbol:o,"%SyntaxError%":m,"%ThrowTypeError%":v,"%TypedArray%":O,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array=="undefined"?o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?o:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?o:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?o:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?o:WeakSet};try{null.error}catch(Q){var _=x(x(Q));w["%Error.prototype%"]=_}var a=function Q(ne){var te;if(ne==="%AsyncFunction%")te=g("async function () {}");else if(ne==="%GeneratorFunction%")te=g("function* () {}");else if(ne==="%AsyncGeneratorFunction%")te=g("async function* () {}");else if(ne==="%AsyncGenerator%"){var B=Q("%AsyncGeneratorFunction%");B&&(te=B.prototype)}else if(ne==="%AsyncIteratorPrototype%"){var V=Q("%AsyncGenerator%");V&&(te=x(V.prototype))}return w[ne]=te,te},l={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P=e(58612),S=e(17642),M=P.call(Function.call,Array.prototype.concat),R=P.call(Function.apply,Array.prototype.splice),N=P.call(Function.call,String.prototype.replace),T=P.call(Function.call,String.prototype.slice),A=P.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,Z=function(ne){var te=T(ne,0,1),B=T(ne,-1);if(te==="%"&&B!=="%")throw new m("invalid intrinsic syntax, expected closing `%`");if(B==="%"&&te!=="%")throw new m("invalid intrinsic syntax, expected opening `%`");var V=[];return N(ne,W,function(re,le,ae,q){V[V.length]=ae?N(q,j,"$1"):le||re}),V},J=function(ne,te){var B=ne,V;if(S(l,B)&&(V=l[B],B="%"+V[0]+"%"),S(w,B)){var re=w[B];if(re===E&&(re=a(B)),typeof re=="undefined"&&!te)throw new d("intrinsic "+ne+" exists, but is not available. Please file an issue!");return{alias:V,name:B,value:re}}throw new m("intrinsic "+ne+" does not exist!")};G.exports=function(ne,te){if(typeof ne!="string"||ne.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof te!="boolean")throw new d('"allowMissing" argument must be a boolean');if(A(/^%?[^%]*%?$/,ne)===null)throw new m("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var B=Z(ne),V=B.length>0?B[0]:"",re=J("%"+V+"%",te),le=re.name,ae=re.value,q=!1,oe=re.alias;oe&&(V=oe[0],R(B,M([0,1],oe)));for(var z=1,ie=!0;z<B.length;z+=1){var ue=B[z],de=T(ue,0,1),fe=T(ue,-1);if((de==='"'||de==="'"||de==="`"||fe==='"'||fe==="'"||fe==="`")&&de!==fe)throw new m("property names with quotes must have matching quotes");if((ue==="constructor"||!ie)&&(q=!0),V+="."+ue,le="%"+V+"%",S(w,le))ae=w[le];else if(ae!=null){if(!(ue in ae)){if(!te)throw new d("base intrinsic for "+ne+" exists, but the property is not available.");return}if(y&&z+1>=B.length){var ye=y(ae,ue);ie=!!ye,ie&&"get"in ye&&!("originalValue"in ye.get)?ae=ye.get:ae=ae[ue]}else ie=S(ae,ue),ae=ae[ue];ie&&!q&&(w[le]=ae)}}return ae}},41405:(G,s,e)=>{"use strict";var o=typeof Symbol!="undefined"&&Symbol,m=e(55419);G.exports=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:m()}},55419:G=>{"use strict";G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},o=Symbol("test"),m=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(m)!=="[object Symbol]")return!1;var f=42;e[o]=f;for(o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var d=Object.getOwnPropertySymbols(e);if(d.length!==1||d[0]!==o||!Object.prototype.propertyIsEnumerable.call(e,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(e,o);if(g.value!==f||g.enumerable!==!0)return!1}return!0}},17642:(G,s,e)=>{"use strict";var o=e(58612);G.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},36808:(G,s,e)=>{var o,m;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(f){var d=!1;if(o=f,m=typeof o=="function"?o.call(s,e,s,G):o,m!==void 0&&(G.exports=m),d=!0,G.exports=f(),d=!0,!d){var g=window.Cookies,y=window.Cookies=f();y.noConflict=function(){return window.Cookies=g,y}}})(function(){function f(){for(var g=0,y={};g<arguments.length;g++){var C=arguments[g];for(var v in C)y[v]=C[v]}return y}function d(g){function y(C,v,b){var x;if(typeof document!="undefined"){if(arguments.length>1){if(b=f({path:"/"},y.defaults,b),typeof b.expires=="number"){var E=new Date;E.setMilliseconds(E.getMilliseconds()+b.expires*864e5),b.expires=E}b.expires=b.expires?b.expires.toUTCString():"";try{x=JSON.stringify(v),/^[\{\[]/.test(x)&&(v=x)}catch(R){}g.write?v=g.write(v,C):v=encodeURIComponent(String(v)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),C=encodeURIComponent(String(C)),C=C.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),C=C.replace(/[\(\)]/g,escape);var O="";for(var w in b)b[w]&&(O+="; "+w,b[w]!==!0&&(O+="="+b[w]));return document.cookie=C+"="+v+O}C||(x={});for(var _=document.cookie?document.cookie.split("; "):[],a=/(%[0-9A-Z]{2})+/g,l=0;l<_.length;l++){var P=_[l].split("="),S=P.slice(1).join("=");!this.json&&S.charAt(0)==='"'&&(S=S.slice(1,-1));try{var M=P[0].replace(a,decodeURIComponent);if(S=g.read?g.read(S,M):g(S,M)||S.replace(a,decodeURIComponent),this.json)try{S=JSON.parse(S)}catch(R){}if(C===M){x=S;break}C||(x[M]=S)}catch(R){}}return x}}return y.set=y,y.get=function(C){return y.call(y,C)},y.getJSON=function(){return y.apply({json:!0},[].slice.call(arguments))},y.defaults={},y.remove=function(C,v){y(C,"",f(v,{expires:-1}))},y.withConverter=d,y}return d(function(){})})},3312:G=>{"use strict";const s={},e=s.hasOwnProperty,o=(T,A)=>{for(const W in T)e.call(T,W)&&A(W,T[W])},m=(T,A)=>(A&&o(A,(W,j)=>{T[W]=j}),T),f=(T,A)=>{const W=T.length;let j=-1;for(;++j<W;)A(T[j])},d=T=>"\\u"+("0000"+T).slice(-4),g=(T,A)=>{let W=T.toString(16);return A?W:W.toUpperCase()},y=s.toString,C=Array.isArray,v=T=>typeof Buffer=="function"&&Buffer.isBuffer(T),b=T=>y.call(T)=="[object Object]",x=T=>typeof T=="string"||y.call(T)=="[object String]",E=T=>typeof T=="number"||y.call(T)=="[object Number]",O=T=>typeof T=="function",w=T=>y.call(T)=="[object Map]",_=T=>y.call(T)=="[object Set]",a={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},l=/[\\\b\f\n\r\t]/,P=/[0-9]/,S=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,M=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,R=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,N=(T,A)=>{const W=()=>{B=te,++A.indentLevel,te=A.indent.repeat(A.indentLevel)},j={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},Z=A&&A.json;Z&&(j.quotes="double",j.wrap=!0),A=m(j,A),A.quotes!="single"&&A.quotes!="double"&&A.quotes!="backtick"&&(A.quotes="single");const J=A.quotes=="double"?'"':A.quotes=="backtick"?"`":"'",Q=A.compact,ne=A.lowercaseHex;let te=A.indent.repeat(A.indentLevel),B="";const V=A.__inline1__,re=A.__inline2__,le=Q?"":`
`;let ae,q=!0;const oe=A.numbers=="binary",z=A.numbers=="octal",ie=A.numbers=="decimal",ue=A.numbers=="hexadecimal";if(Z&&T&&O(T.toJSON)&&(T=T.toJSON()),!x(T)){if(w(T))return T.size==0?"new Map()":(Q||(A.__inline1__=!0,A.__inline2__=!1),"new Map("+N(Array.from(T),A)+")");if(_(T))return T.size==0?"new Set()":"new Set("+N(Array.from(T),A)+")";if(v(T))return T.length==0?"Buffer.from([])":"Buffer.from("+N(Array.from(T),A)+")";if(C(T))return ae=[],A.wrap=!0,V&&(A.__inline1__=!1,A.__inline2__=!0),re||W(),f(T,fe=>{q=!1,re&&(A.__inline2__=!1),ae.push((Q||re?"":te)+N(fe,A))}),q?"[]":re?"["+ae.join(", ")+"]":"["+le+ae.join(","+le)+le+(Q?"":B)+"]";if(E(T)){if(Z)return JSON.stringify(T);if(ie)return String(T);if(ue){let fe=T.toString(16);return ne||(fe=fe.toUpperCase()),"0x"+fe}if(oe)return"0b"+T.toString(2);if(z)return"0o"+T.toString(8)}else return b(T)?(ae=[],A.wrap=!0,W(),o(T,(fe,ye)=>{q=!1,ae.push((Q?"":te)+N(fe,A)+":"+(Q?"":" ")+N(ye,A))}),q?"{}":"{"+le+ae.join(","+le)+le+(Q?"":B)+"}"):Z?JSON.stringify(T)||"null":String(T)}const de=A.escapeEverything?M:R;return ae=T.replace(de,(fe,ye,pe,we,Me,je)=>{if(ye){if(A.minimal)return ye;const me=ye.charCodeAt(0),ce=ye.charCodeAt(1);if(A.es6){const ge=(me-55296)*1024+ce-56320+65536;return"\\u{"+g(ge,ne)+"}"}return d(g(me,ne))+d(g(ce,ne))}if(pe)return d(g(pe.charCodeAt(0),ne));if(fe=="\0"&&!Z&&!P.test(je.charAt(Me+1)))return"\\0";if(we)return we==J||A.escapeEverything?"\\"+we:we;if(l.test(fe))return a[fe];if(A.minimal&&!S.test(fe))return fe;const De=g(fe.charCodeAt(0),ne);return Z||De.length>2?d(De):"\\x"+("00"+De).slice(-2)}),J=="`"&&(ae=ae.replace(/\$\{/g,"\\${")),A.isScriptContext&&(ae=ae.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,Z?"\\u003C!--":"\\x3C!--")),A.wrap&&(ae=J+ae+J),ae};N.version="3.0.2",G.exports=N},23059:(G,s)=>{function e(o){if(typeof o!="object")return o;var m,f,d=Object.prototype.toString.call(o);if(d==="[object Object]"){if(o.constructor!==Object&&typeof o.constructor=="function"){f=new o.constructor;for(m in o)o.hasOwnProperty(m)&&f[m]!==o[m]&&(f[m]=e(o[m]))}else{f={};for(m in o)m==="__proto__"?Object.defineProperty(f,m,{value:e(o[m]),configurable:!0,enumerable:!0,writable:!0}):f[m]=e(o[m])}return f}if(d==="[object Array]"){for(m=o.length,f=Array(m);m--;)f[m]=e(o[m]);return f}return d==="[object Set]"?(f=new Set,o.forEach(function(g){f.add(e(g))}),f):d==="[object Map]"?(f=new Map,o.forEach(function(g,y){f.set(e(y),e(g))}),f):d==="[object Date]"?new Date(+o):d==="[object RegExp]"?(f=new RegExp(o.source,o.flags),f.lastIndex=o.lastIndex,f):d==="[object DataView]"?new o.constructor(e(o.buffer)):d==="[object ArrayBuffer]"?o.slice(0):d.slice(-6)==="Array]"?new o.constructor(o):o}s.klona=e},25235:(G,s,e)=>{G.exports=e(8425)},87100:(G,s,e)=>{"use strict";var o;o=!0;var m=e(98661),f=C(m),d=e(8425),g=y(d);function y(l){if(l&&l.__esModule)return l;var P={};if(l!=null)for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(P[S]=l[S]);return P.default=l,P}function C(l){return l&&l.__esModule?l:{default:l}}function v(l,P){if(!(l instanceof P))throw new TypeError("Cannot call a class as a function")}function b(l,P){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:l}function x(l,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);l.prototype=Object.create(P&&P.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(l,P):l.__proto__=P)}var E=g.options,O=E.Options;function w(l,P){for(var S=g.tokenize(l),M=[],R=0,N=0;N<S.length;N++){var T=S[N];if(T.type==="nl"&&P.nl2br){M.push(f.default.createElement("br",{key:"linkified-"+ ++R}));continue}else if(!T.isLink||!P.check(T)){M.push(T.toString());continue}var A=P.resolve(T),W=A.formatted,j=A.formattedHref,Z=A.tagName,J=A.className,Q=A.target,ne=A.attributes,te={key:"linkified-"+ ++R,href:j};if(J&&(te.className=J),Q&&(te.target=Q),ne)for(var B in ne)te[B]=ne[B];M.push(f.default.createElement(Z,te,W))}return M}function _(l,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(f.default.Children.count(l.props.children)===0)return l;var M=[];f.default.Children.forEach(l.props.children,function(T){typeof T=="string"?(S=S+1,M.push.apply(M,w(T,P))):f.default.isValidElement(T)?typeof T.type=="string"&&E.contains(P.ignoreTags,T.type.toUpperCase())?M.push(T):M.push(_(T,P,++S)):M.push(T)});var R={key:"linkified-element-"+S};for(var N in l.props)R[N]=l.props[N];return f.default.cloneElement(l,R,M)}var a=function(l){x(P,l);function P(){return v(this,P),b(this,l.apply(this,arguments))}return P.prototype.render=function(){var M={key:"linkified-element-0"};for(var R in this.props)R!=="options"&&R!=="tagName"&&(M[R]=this.props[R]);var N=new O(this.props.options),T=this.props.tagName||"span",A=f.default.createElement(T,M);return _(A,N,0)},P}(f.default.Component);s.default=a},8425:(G,s,e)=>{"use strict";s.__esModule=!0,s.tokenize=s.test=s.scanner=s.parser=s.options=s.inherits=s.find=void 0;var o=e(72227),m=e(47951),f=v(m),d=e(6417),g=v(d),y=e(45788),C=v(y);function v(O){if(O&&O.__esModule)return O;var w={};if(O!=null)for(var _ in O)Object.prototype.hasOwnProperty.call(O,_)&&(w[_]=O[_]);return w.default=O,w}Array.isArray||(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"});var b=function(w){return C.run(g.run(w))},x=function(w){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=b(w),l=[],P=0;P<a.length;P++){var S=a[P];S.isLink&&(!_||S.type===_)&&l.push(S.toObject())}return l},E=function(w){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=b(w);return a.length===1&&a[0].isLink&&(!_||a[0].type===_)};s.find=x,s.inherits=o.inherits,s.options=f,s.parser=C,s.scanner=g,s.test=E,s.tokenize=b},45788:(G,s,e)=>{"use strict";s.__esModule=!0,s.start=s.run=s.TOKENS=s.State=void 0;var o=e(25439),m=e(23370),f=g(m),d=e(63333);function g(Me){if(Me&&Me.__esModule)return Me;var je={};if(Me!=null)for(var De in Me)Object.prototype.hasOwnProperty.call(Me,De)&&(je[De]=Me[De]);return je.default=Me,je}var y=function(je){return new o.TokenState(je)},C=y(),v=y(),b=y(),x=y(),E=y(),O=y(),w=y(),_=y(m.URL),a=y(),l=y(m.URL),P=y(m.URL),S=y(),M=y(),R=y(),N=y(),T=y(),A=y(m.URL),W=y(m.URL),j=y(m.URL),Z=y(m.URL),J=y(),Q=y(),ne=y(),te=y(),B=y(),V=y(),re=y(m.EMAIL),le=y(),ae=y(m.EMAIL),q=y(m.MAILTOEMAIL),oe=y(),z=y(),ie=y(),ue=y(),de=y(m.NL);C.on(d.NL,de).on(d.PROTOCOL,v).on(d.MAILTO,b).on(d.SLASH,x),v.on(d.SLASH,x),x.on(d.SLASH,E),C.on(d.TLD,O).on(d.DOMAIN,O).on(d.LOCALHOST,_).on(d.NUM,O),E.on(d.TLD,P).on(d.DOMAIN,P).on(d.NUM,P).on(d.LOCALHOST,P),O.on(d.DOT,w),B.on(d.DOT,V),w.on(d.TLD,_).on(d.DOMAIN,O).on(d.NUM,O).on(d.LOCALHOST,O),V.on(d.TLD,re).on(d.DOMAIN,B).on(d.NUM,B).on(d.LOCALHOST,B),_.on(d.DOT,w),re.on(d.DOT,V),_.on(d.COLON,a).on(d.SLASH,P),a.on(d.NUM,l),l.on(d.SLASH,P),re.on(d.COLON,le),le.on(d.NUM,ae);var fe=[d.DOMAIN,d.AT,d.LOCALHOST,d.NUM,d.PLUS,d.POUND,d.PROTOCOL,d.SLASH,d.TLD,d.UNDERSCORE,d.SYM,d.AMPERSAND],ye=[d.COLON,d.DOT,d.QUERY,d.PUNCTUATION,d.CLOSEBRACE,d.CLOSEBRACKET,d.CLOSEANGLEBRACKET,d.CLOSEPAREN,d.OPENBRACE,d.OPENBRACKET,d.OPENANGLEBRACKET,d.OPENPAREN];P.on(d.OPENBRACE,M).on(d.OPENBRACKET,R).on(d.OPENANGLEBRACKET,N).on(d.OPENPAREN,T),S.on(d.OPENBRACE,M).on(d.OPENBRACKET,R).on(d.OPENANGLEBRACKET,N).on(d.OPENPAREN,T),M.on(d.CLOSEBRACE,P),R.on(d.CLOSEBRACKET,P),N.on(d.CLOSEANGLEBRACKET,P),T.on(d.CLOSEPAREN,P),A.on(d.CLOSEBRACE,P),W.on(d.CLOSEBRACKET,P),j.on(d.CLOSEANGLEBRACKET,P),Z.on(d.CLOSEPAREN,P),J.on(d.CLOSEBRACE,P),Q.on(d.CLOSEBRACKET,P),ne.on(d.CLOSEANGLEBRACKET,P),te.on(d.CLOSEPAREN,P),M.on(fe,A),R.on(fe,W),N.on(fe,j),T.on(fe,Z),M.on(ye,J),R.on(ye,Q),N.on(ye,ne),T.on(ye,te),A.on(fe,A),W.on(fe,W),j.on(fe,j),Z.on(fe,Z),A.on(ye,A),W.on(ye,W),j.on(ye,j),Z.on(ye,Z),J.on(fe,A),Q.on(fe,W),ne.on(fe,j),te.on(fe,Z),J.on(ye,J),Q.on(ye,Q),ne.on(ye,ne),te.on(ye,te),P.on(fe,P),S.on(fe,P),P.on(ye,S),S.on(ye,S),b.on(d.TLD,q).on(d.DOMAIN,q).on(d.NUM,q).on(d.LOCALHOST,q),q.on(fe,q).on(ye,oe),oe.on(fe,q).on(ye,oe);var pe=[d.DOMAIN,d.NUM,d.PLUS,d.POUND,d.QUERY,d.UNDERSCORE,d.SYM,d.AMPERSAND,d.TLD];O.on(pe,z).on(d.AT,ie),_.on(pe,z).on(d.AT,ie),w.on(pe,z),z.on(pe,z).on(d.AT,ie).on(d.DOT,ue),ue.on(pe,z),ie.on(d.TLD,B).on(d.DOMAIN,B).on(d.LOCALHOST,re);var we=function(je){for(var De=je.length,me=0,ce=[],ge=[];me<De;){for(var Ie=C,Re=null,Ke=null,ut=0,_t=null,ft=-1;me<De&&!(Re=Ie.next(je[me]));)ge.push(je[me++]);for(;me<De&&(Ke=Re||Ie.next(je[me]));)Re=null,Ie=Ke,Ie.accepts()?(ft=0,_t=Ie):ft>=0&&ft++,me++,ut++;if(ft<0)for(var We=me-ut;We<me;We++)ge.push(je[We]);else{ge.length>0&&(ce.push(new m.TEXT(ge)),ge=[]),me-=ft,ut-=ft;var Be=_t.emit();ce.push(new Be(je.slice(me-ut,me)))}}return ge.length>0&&ce.push(new m.TEXT(ge)),ce};s.State=o.TokenState,s.TOKENS=f,s.run=we,s.start=C},6417:(G,s,e)=>{"use strict";s.__esModule=!0,s.start=s.run=s.TOKENS=s.State=void 0;var o=e(25439),m=e(63333),f=d(m);function d(re){if(re&&re.__esModule)return re;var le={};if(re!=null)for(var ae in re)Object.prototype.hasOwnProperty.call(re,ae)&&(le[ae]=re[ae]);return le.default=re,le}var g="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),y="0123456789".split(""),C="0123456789abcdefghijklmnopqrstuvwxyz".split(""),v=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],b=[],x=function(le){return new o.CharacterState(le)},E=x(),O=x(m.NUM),w=x(m.DOMAIN),_=x(),a=x(m.WS);E.on("@",x(m.AT)).on(".",x(m.DOT)).on("+",x(m.PLUS)).on("#",x(m.POUND)).on("?",x(m.QUERY)).on("/",x(m.SLASH)).on("_",x(m.UNDERSCORE)).on(":",x(m.COLON)).on("{",x(m.OPENBRACE)).on("[",x(m.OPENBRACKET)).on("<",x(m.OPENANGLEBRACKET)).on("(",x(m.OPENPAREN)).on("}",x(m.CLOSEBRACE)).on("]",x(m.CLOSEBRACKET)).on(">",x(m.CLOSEANGLEBRACKET)).on(")",x(m.CLOSEPAREN)).on("&",x(m.AMPERSAND)).on([",",";","!",'"',"'"],x(m.PUNCTUATION)),E.on(`
`,x(m.NL)).on(v,a),a.on(v,a);for(var l=0;l<g.length;l++){var P=(0,o.stateify)(g[l],E,m.TLD,m.DOMAIN);b.push.apply(b,P)}var S=(0,o.stateify)("file",E,m.DOMAIN,m.DOMAIN),M=(0,o.stateify)("ftp",E,m.DOMAIN,m.DOMAIN),R=(0,o.stateify)("http",E,m.DOMAIN,m.DOMAIN),N=(0,o.stateify)("mailto",E,m.DOMAIN,m.DOMAIN);b.push.apply(b,S),b.push.apply(b,M),b.push.apply(b,R),b.push.apply(b,N);var T=S.pop(),A=M.pop(),W=R.pop(),j=N.pop(),Z=x(m.DOMAIN),J=x(m.PROTOCOL),Q=x(m.MAILTO);A.on("s",Z).on(":",J),W.on("s",Z).on(":",J),b.push(Z),T.on(":",J),Z.on(":",J),j.on(":",Q);var ne=(0,o.stateify)("localhost",E,m.LOCALHOST,m.DOMAIN);b.push.apply(b,ne),E.on(y,O),O.on("-",_).on(y,O).on(C,w),w.on("-",_).on(C,w);for(var te=0;te<b.length;te++)b[te].on("-",_).on(C,w);_.on("-",_).on(y,w).on(C,w),E.defaultTransition=x(m.SYM);var B=function(le){for(var ae=le.replace(/[A-Z]/g,function(we){return we.toLowerCase()}),q=le.length,oe=[],z=0;z<q;){for(var ie=E,ue=null,de=0,fe=null,ye=-1;z<q&&(ue=ie.next(ae[z]));)ie=ue,ie.accepts()?(ye=0,fe=ie):ye>=0&&ye++,de++,z++;if(!(ye<0)){z-=ye,de-=ye;var pe=fe.emit();oe.push(new pe(le.substr(z-de,de)))}}return oe},V=E;s.State=o.CharacterState,s.TOKENS=f,s.run=B,s.start=V},25439:(G,s,e)=>{"use strict";s.__esModule=!0,s.stateify=s.TokenState=s.CharacterState=void 0;var o=e(72227);function m(){return function(C){this.j=[],this.T=C||null}}var f=m();f.prototype={defaultTransition:!1,on:function(v,b){if(v instanceof Array){for(var x=0;x<v.length;x++)this.j.push([v[x],b]);return this}return this.j.push([v,b]),this},next:function(v){for(var b=0;b<this.j.length;b++){var x=this.j[b],E=x[0],O=x[1];if(this.test(v,E))return O}return this.defaultTransition},accepts:function(){return!!this.T},test:function(v,b){return v===b},emit:function(){return this.T}};var d=(0,o.inherits)(f,m(),{test:function(v,b){return v===b||b instanceof RegExp&&b.test(v)}}),g=(0,o.inherits)(f,m(),{jump:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=this.next(new v(""));return x===this.defaultTransition?(x=new this.constructor(b),this.on(v,x)):b&&(x.T=b),x},test:function(v,b){return v instanceof b}});function y(C,v,b,x){for(var E=0,O=C.length,w=v,_=[],a=void 0;E<O&&(a=w.next(C[E]));)w=a,E++;if(E>=O)return[];for(;E<O-1;)a=new d(x),_.push(a),w.on(C[E],a),w=a,E++;return a=new d(b),_.push(a),w.on(C[O-1],a),_}s.CharacterState=d,s.TokenState=g,s.stateify=y},9770:(G,s)=>{"use strict";s.__esModule=!0;function e(){return function(o){o&&(this.v=o)}}s.createTokenClass=e},23370:(G,s,e)=>{"use strict";s.__esModule=!0,s.URL=s.TEXT=s.NL=s.EMAIL=s.MAILTOEMAIL=s.Base=void 0;var o=e(9770),m=e(72227),f=e(63333);function d(E){return E instanceof f.DOMAIN||E instanceof f.TLD}var g=(0,o.createTokenClass)();g.prototype={type:"token",isLink:!1,toString:function(){for(var O=[],w=0;w<this.v.length;w++)O.push(this.v[w].toString());return O.join("")},toHref:function(){return this.toString()},toObject:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(O)}}};var y=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"email",isLink:!0}),C=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),v=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"text"}),b=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"nl"}),x=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",w=!1,_=!1,a=this.v,l=[],P=0;a[P]instanceof f.PROTOCOL;)w=!0,l.push(a[P].toString().toLowerCase()),P++;for(;a[P]instanceof f.SLASH;)_=!0,l.push(a[P].toString()),P++;for(;d(a[P]);)l.push(a[P].toString().toLowerCase()),P++;for(;P<a.length;P++)l.push(a[P].toString());return l=l.join(""),w||_||(l=O+"://"+l),l},hasProtocol:function(){return this.v[0]instanceof f.PROTOCOL}});s.Base=g,s.MAILTOEMAIL=y,s.EMAIL=C,s.NL=b,s.TEXT=v,s.URL=x},63333:(G,s,e)=>{"use strict";s.__esModule=!0,s.AMPERSAND=s.CLOSEPAREN=s.CLOSEANGLEBRACKET=s.CLOSEBRACKET=s.CLOSEBRACE=s.OPENPAREN=s.OPENANGLEBRACKET=s.OPENBRACKET=s.OPENBRACE=s.WS=s.TLD=s.SYM=s.UNDERSCORE=s.SLASH=s.MAILTO=s.PROTOCOL=s.QUERY=s.POUND=s.PLUS=s.NUM=s.NL=s.LOCALHOST=s.PUNCTUATION=s.DOT=s.COLON=s.AT=s.DOMAIN=s.Base=void 0;var o=e(9770),m=e(72227),f=(0,o.createTokenClass)();f.prototype={toString:function(){return this.v+""}};function d(V){var re=V?{v:V}:{};return(0,m.inherits)(f,(0,o.createTokenClass)(),re)}var g=d(),y=d("@"),C=d(":"),v=d("."),b=d(),x=d(),E=d(`
`),O=d(),w=d("+"),_=d("#"),a=d(),l=d("mailto:"),P=d("?"),S=d("/"),M=d("_"),R=d(),N=d(),T=d(),A=d("{"),W=d("["),j=d("<"),Z=d("("),J=d("}"),Q=d("]"),ne=d(">"),te=d(")"),B=d("&");s.Base=f,s.DOMAIN=g,s.AT=y,s.COLON=C,s.DOT=v,s.PUNCTUATION=b,s.LOCALHOST=x,s.NL=E,s.NUM=O,s.PLUS=w,s.POUND=_,s.QUERY=P,s.PROTOCOL=a,s.MAILTO=l,s.SLASH=S,s.UNDERSCORE=M,s.SYM=R,s.TLD=N,s.WS=T,s.OPENBRACE=A,s.OPENBRACKET=W,s.OPENANGLEBRACKET=j,s.OPENPAREN=Z,s.CLOSEBRACE=J,s.CLOSEBRACKET=Q,s.CLOSEANGLEBRACKET=ne,s.CLOSEPAREN=te,s.AMPERSAND=B},72227:(G,s)=>{"use strict";s.__esModule=!0,s.inherits=e;function e(o,m){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=Object.create(o.prototype);for(var g in f)d[g]=f[g];return d.constructor=m,m.prototype=d,m}},47951:(G,s)=>{"use strict";s.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},o={defaultProtocol:"http",events:null,format:d,formatHref:d,nl2br:!1,tagName:"a",target:g,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};s.defaults=o,s.Options=m,s.contains=f;function m(y){y=y||{},this.defaultProtocol=y.hasOwnProperty("defaultProtocol")?y.defaultProtocol:o.defaultProtocol,this.events=y.hasOwnProperty("events")?y.events:o.events,this.format=y.hasOwnProperty("format")?y.format:o.format,this.formatHref=y.hasOwnProperty("formatHref")?y.formatHref:o.formatHref,this.nl2br=y.hasOwnProperty("nl2br")?y.nl2br:o.nl2br,this.tagName=y.hasOwnProperty("tagName")?y.tagName:o.tagName,this.target=y.hasOwnProperty("target")?y.target:o.target,this.validate=y.hasOwnProperty("validate")?y.validate:o.validate,this.ignoreTags=[],this.attributes=y.attributes||y.linkAttributes||o.attributes,this.className=y.hasOwnProperty("className")?y.className:y.linkClass||o.className;for(var C=y.hasOwnProperty("ignoreTags")?y.ignoreTags:o.ignoreTags,v=0;v<C.length;v++)this.ignoreTags.push(C[v].toUpperCase())}m.prototype={resolve:function(C){var v=C.toHref(this.defaultProtocol);return{formatted:this.get("format",C.toString(),C),formattedHref:this.get("formatHref",v,C),tagName:this.get("tagName",v,C),className:this.get("className",v,C),target:this.get("target",v,C),events:this.getObject("events",v,C),attributes:this.getObject("attributes",v,C)}},check:function(C){return this.get("validate",C.toString(),C)},get:function(C,v,b){var x=void 0,E=this[C];if(!E)return E;switch(typeof E=="undefined"?"undefined":e(E)){case"function":return E(v,b.type);case"object":return x=E.hasOwnProperty(b.type)?E[b.type]:o[C],typeof x=="function"?x(v,b.type):x}return E},getObject:function(C,v,b){var x=this[C];return typeof x=="function"?x(v,b.type):x}};function f(y,C){for(var v=0;v<y.length;v++)if(y[v]===C)return!0;return!1}function d(y){return y}function g(y,C){return C==="url"?"_blank":null}},28175:(G,s,e)=>{G.exports=e(87100).default},18552:(G,s,e)=>{var o=e(10852),m=e(55639),f=o(m,"DataView");G.exports=f},1989:(G,s,e)=>{var o=e(51789),m=e(80401),f=e(57667),d=e(21327),g=e(81866);function y(C){var v=-1,b=C==null?0:C.length;for(this.clear();++v<b;){var x=C[v];this.set(x[0],x[1])}}y.prototype.clear=o,y.prototype.delete=m,y.prototype.get=f,y.prototype.has=d,y.prototype.set=g,G.exports=y},38407:(G,s,e)=>{var o=e(27040),m=e(14125),f=e(82117),d=e(67518),g=e(54705);function y(C){var v=-1,b=C==null?0:C.length;for(this.clear();++v<b;){var x=C[v];this.set(x[0],x[1])}}y.prototype.clear=o,y.prototype.delete=m,y.prototype.get=f,y.prototype.has=d,y.prototype.set=g,G.exports=y},57071:(G,s,e)=>{var o=e(10852),m=e(55639),f=o(m,"Map");G.exports=f},83369:(G,s,e)=>{var o=e(24785),m=e(11285),f=e(96e3),d=e(49916),g=e(95265);function y(C){var v=-1,b=C==null?0:C.length;for(this.clear();++v<b;){var x=C[v];this.set(x[0],x[1])}}y.prototype.clear=o,y.prototype.delete=m,y.prototype.get=f,y.prototype.has=d,y.prototype.set=g,G.exports=y},53818:(G,s,e)=>{var o=e(10852),m=e(55639),f=o(m,"Promise");G.exports=f},58525:(G,s,e)=>{var o=e(10852),m=e(55639),f=o(m,"Set");G.exports=f},88668:(G,s,e)=>{var o=e(83369),m=e(90619),f=e(72385);function d(g){var y=-1,C=g==null?0:g.length;for(this.__data__=new o;++y<C;)this.add(g[y])}d.prototype.add=d.prototype.push=m,d.prototype.has=f,G.exports=d},46384:(G,s,e)=>{var o=e(38407),m=e(37465),f=e(63779),d=e(67599),g=e(44758),y=e(34309);function C(v){var b=this.__data__=new o(v);this.size=b.size}C.prototype.clear=m,C.prototype.delete=f,C.prototype.get=d,C.prototype.has=g,C.prototype.set=y,G.exports=C},62705:(G,s,e)=>{var o=e(55639),m=o.Symbol;G.exports=m},11149:(G,s,e)=>{var o=e(55639),m=o.Uint8Array;G.exports=m},70577:(G,s,e)=>{var o=e(10852),m=e(55639),f=o(m,"WeakMap");G.exports=f},96874:G=>{function s(e,o,m){switch(m.length){case 0:return e.call(o);case 1:return e.call(o,m[0]);case 2:return e.call(o,m[0],m[1]);case 3:return e.call(o,m[0],m[1],m[2])}return e.apply(o,m)}G.exports=s},44174:G=>{function s(e,o,m,f){for(var d=-1,g=e==null?0:e.length;++d<g;){var y=e[d];o(f,y,m(y),e)}return f}G.exports=s},34963:G=>{function s(e,o){for(var m=-1,f=e==null?0:e.length,d=0,g=[];++m<f;){var y=e[m];o(y,m,e)&&(g[d++]=y)}return g}G.exports=s},47443:(G,s,e)=>{var o=e(42118);function m(f,d){var g=f==null?0:f.length;return!!g&&o(f,d,0)>-1}G.exports=m},1196:G=>{function s(e,o,m){for(var f=-1,d=e==null?0:e.length;++f<d;)if(m(o,e[f]))return!0;return!1}G.exports=s},14636:(G,s,e)=>{var o=e(22545),m=e(35694),f=e(1469),d=e(44144),g=e(65776),y=e(36719),C=Object.prototype,v=C.hasOwnProperty;function b(x,E){var O=f(x),w=!O&&m(x),_=!O&&!w&&d(x),a=!O&&!w&&!_&&y(x),l=O||w||_||a,P=l?o(x.length,String):[],S=P.length;for(var M in x)(E||v.call(x,M))&&!(l&&(M=="length"||_&&(M=="offset"||M=="parent")||a&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||g(M,S)))&&P.push(M);return P}G.exports=b},29932:G=>{function s(e,o){for(var m=-1,f=e==null?0:e.length,d=Array(f);++m<f;)d[m]=o(e[m],m,e);return d}G.exports=s},62488:G=>{function s(e,o){for(var m=-1,f=o.length,d=e.length;++m<f;)e[d+m]=o[m];return e}G.exports=s},82908:G=>{function s(e,o){for(var m=-1,f=e==null?0:e.length;++m<f;)if(o(e[m],m,e))return!0;return!1}G.exports=s},34865:(G,s,e)=>{var o=e(89465),m=e(77813),f=Object.prototype,d=f.hasOwnProperty;function g(y,C,v){var b=y[C];(!(d.call(y,C)&&m(b,v))||v===void 0&&!(C in y))&&o(y,C,v)}G.exports=g},18470:(G,s,e)=>{var o=e(77813);function m(f,d){for(var g=f.length;g--;)if(o(f[g][0],d))return g;return-1}G.exports=m},81119:(G,s,e)=>{var o=e(89881);function m(f,d,g,y){return o(f,function(C,v,b){d(y,C,g(C),b)}),y}G.exports=m},89465:(G,s,e)=>{var o=e(38777);function m(f,d,g){d=="__proto__"&&o?o(f,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):f[d]=g}G.exports=m},20731:(G,s,e)=>{var o=e(88668),m=e(47443),f=e(1196),d=e(29932),g=e(7518),y=e(74757),C=200;function v(b,x,E,O){var w=-1,_=m,a=!0,l=b.length,P=[],S=x.length;if(!l)return P;E&&(x=d(x,g(E))),O?(_=f,a=!1):x.length>=C&&(_=y,a=!1,x=new o(x));e:for(;++w<l;){var M=b[w],R=E==null?M:E(M);if(M=O||M!==0?M:0,a&&R===R){for(var N=S;N--;)if(x[N]===R)continue e;P.push(M)}else _(x,R,O)||P.push(M)}return P}G.exports=v},89881:(G,s,e)=>{var o=e(47816),m=e(99291),f=m(o);G.exports=f},56029:(G,s,e)=>{var o=e(33448);function m(f,d,g){for(var y=-1,C=f.length;++y<C;){var v=f[y],b=d(v);if(b!=null&&(x===void 0?b===b&&!o(b):g(b,x)))var x=b,E=v}return E}G.exports=m},41848:G=>{function s(e,o,m,f){for(var d=e.length,g=m+(f?1:-1);f?g--:++g<d;)if(o(e[g],g,e))return g;return-1}G.exports=s},21078:(G,s,e)=>{var o=e(62488),m=e(37285);function f(d,g,y,C,v){var b=-1,x=d.length;for(y||(y=m),v||(v=[]);++b<x;){var E=d[b];g>0&&y(E)?g>1?f(E,g-1,y,C,v):o(v,E):C||(v[v.length]=E)}return v}G.exports=f},28483:(G,s,e)=>{var o=e(25063),m=o();G.exports=m},47816:(G,s,e)=>{var o=e(28483),m=e(3674);function f(d,g){return d&&o(d,g,m)}G.exports=f},97786:(G,s,e)=>{var o=e(71811),m=e(40327);function f(d,g){g=o(g,d);for(var y=0,C=g.length;d!=null&&y<C;)d=d[m(g[y++])];return y&&y==C?d:void 0}G.exports=f},68866:(G,s,e)=>{var o=e(62488),m=e(1469);function f(d,g,y){var C=g(d);return m(d)?C:o(C,y(d))}G.exports=f},44239:(G,s,e)=>{var o=e(62705),m=e(89607),f=e(2333),d="[object Null]",g="[object Undefined]",y=o?o.toStringTag:void 0;function C(v){return v==null?v===void 0?g:d:y&&y in Object(v)?m(v):f(v)}G.exports=C},53325:G=>{function s(e,o){return e>o}G.exports=s},13:G=>{function s(e,o){return e!=null&&o in Object(e)}G.exports=s},42118:(G,s,e)=>{var o=e(41848),m=e(62722),f=e(42351);function d(g,y,C){return y===y?f(g,y,C):o(g,m,C)}G.exports=d},9454:(G,s,e)=>{var o=e(44239),m=e(37005),f="[object Arguments]";function d(g){return m(g)&&o(g)==f}G.exports=d},90939:(G,s,e)=>{var o=e(2492),m=e(37005);function f(d,g,y,C,v){return d===g?!0:d==null||g==null||!m(d)&&!m(g)?d!==d&&g!==g:o(d,g,y,C,f,v)}G.exports=f},2492:(G,s,e)=>{var o=e(46384),m=e(67114),f=e(18351),d=e(16096),g=e(64160),y=e(1469),C=e(44144),v=e(36719),b=1,x="[object Arguments]",E="[object Array]",O="[object Object]",w=Object.prototype,_=w.hasOwnProperty;function a(l,P,S,M,R,N){var T=y(l),A=y(P),W=T?E:g(l),j=A?E:g(P);W=W==x?O:W,j=j==x?O:j;var Z=W==O,J=j==O,Q=W==j;if(Q&&C(l)){if(!C(P))return!1;T=!0,Z=!1}if(Q&&!Z)return N||(N=new o),T||v(l)?m(l,P,S,M,R,N):f(l,P,W,S,M,R,N);if(!(S&b)){var ne=Z&&_.call(l,"__wrapped__"),te=J&&_.call(P,"__wrapped__");if(ne||te){var B=ne?l.value():l,V=te?P.value():P;return N||(N=new o),R(B,V,S,M,N)}}return Q?(N||(N=new o),d(l,P,S,M,R,N)):!1}G.exports=a},2958:(G,s,e)=>{var o=e(46384),m=e(90939),f=1,d=2;function g(y,C,v,b){var x=v.length,E=x,O=!b;if(y==null)return!E;for(y=Object(y);x--;){var w=v[x];if(O&&w[2]?w[1]!==y[w[0]]:!(w[0]in y))return!1}for(;++x<E;){w=v[x];var _=w[0],a=y[_],l=w[1];if(O&&w[2]){if(a===void 0&&!(_ in y))return!1}else{var P=new o;if(b)var S=b(a,l,_,y,C,P);if(!(S===void 0?m(l,a,f|d,b,P):S))return!1}}return!0}G.exports=g},62722:G=>{function s(e){return e!==e}G.exports=s},28458:(G,s,e)=>{var o=e(23560),m=e(15346),f=e(13218),d=e(80346),g=/[\\^$.*+?()[\]{}|]/g,y=/^\[object .+?Constructor\]$/,C=Function.prototype,v=Object.prototype,b=C.toString,x=v.hasOwnProperty,E=RegExp("^"+b.call(x).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O(w){if(!f(w)||m(w))return!1;var _=o(w)?E:y;return _.test(d(w))}G.exports=O},38749:(G,s,e)=>{var o=e(44239),m=e(41780),f=e(37005),d="[object Arguments]",g="[object Array]",y="[object Boolean]",C="[object Date]",v="[object Error]",b="[object Function]",x="[object Map]",E="[object Number]",O="[object Object]",w="[object RegExp]",_="[object Set]",a="[object String]",l="[object WeakMap]",P="[object ArrayBuffer]",S="[object DataView]",M="[object Float32Array]",R="[object Float64Array]",N="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",W="[object Uint8Array]",j="[object Uint8ClampedArray]",Z="[object Uint16Array]",J="[object Uint32Array]",Q={};Q[M]=Q[R]=Q[N]=Q[T]=Q[A]=Q[W]=Q[j]=Q[Z]=Q[J]=!0,Q[d]=Q[g]=Q[P]=Q[y]=Q[S]=Q[C]=Q[v]=Q[b]=Q[x]=Q[E]=Q[O]=Q[w]=Q[_]=Q[a]=Q[l]=!1;function ne(te){return f(te)&&m(te.length)&&!!Q[o(te)]}G.exports=ne},67206:(G,s,e)=>{var o=e(91573),m=e(16432),f=e(6557),d=e(1469),g=e(39601);function y(C){return typeof C=="function"?C:C==null?f:typeof C=="object"?d(C)?m(C[0],C[1]):o(C):g(C)}G.exports=y},280:(G,s,e)=>{var o=e(25726),m=e(86916),f=Object.prototype,d=f.hasOwnProperty;function g(y){if(!o(y))return m(y);var C=[];for(var v in Object(y))d.call(y,v)&&v!="constructor"&&C.push(v);return C}G.exports=g},69199:(G,s,e)=>{var o=e(89881),m=e(98612);function f(d,g){var y=-1,C=m(d)?Array(d.length):[];return o(d,function(v,b,x){C[++y]=g(v,b,x)}),C}G.exports=f},91573:(G,s,e)=>{var o=e(2958),m=e(1499),f=e(42634);function d(g){var y=m(g);return y.length==1&&y[0][2]?f(y[0][0],y[0][1]):function(C){return C===g||o(C,g,y)}}G.exports=d},16432:(G,s,e)=>{var o=e(90939),m=e(27361),f=e(79095),d=e(15403),g=e(89162),y=e(42634),C=e(40327),v=1,b=2;function x(E,O){return d(E)&&g(O)?y(C(E),O):function(w){var _=m(w,E);return _===void 0&&_===O?f(w,E):o(O,_,v|b)}}G.exports=x},82689:(G,s,e)=>{var o=e(29932),m=e(97786),f=e(67206),d=e(69199),g=e(71131),y=e(7518),C=e(85022),v=e(6557),b=e(1469);function x(E,O,w){O.length?O=o(O,function(l){return b(l)?function(P){return m(P,l.length===1?l[0]:l)}:l}):O=[v];var _=-1;O=o(O,y(f));var a=d(E,function(l,P,S){var M=o(O,function(R){return R(l)});return{criteria:M,index:++_,value:l}});return g(a,function(l,P){return C(l,P,w)})}G.exports=x},25970:(G,s,e)=>{var o=e(63012),m=e(79095);function f(d,g){return o(d,g,function(y,C){return m(d,C)})}G.exports=f},63012:(G,s,e)=>{var o=e(97786),m=e(10611),f=e(71811);function d(g,y,C){for(var v=-1,b=y.length,x={};++v<b;){var E=y[v],O=o(g,E);C(O,E)&&m(x,f(E,g),O)}return x}G.exports=d},40371:G=>{function s(e){return function(o){return o==null?void 0:o[e]}}G.exports=s},79152:(G,s,e)=>{var o=e(97786);function m(f){return function(d){return o(d,f)}}G.exports=m},5976:(G,s,e)=>{var o=e(6557),m=e(45357),f=e(30061);function d(g,y){return f(m(g,y,o),g+"")}G.exports=d},10611:(G,s,e)=>{var o=e(34865),m=e(71811),f=e(65776),d=e(13218),g=e(40327);function y(C,v,b,x){if(!d(C))return C;v=m(v,C);for(var E=-1,O=v.length,w=O-1,_=C;_!=null&&++E<O;){var a=g(v[E]),l=b;if(a==="__proto__"||a==="constructor"||a==="prototype")return C;if(E!=w){var P=_[a];l=x?x(P,a,_):void 0,l===void 0&&(l=d(P)?P:f(v[E+1])?[]:{})}o(_,a,l),_=_[a]}return C}G.exports=y},56560:(G,s,e)=>{var o=e(75703),m=e(38777),f=e(6557),d=m?function(g,y){return m(g,"toString",{configurable:!0,enumerable:!1,value:o(y),writable:!0})}:f;G.exports=d},71131:G=>{function s(e,o){var m=e.length;for(e.sort(o);m--;)e[m]=e[m].value;return e}G.exports=s},67762:G=>{function s(e,o){for(var m,f=-1,d=e.length;++f<d;){var g=o(e[f]);g!==void 0&&(m=m===void 0?g:m+g)}return m}G.exports=s},22545:G=>{function s(e,o){for(var m=-1,f=Array(e);++m<e;)f[m]=o(m);return f}G.exports=s},80531:(G,s,e)=>{var o=e(62705),m=e(29932),f=e(1469),d=e(33448),g=1/0,y=o?o.prototype:void 0,C=y?y.toString:void 0;function v(b){if(typeof b=="string")return b;if(f(b))return m(b,v)+"";if(d(b))return C?C.call(b):"";var x=b+"";return x=="0"&&1/b==-g?"-0":x}G.exports=v},27561:(G,s,e)=>{var o=e(67990),m=/^\s+/;function f(d){return d&&d.slice(0,o(d)+1).replace(m,"")}G.exports=f},7518:G=>{function s(e){return function(o){return e(o)}}G.exports=s},45652:(G,s,e)=>{var o=e(88668),m=e(47443),f=e(1196),d=e(74757),g=e(23593),y=e(21814),C=200;function v(b,x,E){var O=-1,w=m,_=b.length,a=!0,l=[],P=l;if(E)a=!1,w=f;else if(_>=C){var S=x?null:g(b);if(S)return y(S);a=!1,w=d,P=new o}else P=x?[]:l;e:for(;++O<_;){var M=b[O],R=x?x(M):M;if(M=E||M!==0?M:0,a&&R===R){for(var N=P.length;N--;)if(P[N]===R)continue e;x&&P.push(R),l.push(M)}else w(P,R,E)||(P!==l&&P.push(R),l.push(M))}return l}G.exports=v},74757:G=>{function s(e,o){return e.has(o)}G.exports=s},54290:(G,s,e)=>{var o=e(6557);function m(f){return typeof f=="function"?f:o}G.exports=m},71811:(G,s,e)=>{var o=e(1469),m=e(15403),f=e(55514),d=e(79833);function g(y,C){return o(y)?y:m(y,C)?[y]:f(d(y))}G.exports=g},26393:(G,s,e)=>{var o=e(33448);function m(f,d){if(f!==d){var g=f!==void 0,y=f===null,C=f===f,v=o(f),b=d!==void 0,x=d===null,E=d===d,O=o(d);if(!x&&!O&&!v&&f>d||v&&b&&E&&!x&&!O||y&&b&&E||!g&&E||!C)return 1;if(!y&&!v&&!O&&f<d||O&&g&&C&&!y&&!v||x&&g&&C||!b&&C||!E)return-1}return 0}G.exports=m},85022:(G,s,e)=>{var o=e(26393);function m(f,d,g){for(var y=-1,C=f.criteria,v=d.criteria,b=C.length,x=g.length;++y<b;){var E=o(C[y],v[y]);if(E){if(y>=x)return E;var O=g[y];return E*(O=="desc"?-1:1)}}return f.index-d.index}G.exports=m},14429:(G,s,e)=>{var o=e(55639),m=o["__core-js_shared__"];G.exports=m},55189:(G,s,e)=>{var o=e(44174),m=e(81119),f=e(67206),d=e(1469);function g(y,C){return function(v,b){var x=d(v)?o:m,E=C?C():{};return x(v,y,f(b,2),E)}}G.exports=g},99291:(G,s,e)=>{var o=e(98612);function m(f,d){return function(g,y){if(g==null)return g;if(!o(g))return f(g,y);for(var C=g.length,v=d?C:-1,b=Object(g);(d?v--:++v<C)&&y(b[v],v,b)!==!1;);return g}}G.exports=m},25063:G=>{function s(e){return function(o,m,f){for(var d=-1,g=Object(o),y=f(o),C=y.length;C--;){var v=y[e?C:++d];if(m(g[v],v,g)===!1)break}return o}}G.exports=s},23593:(G,s,e)=>{var o=e(58525),m=e(50308),f=e(21814),d=1/0,g=o&&1/f(new o([,-0]))[1]==d?function(y){return new o(y)}:m;G.exports=g},38777:(G,s,e)=>{var o=e(10852),m=function(){try{var f=o(Object,"defineProperty");return f({},"",{}),f}catch(d){}}();G.exports=m},67114:(G,s,e)=>{var o=e(88668),m=e(82908),f=e(74757),d=1,g=2;function y(C,v,b,x,E,O){var w=b&d,_=C.length,a=v.length;if(_!=a&&!(w&&a>_))return!1;var l=O.get(C),P=O.get(v);if(l&&P)return l==v&&P==C;var S=-1,M=!0,R=b&g?new o:void 0;for(O.set(C,v),O.set(v,C);++S<_;){var N=C[S],T=v[S];if(x)var A=w?x(T,N,S,v,C,O):x(N,T,S,C,v,O);if(A!==void 0){if(A)continue;M=!1;break}if(R){if(!m(v,function(W,j){if(!f(R,j)&&(N===W||E(N,W,b,x,O)))return R.push(j)})){M=!1;break}}else if(!(N===T||E(N,T,b,x,O))){M=!1;break}}return O.delete(C),O.delete(v),M}G.exports=y},18351:(G,s,e)=>{var o=e(62705),m=e(11149),f=e(77813),d=e(67114),g=e(68776),y=e(21814),C=1,v=2,b="[object Boolean]",x="[object Date]",E="[object Error]",O="[object Map]",w="[object Number]",_="[object RegExp]",a="[object Set]",l="[object String]",P="[object Symbol]",S="[object ArrayBuffer]",M="[object DataView]",R=o?o.prototype:void 0,N=R?R.valueOf:void 0;function T(A,W,j,Z,J,Q,ne){switch(j){case M:if(A.byteLength!=W.byteLength||A.byteOffset!=W.byteOffset)return!1;A=A.buffer,W=W.buffer;case S:return!(A.byteLength!=W.byteLength||!Q(new m(A),new m(W)));case b:case x:case w:return f(+A,+W);case E:return A.name==W.name&&A.message==W.message;case _:case l:return A==W+"";case O:var te=g;case a:var B=Z&C;if(te||(te=y),A.size!=W.size&&!B)return!1;var V=ne.get(A);if(V)return V==W;Z|=v,ne.set(A,W);var re=d(te(A),te(W),Z,J,Q,ne);return ne.delete(A),re;case P:if(N)return N.call(A)==N.call(W)}return!1}G.exports=T},16096:(G,s,e)=>{var o=e(58234),m=1,f=Object.prototype,d=f.hasOwnProperty;function g(y,C,v,b,x,E){var O=v&m,w=o(y),_=w.length,a=o(C),l=a.length;if(_!=l&&!O)return!1;for(var P=_;P--;){var S=w[P];if(!(O?S in C:d.call(C,S)))return!1}var M=E.get(y),R=E.get(C);if(M&&R)return M==C&&R==y;var N=!0;E.set(y,C),E.set(C,y);for(var T=O;++P<_;){S=w[P];var A=y[S],W=C[S];if(b)var j=O?b(W,A,S,C,y,E):b(A,W,S,y,C,E);if(!(j===void 0?A===W||x(A,W,v,b,E):j)){N=!1;break}T||(T=S=="constructor")}if(N&&!T){var Z=y.constructor,J=C.constructor;Z!=J&&"constructor"in y&&"constructor"in C&&!(typeof Z=="function"&&Z instanceof Z&&typeof J=="function"&&J instanceof J)&&(N=!1)}return E.delete(y),E.delete(C),N}G.exports=g},99021:(G,s,e)=>{var o=e(85564),m=e(45357),f=e(30061);function d(g){return f(m(g,void 0,o),g+"")}G.exports=d},31957:(G,s,e)=>{var o=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;G.exports=o},58234:(G,s,e)=>{var o=e(68866),m=e(99551),f=e(3674);function d(g){return o(g,f,m)}G.exports=d},45050:(G,s,e)=>{var o=e(37019);function m(f,d){var g=f.__data__;return o(d)?g[typeof d=="string"?"string":"hash"]:g.map}G.exports=m},1499:(G,s,e)=>{var o=e(89162),m=e(3674);function f(d){for(var g=m(d),y=g.length;y--;){var C=g[y],v=d[C];g[y]=[C,v,o(v)]}return g}G.exports=f},10852:(G,s,e)=>{var o=e(28458),m=e(47801);function f(d,g){var y=m(d,g);return o(y)?y:void 0}G.exports=f},89607:(G,s,e)=>{var o=e(62705),m=Object.prototype,f=m.hasOwnProperty,d=m.toString,g=o?o.toStringTag:void 0;function y(C){var v=f.call(C,g),b=C[g];try{C[g]=void 0;var x=!0}catch(O){}var E=d.call(C);return x&&(v?C[g]=b:delete C[g]),E}G.exports=y},99551:(G,s,e)=>{var o=e(34963),m=e(70479),f=Object.prototype,d=f.propertyIsEnumerable,g=Object.getOwnPropertySymbols,y=g?function(C){return C==null?[]:(C=Object(C),o(g(C),function(v){return d.call(C,v)}))}:m;G.exports=y},64160:(G,s,e)=>{var o=e(18552),m=e(57071),f=e(53818),d=e(58525),g=e(70577),y=e(44239),C=e(80346),v="[object Map]",b="[object Object]",x="[object Promise]",E="[object Set]",O="[object WeakMap]",w="[object DataView]",_=C(o),a=C(m),l=C(f),P=C(d),S=C(g),M=y;(o&&M(new o(new ArrayBuffer(1)))!=w||m&&M(new m)!=v||f&&M(f.resolve())!=x||d&&M(new d)!=E||g&&M(new g)!=O)&&(M=function(R){var N=y(R),T=N==b?R.constructor:void 0,A=T?C(T):"";if(A)switch(A){case _:return w;case a:return v;case l:return x;case P:return E;case S:return O}return N}),G.exports=M},47801:G=>{function s(e,o){return e==null?void 0:e[o]}G.exports=s},222:(G,s,e)=>{var o=e(71811),m=e(35694),f=e(1469),d=e(65776),g=e(41780),y=e(40327);function C(v,b,x){b=o(b,v);for(var E=-1,O=b.length,w=!1;++E<O;){var _=y(b[E]);if(!(w=v!=null&&x(v,_)))break;v=v[_]}return w||++E!=O?w:(O=v==null?0:v.length,!!O&&g(O)&&d(_,O)&&(f(v)||m(v)))}G.exports=C},51789:(G,s,e)=>{var o=e(94536);function m(){this.__data__=o?o(null):{},this.size=0}G.exports=m},80401:G=>{function s(e){var o=this.has(e)&&delete this.__data__[e];return this.size-=o?1:0,o}G.exports=s},57667:(G,s,e)=>{var o=e(94536),m="__lodash_hash_undefined__",f=Object.prototype,d=f.hasOwnProperty;function g(y){var C=this.__data__;if(o){var v=C[y];return v===m?void 0:v}return d.call(C,y)?C[y]:void 0}G.exports=g},21327:(G,s,e)=>{var o=e(94536),m=Object.prototype,f=m.hasOwnProperty;function d(g){var y=this.__data__;return o?y[g]!==void 0:f.call(y,g)}G.exports=d},81866:(G,s,e)=>{var o=e(94536),m="__lodash_hash_undefined__";function f(d,g){var y=this.__data__;return this.size+=this.has(d)?0:1,y[d]=o&&g===void 0?m:g,this}G.exports=f},37285:(G,s,e)=>{var o=e(62705),m=e(35694),f=e(1469),d=o?o.isConcatSpreadable:void 0;function g(y){return f(y)||m(y)||!!(d&&y&&y[d])}G.exports=g},65776:G=>{var s=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function o(m,f){var d=typeof m;return f=f==null?s:f,!!f&&(d=="number"||d!="symbol"&&e.test(m))&&m>-1&&m%1==0&&m<f}G.exports=o},16612:(G,s,e)=>{var o=e(77813),m=e(98612),f=e(65776),d=e(13218);function g(y,C,v){if(!d(v))return!1;var b=typeof C;return(b=="number"?m(v)&&f(C,v.length):b=="string"&&C in v)?o(v[C],y):!1}G.exports=g},15403:(G,s,e)=>{var o=e(1469),m=e(33448),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/;function g(y,C){if(o(y))return!1;var v=typeof y;return v=="number"||v=="symbol"||v=="boolean"||y==null||m(y)?!0:d.test(y)||!f.test(y)||C!=null&&y in Object(C)}G.exports=g},37019:G=>{function s(e){var o=typeof e;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?e!=="__proto__":e===null}G.exports=s},15346:(G,s,e)=>{var o=e(14429),m=function(){var d=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}();function f(d){return!!m&&m in d}G.exports=f},25726:G=>{var s=Object.prototype;function e(o){var m=o&&o.constructor,f=typeof m=="function"&&m.prototype||s;return o===f}G.exports=e},89162:(G,s,e)=>{var o=e(13218);function m(f){return f===f&&!o(f)}G.exports=m},27040:G=>{function s(){this.__data__=[],this.size=0}G.exports=s},14125:(G,s,e)=>{var o=e(18470),m=Array.prototype,f=m.splice;function d(g){var y=this.__data__,C=o(y,g);if(C<0)return!1;var v=y.length-1;return C==v?y.pop():f.call(y,C,1),--this.size,!0}G.exports=d},82117:(G,s,e)=>{var o=e(18470);function m(f){var d=this.__data__,g=o(d,f);return g<0?void 0:d[g][1]}G.exports=m},67518:(G,s,e)=>{var o=e(18470);function m(f){return o(this.__data__,f)>-1}G.exports=m},54705:(G,s,e)=>{var o=e(18470);function m(f,d){var g=this.__data__,y=o(g,f);return y<0?(++this.size,g.push([f,d])):g[y][1]=d,this}G.exports=m},24785:(G,s,e)=>{var o=e(1989),m=e(38407),f=e(57071);function d(){this.size=0,this.__data__={hash:new o,map:new(f||m),string:new o}}G.exports=d},11285:(G,s,e)=>{var o=e(45050);function m(f){var d=o(this,f).delete(f);return this.size-=d?1:0,d}G.exports=m},96e3:(G,s,e)=>{var o=e(45050);function m(f){return o(this,f).get(f)}G.exports=m},49916:(G,s,e)=>{var o=e(45050);function m(f){return o(this,f).has(f)}G.exports=m},95265:(G,s,e)=>{var o=e(45050);function m(f,d){var g=o(this,f),y=g.size;return g.set(f,d),this.size+=g.size==y?0:1,this}G.exports=m},68776:G=>{function s(e){var o=-1,m=Array(e.size);return e.forEach(function(f,d){m[++o]=[d,f]}),m}G.exports=s},42634:G=>{function s(e,o){return function(m){return m==null?!1:m[e]===o&&(o!==void 0||e in Object(m))}}G.exports=s},24523:(G,s,e)=>{var o=e(88306),m=500;function f(d){var g=o(d,function(C){return y.size===m&&y.clear(),C}),y=g.cache;return g}G.exports=f},94536:(G,s,e)=>{var o=e(10852),m=o(Object,"create");G.exports=m},86916:(G,s,e)=>{var o=e(5569),m=o(Object.keys,Object);G.exports=m},31167:(G,s,e)=>{G=e.nmd(G);var o=e(31957),m=s&&!s.nodeType&&s,f=m&&!0&&G&&!G.nodeType&&G,d=f&&f.exports===m,g=d&&o.process,y=function(){try{var C=f&&f.require&&f.require("util").types;return C||g&&g.binding&&g.binding("util")}catch(v){}}();G.exports=y},2333:G=>{var s=Object.prototype,e=s.toString;function o(m){return e.call(m)}G.exports=o},5569:G=>{function s(e,o){return function(m){return e(o(m))}}G.exports=s},45357:(G,s,e)=>{var o=e(96874),m=Math.max;function f(d,g,y){return g=m(g===void 0?d.length-1:g,0),function(){for(var C=arguments,v=-1,b=m(C.length-g,0),x=Array(b);++v<b;)x[v]=C[g+v];v=-1;for(var E=Array(g+1);++v<g;)E[v]=C[v];return E[g]=y(x),o(d,this,E)}}G.exports=f},55639:(G,s,e)=>{var o=e(31957),m=typeof self=="object"&&self&&self.Object===Object&&self,f=o||m||Function("return this")();G.exports=f},90619:G=>{var s="__lodash_hash_undefined__";function e(o){return this.__data__.set(o,s),this}G.exports=e},72385:G=>{function s(e){return this.__data__.has(e)}G.exports=s},21814:G=>{function s(e){var o=-1,m=Array(e.size);return e.forEach(function(f){m[++o]=f}),m}G.exports=s},30061:(G,s,e)=>{var o=e(56560),m=e(21275),f=m(o);G.exports=f},21275:G=>{var s=800,e=16,o=Date.now;function m(f){var d=0,g=0;return function(){var y=o(),C=e-(y-g);if(g=y,C>0){if(++d>=s)return arguments[0]}else d=0;return f.apply(void 0,arguments)}}G.exports=m},37465:(G,s,e)=>{var o=e(38407);function m(){this.__data__=new o,this.size=0}G.exports=m},63779:G=>{function s(e){var o=this.__data__,m=o.delete(e);return this.size=o.size,m}G.exports=s},67599:G=>{function s(e){return this.__data__.get(e)}G.exports=s},44758:G=>{function s(e){return this.__data__.has(e)}G.exports=s},34309:(G,s,e)=>{var o=e(38407),m=e(57071),f=e(83369),d=200;function g(y,C){var v=this.__data__;if(v instanceof o){var b=v.__data__;if(!m||b.length<d-1)return b.push([y,C]),this.size=++v.size,this;v=this.__data__=new f(b)}return v.set(y,C),this.size=v.size,this}G.exports=g},42351:G=>{function s(e,o,m){for(var f=m-1,d=e.length;++f<d;)if(e[f]===o)return f;return-1}G.exports=s},55514:(G,s,e)=>{var o=e(24523),m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,d=o(function(g){var y=[];return g.charCodeAt(0)===46&&y.push(""),g.replace(m,function(C,v,b,x){y.push(b?x.replace(f,"$1"):v||C)}),y});G.exports=d},40327:(G,s,e)=>{var o=e(33448),m=1/0;function f(d){if(typeof d=="string"||o(d))return d;var g=d+"";return g=="0"&&1/d==-m?"-0":g}G.exports=f},80346:G=>{var s=Function.prototype,e=s.toString;function o(m){if(m!=null){try{return e.call(m)}catch(f){}try{return m+""}catch(f){}}return""}G.exports=o},67990:G=>{var s=/\s/;function e(o){for(var m=o.length;m--&&s.test(o.charAt(m)););return m}G.exports=e},39693:G=>{function s(e){for(var o=-1,m=e==null?0:e.length,f=0,d=[];++o<m;){var g=e[o];g&&(d[f++]=g)}return d}G.exports=s},75703:G=>{function s(e){return function(){return e}}G.exports=s},23279:(G,s,e)=>{var o=e(13218),m=e(7771),f=e(14841),d="Expected a function",g=Math.max,y=Math.min;function C(v,b,x){var E,O,w,_,a,l,P=0,S=!1,M=!1,R=!0;if(typeof v!="function")throw new TypeError(d);b=f(b)||0,o(x)&&(S=!!x.leading,M="maxWait"in x,w=M?g(f(x.maxWait)||0,b):w,R="trailing"in x?!!x.trailing:R);function N(te){var B=E,V=O;return E=O=void 0,P=te,_=v.apply(V,B),_}function T(te){return P=te,a=setTimeout(j,b),S?N(te):_}function A(te){var B=te-l,V=te-P,re=b-B;return M?y(re,w-V):re}function W(te){var B=te-l,V=te-P;return l===void 0||B>=b||B<0||M&&V>=w}function j(){var te=m();if(W(te))return Z(te);a=setTimeout(j,A(te))}function Z(te){return a=void 0,R&&E?N(te):(E=O=void 0,_)}function J(){a!==void 0&&clearTimeout(a),P=0,E=l=O=a=void 0}function Q(){return a===void 0?_:Z(m())}function ne(){var te=m(),B=W(te);if(E=arguments,O=this,l=te,B){if(a===void 0)return T(l);if(M)return clearTimeout(a),a=setTimeout(j,b),N(l)}return a===void 0&&(a=setTimeout(j,b)),_}return ne.cancel=J,ne.flush=Q,ne}G.exports=C},77813:G=>{function s(e,o){return e===o||e!==e&&o!==o}G.exports=s},7436:(G,s,e)=>{var o=e(41848),m=e(67206),f=e(40554),d=Math.max,g=Math.min;function y(C,v,b){var x=C==null?0:C.length;if(!x)return-1;var E=x-1;return b!==void 0&&(E=f(b),E=b<0?d(x+E,0):g(E,x-1)),o(C,m(v,3),E,!0)}G.exports=y},85564:(G,s,e)=>{var o=e(21078);function m(f){var d=f==null?0:f.length;return d?o(f,1):[]}G.exports=m},27361:(G,s,e)=>{var o=e(97786);function m(f,d,g){var y=f==null?void 0:o(f,d);return y===void 0?g:y}G.exports=m},7739:(G,s,e)=>{var o=e(89465),m=e(55189),f=Object.prototype,d=f.hasOwnProperty,g=m(function(y,C,v){d.call(y,v)?y[v].push(C):o(y,v,[C])});G.exports=g},79095:(G,s,e)=>{var o=e(13),m=e(222);function f(d,g){return d!=null&&m(d,g,o)}G.exports=f},6557:G=>{function s(e){return e}G.exports=s},35694:(G,s,e)=>{var o=e(9454),m=e(37005),f=Object.prototype,d=f.hasOwnProperty,g=f.propertyIsEnumerable,y=o(function(){return arguments}())?o:function(C){return m(C)&&d.call(C,"callee")&&!g.call(C,"callee")};G.exports=y},1469:G=>{var s=Array.isArray;G.exports=s},98612:(G,s,e)=>{var o=e(23560),m=e(41780);function f(d){return d!=null&&m(d.length)&&!o(d)}G.exports=f},29246:(G,s,e)=>{var o=e(98612),m=e(37005);function f(d){return m(d)&&o(d)}G.exports=f},44144:(G,s,e)=>{G=e.nmd(G);var o=e(55639),m=e(95062),f=s&&!s.nodeType&&s,d=f&&!0&&G&&!G.nodeType&&G,g=d&&d.exports===f,y=g?o.Buffer:void 0,C=y?y.isBuffer:void 0,v=C||m;G.exports=v},18446:(G,s,e)=>{var o=e(90939);function m(f,d){return o(f,d)}G.exports=m},23560:(G,s,e)=>{var o=e(44239),m=e(13218),f="[object AsyncFunction]",d="[object Function]",g="[object GeneratorFunction]",y="[object Proxy]";function C(v){if(!m(v))return!1;var b=o(v);return b==d||b==g||b==f||b==y}G.exports=C},41780:G=>{var s=9007199254740991;function e(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=s}G.exports=e},13218:G=>{function s(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}G.exports=s},37005:G=>{function s(e){return e!=null&&typeof e=="object"}G.exports=s},33448:(G,s,e)=>{var o=e(44239),m=e(37005),f="[object Symbol]";function d(g){return typeof g=="symbol"||m(g)&&o(g)==f}G.exports=d},36719:(G,s,e)=>{var o=e(38749),m=e(7518),f=e(31167),d=f&&f.isTypedArray,g=d?m(d):o;G.exports=g},3674:(G,s,e)=>{var o=e(14636),m=e(280),f=e(98612);function d(g){return f(g)?o(g):m(g)}G.exports=d},10928:G=>{function s(e){var o=e==null?0:e.length;return o?e[o-1]:void 0}G.exports=s},84753:(G,s,e)=>{var o=e(56029),m=e(53325),f=e(67206);function d(g,y){return g&&g.length?o(g,f(y,2),m):void 0}G.exports=d},88306:(G,s,e)=>{var o=e(83369),m="Expected a function";function f(d,g){if(typeof d!="function"||g!=null&&typeof g!="function")throw new TypeError(m);var y=function(){var C=arguments,v=g?g.apply(this,C):C[0],b=y.cache;if(b.has(v))return b.get(v);var x=d.apply(this,C);return y.cache=b.set(v,x)||b,x};return y.cache=new(f.Cache||o),y}f.Cache=o,G.exports=f},50308:G=>{function s(){}G.exports=s},7771:(G,s,e)=>{var o=e(55639),m=function(){return o.Date.now()};G.exports=m},43174:(G,s,e)=>{var o=e(55189),m=o(function(f,d,g){f[g?0:1].push(d)},function(){return[[],[]]});G.exports=m},78718:(G,s,e)=>{var o=e(25970),m=e(99021),f=m(function(d,g){return d==null?{}:o(d,g)});G.exports=f},39601:(G,s,e)=>{var o=e(40371),m=e(79152),f=e(15403),d=e(40327);function g(y){return f(y)?o(d(y)):m(y)}G.exports=g},89734:(G,s,e)=>{var o=e(21078),m=e(82689),f=e(5976),d=e(16612),g=f(function(y,C){if(y==null)return[];var v=C.length;return v>1&&d(y,C[0],C[1])?C=[]:v>2&&d(C[0],C[1],C[2])&&(C=[C[0]]),m(y,o(C,1),[])});G.exports=g},70479:G=>{function s(){return[]}G.exports=s},95062:G=>{function s(){return!1}G.exports=s},12297:(G,s,e)=>{var o=e(67762),m=e(6557);function f(d){return d&&d.length?o(d,m):0}G.exports=f},23493:(G,s,e)=>{var o=e(23279),m=e(13218),f="Expected a function";function d(g,y,C){var v=!0,b=!0;if(typeof g!="function")throw new TypeError(f);return m(C)&&(v="leading"in C?!!C.leading:v,b="trailing"in C?!!C.trailing:b),o(g,y,{leading:v,maxWait:y,trailing:b})}G.exports=d},98913:(G,s,e)=>{var o=e(22545),m=e(54290),f=e(40554),d=9007199254740991,g=4294967295,y=Math.min;function C(v,b){if(v=f(v),v<1||v>d)return[];var x=g,E=y(v,g);b=m(b),v-=g;for(var O=o(E,b);++x<v;)b(x);return O}G.exports=C},18601:(G,s,e)=>{var o=e(14841),m=1/0,f=17976931348623157e292;function d(g){if(!g)return g===0?g:0;if(g=o(g),g===m||g===-m){var y=g<0?-1:1;return y*f}return g===g?g:0}G.exports=d},40554:(G,s,e)=>{var o=e(18601);function m(f){var d=o(f),g=d%1;return d===d?g?d-g:d:0}G.exports=m},14841:(G,s,e)=>{var o=e(27561),m=e(13218),f=e(33448),d=0/0,g=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,C=/^0o[0-7]+$/i,v=parseInt;function b(x){if(typeof x=="number")return x;if(f(x))return d;if(m(x)){var E=typeof x.valueOf=="function"?x.valueOf():x;x=m(E)?E+"":E}if(typeof x!="string")return x===0?x:+x;x=o(x);var O=y.test(x);return O||C.test(x)?v(x.slice(2),O?2:8):g.test(x)?d:+x}G.exports=b},79833:(G,s,e)=>{var o=e(80531);function m(f){return f==null?"":o(f)}G.exports=m},44908:(G,s,e)=>{var o=e(45652);function m(f){return f&&f.length?o(f):[]}G.exports=m},45578:(G,s,e)=>{var o=e(67206),m=e(45652);function f(d,g){return d&&d.length?m(d,o(g,2)):[]}G.exports=f},73955:(G,s,e)=>{var o=e(79833),m=0;function f(d){var g=++m;return o(d)+g}G.exports=f},82569:(G,s,e)=>{var o=e(20731),m=e(5976),f=e(29246),d=m(function(g,y){return f(g)?o(g,y):[]});G.exports=d},87021:(G,s,e)=>{"use strict";e.d(s,{Z:()=>d});var o=e(6400),m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const f=g=>g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=(g,y)=>{const C=_=>{var a=_,{color:v="currentColor",size:b=24,strokeWidth:x=2,absoluteStrokeWidth:E,children:O}=a,w=Yi(a,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return(0,o.h)("svg",nr(Wo(nr({},m),{width:String(b),height:b,stroke:v,["stroke-width"]:E?Number(x)*24/Number(b):x,class:`lucide lucide-${f(g)}`}),w),[...y.map(([l,P])=>(0,o.h)(l,P)),...(0,o.toChildArray)(O)])};return C.displayName=`${g}`,C}},4675:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ArrowLeftRight",[["polyline",{points:"17 11 21 7 17 3",key:"l3l6r3"}],["line",{x1:"21",x2:"9",y1:"7",y2:"7",key:"ubux2p"}],["polyline",{points:"7 21 3 17 7 13",key:"lfumnw"}],["line",{x1:"15",x2:"3",y1:"17",y2:"17",key:"1iqtwg"}]])},88812:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",x2:"19.07",y1:"4.93",y2:"19.07",key:"1thnyu"}]])},18794:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},13808:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},25380:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},49336:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]])},56743:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]])},2564:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]])},71212:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},23237:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Edit2",[["path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",key:"2s2c1q"}]])},47641:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]])},65207:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},67747:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5149:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},8618:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},19237:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},65445:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99869:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},13639:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},67358:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7617:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},80587:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},9528:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},74655:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]])},28596:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]])},31131:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},66440:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},52066:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},17048:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},49770:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},98961:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81108:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]])},71375:(G,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]])},61864:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={pubTheme:"frontend-components-PubTheme-module__pubTheme--Vew50"}},61247:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={img:"frontend-components-responsive_img-module__img--Pgjj2"}},19206:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={reset:"frontend-pencraft-Box-module__reset--VfQY8","display-block":"frontend-pencraft-Box-module__display-block--lluJR","display-inline":"frontend-pencraft-Box-module__display-inline--UP8rE","display-inline-block":"frontend-pencraft-Box-module__display-inline-block--x7tGd","display-flex":"frontend-pencraft-Box-module__display-flex--ZqeZt","display-inline-flex":"frontend-pencraft-Box-module__display-inline-flex--ZE941","display-none":"frontend-pencraft-Box-module__display-none--DZ2wU","position-relative":"frontend-pencraft-Box-module__position-relative--QdxKA","flex-direction-column":"frontend-pencraft-Box-module__flex-direction-column--Rq7pk","flex-direction-row":"frontend-pencraft-Box-module__flex-direction-row--s2PZ1","flex-direction-row-reverse":"frontend-pencraft-Box-module__flex-direction-row-reverse--oFiiL","flex-direction-column-reverse":"frontend-pencraft-Box-module__flex-direction-column-reverse--thxnd","flex-wrap-nowrap":"frontend-pencraft-Box-module__flex-wrap-nowrap--WI0rj","flex-wrap-wrap":"frontend-pencraft-Box-module__flex-wrap-wrap--U7KAu","flex-wrap-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-wrap-reverse--dau9W","flex-justify-start":"frontend-pencraft-Box-module__flex-justify-start--_8fEd","flex-justify-space-between":"frontend-pencraft-Box-module__flex-justify-space-between--NvIcg","flex-justify-center":"frontend-pencraft-Box-module__flex-justify-center--SQPji","flex-justify-end":"frontend-pencraft-Box-module__flex-justify-end--lwKjM","flex-align-start":"frontend-pencraft-Box-module__flex-align-start--MkgIa","flex-align-end":"frontend-pencraft-Box-module__flex-align-end--_zZdC","flex-align-center":"frontend-pencraft-Box-module__flex-align-center--rSd6h","flex-align-stretch":"frontend-pencraft-Box-module__flex-align-stretch--g0Yna","flex-align-baseline":"frontend-pencraft-Box-module__flex-align-baseline--GQEEw","flex-align-self-start":"frontend-pencraft-Box-module__flex-align-self-start--QhlBL","flex-align-self-end":"frontend-pencraft-Box-module__flex-align-self-end--ygpwW","flex-align-self-center":"frontend-pencraft-Box-module__flex-align-self-center--XMhN_","flex-align-self-stretch":"frontend-pencraft-Box-module__flex-align-self-stretch--ZV59d","flex-align-self-baseline":"frontend-pencraft-Box-module__flex-align-self-baseline--omwPY","flex-gap-0":"frontend-pencraft-Box-module__flex-gap-0--WL4Xc","flex-gap-2":"frontend-pencraft-Box-module__flex-gap-2--i3DJs","flex-gap-4":"frontend-pencraft-Box-module__flex-gap-4--zeW5_","flex-gap-6":"frontend-pencraft-Box-module__flex-gap-6--lHgtr","flex-gap-8":"frontend-pencraft-Box-module__flex-gap-8--HFpIK","flex-gap-12":"frontend-pencraft-Box-module__flex-gap-12--rODKq","flex-gap-16":"frontend-pencraft-Box-module__flex-gap-16--TpblU","flex-gap-20":"frontend-pencraft-Box-module__flex-gap-20--WPlD2","flex-gap-24":"frontend-pencraft-Box-module__flex-gap-24--bAb43","flex-gap-32":"frontend-pencraft-Box-module__flex-gap-32--uRr14","flex-gap-36":"frontend-pencraft-Box-module__flex-gap-36--Kpg6P","flex-gap-40":"frontend-pencraft-Box-module__flex-gap-40--AvPvJ","flex-gap-48":"frontend-pencraft-Box-module__flex-gap-48--Sbb_i","flex-gap-56":"frontend-pencraft-Box-module__flex-gap-56--of5i3","flex-gap-64":"frontend-pencraft-Box-module__flex-gap-64--dzjmF","flex-gap-80":"frontend-pencraft-Box-module__flex-gap-80--jHDvi","flex-gap-96":"frontend-pencraft-Box-module__flex-gap-96--heAIr","flex-gap-120":"frontend-pencraft-Box-module__flex-gap-120--iB6Cx","padding-0":"frontend-pencraft-Box-module__padding-0--F3S1v","padding-4":"frontend-pencraft-Box-module__padding-4--KlLyn","padding-6":"frontend-pencraft-Box-module__padding-6--_Mjv2","padding-8":"frontend-pencraft-Box-module__padding-8--wF5Sz","padding-12":"frontend-pencraft-Box-module__padding-12--jTMsq","padding-16":"frontend-pencraft-Box-module__padding-16--n240L","padding-20":"frontend-pencraft-Box-module__padding-20--yVUtG","padding-24":"frontend-pencraft-Box-module__padding-24--ZJr5O","padding-32":"frontend-pencraft-Box-module__padding-32--IeG12","padding-40":"frontend-pencraft-Box-module__padding-40--IAcQ9","padding-48":"frontend-pencraft-Box-module__padding-48--aMnjo","padding-56":"frontend-pencraft-Box-module__padding-56--am1eN","padding-64":"frontend-pencraft-Box-module__padding-64--xeXXX","padding-80":"frontend-pencraft-Box-module__padding-80--th3sr","padding-120":"frontend-pencraft-Box-module__padding-120--RXYMO","padding-y-0":"frontend-pencraft-Box-module__padding-y-0--rxzTp","padding-y-4":"frontend-pencraft-Box-module__padding-y-4--dGugw","padding-y-6":"frontend-pencraft-Box-module__padding-y-6--taKGa","padding-y-8":"frontend-pencraft-Box-module__padding-y-8--exiCC","padding-y-12":"frontend-pencraft-Box-module__padding-y-12--JVW4L","padding-y-16":"frontend-pencraft-Box-module__padding-y-16--ohCEm","padding-y-20":"frontend-pencraft-Box-module__padding-y-20--FoUpX","padding-y-24":"frontend-pencraft-Box-module__padding-y-24--T7KvM","padding-y-32":"frontend-pencraft-Box-module__padding-y-32--tBjpu","padding-y-36":"frontend-pencraft-Box-module__padding-y-36--O9qPD","padding-y-40":"frontend-pencraft-Box-module__padding-y-40--uSHVb","padding-y-48":"frontend-pencraft-Box-module__padding-y-48--eNCBL","padding-y-56":"frontend-pencraft-Box-module__padding-y-56--oRNr_","padding-y-64":"frontend-pencraft-Box-module__padding-y-64--ft4ED","padding-y-80":"frontend-pencraft-Box-module__padding-y-80--bsHus","padding-y-120":"frontend-pencraft-Box-module__padding-y-120--_BaEr","padding-x-0":"frontend-pencraft-Box-module__padding-x-0--oMCXf","padding-x-4":"frontend-pencraft-Box-module__padding-x-4--KtJM6","padding-x-6":"frontend-pencraft-Box-module__padding-x-6--jB65n","padding-x-8":"frontend-pencraft-Box-module__padding-x-8--FGPm5","padding-x-12":"frontend-pencraft-Box-module__padding-x-12--uAeGi","padding-x-16":"frontend-pencraft-Box-module__padding-x-16--q3Pnm","padding-x-20":"frontend-pencraft-Box-module__padding-x-20--v_X8l","padding-x-24":"frontend-pencraft-Box-module__padding-x-24--ViY5j","padding-x-32":"frontend-pencraft-Box-module__padding-x-32--MSogp","padding-x-40":"frontend-pencraft-Box-module__padding-x-40--NnqyG","padding-x-48":"frontend-pencraft-Box-module__padding-x-48--HTG4n","padding-x-56":"frontend-pencraft-Box-module__padding-x-56--V6qbT","padding-x-64":"frontend-pencraft-Box-module__padding-x-64--J1cac","padding-x-80":"frontend-pencraft-Box-module__padding-x-80--J4j87","padding-x-120":"frontend-pencraft-Box-module__padding-x-120--ZPgFJ","padding-top-0":"frontend-pencraft-Box-module__padding-top-0--PRqVY","padding-top-4":"frontend-pencraft-Box-module__padding-top-4--x0RDa","padding-top-6":"frontend-pencraft-Box-module__padding-top-6--DGztk","padding-top-8":"frontend-pencraft-Box-module__padding-top-8--VHq_j","padding-top-12":"frontend-pencraft-Box-module__padding-top-12--RJQ3b","padding-top-16":"frontend-pencraft-Box-module__padding-top-16--fCxei","padding-top-20":"frontend-pencraft-Box-module__padding-top-20--bpJwI","padding-top-24":"frontend-pencraft-Box-module__padding-top-24--hC6Qh","padding-top-32":"frontend-pencraft-Box-module__padding-top-32--hE9Ly","padding-top-36":"frontend-pencraft-Box-module__padding-top-36--gzQCl","padding-top-40":"frontend-pencraft-Box-module__padding-top-40--uBMFI","padding-top-48":"frontend-pencraft-Box-module__padding-top-48--kMReU","padding-top-56":"frontend-pencraft-Box-module__padding-top-56--dczMQ","padding-top-64":"frontend-pencraft-Box-module__padding-top-64--cd1qd","padding-top-80":"frontend-pencraft-Box-module__padding-top-80--eZ0fE","padding-top-120":"frontend-pencraft-Box-module__padding-top-120--vfrci","padding-bottom-0":"frontend-pencraft-Box-module__padding-bottom-0--uJZ7B","padding-bottom-4":"frontend-pencraft-Box-module__padding-bottom-4--OFOny","padding-bottom-6":"frontend-pencraft-Box-module__padding-bottom-6--Tlz5i","padding-bottom-8":"frontend-pencraft-Box-module__padding-bottom-8--mTu10","padding-bottom-12":"frontend-pencraft-Box-module__padding-bottom-12--dTAvV","padding-bottom-16":"frontend-pencraft-Box-module__padding-bottom-16--KVxKv","padding-bottom-20":"frontend-pencraft-Box-module__padding-bottom-20--xSkS9","padding-bottom-24":"frontend-pencraft-Box-module__padding-bottom-24--drRLc","padding-bottom-32":"frontend-pencraft-Box-module__padding-bottom-32--aGRIB","padding-bottom-40":"frontend-pencraft-Box-module__padding-bottom-40--_oo6b","padding-bottom-48":"frontend-pencraft-Box-module__padding-bottom-48--ONDjp","padding-bottom-56":"frontend-pencraft-Box-module__padding-bottom-56--zLgG0","padding-bottom-64":"frontend-pencraft-Box-module__padding-bottom-64--jnone","padding-bottom-80":"frontend-pencraft-Box-module__padding-bottom-80--R2shQ","padding-bottom-120":"frontend-pencraft-Box-module__padding-bottom-120--xScwg","padding-left-0":"frontend-pencraft-Box-module__padding-left-0--_fdq5","padding-left-4":"frontend-pencraft-Box-module__padding-left-4--xHkhe","padding-left-6":"frontend-pencraft-Box-module__padding-left-6--i3yO2","padding-left-8":"frontend-pencraft-Box-module__padding-left-8--ci2Dl","padding-left-12":"frontend-pencraft-Box-module__padding-left-12--eE6bp","padding-left-16":"frontend-pencraft-Box-module__padding-left-16--BDsWV","padding-left-20":"frontend-pencraft-Box-module__padding-left-20--BD8wa","padding-left-24":"frontend-pencraft-Box-module__padding-left-24--b11Zo","padding-left-32":"frontend-pencraft-Box-module__padding-left-32--BAj7w","padding-left-40":"frontend-pencraft-Box-module__padding-left-40--b2JNE","padding-left-48":"frontend-pencraft-Box-module__padding-left-48--oHoKK","padding-left-56":"frontend-pencraft-Box-module__padding-left-56--pmJGh","padding-left-64":"frontend-pencraft-Box-module__padding-left-64--Ob2OF","padding-left-80":"frontend-pencraft-Box-module__padding-left-80--z2UJ5","padding-left-96":"frontend-pencraft-Box-module__padding-left-96--gfeL6","padding-left-120":"frontend-pencraft-Box-module__padding-left-120--EJgoJ","padding-right-0":"frontend-pencraft-Box-module__padding-right-0--yke0B","padding-right-4":"frontend-pencraft-Box-module__padding-right-4--hKLg1","padding-right-6":"frontend-pencraft-Box-module__padding-right-6--Lht9u","padding-right-8":"frontend-pencraft-Box-module__padding-right-8--smNvs","padding-right-12":"frontend-pencraft-Box-module__padding-right-12--_sPKw","padding-right-16":"frontend-pencraft-Box-module__padding-right-16--zD2yo","padding-right-20":"frontend-pencraft-Box-module__padding-right-20--YeNhQ","padding-right-24":"frontend-pencraft-Box-module__padding-right-24--KuK8G","padding-right-32":"frontend-pencraft-Box-module__padding-right-32--VV1h6","padding-right-40":"frontend-pencraft-Box-module__padding-right-40--oArMW","padding-right-48":"frontend-pencraft-Box-module__padding-right-48--N0JmY","padding-right-56":"frontend-pencraft-Box-module__padding-right-56--uXWcM","padding-right-64":"frontend-pencraft-Box-module__padding-right-64--gw8yC","padding-right-80":"frontend-pencraft-Box-module__padding-right-80--pjvSn","padding-right-120":"frontend-pencraft-Box-module__padding-right-120--q8k5G","display-mobile-block":"frontend-pencraft-Box-module__display-mobile-block--Aect2","display-mobile-inline":"frontend-pencraft-Box-module__display-mobile-inline--N1KZU","display-mobile-inline-block":"frontend-pencraft-Box-module__display-mobile-inline-block--XxyXq","display-mobile-flex":"frontend-pencraft-Box-module__display-mobile-flex--orVE9","display-mobile-inline-flex":"frontend-pencraft-Box-module__display-mobile-inline-flex--sD9mj","display-mobile-none":"frontend-pencraft-Box-module__display-mobile-none--BJhKW","flex-direction-mobile-column":"frontend-pencraft-Box-module__flex-direction-mobile-column--Mc9OW","flex-direction-mobile-row":"frontend-pencraft-Box-module__flex-direction-mobile-row--C4tyc","flex-direction-mobile-row-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-row-reverse--TKJLF","flex-direction-mobile-column-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-column-reverse--LYrMu","flex-wrap-mobile-nowrap":"frontend-pencraft-Box-module__flex-wrap-mobile-nowrap--O3kRJ","flex-wrap-mobile-wrap":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap--ibIMl","flex-wrap-mobile-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap-reverse--OAIbg","flex-justify-mobile-start":"frontend-pencraft-Box-module__flex-justify-mobile-start--j7ZWw","flex-justify-mobile-space-between":"frontend-pencraft-Box-module__flex-justify-mobile-space-between--rbTka","flex-justify-mobile-center":"frontend-pencraft-Box-module__flex-justify-mobile-center--mxdv8","flex-justify-mobile-end":"frontend-pencraft-Box-module__flex-justify-mobile-end--tCUqU","flex-align-mobile-start":"frontend-pencraft-Box-module__flex-align-mobile-start--VytyY","flex-align-mobile-end":"frontend-pencraft-Box-module__flex-align-mobile-end--jxhdF","flex-align-mobile-center":"frontend-pencraft-Box-module__flex-align-mobile-center--wCqEB","flex-align-mobile-stretch":"frontend-pencraft-Box-module__flex-align-mobile-stretch--dcRgL","flex-align-mobile-baseline":"frontend-pencraft-Box-module__flex-align-mobile-baseline--f2QMh","flex-gap-mobile-0":"frontend-pencraft-Box-module__flex-gap-mobile-0--rhTqq","flex-gap-mobile-2":"frontend-pencraft-Box-module__flex-gap-mobile-2--JjRRa","flex-gap-mobile-4":"frontend-pencraft-Box-module__flex-gap-mobile-4--mRU_f","flex-gap-mobile-6":"frontend-pencraft-Box-module__flex-gap-mobile-6--ILgAN","flex-gap-mobile-8":"frontend-pencraft-Box-module__flex-gap-mobile-8--KyRud","flex-gap-mobile-12":"frontend-pencraft-Box-module__flex-gap-mobile-12--cAee1","flex-gap-mobile-16":"frontend-pencraft-Box-module__flex-gap-mobile-16--oMFvQ","flex-gap-mobile-20":"frontend-pencraft-Box-module__flex-gap-mobile-20--Q7L1k","flex-gap-mobile-24":"frontend-pencraft-Box-module__flex-gap-mobile-24--gxEQk","flex-gap-mobile-32":"frontend-pencraft-Box-module__flex-gap-mobile-32--ltu7c","flex-gap-mobile-40":"frontend-pencraft-Box-module__flex-gap-mobile-40--S6ZC7","flex-gap-mobile-48":"frontend-pencraft-Box-module__flex-gap-mobile-48--klvz2","flex-gap-mobile-56":"frontend-pencraft-Box-module__flex-gap-mobile-56--OvGtj","flex-gap-mobile-64":"frontend-pencraft-Box-module__flex-gap-mobile-64--wMXeg","flex-gap-mobile-80":"frontend-pencraft-Box-module__flex-gap-mobile-80--dtOoW","flex-gap-mobile-96":"frontend-pencraft-Box-module__flex-gap-mobile-96--ZFddh","flex-gap-mobile-120":"frontend-pencraft-Box-module__flex-gap-mobile-120--FF8So","padding-mobile-0":"frontend-pencraft-Box-module__padding-mobile-0--pHHdL","padding-mobile-4":"frontend-pencraft-Box-module__padding-mobile-4--hhaLE","padding-mobile-6":"frontend-pencraft-Box-module__padding-mobile-6--ysaO9","padding-mobile-8":"frontend-pencraft-Box-module__padding-mobile-8--qBaDC","padding-mobile-12":"frontend-pencraft-Box-module__padding-mobile-12--yamxD","padding-mobile-16":"frontend-pencraft-Box-module__padding-mobile-16--WwNhz","padding-mobile-20":"frontend-pencraft-Box-module__padding-mobile-20--pdIFk","padding-mobile-24":"frontend-pencraft-Box-module__padding-mobile-24--dws4N","padding-mobile-32":"frontend-pencraft-Box-module__padding-mobile-32--q99bY","padding-mobile-40":"frontend-pencraft-Box-module__padding-mobile-40--N3CX8","padding-mobile-48":"frontend-pencraft-Box-module__padding-mobile-48--Zp2aA","padding-mobile-56":"frontend-pencraft-Box-module__padding-mobile-56--yaf6_","padding-mobile-64":"frontend-pencraft-Box-module__padding-mobile-64--QBktp","padding-mobile-80":"frontend-pencraft-Box-module__padding-mobile-80--mlEKm","padding-mobile-120":"frontend-pencraft-Box-module__padding-mobile-120--u2BT7","padding-y-mobile-0":"frontend-pencraft-Box-module__padding-y-mobile-0--l1XHn","padding-y-mobile-4":"frontend-pencraft-Box-module__padding-y-mobile-4--NGnYk","padding-y-mobile-6":"frontend-pencraft-Box-module__padding-y-mobile-6--e_Z74","padding-y-mobile-8":"frontend-pencraft-Box-module__padding-y-mobile-8--q24xz","padding-y-mobile-12":"frontend-pencraft-Box-module__padding-y-mobile-12--WcL2J","padding-y-mobile-16":"frontend-pencraft-Box-module__padding-y-mobile-16--dydMQ","padding-y-mobile-20":"frontend-pencraft-Box-module__padding-y-mobile-20--XCF1X","padding-y-mobile-24":"frontend-pencraft-Box-module__padding-y-mobile-24--b5BI9","padding-y-mobile-32":"frontend-pencraft-Box-module__padding-y-mobile-32--DdQKj","padding-y-mobile-40":"frontend-pencraft-Box-module__padding-y-mobile-40--ejJzM","padding-y-mobile-48":"frontend-pencraft-Box-module__padding-y-mobile-48--AcvqS","padding-y-mobile-56":"frontend-pencraft-Box-module__padding-y-mobile-56--jaNbX","padding-y-mobile-64":"frontend-pencraft-Box-module__padding-y-mobile-64--g85Ek","padding-y-mobile-80":"frontend-pencraft-Box-module__padding-y-mobile-80--guBcX","padding-y-mobile-120":"frontend-pencraft-Box-module__padding-y-mobile-120--cb6H3","padding-x-mobile-0":"frontend-pencraft-Box-module__padding-x-mobile-0--sLHt8","padding-x-mobile-4":"frontend-pencraft-Box-module__padding-x-mobile-4--D_vuF","padding-x-mobile-6":"frontend-pencraft-Box-module__padding-x-mobile-6--MK5v1","padding-x-mobile-8":"frontend-pencraft-Box-module__padding-x-mobile-8--SLqFj","padding-x-mobile-12":"frontend-pencraft-Box-module__padding-x-mobile-12--wQTg5","padding-x-mobile-16":"frontend-pencraft-Box-module__padding-x-mobile-16--qz0qN","padding-x-mobile-20":"frontend-pencraft-Box-module__padding-x-mobile-20--hhZQr","padding-x-mobile-24":"frontend-pencraft-Box-module__padding-x-mobile-24--voGHV","padding-x-mobile-32":"frontend-pencraft-Box-module__padding-x-mobile-32--UTs6w","padding-x-mobile-40":"frontend-pencraft-Box-module__padding-x-mobile-40--aJowh","padding-x-mobile-48":"frontend-pencraft-Box-module__padding-x-mobile-48--GBmBD","padding-x-mobile-56":"frontend-pencraft-Box-module__padding-x-mobile-56--DOGvg","padding-x-mobile-64":"frontend-pencraft-Box-module__padding-x-mobile-64--kCK6W","padding-x-mobile-80":"frontend-pencraft-Box-module__padding-x-mobile-80--blnxY","padding-x-mobile-120":"frontend-pencraft-Box-module__padding-x-mobile-120--rkiYK","padding-top-mobile-0":"frontend-pencraft-Box-module__padding-top-mobile-0--oJ6mc","padding-top-mobile-4":"frontend-pencraft-Box-module__padding-top-mobile-4--QomAL","padding-top-mobile-6":"frontend-pencraft-Box-module__padding-top-mobile-6--c6qnp","padding-top-mobile-8":"frontend-pencraft-Box-module__padding-top-mobile-8--aLZhy","padding-top-mobile-12":"frontend-pencraft-Box-module__padding-top-mobile-12--uwKuV","padding-top-mobile-16":"frontend-pencraft-Box-module__padding-top-mobile-16--fjFPO","padding-top-mobile-20":"frontend-pencraft-Box-module__padding-top-mobile-20--m6L88","padding-top-mobile-24":"frontend-pencraft-Box-module__padding-top-mobile-24--pNohc","padding-top-mobile-32":"frontend-pencraft-Box-module__padding-top-mobile-32--a0t_9","padding-top-mobile-40":"frontend-pencraft-Box-module__padding-top-mobile-40--HNzxh","padding-top-mobile-48":"frontend-pencraft-Box-module__padding-top-mobile-48--Oef7p","padding-top-mobile-56":"frontend-pencraft-Box-module__padding-top-mobile-56--YkvmY","padding-top-mobile-64":"frontend-pencraft-Box-module__padding-top-mobile-64--Pyh23","padding-top-mobile-80":"frontend-pencraft-Box-module__padding-top-mobile-80--IN5AZ","padding-top-mobile-120":"frontend-pencraft-Box-module__padding-top-mobile-120--QMG0v","padding-bottom-mobile-0":"frontend-pencraft-Box-module__padding-bottom-mobile-0--vznPS","padding-bottom-mobile-4":"frontend-pencraft-Box-module__padding-bottom-mobile-4--VMIm8","padding-bottom-mobile-6":"frontend-pencraft-Box-module__padding-bottom-mobile-6--LyDqa","padding-bottom-mobile-8":"frontend-pencraft-Box-module__padding-bottom-mobile-8--gCYaK","padding-bottom-mobile-12":"frontend-pencraft-Box-module__padding-bottom-mobile-12--jC0SK","padding-bottom-mobile-16":"frontend-pencraft-Box-module__padding-bottom-mobile-16--TDCHN","padding-bottom-mobile-20":"frontend-pencraft-Box-module__padding-bottom-mobile-20--KFFIi","padding-bottom-mobile-24":"frontend-pencraft-Box-module__padding-bottom-mobile-24--yZ5l3","padding-bottom-mobile-32":"frontend-pencraft-Box-module__padding-bottom-mobile-32--z_M2k","padding-bottom-mobile-40":"frontend-pencraft-Box-module__padding-bottom-mobile-40--KAzfp","padding-bottom-mobile-48":"frontend-pencraft-Box-module__padding-bottom-mobile-48--AxHJK","padding-bottom-mobile-56":"frontend-pencraft-Box-module__padding-bottom-mobile-56--L8HbC","padding-bottom-mobile-64":"frontend-pencraft-Box-module__padding-bottom-mobile-64--yY377","padding-bottom-mobile-80":"frontend-pencraft-Box-module__padding-bottom-mobile-80--jjWe_","padding-bottom-mobile-120":"frontend-pencraft-Box-module__padding-bottom-mobile-120--NMOpl","padding-left-mobile-0":"frontend-pencraft-Box-module__padding-left-mobile-0--rMgFb","padding-left-mobile-4":"frontend-pencraft-Box-module__padding-left-mobile-4--gRPK1","padding-left-mobile-6":"frontend-pencraft-Box-module__padding-left-mobile-6--F6a0d","padding-left-mobile-8":"frontend-pencraft-Box-module__padding-left-mobile-8--klUzH","padding-left-mobile-12":"frontend-pencraft-Box-module__padding-left-mobile-12--ZjRhu","padding-left-mobile-16":"frontend-pencraft-Box-module__padding-left-mobile-16--XZUYG","padding-left-mobile-20":"frontend-pencraft-Box-module__padding-left-mobile-20--cSAwz","padding-left-mobile-24":"frontend-pencraft-Box-module__padding-left-mobile-24--d6AYr","padding-left-mobile-32":"frontend-pencraft-Box-module__padding-left-mobile-32--lV0L6","padding-left-mobile-40":"frontend-pencraft-Box-module__padding-left-mobile-40--j1CUU","padding-left-mobile-48":"frontend-pencraft-Box-module__padding-left-mobile-48--fQOYm","padding-left-mobile-56":"frontend-pencraft-Box-module__padding-left-mobile-56--V3BCT","padding-left-mobile-64":"frontend-pencraft-Box-module__padding-left-mobile-64--mWcOm","padding-left-mobile-80":"frontend-pencraft-Box-module__padding-left-mobile-80--xZV_a","padding-left-mobile-120":"frontend-pencraft-Box-module__padding-left-mobile-120--rdhq4","padding-right-mobile-0":"frontend-pencraft-Box-module__padding-right-mobile-0--DVDzT","padding-right-mobile-4":"frontend-pencraft-Box-module__padding-right-mobile-4--MaDAB","padding-right-mobile-6":"frontend-pencraft-Box-module__padding-right-mobile-6--wZiyO","padding-right-mobile-8":"frontend-pencraft-Box-module__padding-right-mobile-8--VIDL8","padding-right-mobile-12":"frontend-pencraft-Box-module__padding-right-mobile-12--NBDZD","padding-right-mobile-16":"frontend-pencraft-Box-module__padding-right-mobile-16--PD1Dy","padding-right-mobile-20":"frontend-pencraft-Box-module__padding-right-mobile-20--V2Oc4","padding-right-mobile-24":"frontend-pencraft-Box-module__padding-right-mobile-24--L0KUi","padding-right-mobile-32":"frontend-pencraft-Box-module__padding-right-mobile-32--i7Z7o","padding-right-mobile-40":"frontend-pencraft-Box-module__padding-right-mobile-40--hvPRY","padding-right-mobile-48":"frontend-pencraft-Box-module__padding-right-mobile-48--zadfm","padding-right-mobile-56":"frontend-pencraft-Box-module__padding-right-mobile-56--CuM14","padding-right-mobile-64":"frontend-pencraft-Box-module__padding-right-mobile-64--MSA2_","padding-right-mobile-80":"frontend-pencraft-Box-module__padding-right-mobile-80--LUN5o","padding-right-mobile-120":"frontend-pencraft-Box-module__padding-right-mobile-120--KkeSn","border-transparent":"frontend-pencraft-Box-module__border-transparent--zPqIf","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--NH9Pp","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--spbbj","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--KjBt0","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--_TydC","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--ONzvg","border-detail":"frontend-pencraft-Box-module__border-detail--MiH57","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--W9Yi4","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--SbXzV","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--KXtc0","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--VmAfT","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--UQJY8","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--Mv1k0","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--e17yZ","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--eVwFY","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--SLWvx","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--jYKzL","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--qoWJu","border-radius-2":"frontend-pencraft-Box-module__border-radius-2--BBVt6","border-radius-4":"frontend-pencraft-Box-module__border-radius-4--c3laC","border-radius-8":"frontend-pencraft-Box-module__border-radius-8--GFpXQ","border-radius-12":"frontend-pencraft-Box-module__border-radius-12--AmQy9","border-radius-16":"frontend-pencraft-Box-module__border-radius-16--FezDp","border-radius-20":"frontend-pencraft-Box-module__border-radius-20--b5MP2","min-width-0":"frontend-pencraft-Box-module__min-width-0--MCJwG","min-height-0":"frontend-pencraft-Box-module__min-height-0--GO2ox","shadow-sm":"frontend-pencraft-Box-module__shadow-sm--diOyW","shadow-md":"frontend-pencraft-Box-module__shadow-md--iNIT9","shadow-lg":"frontend-pencraft-Box-module__shadow-lg--wyu_D","bg-primary":"frontend-pencraft-Box-module__bg-primary--mKqVL","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--nYHb_","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--Ub0gU","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--Stdd7",flexGrow:"frontend-pencraft-Box-module__flexGrow--mx4xz",flexAuto:"frontend-pencraft-Box-module__flexAuto--CnX9I",flexFill:"frontend-pencraft-Box-module__flexFill--Bk7kX","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--BWUQA","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--XwpIO","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--uRf50",ellipsis:"frontend-pencraft-Box-module__ellipsis--pBigN","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--JDlFM","pullX-4":"frontend-pencraft-Box-module__pullX-4--mcuJr","pullX-6":"frontend-pencraft-Box-module__pullX-6--mt60z","pullX-8":"frontend-pencraft-Box-module__pullX-8--S5L_X","pullX-12":"frontend-pencraft-Box-module__pullX-12--q44Xm","pullX-16":"frontend-pencraft-Box-module__pullX-16--INTA6","pullX-20":"frontend-pencraft-Box-module__pullX-20--ZkA8j","pullX-24":"frontend-pencraft-Box-module__pullX-24--QGV4o","pullX-32":"frontend-pencraft-Box-module__pullX-32--GyMB2","pullX-40":"frontend-pencraft-Box-module__pullX-40--F0UAO","pullX-48":"frontend-pencraft-Box-module__pullX-48--xOl5I","pullX-56":"frontend-pencraft-Box-module__pullX-56--Ns28l","pullX-64":"frontend-pencraft-Box-module__pullX-64--hg4cI","pullX-80":"frontend-pencraft-Box-module__pullX-80--eSVAK","pullX-120":"frontend-pencraft-Box-module__pullX-120--M1no4"}},28614:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={reset:"frontend-pencraft-Text-module__reset--dW0zZ","align-left":"frontend-pencraft-Text-module__align-left--IURXw","align-center":"frontend-pencraft-Text-module__align-center--HMNAZ","align-right":"frontend-pencraft-Text-module__align-right--PcYkZ","size-10":"frontend-pencraft-Text-module__size-10--TjNsS","size-11":"frontend-pencraft-Text-module__size-11--k1e8b","size-12":"frontend-pencraft-Text-module__size-12--KorQF","size-13":"frontend-pencraft-Text-module__size-13--XwZ4Q","size-14":"frontend-pencraft-Text-module__size-14--Ume6q","size-16":"frontend-pencraft-Text-module__size-16--fFowu","size-18":"frontend-pencraft-Text-module__size-18--zqngu","size-20":"frontend-pencraft-Text-module__size-20--rvGME","size-24":"frontend-pencraft-Text-module__size-24--Nqjlj","size-28":"frontend-pencraft-Text-module__size-28--QPmK_","size-32":"frontend-pencraft-Text-module__size-32--oRWIM","size-36":"frontend-pencraft-Text-module__size-36--qcTKl","size-38":"frontend-pencraft-Text-module__size-38--VRHEY","line-height-16":"frontend-pencraft-Text-module__line-height-16--nRbFX","line-height-18":"frontend-pencraft-Text-module__line-height-18--Hqt45","line-height-20":"frontend-pencraft-Text-module__line-height-20--p0dP8","line-height-22":"frontend-pencraft-Text-module__line-height-22--fBCDb","line-height-24":"frontend-pencraft-Text-module__line-height-24--lgb2s","line-height-28":"frontend-pencraft-Text-module__line-height-28--NgO1Q","line-height-30":"frontend-pencraft-Text-module__line-height-30--I_4lx","line-height-32":"frontend-pencraft-Text-module__line-height-32--gncft","line-height-36":"frontend-pencraft-Text-module__line-height-36--XBUKs","line-height-40":"frontend-pencraft-Text-module__line-height-40--IuB7y","line-height-44":"frontend-pencraft-Text-module__line-height-44--FgZZF","weight-light":"frontend-pencraft-Text-module__weight-light--K3kAx","weight-normal":"frontend-pencraft-Text-module__weight-normal--s54Wf","weight-medium":"frontend-pencraft-Text-module__weight-medium--x7khA","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--LJBj3","weight-bold":"frontend-pencraft-Text-module__weight-bold--Ps9DB","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--MVDJb","font-display":"frontend-pencraft-Text-module__font-display--KlbfE","font-text":"frontend-pencraft-Text-module__font-text--QmNJR","font-serif":"frontend-pencraft-Text-module__font-serif--vDmr9","font-monospace":"frontend-pencraft-Text-module__font-monospace--d1JCK","font-meta":"frontend-pencraft-Text-module__font-meta--U_nxy","font-digit":"frontend-pencraft-Text-module__font-digit--AusNq","font-emoji":"frontend-pencraft-Text-module__font-emoji--vNv4r","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--lbOZ2","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--EYvh6","font-marketing":"frontend-pencraft-Text-module__font-marketing--alZiD","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--pVGY_","color-primary":"frontend-pencraft-Text-module__color-primary--ud4Z0","color-secondary":"frontend-pencraft-Text-module__color-secondary--WRADg","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--Ltr7B","color-success":"frontend-pencraft-Text-module__color-success--DEqmn","color-error":"frontend-pencraft-Text-module__color-error--cPex3","color-substack":"frontend-pencraft-Text-module__color-substack--OEE6X","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--fXepy","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--RzL7j","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--OzRTa","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--ENUEn","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--XZxwi","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--XfjiI","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--yq1p7","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--IDkUL",ellipsis:"frontend-pencraft-Text-module__ellipsis--K3mj1",nowrap:"frontend-pencraft-Text-module__nowrap--FFIJI",clamp:"frontend-pencraft-Text-module__clamp--a1dYM","clamp-1":"frontend-pencraft-Text-module__clamp-1--qD_7y","clamp-2":"frontend-pencraft-Text-module__clamp-2--kM7cV","clamp-3":"frontend-pencraft-Text-module__clamp-3--R6uR3","clamp-4":"frontend-pencraft-Text-module__clamp-4--UtLMJ","clamp-5":"frontend-pencraft-Text-module__clamp-5--jx7AR","clamp-8":"frontend-pencraft-Text-module__clamp-8--_w8kW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--sj8pE","decoration-none":"frontend-pencraft-Text-module__decoration-none--fSOnx","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--BEYAn","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--savXK","pb-0":"frontend-pencraft-Text-module__pb-0--oJ2zN","pb-4":"frontend-pencraft-Text-module__pb-4--zc_MG","pb-8":"frontend-pencraft-Text-module__pb-8--az5rk","pb-12":"frontend-pencraft-Text-module__pb-12--kc1Oe","pb-16":"frontend-pencraft-Text-module__pb-16--EmDlZ","pb-20":"frontend-pencraft-Text-module__pb-20--H2nTd","pb-24":"frontend-pencraft-Text-module__pb-24--lZquw","pb-28":"frontend-pencraft-Text-module__pb-28--FnB8w","pb-32":"frontend-pencraft-Text-module__pb-32--UAwHd","pl-0":"frontend-pencraft-Text-module__pl-0--M0tOT","pl-4":"frontend-pencraft-Text-module__pl-4--OU99o","pl-8":"frontend-pencraft-Text-module__pl-8--Utyb7","pl-12":"frontend-pencraft-Text-module__pl-12--YSRQc","pl-16":"frontend-pencraft-Text-module__pl-16--Qy2oa","pl-20":"frontend-pencraft-Text-module__pl-20--_jy5A","pl-24":"frontend-pencraft-Text-module__pl-24--CLAKz","pl-28":"frontend-pencraft-Text-module__pl-28--Px2EF","pl-32":"frontend-pencraft-Text-module__pl-32--vPigU","pr-0":"frontend-pencraft-Text-module__pr-0--iu9nM","pr-4":"frontend-pencraft-Text-module__pr-4--CxP4h","pr-8":"frontend-pencraft-Text-module__pr-8--RdjsS","pr-12":"frontend-pencraft-Text-module__pr-12--b4OPu","pr-16":"frontend-pencraft-Text-module__pr-16--Omg1z","pr-20":"frontend-pencraft-Text-module__pr-20--q5Liy","pr-24":"frontend-pencraft-Text-module__pr-24--DLrAp","pr-28":"frontend-pencraft-Text-module__pr-28--CzBqk","pr-32":"frontend-pencraft-Text-module__pr-32--fpeci","pt-0":"frontend-pencraft-Text-module__pt-0--gXXK4","pt-4":"frontend-pencraft-Text-module__pt-4--A76Ib","pt-8":"frontend-pencraft-Text-module__pt-8--UXpDH","pt-12":"frontend-pencraft-Text-module__pt-12--_3VHu","pt-16":"frontend-pencraft-Text-module__pt-16--Q_rgJ","pt-20":"frontend-pencraft-Text-module__pt-20--eahXO","pt-24":"frontend-pencraft-Text-module__pt-24--eHqeF","pt-28":"frontend-pencraft-Text-module__pt-28--y5gSe","pt-32":"frontend-pencraft-Text-module__pt-32--RCWsg",paragraph:"frontend-pencraft-Text-module__paragraph--xwgYU",header1:"frontend-pencraft-Text-module__header1--fN7A4",header2:"frontend-pencraft-Text-module__header2--nd98e",header3:"frontend-pencraft-Text-module__header3--nDAx7",header4:"frontend-pencraft-Text-module__header4--hH3cg",body1:"frontend-pencraft-Text-module__body1--PZGPK",body2:"frontend-pencraft-Text-module__body2--OSJSf",body3:"frontend-pencraft-Text-module__body3--xcwfZ",body4:"frontend-pencraft-Text-module__body4--Pl3xY",meta:"frontend-pencraft-Text-module__meta--jzHdd",digit:"frontend-pencraft-Text-module__digit--Dssbw",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--w2t25",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--GilGQ",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--Rv1Nh",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--nhPu_",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--fBhoA",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--zmdSS",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--kXKk3",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--jIk8i",marketingBody:"frontend-pencraft-Text-module__marketingBody--i9R2n"}},51220:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},28967:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6",desaturate:"frontend-reader2-FeedPage2-module__desaturate--nMKB1",unhideButton:"frontend-reader2-FeedPage2-module__unhideButton--lwW4T",viewHiddenRepliesButton:"frontend-reader2-FeedPage2-module__viewHiddenRepliesButton--Ids4f",hiddenRepliesSettingsButton:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButton--gT41H",hiddenRepliesSettingsButtonIcon:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButtonIcon--tfbag"}},7980:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={avatarLink:"frontend-reader2-NewPost-module__avatarLink--k6p8g",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--Kcxrs",disabled:"frontend-reader2-NewPost-module__disabled--H5e3r",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--GEnD0",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--VqfS8",mobile:"frontend-reader2-NewPost-module__mobile--KoLCp",isDropping:"frontend-reader2-NewPost-module__isDropping--rlyUL",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--QzbSz",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--zsd8O",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--eN3TG",exceded:"frontend-reader2-NewPost-module__exceded--K2Uk0",composerModal:"frontend-reader2-NewPost-module__composerModal--i_mLl",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--CxnXw",modalColumn:"frontend-reader2-NewPost-module__modalColumn--e32_G",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--rxRtk",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--gtepK",pubRow:"frontend-reader2-NewPost-module__pubRow--cgSM7",pubName:"frontend-reader2-NewPost-module__pubName--sA2UJ",linkImage:"frontend-reader2-NewPost-module__linkImage--TodmF",imageContainer:"frontend-reader2-NewPost-module__imageContainer--A8VSd",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--oQMn_",removeImage:"frontend-reader2-NewPost-module__removeImage--nfnT8",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--fGdwq"}},95042:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={root:"frontend-reader2-Notifications-module__root--Tsg8L",trigger:"frontend-reader2-Notifications-module__trigger--dMulo",badge:"frontend-reader2-Notifications-module__badge--B7mk_",circle:"frontend-reader2-Notifications-module__circle--Q8siW"}},27797:(G,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={card:"frontend-reader2-ProfileAndPublicationHoverCard-module__card--J_wFE",publicationPopover:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationPopover--U_ZvV",breakOut:"frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardAvatar:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardAvatar--wb9DE frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardTitle:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardTitle--l2ryd",writesCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__writesCard--Kg6JT",hoverCardSeeAll:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardSeeAll--5trGx",profileHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardTarget--Od_YL",publicationHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCardTarget--UjFRs",inline:"frontend-reader2-ProfileAndPublicationHoverCard-module__inline--bEDYo",profileHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCard--k5sNi",publicationHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCard--sCxL3",profileHoverCardHeader:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardHeader--WYI5h",profileHoverCardNameRow:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardNameRow--vDy1W",facepileFace:"frontend-reader2-ProfileAndPublicationHoverCard-module__facepileFace--bOm2O"}},33291:()=>{"use strict";var G={}},57824:G=>{var s=1e3,e=s*60,o=e*60,m=o*24,f=m*7,d=m*365.25;G.exports=function(b,x){x=x||{};var E=typeof b;if(E==="string"&&b.length>0)return g(b);if(E==="number"&&isFinite(b))return x.long?C(b):y(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function g(b){if(b=String(b),!(b.length>100)){var x=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(x){var E=parseFloat(x[1]),O=(x[2]||"ms").toLowerCase();switch(O){case"years":case"year":case"yrs":case"yr":case"y":return E*d;case"weeks":case"week":case"w":return E*f;case"days":case"day":case"d":return E*m;case"hours":case"hour":case"hrs":case"hr":case"h":return E*o;case"minutes":case"minute":case"mins":case"min":case"m":return E*e;case"seconds":case"second":case"secs":case"sec":case"s":return E*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function y(b){var x=Math.abs(b);return x>=m?Math.round(b/m)+"d":x>=o?Math.round(b/o)+"h":x>=e?Math.round(b/e)+"m":x>=s?Math.round(b/s)+"s":b+"ms"}function C(b){var x=Math.abs(b);return x>=m?v(b,x,m,"day"):x>=o?v(b,x,o,"hour"):x>=e?v(b,x,e,"minute"):x>=s?v(b,x,s,"second"):b+" ms"}function v(b,x,E,O){var w=x>=E*1.5;return Math.round(b/E)+" "+O+(w?"s":"")}},54125:G=>{/*!
 * mux-embed
 * @version 4.25.0
 * @copyright 2023 Mux, Inc
 */(function(){var s,e;s=this,e=function(){return function(){var o={80:function(d,g,y){d.exports=y(728).default},728:function(d,g,y){"use strict";y.d(g,{default:function(){return Di}});var C=y(48),v=y.n(C),b=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(et){var Ye=16*Math.random()|0;return(et==="x"?Ye:3&Ye|8).toString(16)})},x=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},E=function(et){return et&&et.nodeName!==void 0?(et.muxId||(et.muxId=et.id||x()),et.muxId):et},O=function(et){var Ye;et&&et.nodeName!==void 0?et=E(Ye=et):Ye=document.querySelector(et);var Xe=Ye&&Ye.nodeName?Ye.nodeName.toLowerCase():"";return[Ye,et,Xe]},w=y(640),_=y.n(w),a=_().methodFactory;_().methodFactory=function(et,Ye,Xe){var pt=a(et,Ye,Xe);return function(){for(var gt=["[mux]"],kt=0;kt<arguments.length;kt++)gt.push(arguments[kt]);pt.apply(void 0,gt)}},_().setLevel(_().getLevel());var l=_();function P(){return(v().doNotTrack||v().navigator&&v().navigator.doNotTrack)==="1"}var S={now:function(){var et=v().performance,Ye=et&&et.timing,Xe=Ye&&Ye.navigationStart,pt=typeof Xe=="number"&&typeof et.now=="function"?Xe+et.now():Date.now();return Math.round(pt)}},M=function(et){return R(et)[0]},R=function(et){if(typeof et!="string"||et==="")return["localhost"];var Ye,Xe=(et.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return Xe&&(Ye=(Xe.match(/[^\.]+\.[^\.]+$/)||[])[0]),[Xe,Ye]},N={exists:function(){var et=v().performance;return(et&&et.timing)!==void 0},domContentLoadedEventEnd:function(){var et=v().performance,Ye=et&&et.timing;return Ye&&Ye.domContentLoadedEventEnd},navigationStart:function(){var et=v().performance,Ye=et&&et.timing;return Ye&&Ye.navigationStart}};function T(et,Ye,Xe){Xe=Xe===void 0?1:Xe,et[Ye]=et[Ye]||0,et[Ye]+=Xe}var A=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],W=["x-cdn","content-type"].concat(A);function j(et){var Ye={};return(et=et||"").trim().split(/[\r\n]+/).forEach(function(Xe){if(Xe){var pt=Xe.split(": "),gt=pt.shift();gt&&(W.indexOf(gt.toLowerCase())>=0||gt.toLowerCase().indexOf("x-litix-")===0)&&(Ye[gt]=pt.join(": "))}}),Ye}function Z(et){if(et){var Ye=A.find(function(Xe){return et[Xe]!==void 0});return Ye?et[Ye]:void 0}}var J=function(et){var Ye={};for(var Xe in et){var pt=et[Xe];pt["DATA-ID"].search("io.litix.data.")!==-1&&(Ye[pt["DATA-ID"].replace("io.litix.data.","")]=pt.VALUE)}return Ye};function Q(et,Ye){var Xe=Object.keys(et);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(et);Ye&&(pt=pt.filter(function(gt){return Object.getOwnPropertyDescriptor(et,gt).enumerable})),Xe.push.apply(Xe,pt)}return Xe}function ne(et){for(var Ye=1;Ye<arguments.length;Ye++){var Xe=arguments[Ye]!=null?arguments[Ye]:{};Ye%2?Q(Object(Xe),!0).forEach(function(pt){te(et,pt,Xe[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Xe)):Q(Object(Xe)).forEach(function(pt){Object.defineProperty(et,pt,Object.getOwnPropertyDescriptor(Xe,pt))})}return et}function te(et,Ye,Xe){return Ye in et?Object.defineProperty(et,Ye,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):et[Ye]=Xe,et}var B=function(et){if(!et)return{};var Ye=N.navigationStart(),Xe=et.loading,pt=Xe?Xe.start:et.trequest,gt=Xe?Xe.first:et.tfirst,kt=Xe?Xe.end:et.tload;return{bytesLoaded:et.total,requestStart:Math.round(Ye+pt),responseStart:Math.round(Ye+gt),responseEnd:Math.round(Ye+kt)}},V=function(et){if(et&&typeof et.getAllResponseHeaders=="function")return j(et.getAllResponseHeaders())};function re(et,Ye){var Xe=Object.keys(et);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(et);Ye&&(pt=pt.filter(function(gt){return Object.getOwnPropertyDescriptor(et,gt).enumerable})),Xe.push.apply(Xe,pt)}return Xe}function le(et){for(var Ye=1;Ye<arguments.length;Ye++){var Xe=arguments[Ye]!=null?arguments[Ye]:{};Ye%2?re(Object(Xe),!0).forEach(function(pt){ae(et,pt,Xe[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Xe)):re(Object(Xe)).forEach(function(pt){Object.defineProperty(et,pt,Object.getOwnPropertyDescriptor(Xe,pt))})}return et}function ae(et,Ye,Xe){return Ye in et?Object.defineProperty(et,Ye,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):et[Ye]=Xe,et}var q=function(et,Ye){if(!et||typeof et.getRequests!="function")return{};var Xe=et.getRequests({state:"executed"});if(Xe.length===0)return{};var pt,gt=Xe[Xe.length-1],kt=M(gt.url),Bt=gt.url,Se=gt.bytesLoaded,_e=new Date(gt.requestStartDate).getTime(),Pe=new Date(gt.firstByteDate).getTime(),$e=new Date(gt.requestEndDate).getTime(),mt=isNaN(gt.duration)?0:gt.duration,vt=typeof Ye.getMetricsFor=="function"?Ye.getMetricsFor(gt.mediaType).HttpList:Ye.getDashMetrics().getHttpRequests(gt.mediaType);return vt.length>0&&(pt=j(vt[vt.length-1]._responseHeaders||"")),{requestStart:_e,requestResponseStart:Pe,requestResponseEnd:$e,requestBytesLoaded:Se,requestResponseHeaders:pt,requestMediaDuration:mt,requestHostname:kt,requestUrl:Bt,requestId:pt?Z(pt):void 0}},oe=function(et,Ye){var Xe=Ye.getQualityFor(et),pt=Ye.getCurrentTrackFor(et).bitrateList;return pt?{currentLevel:Xe,renditionWidth:pt[Xe].width||null,renditionHeight:pt[Xe].height||null,renditionBitrate:pt[Xe].bandwidth}:{}},z=function(et){var Ye;return(Ye=et.match(/.*codecs\*?="(.*)"/))===null||Ye===void 0?void 0:Ye[1]};function ie(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}var ue=0,de=function(){function et(){(function(gt,kt){if(!(gt instanceof kt))throw new TypeError("Cannot call a class as a function")})(this,et)}var Ye,Xe,pt;return Ye=et,Xe=[{key:"on",value:function(gt,kt,Bt){return kt._eventEmitterGuid=kt._eventEmitterGuid||++ue,this._listeners=this._listeners||{},this._listeners[gt]=this._listeners[gt]||[],Bt&&(kt=kt.bind(Bt)),this._listeners[gt].push(kt),kt}},{key:"off",value:function(gt,kt){var Bt=this._listeners&&this._listeners[gt];Bt&&Bt.forEach(function(Se,_e){Se._eventEmitterGuid===kt._eventEmitterGuid&&Bt.splice(_e,1)})}},{key:"one",value:function(gt,kt,Bt){var Se=this;kt._eventEmitterGuid=kt._eventEmitterGuid||++ue;var _e=function Pe(){Se.off(gt,Pe),kt.apply(Bt||this,arguments)};_e._eventEmitterGuid=kt._eventEmitterGuid,this.on(gt,_e)}},{key:"emit",value:function(gt,kt){var Bt=this;if(this._listeners){kt=kt||{};var Se=this._listeners["before*"]||[],_e=this._listeners[gt]||[],Pe=this._listeners["after"+gt]||[],$e=function(mt,vt){(mt=mt.slice()).forEach(function(St){St.call(Bt,{type:gt},vt)})};$e(Se,kt),$e(_e,kt),$e(Pe,kt)}}}],Xe&&ie(Ye.prototype,Xe),pt&&ie(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),et}(),fe=de;function ye(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}var pe=function(){function et(gt){var kt=this;(function(Bt,Se){if(!(Bt instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,gt.on("playing",function(){kt._playheadShouldBeProgressing=!0}),gt.on("play",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("seeked",function(){gt.data.player_is_paused?kt._stopPlaybackHeartbeatInterval():kt._startPlaybackHeartbeatInterval()}),gt.on("timeupdate",function(){kt._playbackHeartbeatInterval!==null&&gt.emit("playbackheartbeat")}),gt.on("devicesleep",function(Bt,Se){kt._playbackHeartbeatInterval!==null&&(v().clearInterval(kt._playbackHeartbeatInterval),gt.emit("playbackheartbeatend",{viewer_time:Se.viewer_time}),kt._playbackHeartbeatInterval=null)})}var Ye,Xe,pt;return Ye=et,(Xe=[{key:"_startPlaybackHeartbeatInterval",value:function(){var gt=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=v().setInterval(function(){gt.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(v().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&ye(Ye.prototype,Xe),pt&&ye(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),et}();function we(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function Me(et,Ye,Xe){return Ye&&we(et.prototype,Ye),Xe&&we(et,Xe),Object.defineProperty(et,"prototype",{writable:!1}),et}var je=Me(function et(Ye){var Xe=this;(function(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),Ye.on("viewinit",function(){Xe.viewErrored=!1}),Ye.on("error",function(pt,gt){try{var kt=Ye.errorTranslator({player_error_code:gt.player_error_code,player_error_message:gt.player_error_message,player_error_context:gt.player_error_context});kt?(Ye.data.player_error_code=kt.player_error_code||gt.player_error_code,Ye.data.player_error_message=kt.player_error_message||gt.player_error_message,Ye.data.player_error_context=kt.player_error_context||gt.player_error_context,Xe.viewErrored=!0):(delete Ye.data.player_error_code,delete Ye.data.player_error_message,delete Ye.data.player_error_context)}catch(Bt){Ye.mux.log.warn("Exception in error translator callback.",Bt),Xe.viewErrored=!0}})});function De(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}var me=function(){function et(gt){(function(kt,Bt){if(!(kt instanceof Bt))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,this._watchTimeTrackerLastCheckedTime=null,gt.on("playbackheartbeat",this._updateWatchTime.bind(this)),gt.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var Ye,Xe,pt;return Ye=et,(Xe=[{key:"_updateWatchTime",value:function(gt,kt){var Bt=kt.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=Bt),T(this.pm.data,"view_watch_time",Bt-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=Bt}},{key:"_clearWatchTimeState",value:function(gt,kt){this._updateWatchTime(gt,kt),this._watchTimeTrackerLastCheckedTime=null}}])&&De(Ye.prototype,Xe),pt&&De(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),et}();function ce(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}var ge=function(){function et(gt){var kt=this;(function(Bt,Se){if(!(Bt instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=S.now(),this._isAdPlaying=!1,gt.on("playbackheartbeat",this._updatePlaybackTime.bind(this)),gt.on("playbackheartbeatend",this._clearPlaybackTimeState.bind(this)),gt.on("seeking",this._clearPlaybackTimeState.bind(this)),gt.on("adplaying",function(){kt._isAdPlaying=!0}),gt.on("adended",function(){kt._isAdPlaying=!1}),gt.on("adpause",function(){kt._isAdPlaying=!1}),gt.on("adbreakstart",function(){kt._isAdPlaying=!1}),gt.on("adbreakend",function(){kt._isAdPlaying=!1}),gt.on("adplay",function(){kt._isAdPlaying=!1})}var Ye,Xe,pt;return Ye=et,(Xe=[{key:"_updatePlaybackTime",value:function(){var gt=this.pm.data.player_playhead_time,kt=S.now(),Bt=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&gt>this._playbackTimeTrackerLastPlayheadPosition?Bt=gt-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(Bt=kt-this._lastTime),Bt>0&&Bt<=1e3&&T(this.pm.data,"view_content_playback_time",Bt),this._playbackTimeTrackerLastPlayheadPosition=gt,this._lastTime=kt}},{key:"_clearPlaybackTimeState",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}])&&ce(Ye.prototype,Xe),pt&&ce(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),et}();function Ie(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}var Re=function(){function et(gt){(function(Bt,Se){if(!(Bt instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt;var kt=this._updatePlayheadTime.bind(this);gt.on("playbackheartbeat",kt),gt.on("playbackheartbeatend",kt),gt.on("timeupdate",kt),gt.on("destroy",function(){gt.off("timeupdate",kt)})}var Ye,Xe,pt;return Ye=et,(Xe=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=this.pm.data.view_max_playhead_position===void 0?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(gt,kt){var Bt=this,Se=function(){Bt.pm.currentFragmentPDT&&Bt.pm.currentFragmentStart&&(Bt.pm.data.player_program_time=Bt.pm.currentFragmentPDT+Bt.pm.data.player_playhead_time-Bt.pm.currentFragmentStart)};if(kt&&kt.player_playhead_time)this.pm.data.player_playhead_time=kt.player_playhead_time,Se(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var _e=this.pm.getPlayheadTime();_e!==void 0&&(this.pm.data.player_playhead_time=_e,Se(),this._updateMaxPlayheadPosition())}}}])&&Ie(Ye.prototype,Xe),pt&&Ie(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),et}();function Ke(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function ut(et,Ye,Xe){return Ye&&Ke(et.prototype,Ye),Xe&&Ke(et,Xe),Object.defineProperty(et,"prototype",{writable:!1}),et}var _t=3e5,ft=ut(function et(Ye){if(function(kt,Bt){if(!(kt instanceof Bt))throw new TypeError("Cannot call a class as a function")}(this,et),!Ye.disableRebufferTracking){var Xe,pt=function(kt,Bt){gt(Bt),Xe=void 0},gt=function(kt){if(Xe){var Bt=kt.viewer_time-Xe;T(Ye.data,"view_rebuffer_duration",Bt),Xe=kt.viewer_time,Ye.data.view_rebuffer_duration>_t&&(Ye.emit("viewend"),Ye.send("viewend"),Ye.mux.log.warn("Ending view after rebuffering for longer than ".concat(_t,"ms, future events will be ignored unless a programchange or videochange occurs.")))}Ye.data.view_watch_time>=0&&Ye.data.view_rebuffer_count>0&&(Ye.data.view_rebuffer_frequency=Ye.data.view_rebuffer_count/Ye.data.view_watch_time,Ye.data.view_rebuffer_percentage=Ye.data.view_rebuffer_duration/Ye.data.view_watch_time)};Ye.on("playbackheartbeat",function(kt,Bt){return gt(Bt)}),Ye.on("rebufferstart",function(kt,Bt){Xe||(T(Ye.data,"view_rebuffer_count",1),Xe=Bt.viewer_time,Ye.one("rebufferend",pt))}),Ye.on("viewinit",function(){Xe=void 0,Ye.off("rebufferend",pt)})}});function We(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}var Be=function(){function et(gt){var kt=this;(function(Bt,Se){if(!(Bt instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,gt.disableRebufferTracking||gt.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,gt.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),gt.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),gt.on("seeking",function(){kt._cleanupRebufferTracker(null,{viewer_time:S.now()})}))}var Ye,Xe,pt;return Ye=et,Xe=[{key:"_checkIfRebuffering",value:function(gt,kt){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(gt,kt);else if(this._lastCheckedTime!==null)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var Bt=kt.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&Bt>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=kt.viewer_time}else this._cleanupRebufferTracker(gt,kt,!0);else this._prepareRebufferTrackerState(kt.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(gt){this._lastCheckedTime=gt,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=gt}},{key:"_cleanupRebufferTracker",value:function(gt,kt){var Bt=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:kt.viewer_time});else{if(this._lastCheckedTime===null)return;var Se=this.pm.data.player_playhead_time-this._lastPlayheadTime,_e=kt.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&Se>0&&_e-Se>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+_e-Se}))}Bt?this._prepareRebufferTrackerState(kt.viewer_time):this._clearRebufferTrackerState()}}],Xe&&We(Ye.prototype,Xe),pt&&We(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),et}(),lt=Be;function Tt(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}var xt=function(){function et(gt){var kt=this;(function(Bt,Se){if(!(Bt instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,gt.on("viewinit",function(){var Bt=gt.data,Se=Bt.view_id;if(!Bt.view_program_changed){var _e=function(Pe,$e){var mt=$e.viewer_time;Pe.type==="playing"&&gt.data.view_time_to_first_frame===void 0?kt.calculateTimeToFirstFrame(mt||S.now(),Se):Pe.type!=="adplaying"||gt.data.view_time_to_first_frame!==void 0&&!kt._inPrerollPosition()||kt.calculateTimeToFirstFrame(mt||S.now(),Se)};gt.one("playing",_e),gt.one("adplaying",_e),gt.one("viewend",function(){gt.off("playing",_e),gt.off("adplaying",_e)})}})}var Ye,Xe,pt;return Ye=et,(Xe=[{key:"_inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(gt,kt){kt===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:gt}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&Tt(Ye.prototype,Xe),pt&&Tt(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),et}();function Gt(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function an(et,Ye,Xe){return Ye&&Gt(et.prototype,Ye),Xe&&Gt(et,Xe),Object.defineProperty(et,"prototype",{writable:!1}),et}var yt=an(function et(Ye){var Xe=this;(function(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),Ye.on("viewinit",function(){Xe._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(pt){Ye.on(pt,function(){if(Xe._lastPlayheadPosition>=0&&Ye.data.player_playhead_time>=0&&Xe._lastPlayerWidth>=0&&Xe._lastSourceWidth>0&&Xe._lastPlayerHeight>=0&&Xe._lastSourceHeight>0){var gt=Ye.data.player_playhead_time-Xe._lastPlayheadPosition;if(gt<0)return void(Xe._lastPlayheadPosition=-1);var kt=Math.min(Xe._lastPlayerWidth/Xe._lastSourceWidth,Xe._lastPlayerHeight/Xe._lastSourceHeight),Bt=Math.max(0,kt-1),Se=Math.max(0,1-kt);Ye.data.view_max_upscale_percentage=Math.max(Ye.data.view_max_upscale_percentage||0,Bt),Ye.data.view_max_downscale_percentage=Math.max(Ye.data.view_max_downscale_percentage||0,Se),T(Ye.data,"view_total_content_playback_time",gt),T(Ye.data,"view_total_upscaling",Bt*gt),T(Ye.data,"view_total_downscaling",Se*gt)}Xe._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(pt){Ye.on(pt,function(){Xe._lastPlayheadPosition=Ye.data.player_playhead_time,Xe._lastPlayerWidth=Ye.data.player_width,Xe._lastPlayerHeight=Ye.data.player_height,Xe._lastSourceWidth=Ye.data.video_source_width,Xe._lastSourceHeight=Ye.data.video_source_height})})});function ke(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function Ve(et,Ye,Xe){return Ye&&ke(et.prototype,Ye),Xe&&ke(et,Xe),Object.defineProperty(et,"prototype",{writable:!1}),et}var Ne=Ve(function et(Ye){var Xe=this;(function(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),this.isSeeking=!1,Ye.on("seeking",function(pt,gt){Object.assign(Ye.data,gt),Xe._lastSeekingTime=S.now(),Xe.isSeeking===!1&&(Xe.isSeeking=!0,Ye.send("seeking"))}),Ye.on("seeked",function(){Xe.isSeeking=!1;var pt=Xe._lastSeekingTime||S.now(),gt=S.now()-pt;T(Ye.data,"view_seek_count",1),T(Ye.data,"view_seek_duration",gt);var kt=Ye.data.view_max_seek_time||0;Ye.data.view_max_seek_time=Math.max(kt,gt)}),Ye.on("viewend",function(){Xe.isSeeking=!1})});function Fe(et,Ye){return function(Xe){if(Array.isArray(Xe))return Xe}(et)||function(Xe,pt){var gt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(gt!=null){var kt,Bt,Se=[],_e=!0,Pe=!1;try{for(gt=gt.call(Xe);!(_e=(kt=gt.next()).done)&&(Se.push(kt.value),!pt||Se.length!==pt);_e=!0);}catch($e){Pe=!0,Bt=$e}finally{try{_e||gt.return==null||gt.return()}finally{if(Pe)throw Bt}}return Se}}(et,Ye)||function(Xe,pt){if(Xe){if(typeof Xe=="string")return Ue(Xe,pt);var gt=Object.prototype.toString.call(Xe).slice(8,-1);return gt==="Object"&&Xe.constructor&&(gt=Xe.constructor.name),gt==="Map"||gt==="Set"?Array.from(Xe):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?Ue(Xe,pt):void 0}}(et,Ye)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ue(et,Ye){(Ye==null||Ye>et.length)&&(Ye=et.length);for(var Xe=0,pt=new Array(Ye);Xe<Ye;Xe++)pt[Xe]=et[Xe];return pt}function be(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}var Ge=function(et,Ye){et.push(Ye),et.sort(function(Xe,pt){return Xe.viewer_time-pt.viewer_time})},nt=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],Oe=function(){function et(gt){var kt=this;(function(Se,_e){if(!(Se instanceof _e))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,gt.on("viewinit",function(){kt.isAdBreak=!1,kt._currentAdRequestNumber=0,kt._currentAdResponseNumber=0,kt._adRequests=[],kt._adResponses=[],kt._adHasPlayed=!1,kt._wouldBeNewAdPlay=!0,kt._prerollPlayTime=void 0}),nt.forEach(function(Se){return gt.on(Se,kt._updateAdData.bind(kt))});var Bt=function(){kt.isAdBreak=!1};gt.on("adbreakstart",function(){kt.isAdBreak=!0}),gt.on("play",Bt),gt.on("playing",Bt),gt.on("viewend",Bt),gt.on("adrequest",function(Se,_e){_e=Object.assign({ad_request_id:"generatedAdRequestId"+kt._currentAdRequestNumber++},_e),Ge(kt._adRequests,_e),T(gt.data,"view_ad_request_count"),kt.inPrerollPosition()&&(gt.data.view_preroll_requested=!0,kt._adHasPlayed||T(gt.data,"view_preroll_request_count"))}),gt.on("adresponse",function(Se,_e){_e=Object.assign({ad_request_id:"generatedAdRequestId"+kt._currentAdResponseNumber++},_e),Ge(kt._adResponses,_e);var Pe=kt.findAdRequest(_e.ad_request_id);Pe&&T(gt.data,"view_ad_request_time",Math.max(0,_e.viewer_time-Pe.viewer_time))}),gt.on("adplay",function(Se,_e){kt._adHasPlayed=!0,kt._wouldBeNewAdPlay&&(kt._wouldBeNewAdPlay=!1,T(gt.data,"view_ad_played_count")),kt.inPrerollPosition()&&!gt.data.view_preroll_played&&(gt.data.view_preroll_played=!0,kt._adRequests.length>0&&(gt.data.view_preroll_request_time=Math.max(0,_e.viewer_time-kt._adRequests[0].viewer_time)),gt.data.view_start&&(gt.data.view_startup_preroll_request_time=Math.max(0,_e.viewer_time-gt.data.view_start)),kt._prerollPlayTime=_e.viewer_time)}),gt.on("adplaying",function(Se,_e){kt.inPrerollPosition()&&gt.data.view_preroll_load_time===void 0&&kt._prerollPlayTime!==void 0&&(gt.data.view_preroll_load_time=_e.viewer_time-kt._prerollPlayTime,gt.data.view_startup_preroll_load_time=_e.viewer_time-kt._prerollPlayTime)}),gt.on("adended",function(){kt._wouldBeNewAdPlay=!0}),gt.on("aderror",function(){kt._wouldBeNewAdPlay=!0})}var Ye,Xe,pt;return Ye=et,(Xe=[{key:"inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(gt){for(var kt=0;kt<this._adRequests.length;kt++)if(this._adRequests[kt].ad_request_id===gt)return this._adRequests[kt]}},{key:"_updateAdData",value:function(gt,kt){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&kt.ad_tag_url){var Bt=Fe(R(kt.ad_tag_url),2),Se=Bt[0],_e=Bt[1];this.pm.data.view_preroll_ad_tag_domain=_e,this.pm.data.view_preroll_ad_tag_hostname=Se}if(!this.pm.data.view_preroll_ad_asset_hostname&&kt.ad_asset_url){var Pe=Fe(R(kt.ad_asset_url),2),$e=Pe[0],mt=Pe[1];this.pm.data.view_preroll_ad_asset_domain=mt,this.pm.data.view_preroll_ad_asset_hostname=$e}}this.pm.data.ad_asset_url=kt==null?void 0:kt.ad_asset_url,this.pm.data.ad_tag_url=kt==null?void 0:kt.ad_tag_url,this.pm.data.ad_creative_id=kt==null?void 0:kt.ad_creative_id,this.pm.data.ad_id=kt==null?void 0:kt.ad_id,this.pm.data.ad_universal_id=kt==null?void 0:kt.ad_universal_id}}])&&be(Ye.prototype,Xe),pt&&be(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),et}();function K(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function Y(et,Ye,Xe){return Ye&&K(et.prototype,Ye),Xe&&K(et,Xe),Object.defineProperty(et,"prototype",{writable:!1}),et}var he=Y(function et(Ye){var Xe,pt;(function(Se,_e){if(!(Se instanceof _e))throw new TypeError("Cannot call a class as a function")})(this,et);var gt=function(){Ye.disableRebufferTracking||Xe&&(T(Ye.data,"view_waiting_rebuffer_duration",S.now()-Xe),Xe=!1,v().clearInterval(pt))},kt=!1,Bt=function(){kt=!1,gt()};Ye.on("waiting",function(){kt&&(Ye.disableRebufferTracking||(T(Ye.data,"view_waiting_rebuffer_count",1),Xe=S.now(),pt=v().setInterval(function(){if(Xe){var Se=S.now();T(Ye.data,"view_waiting_rebuffer_duration",Se-Xe),Xe=Se}},250)))}),Ye.on("playing",function(){gt(),kt=!0}),Ye.on("pause",Bt),Ye.on("seeking",Bt)});function Te(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function He(et,Ye,Xe){return Ye&&Te(et.prototype,Ye),Xe&&Te(et,Xe),Object.defineProperty(et,"prototype",{writable:!1}),et}var Qe=He(function et(Ye){var Xe=this;(function(kt,Bt){if(!(kt instanceof Bt))throw new TypeError("Cannot call a class as a function")})(this,et);var pt=function(){Xe.lastWallClockTime=S.now(),Ye.on("before*",gt)},gt=function(kt){var Bt=S.now(),Se=Xe.lastWallClockTime;Xe.lastWallClockTime=Bt,Bt-Se>3e4&&(Ye.emit("devicesleep",{viewer_time:Se}),Object.assign(Ye.data,{viewer_time:Se}),Ye.send("devicesleep"),Ye.emit("devicewake",{viewer_time:Bt}),Object.assign(Ye.data,{viewer_time:Bt}),Ye.send("devicewake"))};Ye.one("playbackheartbeat",pt),Ye.on("playbackheartbeatend",function(){Ye.off("before*",gt),Ye.one("playbackheartbeat",pt)})}),ht=y(375),ct=y(655),Pt=y.n(ct),Nt="muxData",sn=function(){var et;try{et=ht.parse(Pt().get(Nt)||"")}catch(Ye){et={}}return et},Et=function(et){try{Pt().set(Nt,ht.stringify(et),{expires:7300})}catch(Ye){}},Ot=function(){var et=sn();return et.mux_viewer_id=et.mux_viewer_id||b(),et.msn=et.msn||Math.random(),Et(et),{mux_viewer_id:et.mux_viewer_id,mux_sample_number:et.msn}};function at(et,Ye){var Xe=Ye.beaconCollectionDomain,pt=Ye.beaconDomain;if(Xe)return"https://"+Xe;var gt=pt||"litix.io";return(et=et||"inferred").match(/^[a-z0-9]+$/)?"https://"+et+"."+gt:"https://img.litix.io/a.gif"}var Ht=function(){var et;switch(zt()){case"cellular":et="cellular";break;case"ethernet":et="wired";break;case"wifi":et="wifi";break;case void 0:break;default:et="other"}return et},zt=function(){var et=v().navigator,Ye=et&&(et.connection||et.mozConnection||et.webkitConnection);return Ye&&Ye.type};Ht.getConnectionFromAPI=zt;var on=Ht,hn=bn({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),gn=bn({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function bn(et){var Ye={};for(var Xe in et)et.hasOwnProperty(Xe)&&(Ye[et[Xe]]=Xe);return Ye}function Un(et){var Ye={},Xe={};return Object.keys(et).forEach(function(pt){var gt=!1;if(et.hasOwnProperty(pt)&&et[pt]!==void 0){var kt=pt.split("_"),Bt=kt[0],Se=hn[Bt];Se||(l.info("Data key word `"+kt[0]+"` not expected in "+pt),Se=Bt+"_"),kt.splice(1).forEach(function(_e){_e==="url"&&(gt=!0),gn[_e]?Se+=gn[_e]:Number(_e)&&Math.floor(Number(_e))===Number(_e)?Se+=_e:(l.info("Data key word `"+_e+"` not expected in "+pt),Se+="_"+_e+"_")}),gt?Xe[Se]=et[pt]:Ye[Se]=et[pt]}}),Object.assign(Ye,Xe)}var qn={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},cr=["hb","requestcompleted","requestfailed","requestcanceled"],hr="https://img.litix.io",pr=function(et){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=et||hr,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},qn,Ye)};pr.prototype.queueEvent=function(et,Ye){var Xe=Object.assign({},Ye);return(this._eventQueue.length<=this._options.maxQueueLength||et==="eventrateexceeded")&&(this._eventQueue.push(Xe),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},pr.prototype.flushEvents=function(){var et=arguments.length>0&&arguments[0]!==void 0&&arguments[0];et&&this._eventQueue.length===1?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},pr.prototype.destroy=function(){var et=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.destroyed=!0,et?this._clearBeaconQueue():this.flushEvents(),v().clearTimeout(this._sendTimeout)},pr.prototype._clearBeaconQueue=function(){var et=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,Ye=this._eventQueue.slice(et);et>0&&Object.assign(Ye[Ye.length-1],Un({mux_view_message:"event queue truncated"}));var Xe=this._createPayload(Ye);oo(this._beaconUrl,Xe,!0,function(){})},pr.prototype._sendBeaconQueue=function(){var et=this;if(!this._postInFlight){var Ye=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var Xe=this._createPayload(Ye),pt=S.now();oo(this._beaconUrl,Xe,!1,function(gt,kt){kt?(et._eventQueue=Ye.concat(et._eventQueue),et._failureCount+=1,l.info("Error sending beacon: "+kt)):et._failureCount=0,et._roundTripTime=S.now()-pt,et._postInFlight=!1})}},pr.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var et=Math.pow(2,this._failureCount-1);return(1+(et*=Math.random()))*this._options.baseTimeBetweenBeacons},pr.prototype._startBeaconSending=function(){var et=this;v().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=v().setTimeout(function(){et._eventQueue.length&&et._sendBeaconQueue(),et._startBeaconSending()},this._getNextBeaconTime()))},pr.prototype._createPayload=function(et){var Ye,Xe,pt,gt=this,kt={transmission_timestamp:Math.round(S.now())};this._roundTripTime&&(kt.rtt_ms=Math.round(this._roundTripTime));var Bt=function(){Ye=JSON.stringify({metadata:kt,events:Xe||et}),pt=Ye.length/1024},Se=function(){return pt<=gt._options.maxPayloadKBSize};return Bt(),Se()||(l.info("Payload size is too big ("+pt+" kb). Removing unnecessary events."),Xe=et.filter(function(_e){return cr.indexOf(_e.e)===-1}),Bt()),Se()||(l.info("Payload size still too big ("+pt+" kb). Cropping fields.."),Xe.forEach(function(_e){for(var Pe in _e){var $e=_e[Pe];typeof $e=="string"&&$e.length>51200&&(_e[Pe]=$e.substring(0,51200))}}),Bt()),Ye};var Lr=function(et){return et.length<=57344},oo=function(et,Ye,Xe,pt){if(Xe&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(et,Ye))pt();else if(v().fetch)v().fetch(et,{method:"POST",body:Ye,headers:{"Content-Type":"text/plain"},keepalive:Lr(Ye)}).then(function(kt){return pt(null,kt.ok?null:"Error")}).catch(function(kt){return pt(null,kt)});else{if(v().XMLHttpRequest){var gt=new(v()).XMLHttpRequest;return gt.onreadystatechange=function(){if(gt.readyState===4)return pt(null,gt.status!==200?"error":void 0)},gt.open("POST",et),gt.setRequestHeader("Content-Type","text/plain"),void gt.send(Ye)}pt()}},Kr=pr;function co(et,Ye){return function(Xe){if(Array.isArray(Xe))return Xe}(et)||function(Xe,pt){var gt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(gt!=null){var kt,Bt,Se=[],_e=!0,Pe=!1;try{for(gt=gt.call(Xe);!(_e=(kt=gt.next()).done)&&(Se.push(kt.value),!pt||Se.length!==pt);_e=!0);}catch($e){Pe=!0,Bt=$e}finally{try{_e||gt.return==null||gt.return()}finally{if(Pe)throw Bt}}return Se}}(et,Ye)||function(Xe,pt){if(Xe){if(typeof Xe=="string")return lo(Xe,pt);var gt=Object.prototype.toString.call(Xe).slice(8,-1);return gt==="Object"&&Xe.constructor&&(gt=Xe.constructor.name),gt==="Map"||gt==="Set"?Array.from(Xe):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?lo(Xe,pt):void 0}}(et,Ye)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lo(et,Ye){(Ye==null||Ye>et.length)&&(Ye=et.length);for(var Xe=0,pt=new Array(Ye);Xe<Ye;Xe++)pt[Xe]=et[Xe];return pt}function dr(et,Ye){var Xe=Object.keys(et);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(et);Ye&&(pt=pt.filter(function(gt){return Object.getOwnPropertyDescriptor(et,gt).enumerable})),Xe.push.apply(Xe,pt)}return Xe}function Nr(et){for(var Ye=1;Ye<arguments.length;Ye++){var Xe=arguments[Ye]!=null?arguments[Ye]:{};Ye%2?dr(Object(Xe),!0).forEach(function(pt){mo(et,pt,Xe[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Xe)):dr(Object(Xe)).forEach(function(pt){Object.defineProperty(et,pt,Object.getOwnPropertyDescriptor(Xe,pt))})}return et}function Hr(et){return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ye){return typeof Ye}:function(Ye){return Ye&&typeof Symbol=="function"&&Ye.constructor===Symbol&&Ye!==Symbol.prototype?"symbol":typeof Ye},Hr(et)}function Ur(et,Ye){if(!(et instanceof Ye))throw new TypeError("Cannot call a class as a function")}function uo(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function mo(et,Ye,Xe){return Ye in et?Object.defineProperty(et,Ye,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):et[Ye]=Xe,et}var yo=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],Oo=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse"],Xo=["viewstart","error","ended","viewend"],Go=function(){function et(gt,kt){var Bt,Se,_e,Pe,$e,mt,vt,St,Mt,Ft,Vt,un,tn,dn,xn,Wn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ur(this,et),mo(this,"previousBeaconData",null),mo(this,"lastEventTime",0),mo(this,"rateLimited",!1),this.mux=gt,this.envKey=kt,this.options=Wn,this.eventQueue=new Kr(at(this.envKey,this.options)),this.sampleRate=(Bt=this.options.sampleRate)!==null&&Bt!==void 0?Bt:1,this.disableCookies=(Se=this.options.disableCookies)!==null&&Se!==void 0&&Se,this.respectDoNotTrack=(_e=this.options.respectDoNotTrack)!==null&&_e!==void 0&&_e,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(Pe=this.options.platform)===null||Pe===void 0?void 0:Pe.name,viewer_application_version:($e=this.options.platform)===null||$e===void 0?void 0:$e.version,viewer_application_engine:(mt=this.options.platform)===null||mt===void 0?void 0:mt.layout,viewer_device_name:(vt=this.options.platform)===null||vt===void 0?void 0:vt.product,viewer_device_category:"",viewer_device_manufacturer:(St=this.options.platform)===null||St===void 0?void 0:St.manufacturer,viewer_os_family:(Mt=this.options.platform)===null||Mt===void 0||(Ft=Mt.os)===null||Ft===void 0?void 0:Ft.family,viewer_os_architecture:(Vt=this.options.platform)===null||Vt===void 0||(un=Vt.os)===null||un===void 0?void 0:un.architecture,viewer_os_version:(tn=this.options.platform)===null||tn===void 0||(dn=tn.os)===null||dn===void 0?void 0:dn.version,viewer_connection_type:on(),page_url:v()===null||v()===void 0||(xn=v().location)===null||xn===void 0?void 0:xn.href},this.viewerData=this.disableCookies?{}:Ot()}var Ye,Xe,pt;return Ye=et,(Xe=[{key:"send",value:function(gt,kt){var Bt;if(gt&&kt!=null&&kt.view_id){if(this.respectDoNotTrack&&P())return l.info("Not sending `"+gt+"` because Do Not Track is enabled");if(!kt||Hr(kt)!=="object")return l.error("A data object was expected in send() but was not provided");var Se,_e,Pe=this.disableCookies?{}:(Se=sn(),_e=S.now(),Se.session_start&&(Se.sst=Se.session_start,delete Se.session_start),Se.session_id&&(Se.sid=Se.session_id,delete Se.session_id),Se.session_expires&&(Se.sex=Se.session_expires,delete Se.session_expires),(!Se.sex||Se.sex<_e)&&(Se.sid=b(),Se.sst=_e),Se.sex=_e+15e5,Et(Se),{session_id:Se.sid,session_start:Se.sst,session_expires:Se.sex}),$e=Nr(Nr(Nr(Nr(Nr({},this.pageLevelData),kt),Pe),this.viewerData),{},{event:gt,env_key:this.envKey});$e.user_id&&($e.viewer_user_id=$e.user_id,delete $e.user_id);var mt=((Bt=$e.mux_sample_number)!==null&&Bt!==void 0?Bt:0)>=this.sampleRate,vt=Un(this._deduplicateBeaconData(gt,$e));if(this.lastEventTime=this.mux.utils.now(),mt)return l.info("Not sending event due to sample rate restriction",gt,$e,vt);if(this.envKey||l.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",gt,$e,vt),!this.rateLimited){if(l.info("Sending event",gt,$e,vt),this.rateLimited=!this.eventQueue.queueEvent(gt,vt),this.mux.WINDOW_UNLOADING&&gt==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&gt==="hb"?this.eventQueue.flushEvents(!0):Xo.indexOf(gt)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return $e.event="eventrateexceeded",vt=Un($e),this.eventQueue.queueEvent($e.event,vt),l.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(gt,kt){var Bt=this,Se={},_e=kt.view_id;if(_e==="-1"||gt==="viewstart"||gt==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)Se=Nr({},kt),_e&&(this.previousBeaconData=Se),_e&&gt==="viewend"&&(this.previousBeaconData=null);else{var Pe=gt.indexOf("request")===0;Object.entries(kt).forEach(function($e){var mt=co($e,2),vt=mt[0],St=mt[1];Bt.previousBeaconData&&(St!==Bt.previousBeaconData[vt]||yo.indexOf(vt)>-1||Bt.objectHasChanged(Pe,vt,St,Bt.previousBeaconData[vt])||Bt.eventRequiresKey(gt,vt))&&(Se[vt]=St,Bt.previousBeaconData[vt]=St)})}return Se}},{key:"objectHasChanged",value:function(gt,kt,Bt,Se){return!(!gt||kt.indexOf("request_")!==0||kt!=="request_response_headers"&&Hr(Bt)==="object"&&Hr(Se)==="object"&&Object.keys(Bt||{}).length===Object.keys(Se||{}).length)}},{key:"eventRequiresKey",value:function(gt,kt){return gt==="renditionchange"&&kt.indexOf("video_source_")===0||!(kt.indexOf("ad_id")!==0||!Oo.includes(gt))}}])&&uo(Ye.prototype,Xe),pt&&uo(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),et}();function Mo(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function Lo(et,Ye,Xe){return Ye&&Mo(et.prototype,Ye),Xe&&Mo(et,Xe),Object.defineProperty(et,"prototype",{writable:!1}),et}var Bo=Lo(function et(Ye){(function(Pe,$e){if(!(Pe instanceof $e))throw new TypeError("Cannot call a class as a function")})(this,et);var Xe=0,pt=0,gt=0,kt=0,Bt=0,Se=0,_e=0;Ye.on("requestcompleted",function(Pe,$e){var mt,vt,St=$e.request_start,Mt=$e.request_response_start,Ft=$e.request_response_end,Vt=$e.request_bytes_loaded;if(kt++,Mt?(mt=Mt-(St!=null?St:0),vt=(Ft!=null?Ft:0)-Mt):vt=(Ft!=null?Ft:0)-(St!=null?St:0),vt>0&&Vt&&Vt>0){var un=Vt/vt*8e3;Bt++,pt+=Vt,gt+=vt,Ye.data.view_min_request_throughput=Math.min(Ye.data.view_min_request_throughput||1/0,un),Ye.data.view_average_request_throughput=pt/gt*8e3,Ye.data.view_request_count=kt,mt>0&&(Xe+=mt,Ye.data.view_max_request_latency=Math.max(Ye.data.view_max_request_latency||0,mt),Ye.data.view_average_request_latency=Xe/Bt)}}),Ye.on("requestfailed",function(Pe,$e){kt++,Se++,Ye.data.view_request_count=kt,Ye.data.view_request_failed_count=Se}),Ye.on("requestcanceled",function(Pe,$e){kt++,_e++,Ye.data.view_request_count=kt,Ye.data.view_request_canceled_count=_e})});function Qr(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function Yr(et,Ye,Xe){return Ye&&Qr(et.prototype,Ye),Xe&&Qr(et,Xe),Object.defineProperty(et,"prototype",{writable:!1}),et}var $r=Yr(function et(Ye){var Xe=this;(function(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),Ye.on("before*",function(pt,gt){var kt=gt.viewer_time,Bt=S.now(),Se=Xe._lastEventTime;if(Xe._lastEventTime=Bt,Se&&Bt-Se>36e5){var _e=Object.keys(Ye.data).reduce(function(Pe,$e){return $e.indexOf("video_")===0?Object.assign(Pe,function(mt,vt,St){return vt in mt?Object.defineProperty(mt,vt,{value:St,enumerable:!0,configurable:!0,writable:!0}):mt[vt]=St,mt}({},$e,Ye.data[$e])):Pe},{});Ye.mux.log.info("Received event after at least an hour inactivity, creating a new view"),Ye.emit("viewinit",Object.assign({viewer_time:kt},_e)),Ye.playbackHeartbeat._playheadShouldBeProgressing&&pt.type!=="play"&&pt.type!=="adbreakstart"&&(Ye.emit("play",{viewer_time:kt}),pt.type!=="playing"&&Ye.emit("playing",{viewer_time:kt}))}})});function xr(et){return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ye){return typeof Ye}:function(Ye){return Ye&&typeof Symbol=="function"&&Ye.constructor===Symbol&&Ye!==Symbol.prototype?"symbol":typeof Ye},xr(et)}function $t(et,Ye){return function(Xe){if(Array.isArray(Xe))return Xe}(et)||function(Xe,pt){var gt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(gt!=null){var kt,Bt,Se=[],_e=!0,Pe=!1;try{for(gt=gt.call(Xe);!(_e=(kt=gt.next()).done)&&(Se.push(kt.value),!pt||Se.length!==pt);_e=!0);}catch($e){Pe=!0,Bt=$e}finally{try{_e||gt.return==null||gt.return()}finally{if(Pe)throw Bt}}return Se}}(et,Ye)||function(Xe,pt){if(Xe){if(typeof Xe=="string")return en(Xe,pt);var gt=Object.prototype.toString.call(Xe).slice(8,-1);return gt==="Object"&&Xe.constructor&&(gt=Xe.constructor.name),gt==="Map"||gt==="Set"?Array.from(Xe):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?en(Xe,pt):void 0}}(et,Ye)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function en(et,Ye){(Ye==null||Ye>et.length)&&(Ye=et.length);for(var Xe=0,pt=new Array(Ye);Xe<Ye;Xe++)pt[Xe]=et[Xe];return pt}function nn(et,Ye){for(var Xe=0;Xe<Ye.length;Xe++){var pt=Ye[Xe];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(et,pt.key,pt)}}function Rn(et,Ye){return Rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Xe,pt){return Xe.__proto__=pt,Xe},Rn(et,Ye)}function At(et){var Ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Xe){return!1}}();return function(){var Xe,pt=rn(et);if(Ye){var gt=rn(this).constructor;Xe=Reflect.construct(pt,arguments,gt)}else Xe=pt.apply(this,arguments);return Yt(this,Xe)}}function Yt(et,Ye){if(Ye&&(xr(Ye)==="object"||typeof Ye=="function"))return Ye;if(Ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wt(et)}function Wt(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function rn(et){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ye){return Ye.__proto__||Object.getPrototypeOf(Ye)},rn(et)}var vn=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],An=function(et){(function(Bt,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");Bt.prototype=Object.create(Se&&Se.prototype,{constructor:{value:Bt,writable:!0,configurable:!0}}),Object.defineProperty(Bt,"prototype",{writable:!1}),Se&&Rn(Bt,Se)})(kt,et);var Ye,Xe,pt,gt=At(kt);function kt(Bt,Se,_e){var Pe;(function(Mt,Ft){if(!(Mt instanceof Ft))throw new TypeError("Cannot call a class as a function")})(this,kt),(Pe=gt.call(this)).DOM_CONTENT_LOADED_EVENT_END=N.domContentLoadedEventEnd(),Pe.NAVIGATION_START=N.navigationStart(),Pe.mux=Bt,Pe.id=Se,(_e=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(Mt){return Mt}},_e)).data=_e.data||{},_e.data.property_key&&(_e.data.env_key=_e.data.property_key,delete _e.data.property_key),l.setLevel(_e.debug?"debug":"warn"),Pe.getPlayheadTime=_e.getPlayheadTime,Pe.getStateData=_e.getStateData||function(){return{}},Pe.getAdData=_e.getAdData||function(){},Pe.minimumRebufferDuration=_e.minimumRebufferDuration,Pe.sustainedRebufferThreshold=_e.sustainedRebufferThreshold,Pe.playbackHeartbeatTime=_e.playbackHeartbeatTime,Pe.disableRebufferTracking=_e.disableRebufferTracking,Pe.disableRebufferTracking&&Pe.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),Pe.disablePlayheadRebufferTracking=_e.disablePlayheadRebufferTracking,Pe.errorTranslator=_e.errorTranslator,Pe.playbackEventDispatcher=new Go(Bt,_e.data.env_key,_e),Pe.data={player_instance_id:b(),mux_sample_rate:_e.sampleRate,beacon_domain:_e.beaconCollectionDomain?_e.beaconCollectionDomain:_e.beaconDomain},Pe.data.view_sequence_number=1,Pe.data.player_sequence_number=1,Pe.oldEmit=Pe.emit,Pe.emit=function(Mt,Ft){Ft=Object.assign({viewer_time:this.mux.utils.now()},Ft),this.oldEmit(Mt,Ft)};var $e=function(){this.data.view_start===void 0&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(Wt(Pe));Pe.on("viewinit",function(Mt,Ft){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,Ft),this._initializeViewData(),this.one("play",$e),this.one("adbreakstart",$e)});var mt=function(Mt){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",Mt)}.bind(Wt(Pe));if(Pe.on("videochange",function(Mt,Ft){mt(Ft)}),Pe.on("programchange",function(Mt,Ft){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),mt(Object.assign(Ft,{view_program_changed:!0})),$e(),this.emit("play"),this.emit("playing")}),Pe.on("fragmentchange",function(Mt,Ft){this.currentFragmentPDT=Ft.currentFragmentPDT,this.currentFragmentStart=Ft.currentFragmentStart}),Pe.on("destroy",Pe.destroy),typeof window!="undefined"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var vt=function(){var Mt=Pe.data.view_start!==void 0;Pe.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",Mt&&Pe.mux.WINDOW_HIDDEN&&(Pe.data.player_is_paused||Pe.emit("hb"))};window.addEventListener("visibilitychange",vt,!1);var St=function(Mt){Mt.persisted||Pe.destroy()};window.addEventListener("pagehide",St,!1),Pe.on("destroy",function(){window.removeEventListener("visibilitychange",vt),window.removeEventListener("pagehide",St)})}return Pe.on("playerready",function(Mt,Ft){Object.assign(this.data,Ft)}),vn.forEach(function(Mt){Pe.on(Mt,function(Ft,Vt){Mt.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,Vt),this._sanitizeData()}),Pe.on("after"+Mt,function(){(Mt!=="error"||this.errorTracker.viewErrored)&&this.send(Mt)})}),Pe.on("viewend",function(Mt,Ft){Object.assign(Pe.data,Ft)}),Pe.one("playerready",function(Mt){var Ft=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=Ft-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),Pe.longResumeTracker=new $r(Wt(Pe)),Pe.errorTracker=new je(Wt(Pe)),new Qe(Wt(Pe)),Pe.seekingTracker=new Ne(Wt(Pe)),Pe.playheadTime=new Re(Wt(Pe)),Pe.playbackHeartbeat=new pe(Wt(Pe)),new yt(Wt(Pe)),Pe.watchTimeTracker=new me(Wt(Pe)),new ge(Wt(Pe)),Pe.adTracker=new Oe(Wt(Pe)),new lt(Wt(Pe)),new ft(Wt(Pe)),new xt(Wt(Pe)),new he(Wt(Pe)),new Bo(Wt(Pe)),_e.hlsjs&&Pe.addHLSJS(_e),_e.dashjs&&Pe.addDashJS(_e),Pe.emit("viewinit",_e.data),Pe}return Ye=kt,Xe=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.data.view_start!==void 0&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(Bt){if(this.data.view_id){var Se=Object.assign({},this.data);if(Se.video_source_is_live===void 0&&(Se.player_source_duration===1/0||Se.video_source_duration===1/0?Se.video_source_is_live=!0:(Se.player_source_duration>0||Se.video_source_duration>0)&&(Se.video_source_is_live=!1)),Se.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(mt){Se[mt]=void 0}),Se.video_source_url=Se.video_source_url||Se.player_source_url,Se.video_source_url){var _e=$t(R(Se.video_source_url),2),Pe=_e[0],$e=_e[1];Se.video_source_domain=$e,Se.video_source_hostname=Pe}delete Se.ad_request_id,this.playbackEventDispatcher.send(Bt,Se),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),Bt==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var Bt=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(Se){var _e=parseInt(Bt.data[Se],10);Bt.data[Se]=isNaN(_e)?void 0:_e}),["player_source_url","video_source_url"].forEach(function(Se){if(Bt.data[Se]){var _e=Bt.data[Se].toLowerCase();_e.indexOf("data:")!==0&&_e.indexOf("blob:")!==0||(Bt.data[Se]="MSE style URL")}})}},{key:"_resetVideoData",value:function(Bt,Se){var _e=this;Object.keys(this.data).forEach(function(Pe){Pe.indexOf("video_")===0&&delete _e.data[Pe]})}},{key:"_resetViewData",value:function(){var Bt=this;Object.keys(this.data).forEach(function(Se){Se.indexOf("view_")===0&&delete Bt.data[Se]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(Bt,Se){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var Bt=this,Se=this.data.view_id=b(),_e=function(){Se===Bt.data.view_id&&T(Bt.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",_e):_e()}},{key:"_restartHeartBeat",value:function(){var Bt=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){Bt.data.player_is_paused||Bt.emit("hb")},1e4))}},{key:"addHLSJS",value:function(Bt){Bt.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=Bt.hlsjs,function(Se,_e,Pe){var $e=arguments.length>4?arguments[4]:void 0,mt=Se.log,vt=Se.utils.secondsToMs,St=function(tr){var Sn,fr=parseInt($e.version);return fr===1&&tr.programDateTime!==null&&(Sn=tr.programDateTime),fr===0&&tr.pdt!==null&&(Sn=tr.pdt),Sn};if(N.exists()){var Mt=function(tr,Sn){return Se.emit(_e,tr,Sn)},Ft=function(tr,Sn){var fr=Sn.levels,rr=Sn.audioTracks,wr=Sn.url,Cr=Sn.stats,no=Sn.networkDetails,po=Sn.sessionData,kr={},qo={};fr.forEach(function(ko,tt){kr[tt]={width:ko.width,height:ko.height,bitrate:ko.bitrate,attrs:ko.attrs}}),rr.forEach(function(ko,tt){qo[tt]={name:ko.name,language:ko.lang,bitrate:ko.bitrate}});var Uo=B(Cr),To=Uo.bytesLoaded,Oi=Uo.requestStart,Ji=Uo.responseStart,yi=Uo.responseEnd;Mt("requestcompleted",ne(ne({},J(po)),{},{request_event_type:tr,request_bytes_loaded:To,request_start:Oi,request_response_start:Ji,request_response_end:yi,request_type:"manifest",request_hostname:M(wr),request_response_headers:V(no),request_rendition_lists:{media:kr,audio:qo,video:{}}}))};Pe.on($e.Events.MANIFEST_LOADED,Ft);var Vt=function(tr,Sn){var fr=Sn.details,rr=Sn.level,wr=Sn.networkDetails,Cr=Sn.stats,no=B(Cr),po=no.bytesLoaded,kr=no.requestStart,qo=no.responseStart,Uo=no.responseEnd,To=fr.fragments[fr.fragments.length-1],Oi=St(To)+vt(To.duration);Mt("requestcompleted",{request_event_type:tr,request_bytes_loaded:po,request_start:kr,request_response_start:qo,request_response_end:Uo,request_current_level:rr,request_type:"manifest",request_hostname:M(fr.url),request_response_headers:V(wr),video_holdback:fr.holdBack&&vt(fr.holdBack),video_part_holdback:fr.partHoldBack&&vt(fr.partHoldBack),video_part_target_duration:fr.partTarget&&vt(fr.partTarget),video_target_duration:fr.targetduration&&vt(fr.targetduration),video_source_is_live:fr.live,player_manifest_newest_program_time:isNaN(Oi)?void 0:Oi})};Pe.on($e.Events.LEVEL_LOADED,Vt);var un=function(tr,Sn){var fr=Sn.details,rr=Sn.networkDetails,wr=Sn.stats,Cr=B(wr),no=Cr.bytesLoaded,po=Cr.requestStart,kr=Cr.responseStart,qo=Cr.responseEnd;Mt("requestcompleted",{request_event_type:tr,request_bytes_loaded:no,request_start:po,request_response_start:kr,request_response_end:qo,request_type:"manifest",request_hostname:M(fr.url),request_response_headers:V(rr)})};Pe.on($e.Events.AUDIO_TRACK_LOADED,un);var tn=function(tr,Sn){var fr=Sn.stats,rr=Sn.networkDetails,wr=Sn.frag;fr=fr||wr.stats;var Cr=B(fr),no=Cr.bytesLoaded,po=Cr.requestStart,kr=Cr.responseStart,qo=Cr.responseEnd,Uo=rr?V(rr):void 0,To={request_event_type:tr,request_bytes_loaded:no,request_start:po,request_response_start:kr,request_response_end:qo,request_hostname:rr?M(rr.responseURL):void 0,request_id:Uo?Z(Uo):void 0,request_response_headers:Uo,request_media_duration:wr.duration,request_url:rr==null?void 0:rr.responseURL};wr.type==="main"?(To.request_type="media",To.request_current_level=wr.level,To.request_video_width=(Pe.levels[wr.level]||{}).width,To.request_video_height=(Pe.levels[wr.level]||{}).height,To.request_labeled_bitrate=(Pe.levels[wr.level]||{}).bitrate):To.request_type=wr.type,Mt("requestcompleted",To)};Pe.on($e.Events.FRAG_LOADED,tn);var dn=function(tr,Sn){var fr=Sn.frag,rr=fr.start,wr={currentFragmentPDT:St(fr),currentFragmentStart:vt(rr)};Mt("fragmentchange",wr)};Pe.on($e.Events.FRAG_CHANGED,dn);var xn=function(tr,Sn){var fr=Sn.type,rr=Sn.details,wr=Sn.response,Cr=Sn.fatal,no=Sn.frag,po=Sn.networkDetails,kr=(no==null?void 0:no.url)||Sn.url||"",qo=po?V(po):void 0;if(rr!==$e.ErrorDetails.MANIFEST_LOAD_ERROR&&rr!==$e.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&rr!==$e.ErrorDetails.FRAG_LOAD_ERROR&&rr!==$e.ErrorDetails.FRAG_LOAD_TIMEOUT&&rr!==$e.ErrorDetails.LEVEL_LOAD_ERROR&&rr!==$e.ErrorDetails.LEVEL_LOAD_TIMEOUT&&rr!==$e.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&rr!==$e.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&rr!==$e.ErrorDetails.SUBTITLE_LOAD_ERROR&&rr!==$e.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&rr!==$e.ErrorDetails.KEY_LOAD_ERROR&&rr!==$e.ErrorDetails.KEY_LOAD_TIMEOUT||Mt("requestfailed",{request_error:rr,request_url:kr,request_hostname:M(kr),request_id:qo?Z(qo):void 0,request_type:rr===$e.ErrorDetails.FRAG_LOAD_ERROR||rr===$e.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":rr===$e.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||rr===$e.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":rr===$e.ErrorDetails.SUBTITLE_LOAD_ERROR||rr===$e.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":rr===$e.ErrorDetails.KEY_LOAD_ERROR||rr===$e.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:wr==null?void 0:wr.code,request_error_text:wr==null?void 0:wr.text}),Cr){var Uo,To="".concat(kr?"url: ".concat(kr,`
`):"")+"".concat(wr&&(wr.code||wr.text)?"response: ".concat(wr.code,", ").concat(wr.text,`
`):"")+"".concat(Sn.reason?"failure reason: ".concat(Sn.reason,`
`):"")+"".concat(Sn.level?"level: ".concat(Sn.level,`
`):"")+"".concat(Sn.parent?"parent stream controller: ".concat(Sn.parent,`
`):"")+"".concat(Sn.buffer?"buffer length: ".concat(Sn.buffer,`
`):"")+"".concat(Sn.error?"error: ".concat(Sn.error,`
`):"")+"".concat(Sn.event?"event: ".concat(Sn.event,`
`):"")+"".concat(Sn.err?"error message: ".concat((Uo=Sn.err)===null||Uo===void 0?void 0:Uo.message,`
`):"");Mt("error",{player_error_code:fr,player_error_message:rr,player_error_context:To})}};Pe.on($e.Events.ERROR,xn);var Wn=function(tr,Sn){var fr=Sn.frag,rr=fr&&fr._url||"";Mt("requestcanceled",{request_event_type:tr,request_url:rr,request_type:"media",request_hostname:M(rr)})};Pe.on($e.Events.FRAG_LOAD_EMERGENCY_ABORTED,Wn);var ur=function(tr,Sn){var fr=Sn.level,rr=Pe.levels[fr];if(rr&&rr.attrs&&rr.attrs.BANDWIDTH){var wr,Cr=rr.attrs.BANDWIDTH,no=parseFloat(rr.attrs["FRAME-RATE"]);isNaN(no)||(wr=no),Cr?Mt("renditionchange",{video_source_fps:wr,video_source_bitrate:Cr,video_source_width:rr.width,video_source_height:rr.height,video_source_rendition_name:rr.name,video_source_codec:rr==null?void 0:rr.videoCodec}):mt.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};Pe.on($e.Events.LEVEL_SWITCHED,ur),Pe._stopMuxMonitor=function(){Pe.off($e.Events.MANIFEST_LOADED,Ft),Pe.off($e.Events.LEVEL_LOADED,Vt),Pe.off($e.Events.AUDIO_TRACK_LOADED,un),Pe.off($e.Events.FRAG_LOADED,tn),Pe.off($e.Events.FRAG_CHANGED,dn),Pe.off($e.Events.ERROR,xn),Pe.off($e.Events.FRAG_LOAD_EMERGENCY_ABORTED,Wn),Pe.off($e.Events.LEVEL_SWITCHED,ur),Pe.off($e.Events.DESTROYING,Pe._stopMuxMonitor),delete Pe._stopMuxMonitor},Pe.on($e.Events.DESTROYING,Pe._stopMuxMonitor)}else mt.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,Bt.hlsjs,{},Bt.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var Bt;this.hlsjs&&((Bt=this.hlsjs)&&typeof Bt._stopMuxMonitor=="function"&&Bt._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(Bt){Bt.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=Bt.dashjs,function(Se,_e,Pe){var $e=Se.log;if(Pe&&Pe.on){var mt=function(Wn,ur){return Se.emit(_e,Wn,ur)},vt=function(Wn){var ur=Wn.type,tr=(Wn.data||{}).url;mt("requestcompleted",{request_event_type:ur,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:M(tr),request_url:tr})};Pe.on("manifestLoaded",vt);var St={},Mt=function(Wn){var ur=Wn.type,tr=Wn.fragmentModel,Sn=(Wn.chunk||{}).mediaInfo||{},fr=Sn.type,rr=Sn.bitrateList,wr={};(rr=rr||[]).forEach(function(yi,ko){wr[ko]={},wr[ko].width=yi.width,wr[ko].height=yi.height,wr[ko].bitrate=yi.bandwidth,wr[ko].attrs={}}),fr==="video"?St.video=wr:fr==="audio"?St.audio=wr:St.media=wr;var Cr=q(tr,Pe),no=Cr.requestStart,po=Cr.requestResponseStart,kr=Cr.requestResponseEnd,qo=Cr.requestResponseHeaders,Uo=Cr.requestMediaDuration,To=Cr.requestHostname,Oi=Cr.requestUrl,Ji=Cr.requestId;mt("requestcompleted",{request_event_type:ur,request_start:no,request_response_start:po,request_response_end:kr,request_bytes_loaded:-1,request_type:fr+"_init",request_response_headers:qo,request_hostname:To,request_id:Ji,request_url:Oi,request_media_duration:Uo,request_rendition_lists:St})};Pe.on("initFragmentLoaded",Mt);var Ft=function(Wn){var ur=Wn.type,tr=Wn.fragmentModel,Sn=Wn.chunk||{},fr=Sn.mediaInfo,rr=Sn.start,wr=(fr||{}).type,Cr=q(tr,Pe),no=Cr.requestStart,po=Cr.requestResponseStart,kr=Cr.requestResponseEnd,qo=Cr.requestBytesLoaded,Uo=Cr.requestResponseHeaders,To=Cr.requestMediaDuration,Oi=Cr.requestHostname,Ji=Cr.requestUrl,yi=Cr.requestId,ko=oe(wr,Pe),tt=ko.currentLevel,ot=ko.renditionWidth,wt=ko.renditionHeight,Zt=ko.renditionBitrate;mt("requestcompleted",{request_event_type:ur,request_start:no,request_response_start:po,request_response_end:kr,request_bytes_loaded:qo,request_type:wr,request_response_headers:Uo,request_hostname:Oi,request_id:yi,request_url:Ji,request_media_start_time:rr,request_media_duration:To,request_current_level:tt,request_labeled_bitrate:Zt,request_video_width:ot,request_video_height:wt})};Pe.on("mediaFragmentLoaded",Ft);var Vt={video:void 0,audio:void 0,totalBitrate:void 0},un=function(){if(Vt.video&&typeof Vt.video.bitrate=="number"){if(Vt.video.width&&Vt.video.height){var Wn=Vt.video.bitrate;return Vt.audio&&typeof Vt.audio.bitrate=="number"&&(Wn+=Vt.audio.bitrate),Wn!==Vt.totalBitrate?(Vt.totalBitrate=Wn,{video_source_bitrate:Wn,video_source_height:Vt.video.height,video_source_width:Vt.video.width,video_source_codec:z(Vt.video.codec)}):void 0}$e.warn("have bitrate info for video but missing width/height")}},tn=function(Wn,ur,tr){if(typeof Wn.newQuality=="number"){var Sn=Wn.mediaType;if(Sn==="audio"||Sn==="video"){var fr=Pe.getBitrateInfoListFor(Sn).find(function(wr){return wr.qualityIndex===Wn.newQuality});if(fr&&typeof fr.bitrate=="number"){Vt[Sn]=le(le({},fr),{},{codec:Pe.getCurrentTrackFor(Sn).codec});var rr=un();rr&&mt("renditionchange",rr)}else $e.warn("missing bitrate info for ".concat(Sn))}}else $e.warn("missing evt.newQuality in qualityChangeRendered event",Wn)};Pe.on("qualityChangeRendered",tn);var dn=function(Wn){var ur=Wn.request,tr=Wn.mediaType;mt("requestcanceled",{request_event_type:(ur=ur||{}).type+"_"+ur.action,request_url:ur.url,request_type:tr,request_hostname:M(ur.url)})};Pe.on("fragmentLoadingAbandoned",dn);var xn=function(Wn){var ur,tr,Sn=Wn.error,fr=(Sn==null||(ur=Sn.data)===null||ur===void 0?void 0:ur.request)||{},rr=(Sn==null||(tr=Sn.data)===null||tr===void 0?void 0:tr.response)||{};(Sn==null?void 0:Sn.code)===27&&mt("requestfailed",{request_error:fr.type+"_"+fr.action,request_url:fr.url,request_hostname:M(fr.url),request_type:fr.mediaType,request_error_code:rr.status,request_error_text:rr.statusText});var wr="".concat(fr!=null&&fr.url?"url: ".concat(fr.url,`
`):"")+"".concat(rr!=null&&rr.status||rr!=null&&rr.statusText?"response: ".concat(rr==null?void 0:rr.status,", ").concat(rr==null?void 0:rr.statusText,`
`):"");mt("error",{player_error_code:Sn==null?void 0:Sn.code,player_error_message:Sn==null?void 0:Sn.message,player_error_context:wr})};Pe.on("error",xn),Pe._stopMuxMonitor=function(){Pe.off("manifestLoaded",vt),Pe.off("initFragmentLoaded",Mt),Pe.off("mediaFragmentLoaded",Ft),Pe.off("qualityChangeRendered",tn),Pe.off("error",xn),Pe.off("fragmentLoadingAbandoned",dn),delete Pe._stopMuxMonitor}}else $e.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,Bt.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var Bt;this.dashjs&&((Bt=this.dashjs)&&typeof Bt._stopMuxMonitor=="function"&&Bt._stopMuxMonitor(),this.dashjs=void 0)}}],Xe&&nn(Ye.prototype,Xe),pt&&nn(Ye,pt),Object.defineProperty(Ye,"prototype",{writable:!1}),kt}(fe),zn=An,er=y(153),Jn=y.n(er);function Nn(et){return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ye){return typeof Ye}:function(Ye){return Ye&&typeof Symbol=="function"&&Ye.constructor===Symbol&&Ye!==Symbol.prototype?"symbol":typeof Ye},Nn(et)}function Pr(et,Ye){return function(Xe){if(Array.isArray(Xe))return Xe}(et)||function(Xe,pt){var gt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(gt!=null){var kt,Bt,Se=[],_e=!0,Pe=!1;try{for(gt=gt.call(Xe);!(_e=(kt=gt.next()).done)&&(Se.push(kt.value),!pt||Se.length!==pt);_e=!0);}catch($e){Pe=!0,Bt=$e}finally{try{_e||gt.return==null||gt.return()}finally{if(Pe)throw Bt}}return Se}}(et,Ye)||function(Xe,pt){if(Xe){if(typeof Xe=="string")return Er(Xe,pt);var gt=Object.prototype.toString.call(Xe).slice(8,-1);return gt==="Object"&&Xe.constructor&&(gt=Xe.constructor.name),gt==="Map"||gt==="Set"?Array.from(Xe):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?Er(Xe,pt):void 0}}(et,Ye)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Er(et,Ye){(Ye==null||Ye>et.length)&&(Ye=et.length);for(var Xe=0,pt=new Array(Ye);Xe<Ye;Xe++)pt[Xe]=et[Xe];return pt}var yr,Br=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],ao={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};v()&&v().WeakMap&&(yr=new WeakMap);var to="#EXT-X-TARGETDURATION",Sr="#EXT-X-PART-INF",Ao="#EXT-X-SERVER-CONTROL",fo="#EXTINF",Ho="#EXT-X-PROGRAM-DATE-TIME",Po="#EXT-X-VERSION",No="#EXT-X-SESSION-DATA",Vo=function(et){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(et),this.manifest};Vo.prototype.process=function(et){var Ye;for(this.buffer+=et,Ye=this.buffer.indexOf(`
`);Ye>-1;Ye=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,Ye)),this.buffer=this.buffer.substring(Ye+1)},Vo.prototype.processLine=function(et){var Ye=et.indexOf(":"),Xe=vi(et,Ye),pt=Xe[0],gt=Xe.length===2?si(Xe[1]):void 0;if(pt[0]!=="#")this.currentUri.uri=pt,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(pt){case to:if(!isFinite(gt)||gt<0)return;this.manifest.targetDuration=gt,this.setHoldBack();break;case Sr:bo(this.manifest,Xe),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case Ao:bo(this.manifest,Xe),this.setHoldBack();break;case fo:gt===0?this.currentUri.duration=.01:gt>0&&(this.currentUri.duration=gt);break;case Ho:var kt=gt,Bt=new Date(kt);this.manifest.dateTimeString||(this.manifest.dateTimeString=kt,this.manifest.dateTimeObject=Bt),this.currentUri.dateTimeString=kt,this.currentUri.dateTimeObject=Bt;break;case Po:bo(this.manifest,Xe);break;case No:var Se=oa(Xe[1]),_e=J(Se);Object.assign(this.manifest.sessionData,_e)}},Vo.prototype.setHoldBack=function(){var et=this.manifest,Ye=et.serverControl,Xe=et.targetDuration,pt=et.partTargetDuration;if(Ye){var gt="holdBack",kt="partHoldBack",Bt=Xe&&3*Xe,Se=pt&&2*pt;Xe&&!Ye.hasOwnProperty(gt)&&(Ye[gt]=Bt),Bt&&Ye[gt]<Bt&&(Ye[gt]=Bt),pt&&!Ye.hasOwnProperty(kt)&&(Ye[kt]=3*pt),pt&&Ye[kt]<Se&&(Ye[kt]=Se)}};var bo=function(et,Ye){var Xe,pt=_i(Ye[0].replace("#EXT-X-",""));gi(Ye[1])?(Xe={},Xe=Object.assign(ci(Ye[1]),Xe)):Xe=si(Ye[1]),et[pt]=Xe},_i=function(et){return et.toLowerCase().replace(/-(\w)/g,function(Ye){return Ye[1].toUpperCase()})},si=function(et){if(et.toLowerCase()==="yes"||et.toLowerCase()==="no")return et.toLowerCase()==="yes";var Ye=et.indexOf(":")!==-1?et:parseFloat(et);return isNaN(Ye)?et:Ye},oi=function(et){var Ye={},Xe=et.split("=");return Xe.length>1&&(Ye[_i(Xe[0])]=si(Xe[1])),Ye},ci=function(et){for(var Ye=et.split(","),Xe={},pt=0;Ye.length>pt;pt++){var gt=Ye[pt],kt=oi(gt);Xe=Object.assign(kt,Xe)}return Xe},gi=function(et){return et.indexOf("=")>-1},vi=function(et,Ye){return Ye===-1?[et]:[et.substring(0,Ye),et.substring(Ye+1)]},oa=function(et){var Ye={};if(et){var Xe=et.search(",");return[et.slice(0,Xe),et.slice(Xe+1)].forEach(function(pt,gt){for(var kt=pt.replace(/['"]+/g,"").split("="),Bt=0;Bt<kt.length;Bt++)kt[Bt]==="DATA-ID"&&(Ye["DATA-ID"]=kt[1-Bt]),kt[Bt]==="VALUE"&&(Ye.VALUE=kt[1-Bt])}),{data:Ye}}},_o=Vo,xi={safeCall:function(et,Ye,Xe,pt){var gt=pt;if(et&&typeof et[Ye]=="function")try{gt=et[Ye].apply(et,Xe)}catch(kt){l.info("safeCall error",kt)}return gt},safeIncrement:T,getComputedStyle:function(et,Ye){var Xe;if(et&&Ye&&v()&&typeof v().getComputedStyle=="function")return yr&&yr.has(et)&&(Xe=yr.get(et)),Xe||(Xe=v().getComputedStyle(et,null),yr&&yr.set(et,Xe)),Xe.getPropertyValue(Ye)},secondsToMs:function(et){return Math.floor(1e3*et)},assign:Object.assign,headersStringToObject:j,cdnHeadersToRequestId:Z,extractHostnameAndDomain:R,extractHostname:M,manifestParser:_o,generateShortID:x,generateUUID:b,now:S.now},Bi={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};function ki(et,Ye){return function(Xe){if(Array.isArray(Xe))return Xe}(et)||function(Xe,pt){var gt=Xe==null?null:typeof Symbol!="undefined"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(gt!=null){var kt,Bt,Se=[],_e=!0,Pe=!1;try{for(gt=gt.call(Xe);!(_e=(kt=gt.next()).done)&&(Se.push(kt.value),!pt||Se.length!==pt);_e=!0);}catch($e){Pe=!0,Bt=$e}finally{try{_e||gt.return==null||gt.return()}finally{if(Pe)throw Bt}}return Se}}(et,Ye)||function(Xe,pt){if(Xe){if(typeof Xe=="string")return di(Xe,pt);var gt=Object.prototype.toString.call(Xe).slice(8,-1);return gt==="Object"&&Xe.constructor&&(gt=Xe.constructor.name),gt==="Map"||gt==="Set"?Array.from(Xe):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?di(Xe,pt):void 0}}(et,Ye)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function di(et,Ye){(Ye==null||Ye>et.length)&&(Ye=et.length);for(var Xe=0,pt=new Array(Ye);Xe<Ye;Xe++)pt[Xe]=et[Xe];return pt}var So={},ti=function et(Ye){var Xe=arguments;typeof Ye=="string"?et.hasOwnProperty(Ye)?v().setTimeout(function(){Xe=Array.prototype.splice.call(Xe,1),et[Ye].apply(null,Xe)},0):l.warn("`"+Ye+"` is an unknown task"):typeof Ye=="function"?v().setTimeout(function(){Ye(et)},0):l.warn("`"+Ye+"` is invalid.")},li={loaded:S.now(),NAME:"mux-embed",VERSION:"4.25.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(et,Ye){return function(Xe,pt,gt){var kt=Pr(O(pt),3),Bt=kt[0],Se=kt[1],_e=kt[2],Pe=Xe.log,$e=Xe.utils.getComputedStyle,mt=Xe.utils.secondsToMs;if(!Bt)return Pe.error("No element was found with the `"+Se+"` query selector.");if(_e!=="video"&&_e!=="audio")return Pe.error("The element of `"+Se+"` was not a media element.");Bt.mux&&(Bt.mux.destroy(),delete Bt.mux,Pe.warn("Already monitoring this video element, replacing existing event listeners")),(gt=Object.assign({automaticErrorTracking:!0},gt)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:Xe.VERSION},gt.data),gt.getPlayheadTime=function(){return mt(Bt.currentTime)},gt.getStateData=function(){var St,Mt,Ft=this.hlsjs&&this.hlsjs.url,Vt=this.dashjs&&Nn(this.dashjs.getSource==="function")&&this.dashjs.getSource(),un={player_is_paused:Bt.paused,player_playhead_time:mt(Bt.currentTime),player_width:parseInt($e(Bt,"width")),player_height:parseInt($e(Bt,"height")),player_autoplay_on:Bt.autoplay,player_preload_on:Bt.preload,player_language_code:Bt.lang,player_is_fullscreen:Jn()&&!!(Jn().fullscreenElement||Jn().webkitFullscreenElement||Jn().mozFullScreenElement||Jn().msFullscreenElement),video_poster_url:Bt.poster,video_source_url:Ft||Vt||Bt.currentSrc,video_source_duration:mt(Bt.duration),video_source_height:Bt.videoHeight,video_source_width:Bt.videoWidth,view_dropped_frame_count:(St=Bt)===null||St===void 0||(Mt=St.getVideoPlaybackQuality)===null||Mt===void 0?void 0:Mt.call(St).droppedVideoFrames},tn=gt.getPlayheadTime();if(Bt.getStartDate&&tn>0){var dn=Bt.getStartDate();if(dn&&typeof dn.getTime=="function"&&dn.getTime()){var xn=dn.getTime();if(un.player_program_time=xn+tn,Bt.seekable.length>0){var Wn=xn+Bt.seekable.end(Bt.seekable.length-1);un.player_live_edge_program_time=Wn}}}return un},Bt.mux=Bt.mux||{},Bt.mux.deleted=!1,Bt.mux.emit=function(St,Mt){Xe.emit(Se,St,Mt)};var vt=function(){Pe.error("The monitor for this video element has already been destroyed.")};Bt.mux.destroy=function(){Object.keys(Bt.mux.listeners).forEach(function(St){Bt.removeEventListener(St,Bt.mux.listeners[St],!1)}),delete Bt.mux.listeners,Bt.mux.destroy=vt,Bt.mux.swapElement=vt,Bt.mux.emit=vt,Bt.mux.addHLSJS=vt,Bt.mux.addDashJS=vt,Bt.mux.removeHLSJS=vt,Bt.mux.removeDashJS=vt,Bt.mux.deleted=!0,Xe.emit(Se,"destroy")},Bt.mux.swapElement=function(St){var Mt=Pr(O(St),3),Ft=Mt[0],Vt=Mt[1],un=Mt[2];return Ft?un!=="video"&&un!=="audio"?Xe.log.error("The element of `"+Vt+"` was not a media element."):(Ft.muxId=Bt.muxId,delete Bt.muxId,Ft.mux=Ft.mux||{},Ft.mux.listeners=Object.assign({},Bt.mux.listeners),delete Bt.mux.listeners,Object.keys(Ft.mux.listeners).forEach(function(tn){Bt.removeEventListener(tn,Ft.mux.listeners[tn],!1),Ft.addEventListener(tn,Ft.mux.listeners[tn],!1)}),Ft.mux.swapElement=Bt.mux.swapElement,Ft.mux.destroy=Bt.mux.destroy,delete Bt.mux,void(Bt=Ft)):Xe.log.error("No element was found with the `"+Vt+"` query selector.")},Bt.mux.addHLSJS=function(St){Xe.addHLSJS(Se,St)},Bt.mux.addDashJS=function(St){Xe.addDashJS(Se,St)},Bt.mux.removeHLSJS=function(){Xe.removeHLSJS(Se)},Bt.mux.removeDashJS=function(){Xe.removeDashJS(Se)},Xe.init(Se,gt),Xe.emit(Se,"playerready"),Bt.paused||(Xe.emit(Se,"play"),Bt.readyState>2&&Xe.emit(Se,"playing")),Bt.mux.listeners={},Br.forEach(function(St){(St!=="error"||gt.automaticErrorTracking)&&(Bt.mux.listeners[St]=function(){var Mt={};if(St==="error"){if(!Bt.error||Bt.error.code===1)return;Mt.player_error_code=Bt.error.code,Mt.player_error_message=ao[Bt.error.code]||Bt.error.message}Xe.emit(Se,St,Mt)},Bt.addEventListener(St,Bt.mux.listeners[St],!1))})}(ti,et,Ye)},destroyMonitor:function(et){var Ye=ki(O(et),1)[0];Ye&&Ye.mux&&typeof Ye.mux.destroy=="function"?Ye.mux.destroy():l.error("A video element monitor for `"+et+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(et,Ye){var Xe=E(et);So[Xe]?So[Xe].addHLSJS(Ye):l.error("A monitor for `"+Xe+"` has not been initialized.")},addDashJS:function(et,Ye){var Xe=E(et);So[Xe]?So[Xe].addDashJS(Ye):l.error("A monitor for `"+Xe+"` has not been initialized.")},removeHLSJS:function(et){var Ye=E(et);So[Ye]?So[Ye].removeHLSJS():l.error("A monitor for `"+Ye+"` has not been initialized.")},removeDashJS:function(et){var Ye=E(et);So[Ye]?So[Ye].removeDashJS():l.error("A monitor for `"+Ye+"` has not been initialized.")},init:function(et,Ye){P()&&Ye&&Ye.respectDoNotTrack&&l.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var Xe=E(et);So[Xe]=new zn(ti,Xe,Ye)},emit:function(et,Ye,Xe){var pt=E(et);So[pt]?(So[pt].emit(Ye,Xe),Ye==="destroy"&&delete So[pt]):l.error("A monitor for `"+pt+"` has not been initialized.")},checkDoNotTrack:P,log:l,utils:xi,events:Bi,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(ti,li),v()!==void 0&&typeof v().addEventListener=="function"&&v().addEventListener("pagehide",function(et){et.persisted||(ti.WINDOW_UNLOADING=!0)},!1);var Di=ti},655:function(d,g,y){var C,v;function b(x){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},b(x);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}(function(x){var E=!1;if((v=typeof(C=x)=="function"?C.call(g,y,g,d):C)===void 0||(d.exports=v),E=!0,b(g)==="object"&&(d.exports=x(),E=!0),!E){var O=window.Cookies,w=window.Cookies=x();w.noConflict=function(){return window.Cookies=O,w}}})(function(){var x=function(){for(var E=0,O={};E<arguments.length;E++){var w=arguments[E];for(var _ in w)O[_]=w[_]}return O};return function E(O){function w(_,a,l){var P;if(typeof document!="undefined"){if(arguments.length>1){if(typeof(l=x({path:"/"},w.defaults,l)).expires=="number"){var S=new Date;S.setMilliseconds(S.getMilliseconds()+864e5*l.expires),l.expires=S}try{P=JSON.stringify(a),/^[\{\[]/.test(P)&&(a=P)}catch(j){}return a=O.write?O.write(a,_):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),_=(_=(_=encodeURIComponent(String(_))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[_,"=",a,l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}_||(P={});for(var M=document.cookie?document.cookie.split("; "):[],R=/(%[0-9A-Z]{2})+/g,N=0;N<M.length;N++){var T=M[N].split("="),A=T.slice(1).join("=");A.charAt(0)==='"'&&(A=A.slice(1,-1));try{var W=T[0].replace(R,decodeURIComponent);if(A=O.read?O.read(A,W):O(A,W)||A.replace(R,decodeURIComponent),this.json)try{A=JSON.parse(A)}catch(j){}if(_===W){P=A;break}_||(P[W]=A)}catch(j){}}return P}}return w.set=w,w.get=function(_){return w.call(w,_)},w.getJSON=function(){return w.apply({json:!0},[].slice.call(arguments))},w.defaults={},w.remove=function(_,a){w(_,"",x(a,{expires:-1}))},w.withConverter=E,w}(function(){})})},153:function(d,g,y){var C,v=y.g!==void 0?y.g:typeof window!="undefined"?window:{},b=y(558);typeof document!="undefined"?C=document:(C=v["__GLOBAL_DOCUMENT_CACHE@4"])||(C=v["__GLOBAL_DOCUMENT_CACHE@4"]=b),d.exports=C},48:function(d,g,y){var C;C=typeof window!="undefined"?window:y.g!==void 0?y.g:typeof self!="undefined"?self:{},d.exports=C},640:function(d,g,y){var C,v;(function(b,x){"use strict";C=function(){var E=function(){},O="undefined",w=typeof window!==O&&typeof window.navigator!==O&&/Trident\/|MSIE /.test(window.navigator.userAgent),_=["trace","debug","info","warn","error"];function a(j,Z){var J=j[Z];if(typeof J.bind=="function")return J.bind(j);try{return Function.prototype.bind.call(J,j)}catch(Q){return function(){return Function.prototype.apply.apply(J,[j,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function P(j){return j==="debug"&&(j="log"),typeof console!==O&&(j==="trace"&&w?l:console[j]!==void 0?a(console,j):console.log!==void 0?a(console,"log"):E)}function S(j,Z){for(var J=0;J<_.length;J++){var Q=_[J];this[Q]=J<j?E:this.methodFactory(Q,j,Z)}this.log=this.debug}function M(j,Z,J){return function(){typeof console!==O&&(S.call(this,Z,J),this[j].apply(this,arguments))}}function R(j,Z,J){return P(j)||M.apply(this,arguments)}function N(j,Z,J){var Q,ne=this;Z=Z==null?"WARN":Z;var te="loglevel";function B(ae){var q=(_[ae]||"silent").toUpperCase();if(typeof window!==O&&te){try{return void(window.localStorage[te]=q)}catch(oe){}try{window.document.cookie=encodeURIComponent(te)+"="+q+";"}catch(oe){}}}function V(){var ae;if(typeof window!==O&&te){try{ae=window.localStorage[te]}catch(z){}if(typeof ae===O)try{var q=window.document.cookie,oe=q.indexOf(encodeURIComponent(te)+"=");oe!==-1&&(ae=/^([^;]+)/.exec(q.slice(oe))[1])}catch(z){}return ne.levels[ae]===void 0&&(ae=void 0),ae}}function re(){if(typeof window!==O&&te){try{return void window.localStorage.removeItem(te)}catch(ae){}try{window.document.cookie=encodeURIComponent(te)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(ae){}}}typeof j=="string"?te+=":"+j:typeof j=="symbol"&&(te=void 0),ne.name=j,ne.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},ne.methodFactory=J||R,ne.getLevel=function(){return Q},ne.setLevel=function(ae,q){if(typeof ae=="string"&&ne.levels[ae.toUpperCase()]!==void 0&&(ae=ne.levels[ae.toUpperCase()]),!(typeof ae=="number"&&ae>=0&&ae<=ne.levels.SILENT))throw"log.setLevel() called with invalid level: "+ae;if(Q=ae,q!==!1&&B(ae),S.call(ne,ae,j),typeof console===O&&ae<ne.levels.SILENT)return"No console available for logging"},ne.setDefaultLevel=function(ae){Z=ae,V()||ne.setLevel(ae,!1)},ne.resetLevel=function(){ne.setLevel(Z,!1),re()},ne.enableAll=function(ae){ne.setLevel(ne.levels.TRACE,ae)},ne.disableAll=function(ae){ne.setLevel(ne.levels.SILENT,ae)};var le=V();le==null&&(le=Z),ne.setLevel(le,!1)}var T=new N,A={};T.getLogger=function(j){if(typeof j!="symbol"&&typeof j!="string"||j==="")throw new TypeError("You must supply a name when creating a logger.");var Z=A[j];return Z||(Z=A[j]=new N(j,T.getLevel(),T.methodFactory)),Z};var W=typeof window!==O?window.log:void 0;return T.noConflict=function(){return typeof window!==O&&window.log===T&&(window.log=W),T},T.getLoggers=function(){return A},T.default=T,T},(v=typeof C=="function"?C.call(g,y,g,d):C)===void 0||(d.exports=v)})()},375:function(d,g){"use strict";var y=Object.prototype.hasOwnProperty;function C(b){try{return decodeURIComponent(b.replace(/\+/g," "))}catch(x){return null}}function v(b){try{return encodeURIComponent(b)}catch(x){return null}}g.stringify=function(b,x){x=x||"";var E,O,w=[];for(O in typeof x!="string"&&(x="?"),b)if(y.call(b,O)){if((E=b[O])||E!=null&&!isNaN(E)||(E=""),O=v(O),E=v(E),O===null||E===null)continue;w.push(O+"="+E)}return w.length?x+w.join("&"):""},g.parse=function(b){for(var x,E=/([^=?#&]+)=?([^&]*)/g,O={};x=E.exec(b);){var w=C(x[1]),_=C(x[2]);w===null||_===null||w in O||(O[w]=_)}return O}},558:function(){}},m={};function f(d){var g=m[d];if(g!==void 0)return g.exports;var y=m[d]={exports:{}};return o[d].call(y.exports,y,y.exports,f),y.exports}return f.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(g,{a:g}),g},f.d=function(d,g){for(var y in g)f.o(g,y)&&!f.o(d,y)&&Object.defineProperty(d,y,{enumerable:!0,get:g[y]})},f.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(d){if(typeof window=="object")return window}}(),f.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},f(80)}()},G.exports=e()})()},27418:G=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function m(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}function f(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var g={},y=0;y<10;y++)g["_"+String.fromCharCode(y)]=y;var C=Object.getOwnPropertyNames(g).map(function(b){return g[b]});if(C.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(b){v[b]=b}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch(b){return!1}}G.exports=f()?Object.assign:function(d,g){for(var y,C=m(d),v,b=1;b<arguments.length;b++){y=Object(arguments[b]);for(var x in y)e.call(y,x)&&(C[x]=y[x]);if(s){v=s(y);for(var E=0;E<v.length;E++)o.call(y,v[E])&&(C[v[E]]=y[v[E]])}}return C}},70631:(G,s,e)=>{var o=typeof Map=="function"&&Map.prototype,m=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,f=o&&m&&typeof m.get=="function"?m.get:null,d=o&&Map.prototype.forEach,g=typeof Set=="function"&&Set.prototype,y=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,C=g&&y&&typeof y.get=="function"?y.get:null,v=g&&Set.prototype.forEach,b=typeof WeakMap=="function"&&WeakMap.prototype,x=b?WeakMap.prototype.has:null,E=typeof WeakSet=="function"&&WeakSet.prototype,O=E?WeakSet.prototype.has:null,w=typeof WeakRef=="function"&&WeakRef.prototype,_=w?WeakRef.prototype.deref:null,a=Boolean.prototype.valueOf,l=Object.prototype.toString,P=Function.prototype.toString,S=String.prototype.match,M=String.prototype.slice,R=String.prototype.replace,N=String.prototype.toUpperCase,T=String.prototype.toLowerCase,A=RegExp.prototype.test,W=Array.prototype.concat,j=Array.prototype.join,Z=Array.prototype.slice,J=Math.floor,Q=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ne=Object.getOwnPropertySymbols,te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,B=typeof Symbol=="function"&&typeof Symbol.iterator=="object",V=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===B||"symbol")?Symbol.toStringTag:null,re=Object.prototype.propertyIsEnumerable,le=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ue){return Ue.__proto__}:null);function ae(Ue,be){if(Ue===1/0||Ue===-1/0||Ue!==Ue||Ue&&Ue>-1e3&&Ue<1e3||A.call(/e/,be))return be;var Ge=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ue=="number"){var nt=Ue<0?-J(-Ue):J(Ue);if(nt!==Ue){var Oe=String(nt),K=M.call(be,Oe.length+1);return R.call(Oe,Ge,"$&_")+"."+R.call(R.call(K,/([0-9]{3})/g,"$&_"),/_$/,"")}}return R.call(be,Ge,"$&_")}var q=e(24654),oe=q.custom,z=De(oe)?oe:null;G.exports=function Ue(be,Ge,nt,Oe){var K=Ge||{};if(ge(K,"quoteStyle")&&K.quoteStyle!=="single"&&K.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ge(K,"maxStringLength")&&(typeof K.maxStringLength=="number"?K.maxStringLength<0&&K.maxStringLength!==1/0:K.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Y=ge(K,"customInspect")?K.customInspect:!0;if(typeof Y!="boolean"&&Y!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ge(K,"indent")&&K.indent!==null&&K.indent!=="	"&&!(parseInt(K.indent,10)===K.indent&&K.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ge(K,"numericSeparator")&&typeof K.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var he=K.numericSeparator;if(typeof be=="undefined")return"undefined";if(be===null)return"null";if(typeof be=="boolean")return be?"true":"false";if(typeof be=="string")return Tt(be,K);if(typeof be=="number"){if(be===0)return 1/0/be>0?"0":"-0";var Te=String(be);return he?ae(be,Te):Te}if(typeof be=="bigint"){var He=String(be)+"n";return he?ae(be,He):He}var Qe=typeof K.depth=="undefined"?5:K.depth;if(typeof nt=="undefined"&&(nt=0),nt>=Qe&&Qe>0&&typeof be=="object")return de(be)?"[Array]":"[Object]";var ht=Ve(K,nt);if(typeof Oe=="undefined")Oe=[];else if(Ke(Oe,be)>=0)return"[Circular]";function ct(pr,Lr,oo){if(Lr&&(Oe=Z.call(Oe),Oe.push(Lr)),oo){var Kr={depth:K.depth};return ge(K,"quoteStyle")&&(Kr.quoteStyle=K.quoteStyle),Ue(pr,Kr,nt+1,Oe)}return Ue(pr,K,nt+1,Oe)}if(typeof be=="function"&&!ye(be)){var Pt=Re(be),Nt=Fe(be,ct);return"[Function"+(Pt?": "+Pt:" (anonymous)")+"]"+(Nt.length>0?" { "+j.call(Nt,", ")+" }":"")}if(De(be)){var sn=B?R.call(String(be),/^(Symbol\(.*\))_[^)]*$/,"$1"):te.call(be);return typeof be=="object"&&!B?Gt(sn):sn}if(lt(be)){for(var Et="<"+T.call(String(be.nodeName)),Ot=be.attributes||[],at=0;at<Ot.length;at++)Et+=" "+Ot[at].name+"="+ie(ue(Ot[at].value),"double",K);return Et+=">",be.childNodes&&be.childNodes.length&&(Et+="..."),Et+="</"+T.call(String(be.nodeName))+">",Et}if(de(be)){if(be.length===0)return"[]";var Ht=Fe(be,ct);return ht&&!ke(Ht)?"["+Ne(Ht,ht)+"]":"[ "+j.call(Ht,", ")+" ]"}if(pe(be)){var zt=Fe(be,ct);return!("cause"in Error.prototype)&&"cause"in be&&!re.call(be,"cause")?"{ ["+String(be)+"] "+j.call(W.call("[cause]: "+ct(be.cause),zt),", ")+" }":zt.length===0?"["+String(be)+"]":"{ ["+String(be)+"] "+j.call(zt,", ")+" }"}if(typeof be=="object"&&Y){if(z&&typeof be[z]=="function"&&q)return q(be,{depth:Qe-nt});if(Y!=="symbol"&&typeof be.inspect=="function")return be.inspect()}if(ut(be)){var on=[];return d&&d.call(be,function(pr,Lr){on.push(ct(Lr,be,!0)+" => "+ct(pr,be))}),yt("Map",f.call(be),on,ht)}if(We(be)){var hn=[];return v&&v.call(be,function(pr){hn.push(ct(pr,be))}),yt("Set",C.call(be),hn,ht)}if(_t(be))return an("WeakMap");if(Be(be))return an("WeakSet");if(ft(be))return an("WeakRef");if(Me(be))return Gt(ct(Number(be)));if(me(be))return Gt(ct(Q.call(be)));if(je(be))return Gt(a.call(be));if(we(be))return Gt(ct(String(be)));if(!fe(be)&&!ye(be)){var gn=Fe(be,ct),bn=le?le(be)===Object.prototype:be instanceof Object||be.constructor===Object,Un=be instanceof Object?"":"null prototype",qn=!bn&&V&&Object(be)===be&&V in be?M.call(Ie(be),8,-1):Un?"Object":"",cr=bn||typeof be.constructor!="function"?"":be.constructor.name?be.constructor.name+" ":"",hr=cr+(qn||Un?"["+j.call(W.call([],qn||[],Un||[]),": ")+"] ":"");return gn.length===0?hr+"{}":ht?hr+"{"+Ne(gn,ht)+"}":hr+"{ "+j.call(gn,", ")+" }"}return String(be)};function ie(Ue,be,Ge){var nt=(Ge.quoteStyle||be)==="double"?'"':"'";return nt+Ue+nt}function ue(Ue){return R.call(String(Ue),/"/g,"&quot;")}function de(Ue){return Ie(Ue)==="[object Array]"&&(!V||!(typeof Ue=="object"&&V in Ue))}function fe(Ue){return Ie(Ue)==="[object Date]"&&(!V||!(typeof Ue=="object"&&V in Ue))}function ye(Ue){return Ie(Ue)==="[object RegExp]"&&(!V||!(typeof Ue=="object"&&V in Ue))}function pe(Ue){return Ie(Ue)==="[object Error]"&&(!V||!(typeof Ue=="object"&&V in Ue))}function we(Ue){return Ie(Ue)==="[object String]"&&(!V||!(typeof Ue=="object"&&V in Ue))}function Me(Ue){return Ie(Ue)==="[object Number]"&&(!V||!(typeof Ue=="object"&&V in Ue))}function je(Ue){return Ie(Ue)==="[object Boolean]"&&(!V||!(typeof Ue=="object"&&V in Ue))}function De(Ue){if(B)return Ue&&typeof Ue=="object"&&Ue instanceof Symbol;if(typeof Ue=="symbol")return!0;if(!Ue||typeof Ue!="object"||!te)return!1;try{return te.call(Ue),!0}catch(be){}return!1}function me(Ue){if(!Ue||typeof Ue!="object"||!Q)return!1;try{return Q.call(Ue),!0}catch(be){}return!1}var ce=Object.prototype.hasOwnProperty||function(Ue){return Ue in this};function ge(Ue,be){return ce.call(Ue,be)}function Ie(Ue){return l.call(Ue)}function Re(Ue){if(Ue.name)return Ue.name;var be=S.call(P.call(Ue),/^function\s*([\w$]+)/);return be?be[1]:null}function Ke(Ue,be){if(Ue.indexOf)return Ue.indexOf(be);for(var Ge=0,nt=Ue.length;Ge<nt;Ge++)if(Ue[Ge]===be)return Ge;return-1}function ut(Ue){if(!f||!Ue||typeof Ue!="object")return!1;try{f.call(Ue);try{C.call(Ue)}catch(be){return!0}return Ue instanceof Map}catch(be){}return!1}function _t(Ue){if(!x||!Ue||typeof Ue!="object")return!1;try{x.call(Ue,x);try{O.call(Ue,O)}catch(be){return!0}return Ue instanceof WeakMap}catch(be){}return!1}function ft(Ue){if(!_||!Ue||typeof Ue!="object")return!1;try{return _.call(Ue),!0}catch(be){}return!1}function We(Ue){if(!C||!Ue||typeof Ue!="object")return!1;try{C.call(Ue);try{f.call(Ue)}catch(be){return!0}return Ue instanceof Set}catch(be){}return!1}function Be(Ue){if(!O||!Ue||typeof Ue!="object")return!1;try{O.call(Ue,O);try{x.call(Ue,x)}catch(be){return!0}return Ue instanceof WeakSet}catch(be){}return!1}function lt(Ue){return!Ue||typeof Ue!="object"?!1:typeof HTMLElement!="undefined"&&Ue instanceof HTMLElement?!0:typeof Ue.nodeName=="string"&&typeof Ue.getAttribute=="function"}function Tt(Ue,be){if(Ue.length>be.maxStringLength){var Ge=Ue.length-be.maxStringLength,nt="... "+Ge+" more character"+(Ge>1?"s":"");return Tt(M.call(Ue,0,be.maxStringLength),be)+nt}var Oe=R.call(R.call(Ue,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,xt);return ie(Oe,"single",be)}function xt(Ue){var be=Ue.charCodeAt(0),Ge={8:"b",9:"t",10:"n",12:"f",13:"r"}[be];return Ge?"\\"+Ge:"\\x"+(be<16?"0":"")+N.call(be.toString(16))}function Gt(Ue){return"Object("+Ue+")"}function an(Ue){return Ue+" { ? }"}function yt(Ue,be,Ge,nt){var Oe=nt?Ne(Ge,nt):j.call(Ge,", ");return Ue+" ("+be+") {"+Oe+"}"}function ke(Ue){for(var be=0;be<Ue.length;be++)if(Ke(Ue[be],`
`)>=0)return!1;return!0}function Ve(Ue,be){var Ge;if(Ue.indent==="	")Ge="	";else if(typeof Ue.indent=="number"&&Ue.indent>0)Ge=j.call(Array(Ue.indent+1)," ");else return null;return{base:Ge,prev:j.call(Array(be+1),Ge)}}function Ne(Ue,be){if(Ue.length===0)return"";var Ge=`
`+be.prev+be.base;return Ge+j.call(Ue,","+Ge)+`
`+be.prev}function Fe(Ue,be){var Ge=de(Ue),nt=[];if(Ge){nt.length=Ue.length;for(var Oe=0;Oe<Ue.length;Oe++)nt[Oe]=ge(Ue,Oe)?be(Ue[Oe],Ue):""}var K=typeof ne=="function"?ne(Ue):[],Y;if(B){Y={};for(var he=0;he<K.length;he++)Y["$"+K[he]]=K[he]}for(var Te in Ue)ge(Ue,Te)&&(Ge&&String(Number(Te))===Te&&Te<Ue.length||B&&Y["$"+Te]instanceof Symbol||(A.call(/[^\w$]/,Te)?nt.push(be(Te,Ue)+": "+be(Ue[Te],Ue)):nt.push(Te+": "+be(Ue[Te],Ue))));if(typeof ne=="function")for(var He=0;He<K.length;He++)re.call(Ue,K[He])&&nt.push("["+be(K[He])+"]: "+be(Ue[K[He]],Ue));return nt}},79430:function(G,s){var e,o,m;(function(f,d){o=[],e=d,m=typeof e=="function"?e.apply(s,o):e,m!==void 0&&(G.exports=m)})(this,function(){return function(f){function d(T){return T===" "||T==="	"||T===`
`||T==="\f"||T==="\r"}function g(T){var A,W=T.exec(f.substring(S));if(W)return A=W[0],S+=A.length,A}for(var y=f.length,C=/^[ \t\n\r\u000c]+/,v=/^[, \t\n\r\u000c]+/,b=/^[^ \t\n\r\u000c]+/,x=/[,]+$/,E=/^\d+$/,O=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,w,_,a,l,P,S=0,M=[];;){if(g(v),S>=y)return M;w=g(b),_=[],w.slice(-1)===","?(w=w.replace(x,""),N()):R()}function R(){for(g(C),a="",l="in descriptor";;){if(P=f.charAt(S),l==="in descriptor")if(d(P))a&&(_.push(a),a="",l="after descriptor");else if(P===","){S+=1,a&&_.push(a),N();return}else if(P==="(")a=a+P,l="in parens";else if(P===""){a&&_.push(a),N();return}else a=a+P;else if(l==="in parens")if(P===")")a=a+P,l="in descriptor";else if(P===""){_.push(a),N();return}else a=a+P;else if(l==="after descriptor"&&!d(P))if(P===""){N();return}else l="in descriptor",S-=1;S+=1}}function N(){var T=!1,A,W,j,Z,J={},Q,ne,te,B,V;for(Z=0;Z<_.length;Z++)Q=_[Z],ne=Q[Q.length-1],te=Q.substring(0,Q.length-1),B=parseInt(te,10),V=parseFloat(te),E.test(te)&&ne==="w"?((A||W)&&(T=!0),B===0?T=!0:A=B):O.test(te)&&ne==="x"?((A||W||j)&&(T=!0),V<0?T=!0:W=V):E.test(te)&&ne==="h"?((j||W)&&(T=!0),B===0?T=!0:j=B):T=!0;T?console&&console.log&&console.log("Invalid srcset descriptor found in '"+f+"' at '"+Q+"'."):(J.url=w,A&&(J.w=A),W&&(J.d=W),j&&(J.h=j),M.push(J))}}})},74241:G=>{var s=String,e=function(){return{isColorSupported:!1,reset:s,bold:s,dim:s,italic:s,underline:s,inverse:s,hidden:s,strikethrough:s,black:s,red:s,green:s,yellow:s,blue:s,magenta:s,cyan:s,white:s,gray:s,bgBlack:s,bgRed:s,bgGreen:s,bgYellow:s,bgBlue:s,bgMagenta:s,bgCyan:s,bgWhite:s}};G.exports=e(),G.exports.createColors=e},41353:(G,s,e)=>{"use strict";let o=e(21019);class m extends o{constructor(d){super(d),this.type="atrule"}append(...d){return this.proxyOf.nodes||(this.nodes=[]),super.append(...d)}prepend(...d){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...d)}}G.exports=m,m.default=m,o.registerAtRule(m)},69932:(G,s,e)=>{"use strict";let o=e(65631);class m extends o{constructor(d){super(d),this.type="comment"}}G.exports=m,m.default=m},21019:(G,s,e)=>{"use strict";let{isClean:o,my:m}=e(65513),f=e(94258),d=e(69932),g=e(65631),y,C,v,b;function x(w){return w.map(_=>(_.nodes&&(_.nodes=x(_.nodes)),delete _.source,_))}function E(w){if(w[o]=!1,w.proxyOf.nodes)for(let _ of w.proxyOf.nodes)E(_)}class O extends g{push(_){return _.parent=this,this.proxyOf.nodes.push(_),this}each(_){if(!this.proxyOf.nodes)return;let a=this.getIterator(),l,P;for(;this.indexes[a]<this.proxyOf.nodes.length&&(l=this.indexes[a],P=_(this.proxyOf.nodes[l],l),P!==!1);)this.indexes[a]+=1;return delete this.indexes[a],P}walk(_){return this.each((a,l)=>{let P;try{P=_(a,l)}catch(S){throw a.addToError(S)}return P!==!1&&a.walk&&(P=a.walk(_)),P})}walkDecls(_,a){return a?_ instanceof RegExp?this.walk((l,P)=>{if(l.type==="decl"&&_.test(l.prop))return a(l,P)}):this.walk((l,P)=>{if(l.type==="decl"&&l.prop===_)return a(l,P)}):(a=_,this.walk((l,P)=>{if(l.type==="decl")return a(l,P)}))}walkRules(_,a){return a?_ instanceof RegExp?this.walk((l,P)=>{if(l.type==="rule"&&_.test(l.selector))return a(l,P)}):this.walk((l,P)=>{if(l.type==="rule"&&l.selector===_)return a(l,P)}):(a=_,this.walk((l,P)=>{if(l.type==="rule")return a(l,P)}))}walkAtRules(_,a){return a?_ instanceof RegExp?this.walk((l,P)=>{if(l.type==="atrule"&&_.test(l.name))return a(l,P)}):this.walk((l,P)=>{if(l.type==="atrule"&&l.name===_)return a(l,P)}):(a=_,this.walk((l,P)=>{if(l.type==="atrule")return a(l,P)}))}walkComments(_){return this.walk((a,l)=>{if(a.type==="comment")return _(a,l)})}append(..._){for(let a of _){let l=this.normalize(a,this.last);for(let P of l)this.proxyOf.nodes.push(P)}return this.markDirty(),this}prepend(..._){_=_.reverse();for(let a of _){let l=this.normalize(a,this.first,"prepend").reverse();for(let P of l)this.proxyOf.nodes.unshift(P);for(let P in this.indexes)this.indexes[P]=this.indexes[P]+l.length}return this.markDirty(),this}cleanRaws(_){if(super.cleanRaws(_),this.nodes)for(let a of this.nodes)a.cleanRaws(_)}insertBefore(_,a){let l=this.index(_),P=l===0?"prepend":!1,S=this.normalize(a,this.proxyOf.nodes[l],P).reverse();l=this.index(_);for(let R of S)this.proxyOf.nodes.splice(l,0,R);let M;for(let R in this.indexes)M=this.indexes[R],l<=M&&(this.indexes[R]=M+S.length);return this.markDirty(),this}insertAfter(_,a){let l=this.index(_),P=this.normalize(a,this.proxyOf.nodes[l]).reverse();l=this.index(_);for(let M of P)this.proxyOf.nodes.splice(l+1,0,M);let S;for(let M in this.indexes)S=this.indexes[M],l<S&&(this.indexes[M]=S+P.length);return this.markDirty(),this}removeChild(_){_=this.index(_),this.proxyOf.nodes[_].parent=void 0,this.proxyOf.nodes.splice(_,1);let a;for(let l in this.indexes)a=this.indexes[l],a>=_&&(this.indexes[l]=a-1);return this.markDirty(),this}removeAll(){for(let _ of this.proxyOf.nodes)_.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(_,a,l){return l||(l=a,a={}),this.walkDecls(P=>{a.props&&!a.props.includes(P.prop)||a.fast&&!P.value.includes(a.fast)||(P.value=P.value.replace(_,l))}),this.markDirty(),this}every(_){return this.nodes.every(_)}some(_){return this.nodes.some(_)}index(_){return typeof _=="number"?_:(_.proxyOf&&(_=_.proxyOf),this.proxyOf.nodes.indexOf(_))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(_,a){if(typeof _=="string")_=x(y(_).nodes);else if(Array.isArray(_)){_=_.slice(0);for(let P of _)P.parent&&P.parent.removeChild(P,"ignore")}else if(_.type==="root"&&this.type!=="document"){_=_.nodes.slice(0);for(let P of _)P.parent&&P.parent.removeChild(P,"ignore")}else if(_.type)_=[_];else if(_.prop){if(typeof _.value=="undefined")throw new Error("Value field is missed in node creation");typeof _.value!="string"&&(_.value=String(_.value)),_=[new f(_)]}else if(_.selector)_=[new C(_)];else if(_.name)_=[new v(_)];else if(_.text)_=[new d(_)];else throw new Error("Unknown node type in node creation");return _.map(P=>(P[m]||O.rebuild(P),P=P.proxyOf,P.parent&&P.parent.removeChild(P),P[o]&&E(P),typeof P.raws.before=="undefined"&&a&&typeof a.raws.before!="undefined"&&(P.raws.before=a.raws.before.replace(/\S/g,"")),P.parent=this.proxyOf,P))}getProxyProcessor(){return{set(_,a,l){return _[a]===l||(_[a]=l,(a==="name"||a==="params"||a==="selector")&&_.markDirty()),!0},get(_,a){return a==="proxyOf"?_:_[a]?a==="each"||typeof a=="string"&&a.startsWith("walk")?(...l)=>_[a](...l.map(P=>typeof P=="function"?(S,M)=>P(S.toProxy(),M):P)):a==="every"||a==="some"?l=>_[a]((P,...S)=>l(P.toProxy(),...S)):a==="root"?()=>_.root().toProxy():a==="nodes"?_.nodes.map(l=>l.toProxy()):a==="first"||a==="last"?_[a].toProxy():_[a]:_[a]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let _=this.lastEach;return this.indexes[_]=0,_}}O.registerParse=w=>{y=w},O.registerRule=w=>{C=w},O.registerAtRule=w=>{v=w},O.registerRoot=w=>{b=w},G.exports=O,O.default=O,O.rebuild=w=>{w.type==="atrule"?Object.setPrototypeOf(w,v.prototype):w.type==="rule"?Object.setPrototypeOf(w,C.prototype):w.type==="decl"?Object.setPrototypeOf(w,f.prototype):w.type==="comment"?Object.setPrototypeOf(w,d.prototype):w.type==="root"&&Object.setPrototypeOf(w,b.prototype),w[m]=!0,w.nodes&&w.nodes.forEach(_=>{O.rebuild(_)})}},42671:(G,s,e)=>{"use strict";let o=e(74241),m=e(22868);class f extends Error{constructor(g,y,C,v,b,x){super(g),this.name="CssSyntaxError",this.reason=g,b&&(this.file=b),v&&(this.source=v),x&&(this.plugin=x),typeof y!="undefined"&&typeof C!="undefined"&&(typeof y=="number"?(this.line=y,this.column=C):(this.line=y.line,this.column=y.column,this.endLine=C.line,this.endColumn=C.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,f)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(g){if(!this.source)return"";let y=this.source;g==null&&(g=o.isColorSupported),m&&g&&(y=m(y));let C=y.split(/\r?\n/),v=Math.max(this.line-3,0),b=Math.min(this.line+2,C.length),x=String(b).length,E,O;if(g){let{bold:w,red:_,gray:a}=o.createColors(!0);E=l=>w(_(l)),O=l=>a(l)}else E=O=w=>w;return C.slice(v,b).map((w,_)=>{let a=v+1+_,l=" "+(" "+a).slice(-x)+" | ";if(a===this.line){let P=O(l.replace(/\d/g," "))+w.slice(0,this.column-1).replace(/[^\t]/g," ");return E(">")+O(l)+w+`
 `+P+E("^")}return" "+O(l)+w}).join(`
`)}toString(){let g=this.showSourceCode();return g&&(g=`

`+g+`
`),this.name+": "+this.message+g}}G.exports=f,f.default=f},94258:(G,s,e)=>{"use strict";let o=e(65631);class m extends o{constructor(d){d&&typeof d.value!="undefined"&&typeof d.value!="string"&&(d=Wo(nr({},d),{value:String(d.value)})),super(d),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}G.exports=m,m.default=m},26461:(G,s,e)=>{"use strict";let o=e(21019),m,f;class d extends o{constructor(y){super(nr({type:"document"},y)),this.nodes||(this.nodes=[])}toResult(y={}){return new m(new f,this,y).stringify()}}d.registerLazyResult=g=>{m=g},d.registerProcessor=g=>{f=g},G.exports=d,d.default=d},50250:(G,s,e)=>{"use strict";let o=e(94258),m=e(47981),f=e(69932),d=e(41353),g=e(5995),y=e(41025),C=e(31675);function v(b,x){if(Array.isArray(b))return b.map(a=>v(a));let w=b,{inputs:E}=w,O=Yi(w,["inputs"]);if(E){x=[];for(let a of E){let l=Wo(nr({},a),{__proto__:g.prototype});l.map&&(l.map=Wo(nr({},l.map),{__proto__:m.prototype})),x.push(l)}}if(O.nodes&&(O.nodes=b.nodes.map(a=>v(a,x))),O.source){let _=O.source,{inputId:a}=_,l=Yi(_,["inputId"]);O.source=l,a!=null&&(O.source.input=x[a])}if(O.type==="root")return new y(O);if(O.type==="decl")return new o(O);if(O.type==="rule")return new C(O);if(O.type==="comment")return new f(O);if(O.type==="atrule")return new d(O);throw new Error("Unknown node type: "+b.type)}G.exports=v,v.default=v},5995:(G,s,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:m}=e(70209),{fileURLToPath:f,pathToFileURL:d}=e(87414),{resolve:g,isAbsolute:y}=e(99830),{nanoid:C}=e(62961),v=e(22868),b=e(42671),x=e(47981),E=Symbol("fromOffsetCache"),O=!!(o&&m),w=!!(g&&y);class _{constructor(l,P={}){if(l===null||typeof l=="undefined"||typeof l=="object"&&!l.toString)throw new Error(`PostCSS received ${l} instead of CSS string`);if(this.css=l.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,P.from&&(!w||/^\w+:\/\//.test(P.from)||y(P.from)?this.file=P.from:this.file=g(P.from)),w&&O){let S=new x(this.css,P);if(S.text){this.map=S;let M=S.consumer().file;!this.file&&M&&(this.file=this.mapResolve(M))}}this.file||(this.id="<input css "+C(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(l){let P,S;if(this[E])S=this[E];else{let R=this.css.split(`
`);S=new Array(R.length);let N=0;for(let T=0,A=R.length;T<A;T++)S[T]=N,N+=R[T].length+1;this[E]=S}P=S[S.length-1];let M=0;if(l>=P)M=S.length-1;else{let R=S.length-2,N;for(;M<R;)if(N=M+(R-M>>1),l<S[N])R=N-1;else if(l>=S[N+1])M=N+1;else{M=N;break}}return{line:M+1,col:l-S[M]+1}}error(l,P,S,M={}){let R,N,T;if(P&&typeof P=="object"){let W=P,j=S;if(typeof W.offset=="number"){let Z=this.fromOffset(W.offset);P=Z.line,S=Z.col}else P=W.line,S=W.column;if(typeof j.offset=="number"){let Z=this.fromOffset(j.offset);N=Z.line,T=Z.col}else N=j.line,T=j.column}else if(!S){let W=this.fromOffset(P);P=W.line,S=W.col}let A=this.origin(P,S,N,T);return A?R=new b(l,A.endLine===void 0?A.line:{line:A.line,column:A.column},A.endLine===void 0?A.column:{line:A.endLine,column:A.endColumn},A.source,A.file,M.plugin):R=new b(l,N===void 0?P:{line:P,column:S},N===void 0?S:{line:N,column:T},this.css,this.file,M.plugin),R.input={line:P,column:S,endLine:N,endColumn:T,source:this.css},this.file&&(d&&(R.input.url=d(this.file).toString()),R.input.file=this.file),R}origin(l,P,S,M){if(!this.map)return!1;let R=this.map.consumer(),N=R.originalPositionFor({line:l,column:P});if(!N.source)return!1;let T;typeof S=="number"&&(T=R.originalPositionFor({line:S,column:M}));let A;y(N.source)?A=d(N.source):A=new URL(N.source,this.map.consumer().sourceRoot||d(this.map.mapFile));let W={url:A.toString(),line:N.line,column:N.column,endLine:T&&T.line,endColumn:T&&T.column};if(A.protocol==="file:")if(f)W.file=f(A);else throw new Error("file: protocol is not available in this PostCSS build");let j=R.sourceContentFor(N.source);return j&&(W.source=j),W}mapResolve(l){return/^\w+:\/\//.test(l)?l:g(this.map.consumer().sourceRoot||this.map.root||".",l)}get from(){return this.file||this.id}toJSON(){let l={};for(let P of["hasBOM","css","file","id"])this[P]!=null&&(l[P]=this[P]);return this.map&&(l.map=nr({},this.map),l.map.consumerCache&&(l.map.consumerCache=void 0)),l}}G.exports=_,_.default=_,v&&v.registerInput&&v.registerInput(_)},21939:(G,s,e)=>{"use strict";let{isClean:o,my:m}=e(65513),f=e(48505),d=e(67088),g=e(21019),y=e(26461),C=e(72448),v=e(83632),b=e(66939),x=e(41025);const E={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},O={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},w={postcssPlugin:!0,prepare:!0,Once:!0},_=0;function a(N){return typeof N=="object"&&typeof N.then=="function"}function l(N){let T=!1,A=E[N.type];return N.type==="decl"?T=N.prop.toLowerCase():N.type==="atrule"&&(T=N.name.toLowerCase()),T&&N.append?[A,A+"-"+T,_,A+"Exit",A+"Exit-"+T]:T?[A,A+"-"+T,A+"Exit",A+"Exit-"+T]:N.append?[A,_,A+"Exit"]:[A,A+"Exit"]}function P(N){let T;return N.type==="document"?T=["Document",_,"DocumentExit"]:N.type==="root"?T=["Root",_,"RootExit"]:T=l(N),{node:N,events:T,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function S(N){return N[o]=!1,N.nodes&&N.nodes.forEach(T=>S(T)),N}let M={};class R{constructor(T,A,W){this.stringified=!1,this.processed=!1;let j;if(typeof A=="object"&&A!==null&&(A.type==="root"||A.type==="document"))j=S(A);else if(A instanceof R||A instanceof v)j=S(A.root),A.map&&(typeof W.map=="undefined"&&(W.map={}),W.map.inline||(W.map.inline=!1),W.map.prev=A.map);else{let Z=b;W.syntax&&(Z=W.syntax.parse),W.parser&&(Z=W.parser),Z.parse&&(Z=Z.parse);try{j=Z(A,W)}catch(J){this.processed=!0,this.error=J}j&&!j[m]&&g.rebuild(j)}this.result=new v(T,j,W),this.helpers=Wo(nr({},M),{result:this.result,postcss:M}),this.plugins=this.processor.plugins.map(Z=>typeof Z=="object"&&Z.prepare?nr(nr({},Z),Z.prepare(this.result)):Z)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(T,A){return this.async().then(T,A)}catch(T){return this.async().catch(T)}finally(T){return this.async().then(T,T)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let T of this.plugins){let A=this.runOnRoot(T);if(a(A))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let T=this.result.root;for(;!T[o];)T[o]=!0,this.walkSync(T);if(this.listeners.OnceExit)if(T.type==="document")for(let A of T.nodes)this.visitSync(this.listeners.OnceExit,A);else this.visitSync(this.listeners.OnceExit,T)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let T=this.result.opts,A=d;T.syntax&&(A=T.syntax.stringify),T.stringifier&&(A=T.stringifier),A.stringify&&(A=A.stringify);let j=new f(A,this.result.root,this.result.opts).generate();return this.result.css=j[0],this.result.map=j[1],this.result}walkSync(T){T[o]=!0;let A=l(T);for(let W of A)if(W===_)T.nodes&&T.each(j=>{j[o]||this.walkSync(j)});else{let j=this.listeners[W];if(j&&this.visitSync(j,T.toProxy()))return}}visitSync(T,A){for(let[W,j]of T){this.result.lastPlugin=W;let Z;try{Z=j(A,this.helpers)}catch(J){throw this.handleError(J,A.proxyOf)}if(A.type!=="root"&&A.type!=="document"&&!A.parent)return!0;if(a(Z))throw this.getAsyncError()}}runOnRoot(T){this.result.lastPlugin=T;try{if(typeof T=="object"&&T.Once){if(this.result.root.type==="document"){let A=this.result.root.nodes.map(W=>T.Once(W,this.helpers));return a(A[0])?Promise.all(A):A}return T.Once(this.result.root,this.helpers)}else if(typeof T=="function")return T(this.result.root,this.result)}catch(A){throw this.handleError(A)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(T,A){let W=this.result.lastPlugin;try{A&&A.addToError(T),this.error=T,T.name==="CssSyntaxError"&&!T.plugin?(T.plugin=W.postcssPlugin,T.setMessage()):W.postcssVersion}catch(j){console&&console.error&&console.error(j)}return T}runAsync(){return rl(this,null,function*(){this.plugin=0;for(let T=0;T<this.plugins.length;T++){let A=this.plugins[T],W=this.runOnRoot(A);if(a(W))try{yield W}catch(j){throw this.handleError(j)}}if(this.prepareVisitors(),this.hasListener){let T=this.result.root;for(;!T[o];){T[o]=!0;let A=[P(T)];for(;A.length>0;){let W=this.visitTick(A);if(a(W))try{yield W}catch(j){let Z=A[A.length-1].node;throw this.handleError(j,Z)}}}if(this.listeners.OnceExit)for(let[A,W]of this.listeners.OnceExit){this.result.lastPlugin=A;try{if(T.type==="document"){let j=T.nodes.map(Z=>W(Z,this.helpers));yield Promise.all(j)}else yield W(T,this.helpers)}catch(j){throw this.handleError(j)}}}return this.processed=!0,this.stringify()})}prepareVisitors(){this.listeners={};let T=(A,W,j)=>{this.listeners[W]||(this.listeners[W]=[]),this.listeners[W].push([A,j])};for(let A of this.plugins)if(typeof A=="object")for(let W in A){if(!O[W]&&/^[A-Z]/.test(W))throw new Error(`Unknown event ${W} in ${A.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!w[W])if(typeof A[W]=="object")for(let j in A[W])j==="*"?T(A,W,A[W][j]):T(A,W+"-"+j.toLowerCase(),A[W][j]);else typeof A[W]=="function"&&T(A,W,A[W])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(T){let A=T[T.length-1],{node:W,visitors:j}=A;if(W.type!=="root"&&W.type!=="document"&&!W.parent){T.pop();return}if(j.length>0&&A.visitorIndex<j.length){let[J,Q]=j[A.visitorIndex];A.visitorIndex+=1,A.visitorIndex===j.length&&(A.visitors=[],A.visitorIndex=0),this.result.lastPlugin=J;try{return Q(W.toProxy(),this.helpers)}catch(ne){throw this.handleError(ne,W)}}if(A.iterator!==0){let J=A.iterator,Q;for(;Q=W.nodes[W.indexes[J]];)if(W.indexes[J]+=1,!Q[o]){Q[o]=!0,T.push(P(Q));return}A.iterator=0,delete W.indexes[J]}let Z=A.events;for(;A.eventIndex<Z.length;){let J=Z[A.eventIndex];if(A.eventIndex+=1,J===_){W.nodes&&W.nodes.length&&(W[o]=!0,A.iterator=W.getIterator());return}else if(this.listeners[J]){A.visitors=this.listeners[J];return}}T.pop()}}R.registerPostcss=N=>{M=N},G.exports=R,R.default=R,x.registerLazyResult(R),y.registerLazyResult(R)},54715:G=>{"use strict";let s={split(e,o,m){let f=[],d="",g=!1,y=0,C=!1,v="",b=!1;for(let x of e)b?b=!1:x==="\\"?b=!0:C?x===v&&(C=!1):x==='"'||x==="'"?(C=!0,v=x):x==="("?y+=1:x===")"?y>0&&(y-=1):y===0&&o.includes(x)&&(g=!0),g?(d!==""&&f.push(d.trim()),d="",g=!1):d+=x;return(m||d!=="")&&f.push(d.trim()),f},space(e){let o=[" ",`
`,"	"];return s.split(e,o)},comma(e){return s.split(e,[","],!0)}};G.exports=s,s.default=s},48505:(G,s,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:m}=e(70209),{dirname:f,resolve:d,relative:g,sep:y}=e(99830),{pathToFileURL:C}=e(87414),v=e(5995),b=!!(o&&m),x=!!(f&&d&&g&&y);class E{constructor(w,_,a,l){this.stringify=w,this.mapOpts=a.map||{},this.root=_,this.opts=a,this.css=l,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(w=>{if(w.source&&w.source.input.map){let _=w.source.input.map;this.previousMaps.includes(_)||this.previousMaps.push(_)}});else{let w=new v(this.css,this.opts);w.map&&this.previousMaps.push(w.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let w=this.mapOpts.annotation;return typeof w!="undefined"&&w!==!0?!1:this.previous().length?this.previous().some(_=>_.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(w=>w.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let w;for(let _=this.root.nodes.length-1;_>=0;_--)w=this.root.nodes[_],w.type==="comment"&&w.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(_)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let w={};if(this.root)this.root.walk(_=>{if(_.source){let a=_.source.input.from;if(a&&!w[a]){w[a]=!0;let l=this.usesFileUrls?this.toFileUrl(a):this.toUrl(this.path(a));this.map.setSourceContent(l,_.source.input.css)}}});else if(this.css){let _=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(_,this.css)}}applyPrevMaps(){for(let w of this.previous()){let _=this.toUrl(this.path(w.file)),a=w.root||f(w.file),l;this.mapOpts.sourcesContent===!1?(l=new o(w.text),l.sourcesContent&&(l.sourcesContent=l.sourcesContent.map(()=>null))):l=w.consumer(),this.map.applySourceMap(l,_,this.toUrl(this.path(a)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(w=>w.annotation):!0}toBase64(w){return Buffer?Buffer.from(w).toString("base64"):window.btoa(unescape(encodeURIComponent(w)))}addAnnotation(){let w;this.isInline()?w="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?w=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?w=this.mapOpts.annotation(this.opts.to,this.root):w=this.outputFile()+".map";let _=`
`;this.css.includes(`\r
`)&&(_=`\r
`),this.css+=_+"/*# sourceMappingURL="+w+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let w=this.previous()[0].consumer();w.file=this.outputFile(),this.map=m.fromSourceMap(w)}else this.map=new m({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(w){if(w.indexOf("<")===0||/^\w+:\/\//.test(w)||this.mapOpts.absolute)return w;let _=this.opts.to?f(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(_=f(d(_,this.mapOpts.annotation))),w=g(_,w),w}toUrl(w){return y==="\\"&&(w=w.replace(/\\/g,"/")),encodeURI(w).replace(/[#?]/g,encodeURIComponent)}toFileUrl(w){if(C)return C(w).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(w){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(w.source.input.from):this.toUrl(this.path(w.source.input.from))}generateString(){this.css="",this.map=new m({file:this.outputFile()});let w=1,_=1,a="<no source>",l={source:"",generated:{line:0,column:0},original:{line:0,column:0}},P,S;this.stringify(this.root,(M,R,N)=>{if(this.css+=M,R&&N!=="end"&&(l.generated.line=w,l.generated.column=_-1,R.source&&R.source.start?(l.source=this.sourcePath(R),l.original.line=R.source.start.line,l.original.column=R.source.start.column-1,this.map.addMapping(l)):(l.source=a,l.original.line=1,l.original.column=0,this.map.addMapping(l))),P=M.match(/\n/g),P?(w+=P.length,S=M.lastIndexOf(`
`),_=M.length-S):_+=M.length,R&&N!=="start"){let T=R.parent||{raws:{}};(!(R.type==="decl"||R.type==="atrule"&&!R.nodes)||R!==T.last||T.raws.semicolon)&&(R.source&&R.source.end?(l.source=this.sourcePath(R),l.original.line=R.source.end.line,l.original.column=R.source.end.column-1,l.generated.line=w,l.generated.column=_-2,this.map.addMapping(l)):(l.source=a,l.original.line=1,l.original.column=0,l.generated.line=w,l.generated.column=_-1,this.map.addMapping(l)))}})}generate(){if(this.clearAnnotation(),x&&b&&this.isMap())return this.generateMap();{let w="";return this.stringify(this.root,_=>{w+=_}),[w]}}}G.exports=E},47647:(G,s,e)=>{"use strict";let o=e(48505),m=e(67088),f=e(72448),d=e(66939);const g=e(83632);class y{constructor(v,b,x){b=b.toString(),this.stringified=!1,this._processor=v,this._css=b,this._opts=x,this._map=void 0;let E,O=m;this.result=new g(this._processor,E,this._opts),this.result.css=b;let w=this;Object.defineProperty(this.result,"root",{get(){return w.root}});let _=new o(O,E,this._opts,b);if(_.isMap()){let[a,l]=_.generate();a&&(this.result.css=a),l&&(this.result.map=l)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let v,b=d;try{v=b(this._css,this._opts)}catch(x){this.error=x}if(this.error)throw this.error;return this._root=v,v}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(v,b){return this.async().then(v,b)}catch(v){return this.async().catch(v)}finally(v){return this.async().then(v,v)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}G.exports=y,y.default=y},65631:(G,s,e)=>{"use strict";let{isClean:o,my:m}=e(65513),f=e(42671),d=e(1062),g=e(67088);function y(v,b){let x=new v.constructor;for(let E in v){if(!Object.prototype.hasOwnProperty.call(v,E)||E==="proxyCache")continue;let O=v[E],w=typeof O;E==="parent"&&w==="object"?b&&(x[E]=b):E==="source"?x[E]=O:Array.isArray(O)?x[E]=O.map(_=>y(_,x)):(w==="object"&&O!==null&&(O=y(O)),x[E]=O)}return x}class C{constructor(b={}){this.raws={},this[o]=!1,this[m]=!0;for(let x in b)if(x==="nodes"){this.nodes=[];for(let E of b[x])typeof E.clone=="function"?this.append(E.clone()):this.append(E)}else this[x]=b[x]}error(b,x={}){if(this.source){let{start:E,end:O}=this.rangeBy(x);return this.source.input.error(b,{line:E.line,column:E.column},{line:O.line,column:O.column},x)}return new f(b)}warn(b,x,E){let O={node:this};for(let w in E)O[w]=E[w];return b.warn(x,O)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(b=g){b.stringify&&(b=b.stringify);let x="";return b(this,E=>{x+=E}),x}assign(b={}){for(let x in b)this[x]=b[x];return this}clone(b={}){let x=y(this);for(let E in b)x[E]=b[E];return x}cloneBefore(b={}){let x=this.clone(b);return this.parent.insertBefore(this,x),x}cloneAfter(b={}){let x=this.clone(b);return this.parent.insertAfter(this,x),x}replaceWith(...b){if(this.parent){let x=this,E=!1;for(let O of b)O===this?E=!0:E?(this.parent.insertAfter(x,O),x=O):this.parent.insertBefore(x,O);E||this.remove()}return this}next(){if(!this.parent)return;let b=this.parent.index(this);return this.parent.nodes[b+1]}prev(){if(!this.parent)return;let b=this.parent.index(this);return this.parent.nodes[b-1]}before(b){return this.parent.insertBefore(this,b),this}after(b){return this.parent.insertAfter(this,b),this}root(){let b=this;for(;b.parent&&b.parent.type!=="document";)b=b.parent;return b}raw(b,x){return new d().raw(this,b,x)}cleanRaws(b){delete this.raws.before,delete this.raws.after,b||delete this.raws.between}toJSON(b,x){let E={},O=x==null;x=x||new Map;let w=0;for(let _ in this){if(!Object.prototype.hasOwnProperty.call(this,_)||_==="parent"||_==="proxyCache")continue;let a=this[_];if(Array.isArray(a))E[_]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,x):l);else if(typeof a=="object"&&a.toJSON)E[_]=a.toJSON(null,x);else if(_==="source"){let l=x.get(a.input);l==null&&(l=w,x.set(a.input,w),w++),E[_]={inputId:l,start:a.start,end:a.end}}else E[_]=a}return O&&(E.inputs=[...x.keys()].map(_=>_.toJSON())),E}positionInside(b){let x=this.toString(),E=this.source.start.column,O=this.source.start.line;for(let w=0;w<b;w++)x[w]===`
`?(E=1,O+=1):E+=1;return{line:O,column:E}}positionBy(b){let x=this.source.start;if(b.index)x=this.positionInside(b.index);else if(b.word){let E=this.toString().indexOf(b.word);E!==-1&&(x=this.positionInside(E))}return x}rangeBy(b){let x={line:this.source.start.line,column:this.source.start.column},E=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:x.line,column:x.column+1};if(b.word){let O=this.toString().indexOf(b.word);O!==-1&&(x=this.positionInside(O),E=this.positionInside(O+b.word.length))}else b.start?x={line:b.start.line,column:b.start.column}:b.index&&(x=this.positionInside(b.index)),b.end?E={line:b.end.line,column:b.end.column}:b.endIndex?E=this.positionInside(b.endIndex):b.index&&(E=this.positionInside(b.index+1));return(E.line<x.line||E.line===x.line&&E.column<=x.column)&&(E={line:x.line,column:x.column+1}),{start:x,end:E}}getProxyProcessor(){return{set(b,x,E){return b[x]===E||(b[x]=E,(x==="prop"||x==="value"||x==="name"||x==="params"||x==="important"||x==="text")&&b.markDirty()),!0},get(b,x){return x==="proxyOf"?b:x==="root"?()=>b.root().toProxy():b[x]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(b){if(b.postcssNode=this,b.stack&&this.source&&/\n\s{4}at /.test(b.stack)){let x=this.source;b.stack=b.stack.replace(/\n\s{4}at /,`$&${x.input.from}:${x.start.line}:${x.start.column}$&`)}return b}markDirty(){if(this[o]){this[o]=!1;let b=this;for(;b=b.parent;)b[o]=!1}}get proxyOf(){return this}}G.exports=C,C.default=C},66939:(G,s,e)=>{"use strict";let o=e(21019),m=e(68867),f=e(5995);function d(g,y){let C=new f(g,y),v=new m(C);try{v.parse()}catch(b){throw b}return v.root}G.exports=d,d.default=d,o.registerParse(d)},68867:(G,s,e)=>{"use strict";let o=e(94258),m=e(83852),f=e(69932),d=e(41353),g=e(41025),y=e(31675);const C={empty:!0,space:!0};function v(x){for(let E=x.length-1;E>=0;E--){let O=x[E],w=O[3]||O[2];if(w)return w}}class b{constructor(E){this.input=E,this.root=new g,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:E,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=m(this.input)}parse(){let E;for(;!this.tokenizer.endOfFile();)switch(E=this.tokenizer.nextToken(),E[0]){case"space":this.spaces+=E[1];break;case";":this.freeSemicolon(E);break;case"}":this.end(E);break;case"comment":this.comment(E);break;case"at-word":this.atrule(E);break;case"{":this.emptyRule(E);break;default:this.other(E);break}this.endFile()}comment(E){let O=new f;this.init(O,E[2]),O.source.end=this.getPosition(E[3]||E[2]);let w=E[1].slice(2,-2);if(/^\s*$/.test(w))O.text="",O.raws.left=w,O.raws.right="";else{let _=w.match(/^(\s*)([^]*\S)(\s*)$/);O.text=_[2],O.raws.left=_[1],O.raws.right=_[3]}}emptyRule(E){let O=new y;this.init(O,E[2]),O.selector="",O.raws.between="",this.current=O}other(E){let O=!1,w=null,_=!1,a=null,l=[],P=E[1].startsWith("--"),S=[],M=E;for(;M;){if(w=M[0],S.push(M),w==="("||w==="[")a||(a=M),l.push(w==="("?")":"]");else if(P&&_&&w==="{")a||(a=M),l.push("}");else if(l.length===0)if(w===";")if(_){this.decl(S,P);return}else break;else if(w==="{"){this.rule(S);return}else if(w==="}"){this.tokenizer.back(S.pop()),O=!0;break}else w===":"&&(_=!0);else w===l[l.length-1]&&(l.pop(),l.length===0&&(a=null));M=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(O=!0),l.length>0&&this.unclosedBracket(a),O&&_){if(!P)for(;S.length&&(M=S[S.length-1][0],!(M!=="space"&&M!=="comment"));)this.tokenizer.back(S.pop());this.decl(S,P)}else this.unknownWord(S)}rule(E){E.pop();let O=new y;this.init(O,E[0][2]),O.raws.between=this.spacesAndCommentsFromEnd(E),this.raw(O,"selector",E),this.current=O}decl(E,O){let w=new o;this.init(w,E[0][2]);let _=E[E.length-1];for(_[0]===";"&&(this.semicolon=!0,E.pop()),w.source.end=this.getPosition(_[3]||_[2]||v(E));E[0][0]!=="word";)E.length===1&&this.unknownWord(E),w.raws.before+=E.shift()[1];for(w.source.start=this.getPosition(E[0][2]),w.prop="";E.length;){let M=E[0][0];if(M===":"||M==="space"||M==="comment")break;w.prop+=E.shift()[1]}w.raws.between="";let a;for(;E.length;)if(a=E.shift(),a[0]===":"){w.raws.between+=a[1];break}else a[0]==="word"&&/\w/.test(a[1])&&this.unknownWord([a]),w.raws.between+=a[1];(w.prop[0]==="_"||w.prop[0]==="*")&&(w.raws.before+=w.prop[0],w.prop=w.prop.slice(1));let l=[],P;for(;E.length&&(P=E[0][0],!(P!=="space"&&P!=="comment"));)l.push(E.shift());this.precheckMissedSemicolon(E);for(let M=E.length-1;M>=0;M--){if(a=E[M],a[1].toLowerCase()==="!important"){w.important=!0;let R=this.stringFrom(E,M);R=this.spacesFromEnd(E)+R,R!==" !important"&&(w.raws.important=R);break}else if(a[1].toLowerCase()==="important"){let R=E.slice(0),N="";for(let T=M;T>0;T--){let A=R[T][0];if(N.trim().indexOf("!")===0&&A!=="space")break;N=R.pop()[1]+N}N.trim().indexOf("!")===0&&(w.important=!0,w.raws.important=N,E=R)}if(a[0]!=="space"&&a[0]!=="comment")break}E.some(M=>M[0]!=="space"&&M[0]!=="comment")&&(w.raws.between+=l.map(M=>M[1]).join(""),l=[]),this.raw(w,"value",l.concat(E),O),w.value.includes(":")&&!O&&this.checkMissedSemicolon(E)}atrule(E){let O=new d;O.name=E[1].slice(1),O.name===""&&this.unnamedAtrule(O,E),this.init(O,E[2]);let w,_,a,l=!1,P=!1,S=[],M=[];for(;!this.tokenizer.endOfFile();){if(E=this.tokenizer.nextToken(),w=E[0],w==="("||w==="["?M.push(w==="("?")":"]"):w==="{"&&M.length>0?M.push("}"):w===M[M.length-1]&&M.pop(),M.length===0)if(w===";"){O.source.end=this.getPosition(E[2]),this.semicolon=!0;break}else if(w==="{"){P=!0;break}else if(w==="}"){if(S.length>0){for(a=S.length-1,_=S[a];_&&_[0]==="space";)_=S[--a];_&&(O.source.end=this.getPosition(_[3]||_[2]))}this.end(E);break}else S.push(E);else S.push(E);if(this.tokenizer.endOfFile()){l=!0;break}}O.raws.between=this.spacesAndCommentsFromEnd(S),S.length?(O.raws.afterName=this.spacesAndCommentsFromStart(S),this.raw(O,"params",S),l&&(E=S[S.length-1],O.source.end=this.getPosition(E[3]||E[2]),this.spaces=O.raws.between,O.raws.between="")):(O.raws.afterName="",O.params=""),P&&(O.nodes=[],this.current=O)}end(E){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(E[2]),this.current=this.current.parent):this.unexpectedClose(E)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(E){if(this.spaces+=E[1],this.current.nodes){let O=this.current.nodes[this.current.nodes.length-1];O&&O.type==="rule"&&!O.raws.ownSemicolon&&(O.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(E){let O=this.input.fromOffset(E);return{offset:E,line:O.line,column:O.col}}init(E,O){this.current.push(E),E.source={start:this.getPosition(O),input:this.input},E.raws.before=this.spaces,this.spaces="",E.type!=="comment"&&(this.semicolon=!1)}raw(E,O,w,_){let a,l,P=w.length,S="",M=!0,R,N;for(let T=0;T<P;T+=1)a=w[T],l=a[0],l==="space"&&T===P-1&&!_?M=!1:l==="comment"?(N=w[T-1]?w[T-1][0]:"empty",R=w[T+1]?w[T+1][0]:"empty",!C[N]&&!C[R]?S.slice(-1)===","?M=!1:S+=a[1]:M=!1):S+=a[1];if(!M){let T=w.reduce((A,W)=>A+W[1],"");E.raws[O]={value:S,raw:T}}E[O]=S}spacesAndCommentsFromEnd(E){let O,w="";for(;E.length&&(O=E[E.length-1][0],!(O!=="space"&&O!=="comment"));)w=E.pop()[1]+w;return w}spacesAndCommentsFromStart(E){let O,w="";for(;E.length&&(O=E[0][0],!(O!=="space"&&O!=="comment"));)w+=E.shift()[1];return w}spacesFromEnd(E){let O,w="";for(;E.length&&(O=E[E.length-1][0],O==="space");)w=E.pop()[1]+w;return w}stringFrom(E,O){let w="";for(let _=O;_<E.length;_++)w+=E[_][1];return E.splice(O,E.length-O),w}colon(E){let O=0,w,_,a;for(let[l,P]of E.entries()){if(w=P,_=w[0],_==="("&&(O+=1),_===")"&&(O-=1),O===0&&_===":")if(!a)this.doubleColon(w);else{if(a[0]==="word"&&a[1]==="progid")continue;return l}a=w}return!1}unclosedBracket(E){throw this.input.error("Unclosed bracket",{offset:E[2]},{offset:E[2]+1})}unknownWord(E){throw this.input.error("Unknown word",{offset:E[0][2]},{offset:E[0][2]+E[0][1].length})}unexpectedClose(E){throw this.input.error("Unexpected }",{offset:E[2]},{offset:E[2]+1})}unclosedBlock(){let E=this.current.source.start;throw this.input.error("Unclosed block",E.line,E.column)}doubleColon(E){throw this.input.error("Double colon",{offset:E[2]},{offset:E[2]+E[1].length})}unnamedAtrule(E,O){throw this.input.error("At-rule without name",{offset:O[2]},{offset:O[2]+O[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(E){let O=this.colon(E);if(O===!1)return;let w=0,_;for(let a=O-1;a>=0&&(_=E[a],!(_[0]!=="space"&&(w+=1,w===2)));a--);throw this.input.error("Missed semicolon",_[0]==="word"?_[3]+1:_[2])}}G.exports=b},50020:(G,s,e)=>{"use strict";let o=e(42671),m=e(94258),f=e(21939),d=e(21019),g=e(71723),y=e(67088),C=e(50250),v=e(26461),b=e(11728),x=e(69932),E=e(41353),O=e(83632),w=e(5995),_=e(66939),a=e(54715),l=e(31675),P=e(41025),S=e(65631);function M(...R){return R.length===1&&Array.isArray(R[0])&&(R=R[0]),new g(R)}M.plugin=function(N,T){let A=!1;function W(...Z){console&&console.warn&&!A&&(A=!0,console.warn(N+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(N+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let J=T(...Z);return J.postcssPlugin=N,J.postcssVersion=new g().version,J}let j;return Object.defineProperty(W,"postcss",{get(){return j||(j=W()),j}}),W.process=function(Z,J,Q){return M([W(Q)]).process(Z,J)},W},M.stringify=y,M.parse=_,M.fromJSON=C,M.list=a,M.comment=R=>new x(R),M.atRule=R=>new E(R),M.decl=R=>new m(R),M.rule=R=>new l(R),M.root=R=>new P(R),M.document=R=>new v(R),M.CssSyntaxError=o,M.Declaration=m,M.Container=d,M.Processor=g,M.Document=v,M.Comment=x,M.Warning=b,M.AtRule=E,M.Result=O,M.Input=w,M.Rule=l,M.Root=P,M.Node=S,f.registerPostcss(M),G.exports=M,M.default=M},47981:(G,s,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:m}=e(70209),{existsSync:f,readFileSync:d}=e(14777),{dirname:g,join:y}=e(99830);function C(b){return Buffer?Buffer.from(b,"base64").toString():window.atob(b)}class v{constructor(x,E){if(E.map===!1)return;this.loadAnnotation(x),this.inline=this.startWith(this.annotation,"data:");let O=E.map?E.map.prev:void 0,w=this.loadMap(E.from,O);!this.mapFile&&E.from&&(this.mapFile=E.from),this.mapFile&&(this.root=g(this.mapFile)),w&&(this.text=w)}consumer(){return this.consumerCache||(this.consumerCache=new o(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(x,E){return x?x.substr(0,E.length)===E:!1}getAnnotationURL(x){return x.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(x){let E=x.match(/\/\*\s*# sourceMappingURL=/gm);if(!E)return;let O=x.lastIndexOf(E.pop()),w=x.indexOf("*/",O);O>-1&&w>-1&&(this.annotation=this.getAnnotationURL(x.substring(O,w)))}decodeInline(x){let E=/^data:application\/json;charset=utf-?8;base64,/,O=/^data:application\/json;base64,/,w=/^data:application\/json;charset=utf-?8,/,_=/^data:application\/json,/;if(w.test(x)||_.test(x))return decodeURIComponent(x.substr(RegExp.lastMatch.length));if(E.test(x)||O.test(x))return C(x.substr(RegExp.lastMatch.length));let a=x.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+a)}loadFile(x){if(this.root=g(x),f(x))return this.mapFile=x,d(x,"utf-8").toString().trim()}loadMap(x,E){if(E===!1)return!1;if(E){if(typeof E=="string")return E;if(typeof E=="function"){let O=E(x);if(O){let w=this.loadFile(O);if(!w)throw new Error("Unable to load previous source map: "+O.toString());return w}}else{if(E instanceof o)return m.fromSourceMap(E).toString();if(E instanceof m)return E.toString();if(this.isMap(E))return JSON.stringify(E);throw new Error("Unsupported previous source map format: "+E.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let O=this.annotation;return x&&(O=y(g(x),O)),this.loadFile(O)}}}isMap(x){return typeof x!="object"?!1:typeof x.mappings=="string"||typeof x._mappings=="string"||Array.isArray(x.sections)}}G.exports=v,v.default=v},71723:(G,s,e)=>{"use strict";let o=e(47647),m=e(21939),f=e(26461),d=e(41025);class g{constructor(C=[]){this.version="8.4.24",this.plugins=this.normalize(C)}use(C){return this.plugins=this.plugins.concat(this.normalize([C])),this}process(C,v={}){return this.plugins.length===0&&typeof v.parser=="undefined"&&typeof v.stringifier=="undefined"&&typeof v.syntax=="undefined"?new o(this,C,v):new m(this,C,v)}normalize(C){let v=[];for(let b of C)if(b.postcss===!0?b=b():b.postcss&&(b=b.postcss),typeof b=="object"&&Array.isArray(b.plugins))v=v.concat(b.plugins);else if(typeof b=="object"&&b.postcssPlugin)v.push(b);else if(typeof b=="function")v.push(b);else if(!(typeof b=="object"&&(b.parse||b.stringify)))throw new Error(b+" is not a PostCSS plugin");return v}}G.exports=g,g.default=g,d.registerProcessor(g),f.registerProcessor(g)},83632:(G,s,e)=>{"use strict";let o=e(11728);class m{constructor(d,g,y){this.processor=d,this.messages=[],this.root=g,this.opts=y,this.css=void 0,this.map=void 0}toString(){return this.css}warn(d,g={}){g.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(g.plugin=this.lastPlugin.postcssPlugin);let y=new o(d,g);return this.messages.push(y),y}warnings(){return this.messages.filter(d=>d.type==="warning")}get content(){return this.css}}G.exports=m,m.default=m},41025:(G,s,e)=>{"use strict";let o=e(21019),m,f;class d extends o{constructor(y){super(y),this.type="root",this.nodes||(this.nodes=[])}removeChild(y,C){let v=this.index(y);return!C&&v===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[v].raws.before),super.removeChild(y)}normalize(y,C,v){let b=super.normalize(y);if(C){if(v==="prepend")this.nodes.length>1?C.raws.before=this.nodes[1].raws.before:delete C.raws.before;else if(this.first!==C)for(let x of b)x.raws.before=C.raws.before}return b}toResult(y={}){return new m(new f,this,y).stringify()}}d.registerLazyResult=g=>{m=g},d.registerProcessor=g=>{f=g},G.exports=d,d.default=d,o.registerRoot(d)},31675:(G,s,e)=>{"use strict";let o=e(21019),m=e(54715);class f extends o{constructor(g){super(g),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return m.comma(this.selector)}set selectors(g){let y=this.selector?this.selector.match(/,\s*/):null,C=y?y[0]:","+this.raw("between","beforeOpen");this.selector=g.join(C)}}G.exports=f,f.default=f,o.registerRule(f)},1062:G=>{"use strict";const s={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function e(m){return m[0].toUpperCase()+m.slice(1)}class o{constructor(f){this.builder=f}stringify(f,d){if(!this[f.type])throw new Error("Unknown AST node type "+f.type+". Maybe you need to change PostCSS stringifier.");this[f.type](f,d)}document(f){this.body(f)}root(f){this.body(f),f.raws.after&&this.builder(f.raws.after)}comment(f){let d=this.raw(f,"left","commentLeft"),g=this.raw(f,"right","commentRight");this.builder("/*"+d+f.text+g+"*/",f)}decl(f,d){let g=this.raw(f,"between","colon"),y=f.prop+g+this.rawValue(f,"value");f.important&&(y+=f.raws.important||" !important"),d&&(y+=";"),this.builder(y,f)}rule(f){this.block(f,this.rawValue(f,"selector")),f.raws.ownSemicolon&&this.builder(f.raws.ownSemicolon,f,"end")}atrule(f,d){let g="@"+f.name,y=f.params?this.rawValue(f,"params"):"";if(typeof f.raws.afterName!="undefined"?g+=f.raws.afterName:y&&(g+=" "),f.nodes)this.block(f,g+y);else{let C=(f.raws.between||"")+(d?";":"");this.builder(g+y+C,f)}}body(f){let d=f.nodes.length-1;for(;d>0&&f.nodes[d].type==="comment";)d-=1;let g=this.raw(f,"semicolon");for(let y=0;y<f.nodes.length;y++){let C=f.nodes[y],v=this.raw(C,"before");v&&this.builder(v),this.stringify(C,d!==y||g)}}block(f,d){let g=this.raw(f,"between","beforeOpen");this.builder(d+g+"{",f,"start");let y;f.nodes&&f.nodes.length?(this.body(f),y=this.raw(f,"after")):y=this.raw(f,"after","emptyBody"),y&&this.builder(y),this.builder("}",f,"end")}raw(f,d,g){let y;if(g||(g=d),d&&(y=f.raws[d],typeof y!="undefined"))return y;let C=f.parent;if(g==="before"&&(!C||C.type==="root"&&C.first===f||C&&C.type==="document"))return"";if(!C)return s[g];let v=f.root();if(v.rawCache||(v.rawCache={}),typeof v.rawCache[g]!="undefined")return v.rawCache[g];if(g==="before"||g==="after")return this.beforeAfter(f,g);{let b="raw"+e(g);this[b]?y=this[b](v,f):v.walk(x=>{if(y=x.raws[d],typeof y!="undefined")return!1})}return typeof y=="undefined"&&(y=s[g]),v.rawCache[g]=y,y}rawSemicolon(f){let d;return f.walk(g=>{if(g.nodes&&g.nodes.length&&g.last.type==="decl"&&(d=g.raws.semicolon,typeof d!="undefined"))return!1}),d}rawEmptyBody(f){let d;return f.walk(g=>{if(g.nodes&&g.nodes.length===0&&(d=g.raws.after,typeof d!="undefined"))return!1}),d}rawIndent(f){if(f.raws.indent)return f.raws.indent;let d;return f.walk(g=>{let y=g.parent;if(y&&y!==f&&y.parent&&y.parent===f&&typeof g.raws.before!="undefined"){let C=g.raws.before.split(`
`);return d=C[C.length-1],d=d.replace(/\S/g,""),!1}}),d}rawBeforeComment(f,d){let g;return f.walkComments(y=>{if(typeof y.raws.before!="undefined")return g=y.raws.before,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),typeof g=="undefined"?g=this.raw(d,null,"beforeDecl"):g&&(g=g.replace(/\S/g,"")),g}rawBeforeDecl(f,d){let g;return f.walkDecls(y=>{if(typeof y.raws.before!="undefined")return g=y.raws.before,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),typeof g=="undefined"?g=this.raw(d,null,"beforeRule"):g&&(g=g.replace(/\S/g,"")),g}rawBeforeRule(f){let d;return f.walk(g=>{if(g.nodes&&(g.parent!==f||f.first!==g)&&typeof g.raws.before!="undefined")return d=g.raws.before,d.includes(`
`)&&(d=d.replace(/[^\n]+$/,"")),!1}),d&&(d=d.replace(/\S/g,"")),d}rawBeforeClose(f){let d;return f.walk(g=>{if(g.nodes&&g.nodes.length>0&&typeof g.raws.after!="undefined")return d=g.raws.after,d.includes(`
`)&&(d=d.replace(/[^\n]+$/,"")),!1}),d&&(d=d.replace(/\S/g,"")),d}rawBeforeOpen(f){let d;return f.walk(g=>{if(g.type!=="decl"&&(d=g.raws.between,typeof d!="undefined"))return!1}),d}rawColon(f){let d;return f.walkDecls(g=>{if(typeof g.raws.between!="undefined")return d=g.raws.between.replace(/[^\s:]/g,""),!1}),d}beforeAfter(f,d){let g;f.type==="decl"?g=this.raw(f,null,"beforeDecl"):f.type==="comment"?g=this.raw(f,null,"beforeComment"):d==="before"?g=this.raw(f,null,"beforeRule"):g=this.raw(f,null,"beforeClose");let y=f.parent,C=0;for(;y&&y.type!=="root";)C+=1,y=y.parent;if(g.includes(`
`)){let v=this.raw(f,null,"indent");if(v.length)for(let b=0;b<C;b++)g+=v}return g}rawValue(f,d){let g=f[d],y=f.raws[d];return y&&y.value===g?y.raw:g}}G.exports=o,o.default=o},67088:(G,s,e)=>{"use strict";let o=e(1062);function m(f,d){new o(d).stringify(f)}G.exports=m,m.default=m},65513:G=>{"use strict";G.exports.isClean=Symbol("isClean"),G.exports.my=Symbol("my")},83852:G=>{"use strict";const s="'".charCodeAt(0),e='"'.charCodeAt(0),o="\\".charCodeAt(0),m="/".charCodeAt(0),f=`
`.charCodeAt(0),d=" ".charCodeAt(0),g="\f".charCodeAt(0),y="	".charCodeAt(0),C="\r".charCodeAt(0),v="[".charCodeAt(0),b="]".charCodeAt(0),x="(".charCodeAt(0),E=")".charCodeAt(0),O="{".charCodeAt(0),w="}".charCodeAt(0),_=";".charCodeAt(0),a="*".charCodeAt(0),l=":".charCodeAt(0),P="@".charCodeAt(0),S=/[\t\n\f\r "#'()/;[\\\]{}]/g,M=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,R=/.[\n"'(/\\]/,N=/[\da-f]/i;G.exports=function(A,W={}){let j=A.css.valueOf(),Z=W.ignoreErrors,J,Q,ne,te,B,V,re,le,ae,q,oe=j.length,z=0,ie=[],ue=[];function de(){return z}function fe(Me){throw A.error("Unclosed "+Me,z)}function ye(){return ue.length===0&&z>=oe}function pe(Me){if(ue.length)return ue.pop();if(z>=oe)return;let je=Me?Me.ignoreUnclosed:!1;switch(J=j.charCodeAt(z),J){case f:case d:case y:case C:case g:{Q=z;do Q+=1,J=j.charCodeAt(Q);while(J===d||J===f||J===y||J===C||J===g);q=["space",j.slice(z,Q)],z=Q-1;break}case v:case b:case O:case w:case l:case _:case E:{let De=String.fromCharCode(J);q=[De,De,z];break}case x:{if(le=ie.length?ie.pop()[1]:"",ae=j.charCodeAt(z+1),le==="url"&&ae!==s&&ae!==e&&ae!==d&&ae!==f&&ae!==y&&ae!==g&&ae!==C){Q=z;do{if(V=!1,Q=j.indexOf(")",Q+1),Q===-1)if(Z||je){Q=z;break}else fe("bracket");for(re=Q;j.charCodeAt(re-1)===o;)re-=1,V=!V}while(V);q=["brackets",j.slice(z,Q+1),z,Q],z=Q}else Q=j.indexOf(")",z+1),te=j.slice(z,Q+1),Q===-1||R.test(te)?q=["(","(",z]:(q=["brackets",te,z,Q],z=Q);break}case s:case e:{ne=J===s?"'":'"',Q=z;do{if(V=!1,Q=j.indexOf(ne,Q+1),Q===-1)if(Z||je){Q=z+1;break}else fe("string");for(re=Q;j.charCodeAt(re-1)===o;)re-=1,V=!V}while(V);q=["string",j.slice(z,Q+1),z,Q],z=Q;break}case P:{S.lastIndex=z+1,S.test(j),S.lastIndex===0?Q=j.length-1:Q=S.lastIndex-2,q=["at-word",j.slice(z,Q+1),z,Q],z=Q;break}case o:{for(Q=z,B=!0;j.charCodeAt(Q+1)===o;)Q+=1,B=!B;if(J=j.charCodeAt(Q+1),B&&J!==m&&J!==d&&J!==f&&J!==y&&J!==C&&J!==g&&(Q+=1,N.test(j.charAt(Q)))){for(;N.test(j.charAt(Q+1));)Q+=1;j.charCodeAt(Q+1)===d&&(Q+=1)}q=["word",j.slice(z,Q+1),z,Q],z=Q;break}default:{J===m&&j.charCodeAt(z+1)===a?(Q=j.indexOf("*/",z+2)+1,Q===0&&(Z||je?Q=j.length:fe("comment")),q=["comment",j.slice(z,Q+1),z,Q],z=Q):(M.lastIndex=z+1,M.test(j),M.lastIndex===0?Q=j.length-1:Q=M.lastIndex-2,q=["word",j.slice(z,Q+1),z,Q],ie.push(q),z=Q);break}}return z++,q}function we(Me){ue.push(Me)}return{back:we,nextToken:pe,endOfFile:ye,position:de}}},72448:G=>{"use strict";let s={};G.exports=function(o){s[o]||(s[o]=!0,typeof console!="undefined"&&console.warn&&console.warn(o))}},11728:G=>{"use strict";class s{constructor(o,m={}){if(this.type="warning",this.text=o,m.node&&m.node.source){let f=m.node.rangeBy(m);this.line=f.start.line,this.column=f.start.column,this.endLine=f.end.line,this.endColumn=f.end.column}for(let f in m)this[f]=m[f]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}G.exports=s,s.default=s},53836:(G,s,e)=>{s.__esModule=!0;var o=function(){function ie(ue,de){for(var fe=0;fe<de.length;fe++){var ye=de[fe];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(ue,ye.key,ye)}}return function(ue,de,fe){return de&&ie(ue.prototype,de),fe&&ie(ue,fe),ue}}(),m=Object.assign||function(ie){for(var ue=1;ue<arguments.length;ue++){var de=arguments[ue];for(var fe in de)Object.prototype.hasOwnProperty.call(de,fe)&&(ie[fe]=de[fe])}return ie},f=e(6400),d=e(98278),g=E(d),y=e(10251),C=E(y),v=e(27418),b=E(v),x=e(7937);function E(ie){return ie&&ie.__esModule?ie:{default:ie}}function O(ie,ue){if(!(ie instanceof ue))throw new TypeError("Cannot call a class as a function")}function w(ie,ue){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue&&(typeof ue=="object"||typeof ue=="function")?ue:ie}function _(ie,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ue);ie.prototype=Object.create(ue&&ue.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,ue):ie.__proto__=ue)}function a(ie,ue,de){return ue in ie?Object.defineProperty(ie,ue,{value:de,enumerable:!0,configurable:!0,writable:!0}):ie[ue]=de,ie}var l="data-preact-helmet",P=function(ue){return String(ue).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},S=function(ue,de){for(var fe=ue.length-1;fe>=0;fe--){var ye=ue[fe];if(ye[de])return ye[de]}return null},M=function(ue){var de=S(ue,"title"),fe=S(ue,"titleTemplate");if(fe&&de)return fe.replace(/%s/g,function(){return de});var ye=S(ue,"defaultTitle");return de||ye||""},R=function(ue){return S(ue,"onChangeClientState")||function(){}},N=function(ue,de){return de.filter(function(fe){return typeof fe[ue]!="undefined"}).map(function(fe){return fe[ue]}).reduce(function(fe,ye){return m({},fe,ye)},{})},T=function(ue,de){return de.filter(function(fe){return typeof fe[x.TAG_NAMES.BASE]!="undefined"}).map(function(fe){return fe[x.TAG_NAMES.BASE]}).reverse().reduce(function(fe,ye){if(!fe.length)for(var pe=Object.keys(ye),we=0;we<pe.length;we++){var Me=pe[we],je=Me.toLowerCase();if(ue.indexOf(je)!==-1&&ye[je])return fe.concat(ye)}return fe},[])},A=function(ue,de,fe){var ye={};return fe.filter(function(pe){return typeof pe[ue]!="undefined"}).map(function(pe){return pe[ue]}).reverse().reduce(function(pe,we){var Me={};we.filter(function(ge){for(var Ie=void 0,Re=Object.keys(ge),Ke=0;Ke<Re.length;Ke++){var ut=Re[Ke],_t=ut.toLowerCase();de.indexOf(_t)!==-1&&!(Ie===x.TAG_PROPERTIES.REL&&ge[Ie].toLowerCase()==="canonical")&&!(_t===x.TAG_PROPERTIES.REL&&ge[_t].toLowerCase()==="stylesheet")&&(Ie=_t),de.indexOf(ut)!==-1&&(ut===x.TAG_PROPERTIES.INNER_HTML||ut===x.TAG_PROPERTIES.CSS_TEXT||ut===x.TAG_PROPERTIES.ITEM_PROP)&&(Ie=ut)}if(!Ie||!ge[Ie])return!1;var ft=ge[Ie].toLowerCase();return ye[Ie]||(ye[Ie]={}),Me[Ie]||(Me[Ie]={}),ye[Ie][ft]?!1:(Me[Ie][ft]=!0,!0)}).reverse().forEach(function(ge){return pe.push(ge)});for(var je=Object.keys(Me),De=0;De<je.length;De++){var me=je[De],ce=(0,b.default)({},ye[me],Me[me]);ye[me]=ce}return pe},[]).reverse()},W=function(ue,de){document.title=ue||document.title,j(x.TAG_NAMES.TITLE,de)},j=function(ue,de){for(var fe=document.getElementsByTagName(ue)[0],ye=fe.getAttribute(l),pe=ye?ye.split(","):[],we=[].concat(pe),Me=Object.keys(de),je=0;je<Me.length;je++){var De=Me[je],me=de[De]||"";fe.setAttribute(De,me),pe.indexOf(De)===-1&&pe.push(De);var ce=we.indexOf(De);ce!==-1&&we.splice(ce,1)}for(var ge=we.length-1;ge>=0;ge--)fe.removeAttribute(we[ge]);pe.length===we.length?fe.removeAttribute(l):fe.setAttribute(l,pe.join(","))},Z=function(ue,de){var fe=document.head||document.querySelector("head"),ye=fe.querySelectorAll(ue+"["+l+"]"),pe=Array.prototype.slice.call(ye),we=[],Me=void 0;return de&&de.length&&de.forEach(function(je){var De=document.createElement(ue);for(var me in je)if(je.hasOwnProperty(me))if(me==="innerHTML")De.innerHTML=je.innerHTML;else if(me==="cssText")De.styleSheet?De.styleSheet.cssText=je.cssText:De.appendChild(document.createTextNode(je.cssText));else{var ce=typeof je[me]=="undefined"?"":je[me];De.setAttribute(me,ce)}De.setAttribute(l,"true"),pe.some(function(ge,Ie){return Me=Ie,De.isEqualNode(ge)})?pe.splice(Me,1):we.push(De)}),pe.forEach(function(je){return je.parentNode.removeChild(je)}),we.forEach(function(je){return fe.appendChild(je)}),{oldTags:pe,newTags:we}},J=function(ue){return Object.keys(ue).reduce(function(de,fe){var ye=typeof ue[fe]!="undefined"?fe+'="'+ue[fe]+'"':""+fe;return de?de+" "+ye:ye},"")},Q=function(ue,de,fe){var ye=J(fe);return ye?"<"+ue+" "+l+" "+ye+">"+P(de)+"</"+ue+">":"<"+ue+" "+l+">"+P(de)+"</"+ue+">"},ne=function(ue,de){return de.reduce(function(fe,ye){var pe=Object.keys(ye).filter(function(je){return!(je==="innerHTML"||je==="cssText")}).reduce(function(je,De){var me=typeof ye[De]=="undefined"?De:De+'="'+P(ye[De])+'"';return je?je+" "+me:me},""),we=ye.innerHTML||ye.cssText||"",Me=[x.TAG_NAMES.NOSCRIPT,x.TAG_NAMES.SCRIPT,x.TAG_NAMES.STYLE].indexOf(ue)===-1;return fe+"<"+ue+" "+l+" "+pe+(Me?">":">"+we+"</"+ue+">")},"")},te=function(ue,de,fe){var ye=a({key:de},l,!0),pe=Object.keys(fe).reduce(function(we,Me){return we[Me]=fe[Me],we},ye);return[(0,f.h)(x.TAG_NAMES.TITLE,pe,de)]},B=function(ue,de){return de.map(function(fe,ye){var pe=a({key:ye},l,!0);return Object.keys(fe).forEach(function(we){var Me=we;if(Me==="innerHTML"||Me==="cssText"){var je=fe.innerHTML||fe.cssText;pe.dangerouslySetInnerHTML={__html:je}}else pe[Me]=fe[we]}),(0,f.h)(ue,pe)})},V=function(ue,de){switch(ue){case x.TAG_NAMES.TITLE:return{toComponent:function(){return te(ue,de.title,de.titleAttributes)},toString:function(){return Q(ue,de.title,de.titleAttributes)}};case x.TAG_NAMES.HTML:return{toComponent:function(){return de},toString:function(){return J(de)}};default:return{toComponent:function(){return B(ue,de)},toString:function(){return ne(ue,de)}}}},re=function(ue){var de=ue.htmlAttributes,fe=ue.title,ye=ue.titleAttributes,pe=ue.baseTag,we=ue.metaTags,Me=ue.linkTags,je=ue.scriptTags,De=ue.noscriptTags,me=ue.styleTags;return{htmlAttributes:V(x.TAG_NAMES.HTML,de),title:V(x.TAG_NAMES.TITLE,{title:fe,titleAttributes:ye}),base:V(x.TAG_NAMES.BASE,pe),meta:V(x.TAG_NAMES.META,we),link:V(x.TAG_NAMES.LINK,Me),script:V(x.TAG_NAMES.SCRIPT,je),noscript:V(x.TAG_NAMES.NOSCRIPT,De),style:V(x.TAG_NAMES.STYLE,me)}},le=function(ue){var de,fe;return fe=de=function(ye){_(pe,ye);function pe(){return O(this,pe),w(this,(pe.__proto__||Object.getPrototypeOf(pe)).apply(this,arguments))}return o(pe,[{key:"shouldComponentUpdate",value:function(Me){var je=m({},Me);return(!je.children||!je.children.length)&&delete je.children,!(0,C.default)(this.props,je)}},{key:"render",value:function(){return(0,f.h)(ue,this.props)}}],[{key:"canUseDOM",set:function(Me){ue.canUseDOM=Me}}]),pe}(f.Component),de.peek=ue.peek,de.rewind=function(){var ye=ue.rewind();return ye||(ye=re({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),ye},fe},ae=function(ue){return{htmlAttributes:N(x.TAG_NAMES.HTML,ue),title:M(ue),titleAttributes:N("titleAttributes",ue),baseTag:T([x.TAG_PROPERTIES.HREF],ue),metaTags:A(x.TAG_NAMES.META,[x.TAG_PROPERTIES.NAME,x.TAG_PROPERTIES.CHARSET,x.TAG_PROPERTIES.HTTPEQUIV,x.TAG_PROPERTIES.PROPERTY,x.TAG_PROPERTIES.ITEM_PROP],ue),linkTags:A(x.TAG_NAMES.LINK,[x.TAG_PROPERTIES.REL,x.TAG_PROPERTIES.HREF],ue),scriptTags:A(x.TAG_NAMES.SCRIPT,[x.TAG_PROPERTIES.SRC,x.TAG_PROPERTIES.INNER_HTML],ue),noscriptTags:A(x.TAG_NAMES.NOSCRIPT,[x.TAG_PROPERTIES.INNER_HTML],ue),styleTags:A(x.TAG_NAMES.STYLE,[x.TAG_PROPERTIES.CSS_TEXT],ue),onChangeClientState:R(ue)}},q=function(ue){var de=ue.htmlAttributes,fe=ue.title,ye=ue.titleAttributes,pe=ue.baseTag,we=ue.metaTags,Me=ue.linkTags,je=ue.scriptTags,De=ue.noscriptTags,me=ue.styleTags,ce=ue.onChangeClientState;j("html",de),W(fe,ye);var ge={baseTag:Z(x.TAG_NAMES.BASE,pe),metaTags:Z(x.TAG_NAMES.META,we),linkTags:Z(x.TAG_NAMES.LINK,Me),scriptTags:Z(x.TAG_NAMES.SCRIPT,je),noscriptTags:Z(x.TAG_NAMES.NOSCRIPT,De),styleTags:Z(x.TAG_NAMES.STYLE,me)},Ie={},Re={};Object.keys(ge).forEach(function(Ke){var ut=ge[Ke],_t=ut.newTags,ft=ut.oldTags;_t.length&&(Ie[Ke]=_t),ft.length&&(Re[Ke]=ge[Ke].oldTags)}),ce(ue,Ie,Re)},oe=function(){return null},z=(0,g.default)(ae,q,re)(oe);s.default=le(z),G.exports=s.default},7937:(G,s)=>{s.__esModule=!0;var e=s.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},o=s.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},m=s.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},20042:(G,s,e)=>{"use strict";e.r(s),e.d(s,{Link:()=>J,Route:()=>Q,Router:()=>Z,default:()=>ne,exec:()=>d,getCurrentUrl:()=>l,route:()=>P,subscribers:()=>w});var o=e(6400),m={};function f(te,B){for(var V in B)te[V]=B[V];return te}function d(te,B,V){var re=/(?:\?([^#]*))?(#.*)?$/,le=te.match(re),ae={},q;if(le&&le[1])for(var oe=le[1].split("&"),z=0;z<oe.length;z++){var ie=oe[z].split("=");ae[decodeURIComponent(ie[0])]=decodeURIComponent(ie.slice(1).join("="))}te=C(te.replace(re,"")),B=C(B||"");for(var ue=Math.max(te.length,B.length),de=0;de<ue;de++)if(B[de]&&B[de].charAt(0)===":"){var fe=B[de].replace(/(^:|[+*?]+$)/g,""),ye=(B[de].match(/[+*?]+$/)||m)[0]||"",pe=~ye.indexOf("+"),we=~ye.indexOf("*"),Me=te[de]||"";if(!Me&&!we&&(ye.indexOf("?")<0||pe)){q=!1;break}if(ae[fe]=decodeURIComponent(Me),pe||we){ae[fe]=te.slice(de).map(decodeURIComponent).join("/");break}}else if(B[de]!==te[de]){q=!1;break}return V.default!==!0&&q===!1?!1:ae}function g(te,B){return te.rank<B.rank?1:te.rank>B.rank?-1:te.index-B.index}function y(te,B){return te.index=B,te.rank=x(te),te.props}function C(te){return te.replace(/(^\/+|\/+$)/g,"").split("/")}function v(te){return te.charAt(0)==":"?1+"*+?".indexOf(te.charAt(te.length-1))||4:5}function b(te){return C(te).map(v).join("")}function x(te){return te.props.default?0:b(te.props.path)}var E=null,O=[],w=[],_={};function a(te,B){B===void 0&&(B="push"),E&&E[B]?E[B](te):typeof history!="undefined"&&history[B+"State"]&&history[B+"State"](null,null,te)}function l(){var te;return E&&E.location?te=E.location:E&&E.getCurrentLocation?te=E.getCurrentLocation():te=typeof location!="undefined"?location:_,""+(te.pathname||"")+(te.search||"")}function P(te,B){return B===void 0&&(B=!1),typeof te!="string"&&te.url&&(B=te.replace,te=te.url),S(te)&&a(te,B?"replace":"push"),M(te)}function S(te){for(var B=O.length;B--;)if(O[B].canRoute(te))return!0;return!1}function M(te){for(var B=!1,V=0;V<O.length;V++)O[V].routeTo(te)===!0&&(B=!0);for(var re=w.length;re--;)w[re](te);return B}function R(te){if(!(!te||!te.getAttribute)){var B=te.getAttribute("href"),V=te.getAttribute("target");if(!(!B||!B.match(/^\//g)||V&&!V.match(/^_?self$/i)))return P(B)}}function N(te){if(!(te.ctrlKey||te.metaKey||te.altKey||te.shiftKey||te.button!==0))return R(te.currentTarget||te.target||this),T(te)}function T(te){return te&&(te.stopImmediatePropagation&&te.stopImmediatePropagation(),te.stopPropagation&&te.stopPropagation(),te.preventDefault()),!1}function A(te){if(!(te.ctrlKey||te.metaKey||te.altKey||te.shiftKey||te.button!==0)){var B=te.target;do if(String(B.nodeName).toUpperCase()==="A"&&B.getAttribute("href")){if(B.hasAttribute("native"))return;if(R(B))return T(te)}while(B=B.parentNode)}}var W=!1;function j(){W||(typeof addEventListener=="function"&&(E||addEventListener("popstate",function(){M(l())}),addEventListener("click",A)),W=!0)}var Z=function(te){function B(V){te.call(this,V),V.history&&(E=V.history),this.state={url:V.url||l()},j()}return te&&(B.__proto__=te),B.prototype=Object.create(te&&te.prototype),B.prototype.constructor=B,B.prototype.shouldComponentUpdate=function(re){return re.static!==!0?!0:re.url!==this.props.url||re.onChange!==this.props.onChange},B.prototype.canRoute=function(re){var le=(0,o.toChildArray)(this.props.children);return this.getMatchingChildren(le,re,!1).length>0},B.prototype.routeTo=function(re){this.setState({url:re});var le=this.canRoute(re);return this.updating||this.forceUpdate(),le},B.prototype.componentWillMount=function(){O.push(this),this.updating=!0},B.prototype.componentDidMount=function(){var re=this;E&&(this.unlisten=E.listen(function(le){re.routeTo(""+(le.pathname||"")+(le.search||""))})),this.updating=!1},B.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),O.splice(O.indexOf(this),1)},B.prototype.componentWillUpdate=function(){this.updating=!0},B.prototype.componentDidUpdate=function(){this.updating=!1},B.prototype.getMatchingChildren=function(re,le,ae){return re.filter(y).sort(g).map(function(q){var oe=d(le,q.props.path,q.props);if(oe){if(ae!==!1){var z={url:le,matches:oe};return f(z,oe),delete z.ref,delete z.key,(0,o.cloneElement)(q,z)}return q}}).filter(Boolean)},B.prototype.render=function(re,le){var ae=re.children,q=re.onChange,oe=le.url,z=this.getMatchingChildren((0,o.toChildArray)(ae),oe,!0),ie=z[0]||null,ue=this.previousUrl;return oe!==ue&&(this.previousUrl=oe,typeof q=="function"&&q({router:this,url:oe,previous:ue,active:z,current:ie})),ie},B}(o.Component),J=function(te){return(0,o.createElement)("a",f({onClick:N},te))},Q=function(te){return(0,o.createElement)(te.component,te)};Z.subscribers=w,Z.getCurrentUrl=l,Z.route=P,Z.Router=Z,Z.Route=Q,Z.Link=J,Z.exec=d;const ne=Z},56232:(G,s,e)=>{"use strict";var o;o={value:!0},o=s.qE=void 0;var m=Object.assign||function(E){for(var O=1;O<arguments.length;O++){var w=arguments[O];for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(E[_]=w[_])}return E},f=e(6400),d=e(20042);function g(E,O){var w={};for(var _ in E)O.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(E,_)&&(w[_]=E[_]);return w}function y(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function C(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function v(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var b=s.qE=function(E){v(O,E);function O(){var w,_,a;y(this,O);for(var l=arguments.length,P=Array(l),S=0;S<l;S++)P[S]=arguments[S];return a=(w=(_=C(this,E.call.apply(E,[this].concat(P))),_),_.update=function(M){_.nextUrl=M,_.setState({})},w),C(_,a)}return O.prototype.componentDidMount=function(){d.subscribers.push(this.update)},O.prototype.componentWillUnmount=function(){d.subscribers.splice(d.subscribers.indexOf(this.update)>>>0,1)},O.prototype.render=function(_){var a=this.nextUrl||(0,d.getCurrentUrl)(),l=a.replace(/\?.+$/,"");return this.nextUrl=null,_.children({url:a,path:l,matches:(0,d.exec)(l,_.path,{})!==!1})},O}(f.Component),x=function(O){var w=O.activeClassName,_=O.path,a=g(O,["activeClassName","path"]);return(0,f.h)(b,{path:_||a.href},function(l){var P=l.matches;return(0,f.h)(d.Link,m({},a,{class:[a.class||a.className,P&&w].filter(Boolean).join(" ")}))})};o=x,o=b,b.Link=x},98278:(G,s,e)=>{"use strict";var o=e(6400);function m(y,C){var v={};for(var b in y)C.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(y,b)&&(v[b]=y[b]);return v}function f(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a function")}function d(y,C){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:y}function g(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);y.prototype=Object.create(C&&C.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(y,C):y.__proto__=C)}G.exports=function(C,v,b){if(typeof C!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof v!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof b!="undefined"&&typeof b!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function x(O){return O.displayName||O.name||"Component"}return function(w){if(typeof w!="function")throw new Error("Expected WrappedComponent to be a React component.");var _=[],a=void 0;function l(){a=C(_.map(function(S){return S.props})),P.canUseDOM?v(a):b&&(a=b(a))}var P=function(S){g(M,S);function M(){return f(this,M),d(this,S.apply(this,arguments))}return M.peek=function(){return a},M.rewind=function(){if(M.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var N=a;return a=void 0,_=[],N},M.prototype.shouldComponentUpdate=function(N){var T=N.children,A=m(N,["children"]);return T&&T.length&&(A.children=T),E(A,this.props)},M.prototype.componentWillMount=function(){_.push(this),l()},M.prototype.componentDidUpdate=function(){l()},M.prototype.componentWillUnmount=function(){var N=_.indexOf(this);_.splice(N,1),l()},M.prototype.render=function(){return(0,o.h)(w,this.props)},M}(o.Component);return P.displayName="SideEffect("+x(w)+")",P.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),P};function E(O,w){for(var _ in O)if(!(_ in w))return!0;for(var a in w)if(O[a]!==w[a])return!0;return!1}}},98661:(G,s,e)=>{"use strict";e.r(s),e.d(s,{Children:()=>O,Component:()=>o.Component,Fragment:()=>o.Fragment,PureComponent:()=>y,StrictMode:()=>ge,Suspense:()=>P,SuspenseList:()=>R,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>fe,cloneElement:()=>Me,createContext:()=>o.createContext,createElement:()=>o.createElement,createFactory:()=>pe,createPortal:()=>W,createRef:()=>o.createRef,default:()=>ft,findDOMNode:()=>De,flushSync:()=>ce,forwardRef:()=>x,hydrate:()=>V,isValidElement:()=>we,lazy:()=>M,memo:()=>C,render:()=>B,startTransition:()=>Ie,unmountComponentAtNode:()=>je,unstable_batchedUpdates:()=>me,useCallback:()=>m.I4,useContext:()=>m.qp,useDebugValue:()=>m.Qb,useDeferredValue:()=>Re,useEffect:()=>m.d4,useErrorBoundary:()=>m.cO,useId:()=>m.Me,useImperativeHandle:()=>m.aP,useInsertionEffect:()=>ut,useLayoutEffect:()=>m.bt,useMemo:()=>m.Ye,useReducer:()=>m._Y,useRef:()=>m.sO,useState:()=>m.eJ,useSyncExternalStore:()=>_t,useTransition:()=>Ke,version:()=>ye});var o=e(6400),m=e(30396);function f(We,Be){for(var lt in Be)We[lt]=Be[lt];return We}function d(We,Be){for(var lt in We)if(lt!=="__source"&&!(lt in Be))return!0;for(var Tt in Be)if(Tt!=="__source"&&We[Tt]!==Be[Tt])return!0;return!1}function g(We,Be){return We===Be&&(We!==0||1/We==1/Be)||We!=We&&Be!=Be}function y(We){this.props=We}function C(We,Be){function lt(xt){var Gt=this.props.ref,an=Gt==xt.ref;return!an&&Gt&&(Gt.call?Gt(null):Gt.current=null),Be?!Be(this.props,xt)||!an:d(this.props,xt)}function Tt(xt){return this.shouldComponentUpdate=lt,(0,o.createElement)(We,xt)}return Tt.displayName="Memo("+(We.displayName||We.name)+")",Tt.prototype.isReactComponent=!0,Tt.__f=!0,Tt}(y.prototype=new o.Component).isPureReactComponent=!0,y.prototype.shouldComponentUpdate=function(We,Be){return d(this.props,We)||d(this.state,Be)};var v=o.options.__b;o.options.__b=function(We){We.type&&We.type.__f&&We.ref&&(We.props.ref=We.ref,We.ref=null),v&&v(We)};var b=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function x(We){function Be(lt){var Tt=f({},lt);return delete Tt.ref,We(Tt,lt.ref||null)}return Be.$$typeof=b,Be.render=Be,Be.prototype.isReactComponent=Be.__f=!0,Be.displayName="ForwardRef("+(We.displayName||We.name)+")",Be}var E=function(We,Be){return We==null?null:(0,o.toChildArray)((0,o.toChildArray)(We).map(Be))},O={map:E,forEach:E,count:function(We){return We?(0,o.toChildArray)(We).length:0},only:function(We){var Be=(0,o.toChildArray)(We);if(Be.length!==1)throw"Children.only";return Be[0]},toArray:o.toChildArray},w=o.options.__e;o.options.__e=function(We,Be,lt,Tt){if(We.then){for(var xt,Gt=Be;Gt=Gt.__;)if((xt=Gt.__c)&&xt.__c)return Be.__e==null&&(Be.__e=lt.__e,Be.__k=lt.__k),xt.__c(We,Be)}w(We,Be,lt,Tt)};var _=o.options.unmount;function a(We,Be,lt){return We&&(We.__c&&We.__c.__H&&(We.__c.__H.__.forEach(function(Tt){typeof Tt.__c=="function"&&Tt.__c()}),We.__c.__H=null),(We=f({},We)).__c!=null&&(We.__c.__P===lt&&(We.__c.__P=Be),We.__c=null),We.__k=We.__k&&We.__k.map(function(Tt){return a(Tt,Be,lt)})),We}function l(We,Be,lt){return We&&(We.__v=null,We.__k=We.__k&&We.__k.map(function(Tt){return l(Tt,Be,lt)}),We.__c&&We.__c.__P===Be&&(We.__e&&lt.insertBefore(We.__e,We.__d),We.__c.__e=!0,We.__c.__P=lt)),We}function P(){this.__u=0,this.t=null,this.__b=null}function S(We){var Be=We.__.__c;return Be&&Be.__a&&Be.__a(We)}function M(We){var Be,lt,Tt;function xt(Gt){if(Be||(Be=We()).then(function(an){lt=an.default||an},function(an){Tt=an}),Tt)throw Tt;if(!lt)throw Be;return(0,o.createElement)(lt,Gt)}return xt.displayName="Lazy",xt.__f=!0,xt}function R(){this.u=null,this.o=null}o.options.unmount=function(We){var Be=We.__c;Be&&Be.__R&&Be.__R(),Be&&We.__h===!0&&(We.type=null),_&&_(We)},(P.prototype=new o.Component).__c=function(We,Be){var lt=Be.__c,Tt=this;Tt.t==null&&(Tt.t=[]),Tt.t.push(lt);var xt=S(Tt.__v),Gt=!1,an=function(){Gt||(Gt=!0,lt.__R=null,xt?xt(yt):yt())};lt.__R=an;var yt=function(){if(!--Tt.__u){if(Tt.state.__a){var Ve=Tt.state.__a;Tt.__v.__k[0]=l(Ve,Ve.__c.__P,Ve.__c.__O)}var Ne;for(Tt.setState({__a:Tt.__b=null});Ne=Tt.t.pop();)Ne.forceUpdate()}},ke=Be.__h===!0;Tt.__u++||ke||Tt.setState({__a:Tt.__b=Tt.__v.__k[0]}),We.then(an,an)},P.prototype.componentWillUnmount=function(){this.t=[]},P.prototype.render=function(We,Be){if(this.__b){if(this.__v.__k){var lt=document.createElement("div"),Tt=this.__v.__k[0].__c;this.__v.__k[0]=a(this.__b,lt,Tt.__O=Tt.__P)}this.__b=null}var xt=Be.__a&&(0,o.createElement)(o.Fragment,null,We.fallback);return xt&&(xt.__h=null),[(0,o.createElement)(o.Fragment,null,Be.__a?null:We.children),xt]};var N=function(We,Be,lt){if(++lt[1]===lt[0]&&We.o.delete(Be),We.props.revealOrder&&(We.props.revealOrder[0]!=="t"||!We.o.size))for(lt=We.u;lt;){for(;lt.length>3;)lt.pop()();if(lt[1]<lt[0])break;We.u=lt=lt[2]}};function T(We){return this.getChildContext=function(){return We.context},We.children}function A(We){var Be=this,lt=We.i;Be.componentWillUnmount=function(){(0,o.render)(null,Be.l),Be.l=null,Be.i=null},Be.i&&Be.i!==lt&&Be.componentWillUnmount(),We.__v?(Be.l||(Be.i=lt,Be.l={nodeType:1,parentNode:lt,childNodes:[],appendChild:function(Tt){this.childNodes.push(Tt),Be.i.appendChild(Tt)},insertBefore:function(Tt,xt){this.childNodes.push(Tt),Be.i.appendChild(Tt)},removeChild:function(Tt){this.childNodes.splice(this.childNodes.indexOf(Tt)>>>1,1),Be.i.removeChild(Tt)}}),(0,o.render)((0,o.createElement)(T,{context:Be.context},We.__v),Be.l)):Be.l&&Be.componentWillUnmount()}function W(We,Be){var lt=(0,o.createElement)(A,{__v:We,i:Be});return lt.containerInfo=Be,lt}(R.prototype=new o.Component).__a=function(We){var Be=this,lt=S(Be.__v),Tt=Be.o.get(We);return Tt[0]++,function(xt){var Gt=function(){Be.props.revealOrder?(Tt.push(xt),N(Be,We,Tt)):xt()};lt?lt(Gt):Gt()}},R.prototype.render=function(We){this.u=null,this.o=new Map;var Be=(0,o.toChildArray)(We.children);We.revealOrder&&We.revealOrder[0]==="b"&&Be.reverse();for(var lt=Be.length;lt--;)this.o.set(Be[lt],this.u=[1,0,this.u]);return We.children},R.prototype.componentDidUpdate=R.prototype.componentDidMount=function(){var We=this;this.o.forEach(function(Be,lt){N(We,lt,Be)})};var j=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Z=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Q=/[A-Z0-9]/g,ne=typeof document!="undefined",te=function(We){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(We)};function B(We,Be,lt){return Be.__k==null&&(Be.textContent=""),(0,o.render)(We,Be),typeof lt=="function"&&lt(),We?We.__c:null}function V(We,Be,lt){return(0,o.hydrate)(We,Be),typeof lt=="function"&&lt(),We?We.__c:null}o.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(We){Object.defineProperty(o.Component.prototype,We,{configurable:!0,get:function(){return this["UNSAFE_"+We]},set:function(Be){Object.defineProperty(this,We,{configurable:!0,writable:!0,value:Be})}})});var re=o.options.event;function le(){}function ae(){return this.cancelBubble}function q(){return this.defaultPrevented}o.options.event=function(We){return re&&(We=re(We)),We.persist=le,We.isPropagationStopped=ae,We.isDefaultPrevented=q,We.nativeEvent=We};var oe,z={configurable:!0,get:function(){return this.class}},ie=o.options.vnode;o.options.vnode=function(We){var Be=We.type,lt=We.props,Tt=lt;if(typeof Be=="string"){for(var xt in Tt={},lt){var Gt=lt[xt];if(!(xt==="value"&&"defaultValue"in lt&&Gt==null||ne&&xt==="children"&&Be==="noscript")){var an=xt.toLowerCase();xt==="defaultValue"&&"value"in lt&&lt.value==null?xt="value":xt==="download"&&Gt===!0?Gt="":an==="ondoubleclick"?xt="ondblclick":an!=="onchange"||Be!=="input"&&Be!=="textarea"||te(lt.type)?an==="onfocus"?xt="onfocusin":an==="onblur"?xt="onfocusout":J.test(xt)?xt=an:Be.indexOf("-")===-1&&Z.test(xt)?xt=xt.replace(Q,"-$&").toLowerCase():Gt===null&&(Gt=void 0):an=xt="oninput",an==="oninput"&&Tt[xt=an]&&(xt="oninputCapture"),Tt[xt]=Gt}}Be=="select"&&Tt.multiple&&Array.isArray(Tt.value)&&(Tt.value=(0,o.toChildArray)(lt.children).forEach(function(yt){yt.props.selected=Tt.value.indexOf(yt.props.value)!=-1})),Be=="select"&&Tt.defaultValue!=null&&(Tt.value=(0,o.toChildArray)(lt.children).forEach(function(yt){yt.props.selected=Tt.multiple?Tt.defaultValue.indexOf(yt.props.value)!=-1:Tt.defaultValue==yt.props.value})),We.props=Tt,lt.class!=lt.className&&(z.enumerable="className"in lt,lt.className!=null&&(Tt.class=lt.className),Object.defineProperty(Tt,"className",z))}We.$$typeof=j,ie&&ie(We)};var ue=o.options.__r;o.options.__r=function(We){ue&&ue(We),oe=We.__c};var de=o.options.diffed;o.options.diffed=function(We){de&&de(We);var Be=We.props,lt=We.__e;lt!=null&&We.type==="textarea"&&"value"in Be&&Be.value!==lt.value&&(lt.value=Be.value==null?"":Be.value),oe=null};var fe={ReactCurrentDispatcher:{current:{readContext:function(We){return oe.__n[We.__c].props.value}}}},ye="17.0.2";function pe(We){return o.createElement.bind(null,We)}function we(We){return!!We&&We.$$typeof===j}function Me(We){return we(We)?o.cloneElement.apply(null,arguments):We}function je(We){return!!We.__k&&((0,o.render)(null,We),!0)}function De(We){return We&&(We.base||We.nodeType===1&&We)||null}var me=function(We,Be){return We(Be)},ce=function(We,Be){return We(Be)},ge=o.Fragment;function Ie(We){We()}function Re(We){return We}function Ke(){return[!1,Ie]}var ut=m.bt;function _t(We,Be){var lt=Be(),Tt=(0,m.eJ)({h:{__:lt,v:Be}}),xt=Tt[0].h,Gt=Tt[1];return(0,m.bt)(function(){xt.__=lt,xt.v=Be,g(xt.__,Be())||Gt({h:xt})},[We,lt,Be]),(0,m.d4)(function(){return g(xt.__,xt.v())||Gt({h:xt}),We(function(){g(xt.__,xt.v())||Gt({h:xt})})},[We]),lt}var ft={useState:m.eJ,useId:m.Me,useReducer:m._Y,useEffect:m.d4,useLayoutEffect:m.bt,useInsertionEffect:ut,useTransition:Ke,useDeferredValue:Re,useSyncExternalStore:_t,startTransition:Ie,useRef:m.sO,useImperativeHandle:m.aP,useMemo:m.Ye,useCallback:m.I4,useContext:m.qp,useDebugValue:m.Qb,version:"17.0.2",Children:O,render:B,hydrate:V,unmountComponentAtNode:je,createPortal:W,createElement:o.createElement,createContext:o.createContext,createFactory:pe,cloneElement:Me,createRef:o.createRef,Fragment:o.Fragment,isValidElement:we,findDOMNode:De,Component:o.Component,PureComponent:y,memo:C,forwardRef:x,flushSync:ce,unstable_batchedUpdates:me,StrictMode:ge,Suspense:P,SuspenseList:R,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:fe}},14369:(G,s,e)=>{"use strict";e.r(s),e.d(s,{addHookName:()=>m});var o=e(6400);function m(f,d){return o.options.__a&&o.options.__a(d),f}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",o.options,{Fragment:o.Fragment,Component:o.Component})},6400:(G,s,e)=>{"use strict";e.r(s),e.d(s,{Component:()=>M,Fragment:()=>S,cloneElement:()=>fe,createContext:()=>ye,createElement:()=>a,createRef:()=>P,h:()=>a,hydrate:()=>de,isValidElement:()=>d,options:()=>m,render:()=>ue,toChildArray:()=>Z});var o,m,f,d,g,y,C,v,b,x={},E=[],O=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function w(pe,we){for(var Me in we)pe[Me]=we[Me];return pe}function _(pe){var we=pe.parentNode;we&&we.removeChild(pe)}function a(pe,we,Me){var je,De,me,ce={};for(me in we)me=="key"?je=we[me]:me=="ref"?De=we[me]:ce[me]=we[me];if(arguments.length>2&&(ce.children=arguments.length>3?o.call(arguments,2):Me),typeof pe=="function"&&pe.defaultProps!=null)for(me in pe.defaultProps)ce[me]===void 0&&(ce[me]=pe.defaultProps[me]);return l(pe,ce,je,De,null)}function l(pe,we,Me,je,De){var me={type:pe,props:we,key:Me,ref:je,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:De==null?++f:De};return De==null&&m.vnode!=null&&m.vnode(me),me}function P(){return{current:null}}function S(pe){return pe.children}function M(pe,we){this.props=pe,this.context=we}function R(pe,we){if(we==null)return pe.__?R(pe.__,pe.__.__k.indexOf(pe)+1):null;for(var Me;we<pe.__k.length;we++)if((Me=pe.__k[we])!=null&&Me.__e!=null)return Me.__e;return typeof pe.type=="function"?R(pe):null}function N(pe){var we,Me;if((pe=pe.__)!=null&&pe.__c!=null){for(pe.__e=pe.__c.base=null,we=0;we<pe.__k.length;we++)if((Me=pe.__k[we])!=null&&Me.__e!=null){pe.__e=pe.__c.base=Me.__e;break}return N(pe)}}function T(pe){(!pe.__d&&(pe.__d=!0)&&g.push(pe)&&!A.__r++||y!==m.debounceRendering)&&((y=m.debounceRendering)||C)(A)}function A(){var pe,we,Me,je,De,me,ce,ge;for(g.sort(v);pe=g.shift();)pe.__d&&(we=g.length,je=void 0,De=void 0,ce=(me=(Me=pe).__v).__e,(ge=Me.__P)&&(je=[],(De=w({},me)).__v=me.__v+1,le(ge,me,De,Me.__n,ge.ownerSVGElement!==void 0,me.__h!=null?[ce]:null,je,ce==null?R(me):ce,me.__h),ae(je,me),me.__e!=ce&&N(me)),g.length>we&&g.sort(v));A.__r=0}function W(pe,we,Me,je,De,me,ce,ge,Ie,Re){var Ke,ut,_t,ft,We,Be,lt,Tt=je&&je.__k||E,xt=Tt.length;for(Me.__k=[],Ke=0;Ke<we.length;Ke++)if((ft=Me.__k[Ke]=(ft=we[Ke])==null||typeof ft=="boolean"||typeof ft=="function"?null:typeof ft=="string"||typeof ft=="number"||typeof ft=="bigint"?l(null,ft,null,null,ft):Array.isArray(ft)?l(S,{children:ft},null,null,null):ft.__b>0?l(ft.type,ft.props,ft.key,ft.ref?ft.ref:null,ft.__v):ft)!=null){if(ft.__=Me,ft.__b=Me.__b+1,(_t=Tt[Ke])===null||_t&&ft.key==_t.key&&ft.type===_t.type)Tt[Ke]=void 0;else for(ut=0;ut<xt;ut++){if((_t=Tt[ut])&&ft.key==_t.key&&ft.type===_t.type){Tt[ut]=void 0;break}_t=null}le(pe,ft,_t=_t||x,De,me,ce,ge,Ie,Re),We=ft.__e,(ut=ft.ref)&&_t.ref!=ut&&(lt||(lt=[]),_t.ref&&lt.push(_t.ref,null,ft),lt.push(ut,ft.__c||We,ft)),We!=null?(Be==null&&(Be=We),typeof ft.type=="function"&&ft.__k===_t.__k?ft.__d=Ie=j(ft,Ie,pe):Ie=J(pe,ft,_t,Tt,We,Ie),typeof Me.type=="function"&&(Me.__d=Ie)):Ie&&_t.__e==Ie&&Ie.parentNode!=pe&&(Ie=R(_t))}for(Me.__e=Be,Ke=xt;Ke--;)Tt[Ke]!=null&&(typeof Me.type=="function"&&Tt[Ke].__e!=null&&Tt[Ke].__e==Me.__d&&(Me.__d=Q(je).nextSibling),z(Tt[Ke],Tt[Ke]));if(lt)for(Ke=0;Ke<lt.length;Ke++)oe(lt[Ke],lt[++Ke],lt[++Ke])}function j(pe,we,Me){for(var je,De=pe.__k,me=0;De&&me<De.length;me++)(je=De[me])&&(je.__=pe,we=typeof je.type=="function"?j(je,we,Me):J(Me,je,je,De,je.__e,we));return we}function Z(pe,we){return we=we||[],pe==null||typeof pe=="boolean"||(Array.isArray(pe)?pe.some(function(Me){Z(Me,we)}):we.push(pe)),we}function J(pe,we,Me,je,De,me){var ce,ge,Ie;if(we.__d!==void 0)ce=we.__d,we.__d=void 0;else if(Me==null||De!=me||De.parentNode==null)e:if(me==null||me.parentNode!==pe)pe.appendChild(De),ce=null;else{for(ge=me,Ie=0;(ge=ge.nextSibling)&&Ie<je.length;Ie+=1)if(ge==De)break e;pe.insertBefore(De,me),ce=me}return ce!==void 0?ce:De.nextSibling}function Q(pe){var we,Me,je;if(pe.type==null||typeof pe.type=="string")return pe.__e;if(pe.__k){for(we=pe.__k.length-1;we>=0;we--)if((Me=pe.__k[we])&&(je=Q(Me)))return je}return null}function ne(pe,we,Me,je,De){var me;for(me in Me)me==="children"||me==="key"||me in we||B(pe,me,null,Me[me],je);for(me in we)De&&typeof we[me]!="function"||me==="children"||me==="key"||me==="value"||me==="checked"||Me[me]===we[me]||B(pe,me,we[me],Me[me],je)}function te(pe,we,Me){we[0]==="-"?pe.setProperty(we,Me==null?"":Me):pe[we]=Me==null?"":typeof Me!="number"||O.test(we)?Me:Me+"px"}function B(pe,we,Me,je,De){var me;e:if(we==="style")if(typeof Me=="string")pe.style.cssText=Me;else{if(typeof je=="string"&&(pe.style.cssText=je=""),je)for(we in je)Me&&we in Me||te(pe.style,we,"");if(Me)for(we in Me)je&&Me[we]===je[we]||te(pe.style,we,Me[we])}else if(we[0]==="o"&&we[1]==="n")me=we!==(we=we.replace(/Capture$/,"")),we=we.toLowerCase()in pe?we.toLowerCase().slice(2):we.slice(2),pe.l||(pe.l={}),pe.l[we+me]=Me,Me?je||pe.addEventListener(we,me?re:V,me):pe.removeEventListener(we,me?re:V,me);else if(we!=="dangerouslySetInnerHTML"){if(De)we=we.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(we!=="width"&&we!=="height"&&we!=="href"&&we!=="list"&&we!=="form"&&we!=="tabIndex"&&we!=="download"&&we in pe)try{pe[we]=Me==null?"":Me;break e}catch(ce){}typeof Me=="function"||(Me==null||Me===!1&&we.indexOf("-")==-1?pe.removeAttribute(we):pe.setAttribute(we,Me))}}function V(pe){return this.l[pe.type+!1](m.event?m.event(pe):pe)}function re(pe){return this.l[pe.type+!0](m.event?m.event(pe):pe)}function le(pe,we,Me,je,De,me,ce,ge,Ie){var Re,Ke,ut,_t,ft,We,Be,lt,Tt,xt,Gt,an,yt,ke,Ve,Ne=we.type;if(we.constructor!==void 0)return null;Me.__h!=null&&(Ie=Me.__h,ge=we.__e=Me.__e,we.__h=null,me=[ge]),(Re=m.__b)&&Re(we);try{e:if(typeof Ne=="function"){if(lt=we.props,Tt=(Re=Ne.contextType)&&je[Re.__c],xt=Re?Tt?Tt.props.value:Re.__:je,Me.__c?Be=(Ke=we.__c=Me.__c).__=Ke.__E:("prototype"in Ne&&Ne.prototype.render?we.__c=Ke=new Ne(lt,xt):(we.__c=Ke=new M(lt,xt),Ke.constructor=Ne,Ke.render=ie),Tt&&Tt.sub(Ke),Ke.props=lt,Ke.state||(Ke.state={}),Ke.context=xt,Ke.__n=je,ut=Ke.__d=!0,Ke.__h=[],Ke._sb=[]),Ke.__s==null&&(Ke.__s=Ke.state),Ne.getDerivedStateFromProps!=null&&(Ke.__s==Ke.state&&(Ke.__s=w({},Ke.__s)),w(Ke.__s,Ne.getDerivedStateFromProps(lt,Ke.__s))),_t=Ke.props,ft=Ke.state,Ke.__v=we,ut)Ne.getDerivedStateFromProps==null&&Ke.componentWillMount!=null&&Ke.componentWillMount(),Ke.componentDidMount!=null&&Ke.__h.push(Ke.componentDidMount);else{if(Ne.getDerivedStateFromProps==null&&lt!==_t&&Ke.componentWillReceiveProps!=null&&Ke.componentWillReceiveProps(lt,xt),!Ke.__e&&Ke.shouldComponentUpdate!=null&&Ke.shouldComponentUpdate(lt,Ke.__s,xt)===!1||we.__v===Me.__v){for(we.__v!==Me.__v&&(Ke.props=lt,Ke.state=Ke.__s,Ke.__d=!1),Ke.__e=!1,we.__e=Me.__e,we.__k=Me.__k,we.__k.forEach(function(Fe){Fe&&(Fe.__=we)}),Gt=0;Gt<Ke._sb.length;Gt++)Ke.__h.push(Ke._sb[Gt]);Ke._sb=[],Ke.__h.length&&ce.push(Ke);break e}Ke.componentWillUpdate!=null&&Ke.componentWillUpdate(lt,Ke.__s,xt),Ke.componentDidUpdate!=null&&Ke.__h.push(function(){Ke.componentDidUpdate(_t,ft,We)})}if(Ke.context=xt,Ke.props=lt,Ke.__P=pe,an=m.__r,yt=0,"prototype"in Ne&&Ne.prototype.render){for(Ke.state=Ke.__s,Ke.__d=!1,an&&an(we),Re=Ke.render(Ke.props,Ke.state,Ke.context),ke=0;ke<Ke._sb.length;ke++)Ke.__h.push(Ke._sb[ke]);Ke._sb=[]}else do Ke.__d=!1,an&&an(we),Re=Ke.render(Ke.props,Ke.state,Ke.context),Ke.state=Ke.__s;while(Ke.__d&&++yt<25);Ke.state=Ke.__s,Ke.getChildContext!=null&&(je=w(w({},je),Ke.getChildContext())),ut||Ke.getSnapshotBeforeUpdate==null||(We=Ke.getSnapshotBeforeUpdate(_t,ft)),Ve=Re!=null&&Re.type===S&&Re.key==null?Re.props.children:Re,W(pe,Array.isArray(Ve)?Ve:[Ve],we,Me,je,De,me,ce,ge,Ie),Ke.base=we.__e,we.__h=null,Ke.__h.length&&ce.push(Ke),Be&&(Ke.__E=Ke.__=null),Ke.__e=!1}else me==null&&we.__v===Me.__v?(we.__k=Me.__k,we.__e=Me.__e):we.__e=q(Me.__e,we,Me,je,De,me,ce,Ie);(Re=m.diffed)&&Re(we)}catch(Fe){we.__v=null,(Ie||me!=null)&&(we.__e=ge,we.__h=!!Ie,me[me.indexOf(ge)]=null),m.__e(Fe,we,Me)}}function ae(pe,we){m.__c&&m.__c(we,pe),pe.some(function(Me){try{pe=Me.__h,Me.__h=[],pe.some(function(je){je.call(Me)})}catch(je){m.__e(je,Me.__v)}})}function q(pe,we,Me,je,De,me,ce,ge){var Ie,Re,Ke,ut=Me.props,_t=we.props,ft=we.type,We=0;if(ft==="svg"&&(De=!0),me!=null){for(;We<me.length;We++)if((Ie=me[We])&&"setAttribute"in Ie==!!ft&&(ft?Ie.localName===ft:Ie.nodeType===3)){pe=Ie,me[We]=null;break}}if(pe==null){if(ft===null)return document.createTextNode(_t);pe=De?document.createElementNS("http://www.w3.org/2000/svg",ft):document.createElement(ft,_t.is&&_t),me=null,ge=!1}if(ft===null)ut===_t||ge&&pe.data===_t||(pe.data=_t);else{if(me=me&&o.call(pe.childNodes),Re=(ut=Me.props||x).dangerouslySetInnerHTML,Ke=_t.dangerouslySetInnerHTML,!ge){if(me!=null)for(ut={},We=0;We<pe.attributes.length;We++)ut[pe.attributes[We].name]=pe.attributes[We].value;(Ke||Re)&&(Ke&&(Re&&Ke.__html==Re.__html||Ke.__html===pe.innerHTML)||(pe.innerHTML=Ke&&Ke.__html||""))}if(ne(pe,_t,ut,De,ge),Ke)we.__k=[];else if(We=we.props.children,W(pe,Array.isArray(We)?We:[We],we,Me,je,De&&ft!=="foreignObject",me,ce,me?me[0]:Me.__k&&R(Me,0),ge),me!=null)for(We=me.length;We--;)me[We]!=null&&_(me[We]);ge||("value"in _t&&(We=_t.value)!==void 0&&(We!==pe.value||ft==="progress"&&!We||ft==="option"&&We!==ut.value)&&B(pe,"value",We,ut.value,!1),"checked"in _t&&(We=_t.checked)!==void 0&&We!==pe.checked&&B(pe,"checked",We,ut.checked,!1))}return pe}function oe(pe,we,Me){try{typeof pe=="function"?pe(we):pe.current=we}catch(je){m.__e(je,Me)}}function z(pe,we,Me){var je,De;if(m.unmount&&m.unmount(pe),(je=pe.ref)&&(je.current&&je.current!==pe.__e||oe(je,null,we)),(je=pe.__c)!=null){if(je.componentWillUnmount)try{je.componentWillUnmount()}catch(me){m.__e(me,we)}je.base=je.__P=null,pe.__c=void 0}if(je=pe.__k)for(De=0;De<je.length;De++)je[De]&&z(je[De],we,Me||typeof pe.type!="function");Me||pe.__e==null||_(pe.__e),pe.__=pe.__e=pe.__d=void 0}function ie(pe,we,Me){return this.constructor(pe,Me)}function ue(pe,we,Me){var je,De,me;m.__&&m.__(pe,we),De=(je=typeof Me=="function")?null:Me&&Me.__k||we.__k,me=[],le(we,pe=(!je&&Me||we).__k=a(S,null,[pe]),De||x,x,we.ownerSVGElement!==void 0,!je&&Me?[Me]:De?null:we.firstChild?o.call(we.childNodes):null,me,!je&&Me?Me:De?De.__e:we.firstChild,je),ae(me,pe)}function de(pe,we){ue(pe,we,de)}function fe(pe,we,Me){var je,De,me,ce=w({},pe.props);for(me in we)me=="key"?je=we[me]:me=="ref"?De=we[me]:ce[me]=we[me];return arguments.length>2&&(ce.children=arguments.length>3?o.call(arguments,2):Me),l(pe.type,ce,je||pe.key,De||pe.ref,null)}function ye(pe,we){var Me={__c:we="__cC"+b++,__:pe,Consumer:function(je,De){return je.children(De)},Provider:function(je){var De,me;return this.getChildContext||(De=[],(me={})[we]=this,this.getChildContext=function(){return me},this.shouldComponentUpdate=function(ce){this.props.value!==ce.value&&De.some(function(ge){ge.__e=!0,T(ge)})},this.sub=function(ce){De.push(ce);var ge=ce.componentWillUnmount;ce.componentWillUnmount=function(){De.splice(De.indexOf(ce),1),ge&&ge.call(ce)}}),je.children}};return Me.Provider.__=Me.Consumer.contextType=Me}o=E.slice,m={__e:function(pe,we,Me,je){for(var De,me,ce;we=we.__;)if((De=we.__c)&&!De.__)try{if((me=De.constructor)&&me.getDerivedStateFromError!=null&&(De.setState(me.getDerivedStateFromError(pe)),ce=De.__d),De.componentDidCatch!=null&&(De.componentDidCatch(pe,je||{}),ce=De.__d),ce)return De.__E=De}catch(ge){pe=ge}throw pe}},f=0,d=function(pe){return pe!=null&&pe.constructor===void 0},M.prototype.setState=function(pe,we){var Me;Me=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=w({},this.state),typeof pe=="function"&&(pe=pe(w({},Me),this.props)),pe&&w(Me,pe),pe!=null&&this.__v&&(we&&this._sb.push(we),T(this))},M.prototype.forceUpdate=function(pe){this.__v&&(this.__e=!0,pe&&this.__h.push(pe),T(this))},M.prototype.render=S,g=[],C=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,v=function(pe,we){return pe.__v.__b-we.__v.__b},A.__r=0,b=0},30396:(G,s,e)=>{"use strict";e.d(s,{I4:()=>T,Me:()=>Z,Qb:()=>W,Ye:()=>N,_Y:()=>l,aP:()=>R,bt:()=>S,cO:()=>j,d4:()=>P,eJ:()=>a,qp:()=>A,sO:()=>M});var o=e(6400),m,f,d,g,y=0,C=[],v=[],b=o.options.__b,x=o.options.__r,E=o.options.diffed,O=o.options.__c,w=o.options.unmount;function _(le,ae){o.options.__h&&o.options.__h(f,le,y||ae),y=0;var q=f.__H||(f.__H={__:[],__h:[]});return le>=q.__.length&&q.__.push({__V:v}),q.__[le]}function a(le){return y=1,l(re,le)}function l(le,ae,q){var oe=_(m++,2);if(oe.t=le,!oe.__c&&(oe.__=[q?q(ae):re(void 0,ae),function(de){var fe=oe.__N?oe.__N[0]:oe.__[0],ye=oe.t(fe,de);fe!==ye&&(oe.__N=[ye,oe.__[1]],oe.__c.setState({}))}],oe.__c=f,!f.u)){var z=function(de,fe,ye){if(!oe.__c.__H)return!0;var pe=oe.__c.__H.__.filter(function(Me){return Me.__c});if(pe.every(function(Me){return!Me.__N}))return!ie||ie.call(this,de,fe,ye);var we=!1;return pe.forEach(function(Me){if(Me.__N){var je=Me.__[0];Me.__=Me.__N,Me.__N=void 0,je!==Me.__[0]&&(we=!0)}}),!(!we&&oe.__c.props===de)&&(!ie||ie.call(this,de,fe,ye))};f.u=!0;var ie=f.shouldComponentUpdate,ue=f.componentWillUpdate;f.componentWillUpdate=function(de,fe,ye){if(this.__e){var pe=ie;ie=void 0,z(de,fe,ye),ie=pe}ue&&ue.call(this,de,fe,ye)},f.shouldComponentUpdate=z}return oe.__N||oe.__}function P(le,ae){var q=_(m++,3);!o.options.__s&&V(q.__H,ae)&&(q.__=le,q.i=ae,f.__H.__h.push(q))}function S(le,ae){var q=_(m++,4);!o.options.__s&&V(q.__H,ae)&&(q.__=le,q.i=ae,f.__h.push(q))}function M(le){return y=5,N(function(){return{current:le}},[])}function R(le,ae,q){y=6,S(function(){return typeof le=="function"?(le(ae()),function(){return le(null)}):le?(le.current=ae(),function(){return le.current=null}):void 0},q==null?q:q.concat(le))}function N(le,ae){var q=_(m++,7);return V(q.__H,ae)?(q.__V=le(),q.i=ae,q.__h=le,q.__V):q.__}function T(le,ae){return y=8,N(function(){return le},ae)}function A(le){var ae=f.context[le.__c],q=_(m++,9);return q.c=le,ae?(q.__==null&&(q.__=!0,ae.sub(f)),ae.props.value):le.__}function W(le,ae){o.options.useDebugValue&&o.options.useDebugValue(ae?ae(le):le)}function j(le){var ae=_(m++,10),q=a();return ae.__=le,f.componentDidCatch||(f.componentDidCatch=function(oe,z){ae.__&&ae.__(oe,z),q[1](oe)}),[q[0],function(){q[1](void 0)}]}function Z(){var le=_(m++,11);if(!le.__){for(var ae=f.__v;ae!==null&&!ae.__m&&ae.__!==null;)ae=ae.__;var q=ae.__m||(ae.__m=[0,0]);le.__="P"+q[0]+"-"+q[1]++}return le.__}function J(){for(var le;le=C.shift();)if(le.__P&&le.__H)try{le.__H.__h.forEach(te),le.__H.__h.forEach(B),le.__H.__h=[]}catch(ae){le.__H.__h=[],o.options.__e(ae,le.__v)}}o.options.__b=function(le){f=null,b&&b(le)},o.options.__r=function(le){x&&x(le),m=0;var ae=(f=le.__c).__H;ae&&(d===f?(ae.__h=[],f.__h=[],ae.__.forEach(function(q){q.__N&&(q.__=q.__N),q.__V=v,q.__N=q.i=void 0})):(ae.__h.forEach(te),ae.__h.forEach(B),ae.__h=[])),d=f},o.options.diffed=function(le){E&&E(le);var ae=le.__c;ae&&ae.__H&&(ae.__H.__h.length&&(C.push(ae)!==1&&g===o.options.requestAnimationFrame||((g=o.options.requestAnimationFrame)||ne)(J)),ae.__H.__.forEach(function(q){q.i&&(q.__H=q.i),q.__V!==v&&(q.__=q.__V),q.i=void 0,q.__V=v})),d=f=null},o.options.__c=function(le,ae){ae.some(function(q){try{q.__h.forEach(te),q.__h=q.__h.filter(function(oe){return!oe.__||B(oe)})}catch(oe){ae.some(function(z){z.__h&&(z.__h=[])}),ae=[],o.options.__e(oe,q.__v)}}),O&&O(le,ae)},o.options.unmount=function(le){w&&w(le);var ae,q=le.__c;q&&q.__H&&(q.__H.__.forEach(function(oe){try{te(oe)}catch(z){ae=z}}),q.__H=void 0,ae&&o.options.__e(ae,q.__v))};var Q=typeof requestAnimationFrame=="function";function ne(le){var ae,q=function(){clearTimeout(oe),Q&&cancelAnimationFrame(ae),setTimeout(le)},oe=setTimeout(q,100);Q&&(ae=requestAnimationFrame(q))}function te(le){var ae=f,q=le.__c;typeof q=="function"&&(le.__c=void 0,q()),f=ae}function B(le){var ae=f;le.__c=le.__(),f=ae}function V(le,ae){return!le||le.length!==ae.length||ae.some(function(q,oe){return q!==le[oe]})}function re(le,ae){return typeof ae=="function"?ae(le):ae}},92703:(G,s,e)=>{"use strict";var o=e(50414);function m(){}function f(){}f.resetWarningCache=m,G.exports=function(){function d(C,v,b,x,E,O){if(O!==o){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}d.isRequired=d;function g(){return d}var y={array:d,bigint:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:g,element:d,elementType:d,instanceOf:g,node:d,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g,checkPropTypes:f,resetWarningCache:m};return y.PropTypes=y,y}},45697:(G,s,e)=>{if(!1)var o,m;else G.exports=e(92703)()},50414:G=>{"use strict";var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";G.exports=s},74971:function(G,s,e){G=e.nmd(G);var o;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(m){var f=s&&!s.nodeType&&s,d=G&&!G.nodeType&&G,g=typeof e.g=="object"&&e.g;(g.global===g||g.window===g||g.self===g)&&(m=g);var y,C=2147483647,v=36,b=1,x=26,E=38,O=700,w=72,_=128,a="-",l=/^xn--/,P=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=v-b,N=Math.floor,T=String.fromCharCode,A;function W(q){throw RangeError(M[q])}function j(q,oe){for(var z=q.length,ie=[];z--;)ie[z]=oe(q[z]);return ie}function Z(q,oe){var z=q.split("@"),ie="";z.length>1&&(ie=z[0]+"@",q=z[1]),q=q.replace(S,".");var ue=q.split("."),de=j(ue,oe).join(".");return ie+de}function J(q){for(var oe=[],z=0,ie=q.length,ue,de;z<ie;)ue=q.charCodeAt(z++),ue>=55296&&ue<=56319&&z<ie?(de=q.charCodeAt(z++),(de&64512)==56320?oe.push(((ue&1023)<<10)+(de&1023)+65536):(oe.push(ue),z--)):oe.push(ue);return oe}function Q(q){return j(q,function(oe){var z="";return oe>65535&&(oe-=65536,z+=T(oe>>>10&1023|55296),oe=56320|oe&1023),z+=T(oe),z}).join("")}function ne(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:v}function te(q,oe){return q+22+75*(q<26)-((oe!=0)<<5)}function B(q,oe,z){var ie=0;for(q=z?N(q/O):q>>1,q+=N(q/oe);q>R*x>>1;ie+=v)q=N(q/R);return N(ie+(R+1)*q/(q+E))}function V(q){var oe=[],z=q.length,ie,ue=0,de=_,fe=w,ye,pe,we,Me,je,De,me,ce,ge;for(ye=q.lastIndexOf(a),ye<0&&(ye=0),pe=0;pe<ye;++pe)q.charCodeAt(pe)>=128&&W("not-basic"),oe.push(q.charCodeAt(pe));for(we=ye>0?ye+1:0;we<z;){for(Me=ue,je=1,De=v;we>=z&&W("invalid-input"),me=ne(q.charCodeAt(we++)),(me>=v||me>N((C-ue)/je))&&W("overflow"),ue+=me*je,ce=De<=fe?b:De>=fe+x?x:De-fe,!(me<ce);De+=v)ge=v-ce,je>N(C/ge)&&W("overflow"),je*=ge;ie=oe.length+1,fe=B(ue-Me,ie,Me==0),N(ue/ie)>C-de&&W("overflow"),de+=N(ue/ie),ue%=ie,oe.splice(ue++,0,de)}return Q(oe)}function re(q){var oe,z,ie,ue,de,fe,ye,pe,we,Me,je,De=[],me,ce,ge,Ie;for(q=J(q),me=q.length,oe=_,z=0,de=w,fe=0;fe<me;++fe)je=q[fe],je<128&&De.push(T(je));for(ie=ue=De.length,ue&&De.push(a);ie<me;){for(ye=C,fe=0;fe<me;++fe)je=q[fe],je>=oe&&je<ye&&(ye=je);for(ce=ie+1,ye-oe>N((C-z)/ce)&&W("overflow"),z+=(ye-oe)*ce,oe=ye,fe=0;fe<me;++fe)if(je=q[fe],je<oe&&++z>C&&W("overflow"),je==oe){for(pe=z,we=v;Me=we<=de?b:we>=de+x?x:we-de,!(pe<Me);we+=v)Ie=pe-Me,ge=v-Me,De.push(T(te(Me+Ie%ge,0))),pe=N(Ie/ge);De.push(T(te(pe,0))),de=B(z,ce,ie==ue),z=0,++ie}++z,++oe}return De.join("")}function le(q){return Z(q,function(oe){return l.test(oe)?V(oe.slice(4).toLowerCase()):oe})}function ae(q){return Z(q,function(oe){return P.test(oe)?"xn--"+re(oe):oe})}y={version:"1.3.2",ucs2:{decode:J,encode:Q},decode:V,encode:re,toASCII:ae,toUnicode:le},o=function(){return y}.call(s,e,s,G),o!==void 0&&(G.exports=o)})(this)},92592:(G,s,e)=>{const o=e(47138),m=e(95115),f=e(6907),d=e(93776);function g(y,C,v,b,x){const E=[].slice.call(arguments,1),O=E.length,w=typeof E[O-1]=="function";if(!w&&!o())throw new Error("Callback required as last argument");if(w){if(O<2)throw new Error("Too few arguments provided");O===2?(x=v,v=C,C=b=void 0):O===3&&(C.getContext&&typeof x=="undefined"?(x=b,b=void 0):(x=b,b=v,v=C,C=void 0))}else{if(O<1)throw new Error("Too few arguments provided");return O===1?(v=C,C=b=void 0):O===2&&!C.getContext&&(b=v,v=C,C=void 0),new Promise(function(_,a){try{const l=m.create(v,b);_(y(l,C,b))}catch(l){a(l)}})}try{const _=m.create(v,b);x(null,y(_,C,b))}catch(_){x(_)}}s.create=m.create,s.toCanvas=g.bind(null,f.render),s.toDataURL=g.bind(null,f.renderToDataURL),s.toString=g.bind(null,function(y,C,v){return d.render(y,v)})},47138:G=>{G.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},21845:(G,s,e)=>{const o=e(10242).getSymbolSize;s.getRowColCoords=function(f){if(f===1)return[];const d=Math.floor(f/7)+2,g=o(f),y=g===145?26:Math.ceil((g-13)/(2*d-2))*2,C=[g-7];for(let v=1;v<d-1;v++)C[v]=C[v-1]-y;return C.push(6),C.reverse()},s.getPositions=function(f){const d=[],g=s.getRowColCoords(f),y=g.length;for(let C=0;C<y;C++)for(let v=0;v<y;v++)C===0&&v===0||C===0&&v===y-1||C===y-1&&v===0||d.push([g[C],g[v]]);return d}},8260:(G,s,e)=>{const o=e(76910),m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function f(d){this.mode=o.ALPHANUMERIC,this.data=d}f.getBitsLength=function(g){return 11*Math.floor(g/2)+6*(g%2)},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLength=function(){return f.getBitsLength(this.data.length)},f.prototype.write=function(g){let y;for(y=0;y+2<=this.data.length;y+=2){let C=m.indexOf(this.data[y])*45;C+=m.indexOf(this.data[y+1]),g.put(C,11)}this.data.length%2&&g.put(m.indexOf(this.data[y]),6)},G.exports=f},97245:G=>{function s(){this.buffer=[],this.length=0}s.prototype={get:function(e){const o=Math.floor(e/8);return(this.buffer[o]>>>7-e%8&1)===1},put:function(e,o){for(let m=0;m<o;m++)this.putBit((e>>>o-m-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),e&&(this.buffer[o]|=128>>>this.length%8),this.length++}},G.exports=s},73280:G=>{function s(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}s.prototype.set=function(e,o,m,f){const d=e*this.size+o;this.data[d]=m,f&&(this.reservedBit[d]=!0)},s.prototype.get=function(e,o){return this.data[e*this.size+o]},s.prototype.xor=function(e,o,m){this.data[e*this.size+o]^=m},s.prototype.isReserved=function(e,o){return this.reservedBit[e*this.size+o]},G.exports=s},43424:(G,s,e)=>{const o=e(62378),m=e(76910);function f(d){this.mode=m.BYTE,typeof d=="string"&&(d=o(d)),this.data=new Uint8Array(d)}f.getBitsLength=function(g){return g*8},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLength=function(){return f.getBitsLength(this.data.length)},f.prototype.write=function(d){for(let g=0,y=this.data.length;g<y;g++)d.put(this.data[g],8)},G.exports=f},35393:(G,s,e)=>{const o=e(64908),m=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],f=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];s.getBlocksCount=function(g,y){switch(y){case o.L:return m[(g-1)*4+0];case o.M:return m[(g-1)*4+1];case o.Q:return m[(g-1)*4+2];case o.H:return m[(g-1)*4+3];default:return}},s.getTotalCodewordsCount=function(g,y){switch(y){case o.L:return f[(g-1)*4+0];case o.M:return f[(g-1)*4+1];case o.Q:return f[(g-1)*4+2];case o.H:return f[(g-1)*4+3];default:return}}},64908:(G,s)=>{s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2};function e(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+o)}}s.isValid=function(m){return m&&typeof m.bit!="undefined"&&m.bit>=0&&m.bit<4},s.from=function(m,f){if(s.isValid(m))return m;try{return e(m)}catch(d){return f}}},76526:(G,s,e)=>{const o=e(10242).getSymbolSize,m=7;s.getPositions=function(d){const g=o(d);return[[0,0],[g-m,0],[0,g-m]]}},61642:(G,s,e)=>{const o=e(10242),m=1335,f=21522,d=o.getBCHDigit(m);s.getEncodedBits=function(y,C){const v=y.bit<<3|C;let b=v<<10;for(;o.getBCHDigit(b)-d>=0;)b^=m<<o.getBCHDigit(b)-d;return(v<<10|b)^f}},69729:(G,s)=>{const e=new Uint8Array(512),o=new Uint8Array(256);(function(){let f=1;for(let d=0;d<255;d++)e[d]=f,o[f]=d,f<<=1,f&256&&(f^=285);for(let d=255;d<512;d++)e[d]=e[d-255]})(),s.log=function(f){if(f<1)throw new Error("log("+f+")");return o[f]},s.exp=function(f){return e[f]},s.mul=function(f,d){return f===0||d===0?0:e[o[f]+o[d]]}},51018:(G,s,e)=>{const o=e(76910),m=e(10242);function f(d){this.mode=o.KANJI,this.data=d}f.getBitsLength=function(g){return g*13},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLength=function(){return f.getBitsLength(this.data.length)},f.prototype.write=function(d){let g;for(g=0;g<this.data.length;g++){let y=m.toSJIS(this.data[g]);if(y>=33088&&y<=40956)y-=33088;else if(y>=57408&&y<=60351)y-=49472;else throw new Error("Invalid SJIS character: "+this.data[g]+`
Make sure your charset is UTF-8`);y=(y>>>8&255)*192+(y&255),d.put(y,13)}},G.exports=f},27126:(G,s)=>{s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};s.isValid=function(f){return f!=null&&f!==""&&!isNaN(f)&&f>=0&&f<=7},s.from=function(f){return s.isValid(f)?parseInt(f,10):void 0},s.getPenaltyN1=function(f){const d=f.size;let g=0,y=0,C=0,v=null,b=null;for(let x=0;x<d;x++){y=C=0,v=b=null;for(let E=0;E<d;E++){let O=f.get(x,E);O===v?y++:(y>=5&&(g+=e.N1+(y-5)),v=O,y=1),O=f.get(E,x),O===b?C++:(C>=5&&(g+=e.N1+(C-5)),b=O,C=1)}y>=5&&(g+=e.N1+(y-5)),C>=5&&(g+=e.N1+(C-5))}return g},s.getPenaltyN2=function(f){const d=f.size;let g=0;for(let y=0;y<d-1;y++)for(let C=0;C<d-1;C++){const v=f.get(y,C)+f.get(y,C+1)+f.get(y+1,C)+f.get(y+1,C+1);(v===4||v===0)&&g++}return g*e.N2},s.getPenaltyN3=function(f){const d=f.size;let g=0,y=0,C=0;for(let v=0;v<d;v++){y=C=0;for(let b=0;b<d;b++)y=y<<1&2047|f.get(v,b),b>=10&&(y===1488||y===93)&&g++,C=C<<1&2047|f.get(b,v),b>=10&&(C===1488||C===93)&&g++}return g*e.N3},s.getPenaltyN4=function(f){let d=0;const g=f.data.length;for(let C=0;C<g;C++)d+=f.data[C];return Math.abs(Math.ceil(d*100/g/5)-10)*e.N4};function o(m,f,d){switch(m){case s.Patterns.PATTERN000:return(f+d)%2===0;case s.Patterns.PATTERN001:return f%2===0;case s.Patterns.PATTERN010:return d%3===0;case s.Patterns.PATTERN011:return(f+d)%3===0;case s.Patterns.PATTERN100:return(Math.floor(f/2)+Math.floor(d/3))%2===0;case s.Patterns.PATTERN101:return f*d%2+f*d%3===0;case s.Patterns.PATTERN110:return(f*d%2+f*d%3)%2===0;case s.Patterns.PATTERN111:return(f*d%3+(f+d)%2)%2===0;default:throw new Error("bad maskPattern:"+m)}}s.applyMask=function(f,d){const g=d.size;for(let y=0;y<g;y++)for(let C=0;C<g;C++)d.isReserved(C,y)||d.xor(C,y,o(f,C,y))},s.getBestMask=function(f,d){const g=Object.keys(s.Patterns).length;let y=0,C=1/0;for(let v=0;v<g;v++){d(v),s.applyMask(v,f);const b=s.getPenaltyN1(f)+s.getPenaltyN2(f)+s.getPenaltyN3(f)+s.getPenaltyN4(f);s.applyMask(v,f),b<C&&(C=b,y=v)}return y}},76910:(G,s,e)=>{const o=e(43114),m=e(7007);s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(g,y){if(!g.ccBits)throw new Error("Invalid mode: "+g);if(!o.isValid(y))throw new Error("Invalid version: "+y);return y>=1&&y<10?g.ccBits[0]:y<27?g.ccBits[1]:g.ccBits[2]},s.getBestModeForData=function(g){return m.testNumeric(g)?s.NUMERIC:m.testAlphanumeric(g)?s.ALPHANUMERIC:m.testKanji(g)?s.KANJI:s.BYTE},s.toString=function(g){if(g&&g.id)return g.id;throw new Error("Invalid mode")},s.isValid=function(g){return g&&g.bit&&g.ccBits};function f(d){if(typeof d!="string")throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+d)}}s.from=function(g,y){if(s.isValid(g))return g;try{return f(g)}catch(C){return y}}},41085:(G,s,e)=>{const o=e(76910);function m(f){this.mode=o.NUMERIC,this.data=f.toString()}m.getBitsLength=function(d){return 10*Math.floor(d/3)+(d%3?d%3*3+1:0)},m.prototype.getLength=function(){return this.data.length},m.prototype.getBitsLength=function(){return m.getBitsLength(this.data.length)},m.prototype.write=function(d){let g,y,C;for(g=0;g+3<=this.data.length;g+=3)y=this.data.substr(g,3),C=parseInt(y,10),d.put(C,10);const v=this.data.length-g;v>0&&(y=this.data.substr(g),C=parseInt(y,10),d.put(C,v*3+1))},G.exports=m},26143:(G,s,e)=>{const o=e(69729);s.mul=function(f,d){const g=new Uint8Array(f.length+d.length-1);for(let y=0;y<f.length;y++)for(let C=0;C<d.length;C++)g[y+C]^=o.mul(f[y],d[C]);return g},s.mod=function(f,d){let g=new Uint8Array(f);for(;g.length-d.length>=0;){const y=g[0];for(let v=0;v<d.length;v++)g[v]^=o.mul(d[v],y);let C=0;for(;C<g.length&&g[C]===0;)C++;g=g.slice(C)}return g},s.generateECPolynomial=function(f){let d=new Uint8Array([1]);for(let g=0;g<f;g++)d=s.mul(d,new Uint8Array([1,o.exp(g)]));return d}},95115:(G,s,e)=>{const o=e(10242),m=e(64908),f=e(97245),d=e(73280),g=e(21845),y=e(76526),C=e(27126),v=e(35393),b=e(52882),x=e(23103),E=e(61642),O=e(76910),w=e(16130);function _(A,W){const j=A.size,Z=y.getPositions(W);for(let J=0;J<Z.length;J++){const Q=Z[J][0],ne=Z[J][1];for(let te=-1;te<=7;te++)if(!(Q+te<=-1||j<=Q+te))for(let B=-1;B<=7;B++)ne+B<=-1||j<=ne+B||(te>=0&&te<=6&&(B===0||B===6)||B>=0&&B<=6&&(te===0||te===6)||te>=2&&te<=4&&B>=2&&B<=4?A.set(Q+te,ne+B,!0,!0):A.set(Q+te,ne+B,!1,!0))}}function a(A){const W=A.size;for(let j=8;j<W-8;j++){const Z=j%2===0;A.set(j,6,Z,!0),A.set(6,j,Z,!0)}}function l(A,W){const j=g.getPositions(W);for(let Z=0;Z<j.length;Z++){const J=j[Z][0],Q=j[Z][1];for(let ne=-2;ne<=2;ne++)for(let te=-2;te<=2;te++)ne===-2||ne===2||te===-2||te===2||ne===0&&te===0?A.set(J+ne,Q+te,!0,!0):A.set(J+ne,Q+te,!1,!0)}}function P(A,W){const j=A.size,Z=x.getEncodedBits(W);let J,Q,ne;for(let te=0;te<18;te++)J=Math.floor(te/3),Q=te%3+j-8-3,ne=(Z>>te&1)===1,A.set(J,Q,ne,!0),A.set(Q,J,ne,!0)}function S(A,W,j){const Z=A.size,J=E.getEncodedBits(W,j);let Q,ne;for(Q=0;Q<15;Q++)ne=(J>>Q&1)===1,Q<6?A.set(Q,8,ne,!0):Q<8?A.set(Q+1,8,ne,!0):A.set(Z-15+Q,8,ne,!0),Q<8?A.set(8,Z-Q-1,ne,!0):Q<9?A.set(8,15-Q-1+1,ne,!0):A.set(8,15-Q-1,ne,!0);A.set(Z-8,8,1,!0)}function M(A,W){const j=A.size;let Z=-1,J=j-1,Q=7,ne=0;for(let te=j-1;te>0;te-=2)for(te===6&&te--;;){for(let B=0;B<2;B++)if(!A.isReserved(J,te-B)){let V=!1;ne<W.length&&(V=(W[ne]>>>Q&1)===1),A.set(J,te-B,V),Q--,Q===-1&&(ne++,Q=7)}if(J+=Z,J<0||j<=J){J-=Z,Z=-Z;break}}}function R(A,W,j){const Z=new f;j.forEach(function(B){Z.put(B.mode.bit,4),Z.put(B.getLength(),O.getCharCountIndicator(B.mode,A)),B.write(Z)});const J=o.getSymbolTotalCodewords(A),Q=v.getTotalCodewordsCount(A,W),ne=(J-Q)*8;for(Z.getLengthInBits()+4<=ne&&Z.put(0,4);Z.getLengthInBits()%8!==0;)Z.putBit(0);const te=(ne-Z.getLengthInBits())/8;for(let B=0;B<te;B++)Z.put(B%2?17:236,8);return N(Z,A,W)}function N(A,W,j){const Z=o.getSymbolTotalCodewords(W),J=v.getTotalCodewordsCount(W,j),Q=Z-J,ne=v.getBlocksCount(W,j),te=Z%ne,B=ne-te,V=Math.floor(Z/ne),re=Math.floor(Q/ne),le=re+1,ae=V-re,q=new b(ae);let oe=0;const z=new Array(ne),ie=new Array(ne);let ue=0;const de=new Uint8Array(A.buffer);for(let Me=0;Me<ne;Me++){const je=Me<B?re:le;z[Me]=de.slice(oe,oe+je),ie[Me]=q.encode(z[Me]),oe+=je,ue=Math.max(ue,je)}const fe=new Uint8Array(Z);let ye=0,pe,we;for(pe=0;pe<ue;pe++)for(we=0;we<ne;we++)pe<z[we].length&&(fe[ye++]=z[we][pe]);for(pe=0;pe<ae;pe++)for(we=0;we<ne;we++)fe[ye++]=ie[we][pe];return fe}function T(A,W,j,Z){let J;if(Array.isArray(A))J=w.fromArray(A);else if(typeof A=="string"){let V=W;if(!V){const re=w.rawSplit(A);V=x.getBestVersionForData(re,j)}J=w.fromString(A,V||40)}else throw new Error("Invalid data");const Q=x.getBestVersionForData(J,j);if(!Q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!W)W=Q;else if(W<Q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Q+`.
`);const ne=R(W,j,J),te=o.getSymbolSize(W),B=new d(te);return _(B,W),a(B),l(B,W),S(B,j,0),W>=7&&P(B,W),M(B,ne),isNaN(Z)&&(Z=C.getBestMask(B,S.bind(null,B,j))),C.applyMask(Z,B),S(B,j,Z),{modules:B,version:W,errorCorrectionLevel:j,maskPattern:Z,segments:J}}s.create=function(W,j){if(typeof W=="undefined"||W==="")throw new Error("No input text");let Z=m.M,J,Q;return typeof j!="undefined"&&(Z=m.from(j.errorCorrectionLevel,m.M),J=x.from(j.version),Q=C.from(j.maskPattern),j.toSJISFunc&&o.setToSJISFunction(j.toSJISFunc)),T(W,J,Z,Q)}},52882:(G,s,e)=>{const o=e(26143);function m(f){this.genPoly=void 0,this.degree=f,this.degree&&this.initialize(this.degree)}m.prototype.initialize=function(d){this.degree=d,this.genPoly=o.generateECPolynomial(this.degree)},m.prototype.encode=function(d){if(!this.genPoly)throw new Error("Encoder not initialized");const g=new Uint8Array(d.length+this.degree);g.set(d);const y=o.mod(g,this.genPoly),C=this.degree-y.length;if(C>0){const v=new Uint8Array(this.degree);return v.set(y,C),v}return y},G.exports=m},7007:(G,s)=>{const e="[0-9]+",o="[A-Z $%*+\\-./:]+";let m="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";m=m.replace(/u/g,"\\u");const f="(?:(?![A-Z0-9 $%*+\\-./:]|"+m+`)(?:.|[\r
]))+`;s.KANJI=new RegExp(m,"g"),s.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),s.BYTE=new RegExp(f,"g"),s.NUMERIC=new RegExp(e,"g"),s.ALPHANUMERIC=new RegExp(o,"g");const d=new RegExp("^"+m+"$"),g=new RegExp("^"+e+"$"),y=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");s.testKanji=function(v){return d.test(v)},s.testNumeric=function(v){return g.test(v)},s.testAlphanumeric=function(v){return y.test(v)}},16130:(G,s,e)=>{const o=e(76910),m=e(41085),f=e(8260),d=e(43424),g=e(51018),y=e(7007),C=e(10242),v=e(65987);function b(P){return unescape(encodeURIComponent(P)).length}function x(P,S,M){const R=[];let N;for(;(N=P.exec(M))!==null;)R.push({data:N[0],index:N.index,mode:S,length:N[0].length});return R}function E(P){const S=x(y.NUMERIC,o.NUMERIC,P),M=x(y.ALPHANUMERIC,o.ALPHANUMERIC,P);let R,N;return C.isKanjiModeEnabled()?(R=x(y.BYTE,o.BYTE,P),N=x(y.KANJI,o.KANJI,P)):(R=x(y.BYTE_KANJI,o.BYTE,P),N=[]),S.concat(M,R,N).sort(function(A,W){return A.index-W.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function O(P,S){switch(S){case o.NUMERIC:return m.getBitsLength(P);case o.ALPHANUMERIC:return f.getBitsLength(P);case o.KANJI:return g.getBitsLength(P);case o.BYTE:return d.getBitsLength(P)}}function w(P){return P.reduce(function(S,M){const R=S.length-1>=0?S[S.length-1]:null;return R&&R.mode===M.mode?(S[S.length-1].data+=M.data,S):(S.push(M),S)},[])}function _(P){const S=[];for(let M=0;M<P.length;M++){const R=P[M];switch(R.mode){case o.NUMERIC:S.push([R,{data:R.data,mode:o.ALPHANUMERIC,length:R.length},{data:R.data,mode:o.BYTE,length:R.length}]);break;case o.ALPHANUMERIC:S.push([R,{data:R.data,mode:o.BYTE,length:R.length}]);break;case o.KANJI:S.push([R,{data:R.data,mode:o.BYTE,length:b(R.data)}]);break;case o.BYTE:S.push([{data:R.data,mode:o.BYTE,length:b(R.data)}])}}return S}function a(P,S){const M={},R={start:{}};let N=["start"];for(let T=0;T<P.length;T++){const A=P[T],W=[];for(let j=0;j<A.length;j++){const Z=A[j],J=""+T+j;W.push(J),M[J]={node:Z,lastCount:0},R[J]={};for(let Q=0;Q<N.length;Q++){const ne=N[Q];M[ne]&&M[ne].node.mode===Z.mode?(R[ne][J]=O(M[ne].lastCount+Z.length,Z.mode)-O(M[ne].lastCount,Z.mode),M[ne].lastCount+=Z.length):(M[ne]&&(M[ne].lastCount=Z.length),R[ne][J]=O(Z.length,Z.mode)+4+o.getCharCountIndicator(Z.mode,S))}}N=W}for(let T=0;T<N.length;T++)R[N[T]].end=0;return{map:R,table:M}}function l(P,S){let M;const R=o.getBestModeForData(P);if(M=o.from(S,R),M!==o.BYTE&&M.bit<R.bit)throw new Error('"'+P+'" cannot be encoded with mode '+o.toString(M)+`.
 Suggested mode is: `+o.toString(R));switch(M===o.KANJI&&!C.isKanjiModeEnabled()&&(M=o.BYTE),M){case o.NUMERIC:return new m(P);case o.ALPHANUMERIC:return new f(P);case o.KANJI:return new g(P);case o.BYTE:return new d(P)}}s.fromArray=function(S){return S.reduce(function(M,R){return typeof R=="string"?M.push(l(R,null)):R.data&&M.push(l(R.data,R.mode)),M},[])},s.fromString=function(S,M){const R=E(S,C.isKanjiModeEnabled()),N=_(R),T=a(N,M),A=v.find_path(T.map,"start","end"),W=[];for(let j=1;j<A.length-1;j++)W.push(T.table[A[j]].node);return s.fromArray(w(W))},s.rawSplit=function(S){return s.fromArray(E(S,C.isKanjiModeEnabled()))}},10242:(G,s)=>{let e;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];s.getSymbolSize=function(f){if(!f)throw new Error('"version" cannot be null or undefined');if(f<1||f>40)throw new Error('"version" should be in range from 1 to 40');return f*4+17},s.getSymbolTotalCodewords=function(f){return o[f]},s.getBCHDigit=function(m){let f=0;for(;m!==0;)f++,m>>>=1;return f},s.setToSJISFunction=function(f){if(typeof f!="function")throw new Error('"toSJISFunc" is not a valid function.');e=f},s.isKanjiModeEnabled=function(){return typeof e!="undefined"},s.toSJIS=function(f){return e(f)}},43114:(G,s)=>{s.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}},23103:(G,s,e)=>{const o=e(10242),m=e(35393),f=e(64908),d=e(76910),g=e(43114),y=7973,C=o.getBCHDigit(y);function v(O,w,_){for(let a=1;a<=40;a++)if(w<=s.getCapacity(a,_,O))return a}function b(O,w){return d.getCharCountIndicator(O,w)+4}function x(O,w){let _=0;return O.forEach(function(a){const l=b(a.mode,w);_+=l+a.getBitsLength()}),_}function E(O,w){for(let _=1;_<=40;_++)if(x(O,_)<=s.getCapacity(_,w,d.MIXED))return _}s.from=function(w,_){return g.isValid(w)?parseInt(w,10):_},s.getCapacity=function(w,_,a){if(!g.isValid(w))throw new Error("Invalid QR Code version");typeof a=="undefined"&&(a=d.BYTE);const l=o.getSymbolTotalCodewords(w),P=m.getTotalCodewordsCount(w,_),S=(l-P)*8;if(a===d.MIXED)return S;const M=S-b(a,w);switch(a){case d.NUMERIC:return Math.floor(M/10*3);case d.ALPHANUMERIC:return Math.floor(M/11*2);case d.KANJI:return Math.floor(M/13);case d.BYTE:default:return Math.floor(M/8)}},s.getBestVersionForData=function(w,_){let a;const l=f.from(_,f.M);if(Array.isArray(w)){if(w.length>1)return E(w,l);if(w.length===0)return 1;a=w[0]}else a=w;return v(a.mode,a.getLength(),l)},s.getEncodedBits=function(w){if(!g.isValid(w)||w<7)throw new Error("Invalid QR Code version");let _=w<<12;for(;o.getBCHDigit(_)-C>=0;)_^=y<<o.getBCHDigit(_)-C;return w<<12|_}},6907:(G,s,e)=>{const o=e(89653);function m(d,g,y){d.clearRect(0,0,g.width,g.height),g.style||(g.style={}),g.height=y,g.width=y,g.style.height=y+"px",g.style.width=y+"px"}function f(){try{return document.createElement("canvas")}catch(d){throw new Error("You need to specify a canvas element")}}s.render=function(g,y,C){let v=C,b=y;typeof v=="undefined"&&(!y||!y.getContext)&&(v=y,y=void 0),y||(b=f()),v=o.getOptions(v);const x=o.getImageWidth(g.modules.size,v),E=b.getContext("2d"),O=E.createImageData(x,x);return o.qrToImageData(O.data,g,v),m(E,b,x),E.putImageData(O,0,0),b},s.renderToDataURL=function(g,y,C){let v=C;typeof v=="undefined"&&(!y||!y.getContext)&&(v=y,y=void 0),v||(v={});const b=s.render(g,y,v),x=v.type||"image/png",E=v.rendererOpts||{};return b.toDataURL(x,E.quality)}},93776:(G,s,e)=>{const o=e(89653);function m(g,y){const C=g.a/255,v=y+'="'+g.hex+'"';return C<1?v+" "+y+'-opacity="'+C.toFixed(2).slice(1)+'"':v}function f(g,y,C){let v=g+y;return typeof C!="undefined"&&(v+=" "+C),v}function d(g,y,C){let v="",b=0,x=!1,E=0;for(let O=0;O<g.length;O++){const w=Math.floor(O%y),_=Math.floor(O/y);!w&&!x&&(x=!0),g[O]?(E++,O>0&&w>0&&g[O-1]||(v+=x?f("M",w+C,.5+_+C):f("m",b,0),b=0,x=!1),w+1<y&&g[O+1]||(v+=f("h",E),E=0)):b++}return v}s.render=function(y,C,v){const b=o.getOptions(C),x=y.modules.size,E=y.modules.data,O=x+b.margin*2,w=b.color.light.a?"<path "+m(b.color.light,"fill")+' d="M0 0h'+O+"v"+O+'H0z"/>':"",_="<path "+m(b.color.dark,"stroke")+' d="'+d(E,x,b.margin)+'"/>',a='viewBox="0 0 '+O+" "+O+'"',P='<svg xmlns="http://www.w3.org/2000/svg" '+(b.width?'width="'+b.width+'" height="'+b.width+'" ':"")+a+' shape-rendering="crispEdges">'+w+_+`</svg>
`;return typeof v=="function"&&v(null,P),P}},89653:(G,s)=>{function e(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let m=o.slice().replace("#","").split("");if(m.length<3||m.length===5||m.length>8)throw new Error("Invalid hex color: "+o);(m.length===3||m.length===4)&&(m=Array.prototype.concat.apply([],m.map(function(d){return[d,d]}))),m.length===6&&m.push("F","F");const f=parseInt(m.join(""),16);return{r:f>>24&255,g:f>>16&255,b:f>>8&255,a:f&255,hex:"#"+m.slice(0,6).join("")}}s.getOptions=function(m){m||(m={}),m.color||(m.color={});const f=typeof m.margin=="undefined"||m.margin===null||m.margin<0?4:m.margin,d=m.width&&m.width>=21?m.width:void 0,g=m.scale||4;return{width:d,scale:d?4:g,margin:f,color:{dark:e(m.color.dark||"#000000ff"),light:e(m.color.light||"#ffffffff")},type:m.type,rendererOpts:m.rendererOpts||{}}},s.getScale=function(m,f){return f.width&&f.width>=m+f.margin*2?f.width/(m+f.margin*2):f.scale},s.getImageWidth=function(m,f){const d=s.getScale(m,f);return Math.floor((m+f.margin*2)*d)},s.qrToImageData=function(m,f,d){const g=f.modules.size,y=f.modules.data,C=s.getScale(g,d),v=Math.floor((g+d.margin*2)*C),b=d.margin*C,x=[d.color.light,d.color.dark];for(let E=0;E<v;E++)for(let O=0;O<v;O++){let w=(E*v+O)*4,_=d.color.light;if(E>=b&&O>=b&&E<v-b&&O<v-b){const a=Math.floor((E-b)/C),l=Math.floor((O-b)/C);_=x[y[a*g+l]?1:0]}m[w++]=_.r,m[w++]=_.g,m[w++]=_.b,m[w]=_.a}}},55798:G=>{"use strict";var s=String.prototype.replace,e=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};G.exports={default:o.RFC3986,formatters:{RFC1738:function(m){return s.call(m,e,"+")},RFC3986:function(m){return String(m)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986}},80129:(G,s,e)=>{"use strict";var o=e(58261),m=e(55235),f=e(55798);G.exports={formats:f,parse:m,stringify:o}},55235:(G,s,e)=>{"use strict";var o=e(12769),m=Object.prototype.hasOwnProperty,f=Array.isArray,d={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},g=function(w){return w.replace(/&#(\d+);/g,function(_,a){return String.fromCharCode(parseInt(a,10))})},y=function(w,_){return w&&typeof w=="string"&&_.comma&&w.indexOf(",")>-1?w.split(","):w},C="utf8=%26%2310003%3B",v="utf8=%E2%9C%93",b=function(_,a){var l={},P=a.ignoreQueryPrefix?_.replace(/^\?/,""):_,S=a.parameterLimit===1/0?void 0:a.parameterLimit,M=P.split(a.delimiter,S),R=-1,N,T=a.charset;if(a.charsetSentinel)for(N=0;N<M.length;++N)M[N].indexOf("utf8=")===0&&(M[N]===v?T="utf-8":M[N]===C&&(T="iso-8859-1"),R=N,N=M.length);for(N=0;N<M.length;++N)if(N!==R){var A=M[N],W=A.indexOf("]="),j=W===-1?A.indexOf("="):W+1,Z,J;j===-1?(Z=a.decoder(A,d.decoder,T,"key"),J=a.strictNullHandling?null:""):(Z=a.decoder(A.slice(0,j),d.decoder,T,"key"),J=o.maybeMap(y(A.slice(j+1),a),function(Q){return a.decoder(Q,d.decoder,T,"value")})),J&&a.interpretNumericEntities&&T==="iso-8859-1"&&(J=g(J)),A.indexOf("[]=")>-1&&(J=f(J)?[J]:J),m.call(l,Z)?l[Z]=o.combine(l[Z],J):l[Z]=J}return l},x=function(w,_,a,l){for(var P=l?_:y(_,a),S=w.length-1;S>=0;--S){var M,R=w[S];if(R==="[]"&&a.parseArrays)M=[].concat(P);else{M=a.plainObjects?Object.create(null):{};var N=R.charAt(0)==="["&&R.charAt(R.length-1)==="]"?R.slice(1,-1):R,T=parseInt(N,10);!a.parseArrays&&N===""?M={0:P}:!isNaN(T)&&R!==N&&String(T)===N&&T>=0&&a.parseArrays&&T<=a.arrayLimit?(M=[],M[T]=P):N!=="__proto__"&&(M[N]=P)}P=M}return P},E=function(_,a,l,P){if(_){var S=l.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,M=/(\[[^[\]]*])/,R=/(\[[^[\]]*])/g,N=l.depth>0&&M.exec(S),T=N?S.slice(0,N.index):S,A=[];if(T){if(!l.plainObjects&&m.call(Object.prototype,T)&&!l.allowPrototypes)return;A.push(T)}for(var W=0;l.depth>0&&(N=R.exec(S))!==null&&W<l.depth;){if(W+=1,!l.plainObjects&&m.call(Object.prototype,N[1].slice(1,-1))&&!l.allowPrototypes)return;A.push(N[1])}return N&&A.push("["+S.slice(N.index)+"]"),x(A,a,l,P)}},O=function(_){if(!_)return d;if(_.decoder!==null&&_.decoder!==void 0&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset!="undefined"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var a=typeof _.charset=="undefined"?d.charset:_.charset;return{allowDots:typeof _.allowDots=="undefined"?d.allowDots:!!_.allowDots,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:d.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:d.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:d.arrayLimit,charset:a,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:d.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:d.comma,decoder:typeof _.decoder=="function"?_.decoder:d.decoder,delimiter:typeof _.delimiter=="string"||o.isRegExp(_.delimiter)?_.delimiter:d.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:d.depth,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:d.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:d.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:d.plainObjects,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:d.strictNullHandling}};G.exports=function(w,_){var a=O(_);if(w===""||w===null||typeof w=="undefined")return a.plainObjects?Object.create(null):{};for(var l=typeof w=="string"?b(w,a):w,P=a.plainObjects?Object.create(null):{},S=Object.keys(l),M=0;M<S.length;++M){var R=S[M],N=E(R,l[R],a,typeof w=="string");P=o.merge(P,N,a)}return a.allowSparse===!0?P:o.compact(P)}},58261:(G,s,e)=>{"use strict";var o=e(37478),m=e(12769),f=e(55798),d=Object.prototype.hasOwnProperty,g={brackets:function(S){return S+"[]"},comma:"comma",indices:function(S,M){return S+"["+M+"]"},repeat:function(S){return S}},y=Array.isArray,C=String.prototype.split,v=Array.prototype.push,b=function(P,S){v.apply(P,y(S)?S:[S])},x=Date.prototype.toISOString,E=f.default,O={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:m.encode,encodeValuesOnly:!1,format:E,formatter:f.formatters[E],indices:!1,serializeDate:function(S){return x.call(S)},skipNulls:!1,strictNullHandling:!1},w=function(S){return typeof S=="string"||typeof S=="number"||typeof S=="boolean"||typeof S=="symbol"||typeof S=="bigint"},_={},a=function P(S,M,R,N,T,A,W,j,Z,J,Q,ne,te,B,V,re){for(var le=S,ae=re,q=0,oe=!1;(ae=ae.get(_))!==void 0&&!oe;){var z=ae.get(S);if(q+=1,typeof z!="undefined"){if(z===q)throw new RangeError("Cyclic object value");oe=!0}typeof ae.get(_)=="undefined"&&(q=0)}if(typeof j=="function"?le=j(M,le):le instanceof Date?le=Q(le):R==="comma"&&y(le)&&(le=m.maybeMap(le,function(Ie){return Ie instanceof Date?Q(Ie):Ie})),le===null){if(T)return W&&!B?W(M,O.encoder,V,"key",ne):M;le=""}if(w(le)||m.isBuffer(le)){if(W){var ie=B?M:W(M,O.encoder,V,"key",ne);if(R==="comma"&&B){for(var ue=C.call(String(le),","),de="",fe=0;fe<ue.length;++fe)de+=(fe===0?"":",")+te(W(ue[fe],O.encoder,V,"value",ne));return[te(ie)+(N&&y(le)&&ue.length===1?"[]":"")+"="+de]}return[te(ie)+"="+te(W(le,O.encoder,V,"value",ne))]}return[te(M)+"="+te(String(le))]}var ye=[];if(typeof le=="undefined")return ye;var pe;if(R==="comma"&&y(le))pe=[{value:le.length>0?le.join(",")||null:void 0}];else if(y(j))pe=j;else{var we=Object.keys(le);pe=Z?we.sort(Z):we}for(var Me=N&&y(le)&&le.length===1?M+"[]":M,je=0;je<pe.length;++je){var De=pe[je],me=typeof De=="object"&&typeof De.value!="undefined"?De.value:le[De];if(!(A&&me===null)){var ce=y(le)?typeof R=="function"?R(Me,De):Me:Me+(J?"."+De:"["+De+"]");re.set(S,q);var ge=o();ge.set(_,re),b(ye,P(me,ce,R,N,T,A,W,j,Z,J,Q,ne,te,B,V,ge))}}return ye},l=function(S){if(!S)return O;if(S.encoder!==null&&typeof S.encoder!="undefined"&&typeof S.encoder!="function")throw new TypeError("Encoder has to be a function.");var M=S.charset||O.charset;if(typeof S.charset!="undefined"&&S.charset!=="utf-8"&&S.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var R=f.default;if(typeof S.format!="undefined"){if(!d.call(f.formatters,S.format))throw new TypeError("Unknown format option provided.");R=S.format}var N=f.formatters[R],T=O.filter;return(typeof S.filter=="function"||y(S.filter))&&(T=S.filter),{addQueryPrefix:typeof S.addQueryPrefix=="boolean"?S.addQueryPrefix:O.addQueryPrefix,allowDots:typeof S.allowDots=="undefined"?O.allowDots:!!S.allowDots,charset:M,charsetSentinel:typeof S.charsetSentinel=="boolean"?S.charsetSentinel:O.charsetSentinel,delimiter:typeof S.delimiter=="undefined"?O.delimiter:S.delimiter,encode:typeof S.encode=="boolean"?S.encode:O.encode,encoder:typeof S.encoder=="function"?S.encoder:O.encoder,encodeValuesOnly:typeof S.encodeValuesOnly=="boolean"?S.encodeValuesOnly:O.encodeValuesOnly,filter:T,format:R,formatter:N,serializeDate:typeof S.serializeDate=="function"?S.serializeDate:O.serializeDate,skipNulls:typeof S.skipNulls=="boolean"?S.skipNulls:O.skipNulls,sort:typeof S.sort=="function"?S.sort:null,strictNullHandling:typeof S.strictNullHandling=="boolean"?S.strictNullHandling:O.strictNullHandling}};G.exports=function(P,S){var M=P,R=l(S),N,T;typeof R.filter=="function"?(T=R.filter,M=T("",M)):y(R.filter)&&(T=R.filter,N=T);var A=[];if(typeof M!="object"||M===null)return"";var W;S&&S.arrayFormat in g?W=S.arrayFormat:S&&"indices"in S?W=S.indices?"indices":"repeat":W="indices";var j=g[W];if(S&&"commaRoundTrip"in S&&typeof S.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var Z=j==="comma"&&S&&S.commaRoundTrip;N||(N=Object.keys(M)),R.sort&&N.sort(R.sort);for(var J=o(),Q=0;Q<N.length;++Q){var ne=N[Q];R.skipNulls&&M[ne]===null||b(A,a(M[ne],ne,j,Z,R.strictNullHandling,R.skipNulls,R.encode?R.encoder:null,R.filter,R.sort,R.allowDots,R.serializeDate,R.format,R.formatter,R.encodeValuesOnly,R.charset,J))}var te=A.join(R.delimiter),B=R.addQueryPrefix===!0?"?":"";return R.charsetSentinel&&(R.charset==="iso-8859-1"?B+="utf8=%26%2310003%3B&":B+="utf8=%E2%9C%93&"),te.length>0?B+te:""}},12769:(G,s,e)=>{"use strict";var o=e(55798),m=Object.prototype.hasOwnProperty,f=Array.isArray,d=function(){for(var l=[],P=0;P<256;++P)l.push("%"+((P<16?"0":"")+P.toString(16)).toUpperCase());return l}(),g=function(P){for(;P.length>1;){var S=P.pop(),M=S.obj[S.prop];if(f(M)){for(var R=[],N=0;N<M.length;++N)typeof M[N]!="undefined"&&R.push(M[N]);S.obj[S.prop]=R}}},y=function(P,S){for(var M=S&&S.plainObjects?Object.create(null):{},R=0;R<P.length;++R)typeof P[R]!="undefined"&&(M[R]=P[R]);return M},C=function l(P,S,M){if(!S)return P;if(typeof S!="object"){if(f(P))P.push(S);else if(P&&typeof P=="object")(M&&(M.plainObjects||M.allowPrototypes)||!m.call(Object.prototype,S))&&(P[S]=!0);else return[P,S];return P}if(!P||typeof P!="object")return[P].concat(S);var R=P;return f(P)&&!f(S)&&(R=y(P,M)),f(P)&&f(S)?(S.forEach(function(N,T){if(m.call(P,T)){var A=P[T];A&&typeof A=="object"&&N&&typeof N=="object"?P[T]=l(A,N,M):P.push(N)}else P[T]=N}),P):Object.keys(S).reduce(function(N,T){var A=S[T];return m.call(N,T)?N[T]=l(N[T],A,M):N[T]=A,N},R)},v=function(P,S){return Object.keys(S).reduce(function(M,R){return M[R]=S[R],M},P)},b=function(l,P,S){var M=l.replace(/\+/g," ");if(S==="iso-8859-1")return M.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(M)}catch(R){return M}},x=function(P,S,M,R,N){if(P.length===0)return P;var T=P;if(typeof P=="symbol"?T=Symbol.prototype.toString.call(P):typeof P!="string"&&(T=String(P)),M==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});for(var A="",W=0;W<T.length;++W){var j=T.charCodeAt(W);if(j===45||j===46||j===95||j===126||j>=48&&j<=57||j>=65&&j<=90||j>=97&&j<=122||N===o.RFC1738&&(j===40||j===41)){A+=T.charAt(W);continue}if(j<128){A=A+d[j];continue}if(j<2048){A=A+(d[192|j>>6]+d[128|j&63]);continue}if(j<55296||j>=57344){A=A+(d[224|j>>12]+d[128|j>>6&63]+d[128|j&63]);continue}W+=1,j=65536+((j&1023)<<10|T.charCodeAt(W)&1023),A+=d[240|j>>18]+d[128|j>>12&63]+d[128|j>>6&63]+d[128|j&63]}return A},E=function(P){for(var S=[{obj:{o:P},prop:"o"}],M=[],R=0;R<S.length;++R)for(var N=S[R],T=N.obj[N.prop],A=Object.keys(T),W=0;W<A.length;++W){var j=A[W],Z=T[j];typeof Z=="object"&&Z!==null&&M.indexOf(Z)===-1&&(S.push({obj:T,prop:j}),M.push(Z))}return g(S),P},O=function(P){return Object.prototype.toString.call(P)==="[object RegExp]"},w=function(P){return!P||typeof P!="object"?!1:!!(P.constructor&&P.constructor.isBuffer&&P.constructor.isBuffer(P))},_=function(P,S){return[].concat(P,S)},a=function(P,S){if(f(P)){for(var M=[],R=0;R<P.length;R+=1)M.push(S(P[R]));return M}return S(P)};G.exports={arrayToObject:y,assign:v,combine:_,compact:E,decode:b,encode:x,isBuffer:w,isRegExp:O,maybeMap:a,merge:C}},62587:G=>{"use strict";function s(e,o){return Object.prototype.hasOwnProperty.call(e,o)}G.exports=function(e,o,m,f){o=o||"&",m=m||"=";var d={};if(typeof e!="string"||e.length===0)return d;var g=/\+/g;e=e.split(o);var y=1e3;f&&typeof f.maxKeys=="number"&&(y=f.maxKeys);var C=e.length;y>0&&C>y&&(C=y);for(var v=0;v<C;++v){var b=e[v].replace(g,"%20"),x=b.indexOf(m),E,O,w,_;x>=0?(E=b.substr(0,x),O=b.substr(x+1)):(E=b,O=""),w=decodeURIComponent(E),_=decodeURIComponent(O),s(d,w)?Array.isArray(d[w])?d[w].push(_):d[w]=[d[w],_]:d[w]=_}return d}},12361:G=>{"use strict";var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};G.exports=function(e,o,m,f){return o=o||"&",m=m||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(d){var g=encodeURIComponent(s(d))+m;return Array.isArray(e[d])?e[d].map(function(y){return g+encodeURIComponent(s(y))}).join(o):g+encodeURIComponent(s(e[d]))}).join(o):f?encodeURIComponent(s(f))+m+encodeURIComponent(s(e)):""}},17673:(G,s,e)=>{"use strict";s.decode=s.parse=e(62587),s.encode=s.stringify=e(12361)},35639:(G,s,e)=>{"use strict";var o;o={value:!0};var m=Object.assign||function(R){for(var N=1;N<arguments.length;N++){var T=arguments[N];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(R[A]=T[A])}return R},f=function(){function R(N,T){for(var A=0;A<T.length;A++){var W=T[A];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(N,W.key,W)}}return function(N,T,A){return T&&R(N.prototype,T),A&&R(N,A),N}}(),d=e(98661),g=v(d),y=e(45697),C=v(y);function v(R){return R&&R.__esModule?R:{default:R}}function b(R,N){var T={};for(var A in R)N.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(R,A)&&(T[A]=R[A]);return T}function x(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}function E(R,N){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:R}function O(R,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);R.prototype=Object.create(N&&N.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(R,N):R.__proto__=N)}var w={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},_=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],a=function(N){return _.forEach(function(T){return delete N[T]}),N},l=function(N,T){T.style.fontSize=N.fontSize,T.style.fontFamily=N.fontFamily,T.style.fontWeight=N.fontWeight,T.style.fontStyle=N.fontStyle,T.style.letterSpacing=N.letterSpacing,T.style.textTransform=N.textTransform},P=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,S=function(){return P?"_"+Math.random().toString(36).substr(2,12):void 0},M=function(R){O(N,R),f(N,null,[{key:"getDerivedStateFromProps",value:function(A,W){var j=A.id;return j!==W.prevId?{inputId:j||S(),prevId:j}:null}}]);function N(T){x(this,N);var A=E(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,T));return A.inputRef=function(W){A.input=W,typeof A.props.inputRef=="function"&&A.props.inputRef(W)},A.placeHolderSizerRef=function(W){A.placeHolderSizer=W},A.sizerRef=function(W){A.sizer=W},A.state={inputWidth:T.minWidth,inputId:T.id||S(),prevId:T.id},A}return f(N,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(A,W){W.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var A=this.input&&window.getComputedStyle(this.input);A&&(l(A,this.sizer),this.placeHolderSizer&&l(A,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var A=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?A=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:A=this.sizer.scrollWidth+2;var W=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;A+=W,A<this.props.minWidth&&(A=this.props.minWidth),A!==this.state.inputWidth&&this.setState({inputWidth:A})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var A=this.props.injectStyles;return P&&A?g.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var A=[this.props.defaultValue,this.props.value,""].reduce(function(J,Q){return J!=null?J:Q}),W=m({},this.props.style);W.display||(W.display="inline-block");var j=m({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),Z=b(this.props,[]);return a(Z),Z.className=this.props.inputClassName,Z.id=this.state.inputId,Z.style=j,g.default.createElement("div",{className:this.props.className,style:W},this.renderStyles(),g.default.createElement("input",m({},Z,{ref:this.inputRef})),g.default.createElement("div",{ref:this.sizerRef,style:w},A),this.props.placeholder?g.default.createElement("div",{ref:this.placeHolderSizerRef,style:w},this.props.placeholder):null)}}]),N}(d.Component);M.propTypes={className:C.default.string,defaultValue:C.default.any,extraWidth:C.default.oneOfType([C.default.number,C.default.string]),id:C.default.string,injectStyles:C.default.bool,inputClassName:C.default.string,inputRef:C.default.func,inputStyle:C.default.object,minWidth:C.default.oneOfType([C.default.number,C.default.string]),onAutosize:C.default.func,onChange:C.default.func,placeholder:C.default.string,placeholderIsMinWidth:C.default.bool,style:C.default.object,value:C.default.any},M.defaultProps={minWidth:1,injectStyles:!0},s.Z=M},62372:(G,s,e)=>{"use strict";e.d(s,{XI:()=>Ve,sJ:()=>Ie});var o=e(98661);function m(Fe,Ue){for(var be=0;be<Ue.length;be++){var Ge=Ue[be];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(Fe,Ge.key,Ge)}}function f(Fe,Ue,be){return Ue&&m(Fe.prototype,Ue),be&&m(Fe,be),Fe}function d(){return d=Object.assign||function(Fe){for(var Ue=1;Ue<arguments.length;Ue++){var be=arguments[Ue];for(var Ge in be)Object.prototype.hasOwnProperty.call(be,Ge)&&(Fe[Ge]=be[Ge])}return Fe},d.apply(this,arguments)}function g(Fe,Ue){Fe.prototype=Object.create(Ue.prototype),Fe.prototype.constructor=Fe,y(Fe,Ue)}function y(Fe,Ue){return y=Object.setPrototypeOf||function(Ge,nt){return Ge.__proto__=nt,Ge},y(Fe,Ue)}function C(Fe,Ue){if(Fe==null)return{};var be={},Ge=Object.keys(Fe),nt,Oe;for(Oe=0;Oe<Ge.length;Oe++)nt=Ge[Oe],!(Ue.indexOf(nt)>=0)&&(be[nt]=Fe[nt]);return be}function v(Fe,Ue){if(Fe){if(typeof Fe=="string")return b(Fe,Ue);var be=Object.prototype.toString.call(Fe).slice(8,-1);if(be==="Object"&&Fe.constructor&&(be=Fe.constructor.name),be==="Map"||be==="Set")return Array.from(Fe);if(be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return b(Fe,Ue)}}function b(Fe,Ue){(Ue==null||Ue>Fe.length)&&(Ue=Fe.length);for(var be=0,Ge=new Array(Ue);be<Ue;be++)Ge[be]=Fe[be];return Ge}function x(Fe,Ue){var be=typeof Symbol!="undefined"&&Fe[Symbol.iterator]||Fe["@@iterator"];if(be)return(be=be.call(Fe)).next.bind(be);if(Array.isArray(Fe)||(be=v(Fe))||Ue&&Fe&&typeof Fe.length=="number"){be&&(Fe=be);var Ge=0;return function(){return Ge>=Fe.length?{done:!0}:{done:!1,value:Fe[Ge++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(Fe){var Ue=(0,o.useRef)(null);function be(Ge){!Ge||Ge===Ue.current||(Ue.current=Ge,Fe(Ge))}return be}function O(Fe){var Ue=(0,o.useRef)(Fe);return(0,o.useMemo)(function(){function be(nt){typeof nt=="function"?Ue.current=nt(Ue.current):Ue.current=nt}function Ge(){return Ue.current}return[Ge,be]},[])}function w(){var Fe=(0,o.useRef)([]);return(0,o.useMemo)(function(){function Ue(){return Fe.current.length>0}function be(){for(var nt=x(Fe.current),Oe;!(Oe=nt()).done;){var K=Oe.value;K()}Fe.current=[]}function Ge(nt){Fe.current.push(nt)}return{hasEventSubscriptions:Ue,removeAllEventSubscriptions:be,addEventSubscription:Ge}},[])}var _=typeof window!="undefined"?o.useLayoutEffect:o.useEffect;function a(Fe,Ue){var be=(0,o.useRef)(Fe);return Ue?(be.current=Fe,be):(be.current=null,be)}var l={top:0,left:0,right:1,bottom:1,width:1,height:1};function P(Fe){var Ue=Fe===void 0?{}:Fe,be=Ue.enabled,Ge=be===void 0?!0:be,nt=Ue.preventDefault,Oe=nt===void 0?!0:nt,K=useRef(null),Y=useState(l),he=Y[0],Te=Y[1];function He(){Te(l)}var Qe=he!==l;function ht(ct){if(Ge){Oe&&ct.preventDefault();var Pt=ct.clientX,Nt=ct.clientY;Te({top:Nt,left:Pt,width:1,height:1,right:Pt+1,bottom:Nt+1})}}return{hasMousePosition:Qe,resetMousePosition:He,handleMouseEvent:ht,trigger:{getBounds:function(){return he},getParent:K.current?function(){return K.current}:void 0},parentRef:K}}function S(Fe){return parseFloat(Fe.replace("px",""))}function M(Fe,Ue,be){return Fe<Ue?Ue:Fe>be?be:Fe}function R(Fe){return Fe!=null}function N(){for(var Fe=arguments.length,Ue=new Array(Fe),be=0;be<Fe;be++)Ue[be]=arguments[be];return function(Ge){for(var nt=x(Ue),Oe;!(Oe=nt()).done;){var K=Oe.value;K&&(typeof K=="function"?K(Ge):K.current=Ge)}}}function T(Fe,Ue){if(typeof Fe!="undefined")return Ue||Fe.ResizeObserver}function A(Fe,Ue){var be=[];if(!Fe||!Ue||Fe===document.body)return be;var Ge=Ue.getComputedStyle(Fe),nt=Ge.overflow,Oe=Ge.overflowX,K=Ge.overflowY;return[nt,Oe,K].some(function(Y){return["auto","scroll"].includes(Y)})&&be.push(Fe),[].concat(be,A(Fe.parentElement,Ue))}function W(Fe){return"react-laag: Could not find a valid reference for the "+Fe+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+Fe+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+Fe+" when the isOpen prop is set to true"}function j(Fe){var Ue=Fe.enabled,be=Fe.onChange,Ge=Fe.environment,nt=Fe.ResizeObserverPolyfill,Oe=Fe.overflowContainer,K=Fe.triggerOption,Y=T(Ge,nt);(0,o.useEffect)(function(){},[Y]);var he=(0,o.useRef)(null),Te=!!K,He=O({scrollContainers:[],trigger:null,layer:null}),Qe=He[0],ht=He[1],ct=w(),Pt=ct.hasEventSubscriptions,Nt=ct.addEventSubscription,sn=ct.removeAllEventSubscriptions,Et=(0,o.useCallback)(function(){var bn=Qe(),Un=bn.layer,qn=bn.trigger,cr=bn.scrollContainers,hr=cr[0];if(!Un)throw new Error(W("layer"));if(!qn&&!Te)throw new Error(W("trigger"));var pr={top:0,left:0};if(hr){var Lr=hr.scrollLeft,oo=hr.scrollTop;pr={top:oo,left:Lr}}else{var Kr=Ge.scrollX,co=Ge.scrollY;pr={top:co,left:Kr}}var lo={left:0,top:0};if(hr){var dr=Ge.getComputedStyle(hr),Nr=dr.borderLeftWidth,Hr=dr.borderTopWidth;lo={left:S(Nr)||0,top:S(Hr)||0}}be({layer:Un,trigger:qn,scrollContainers:cr,arrow:he.current},pr,lo)},[Qe,be,Ge,he,Te]),Ot=(0,o.useCallback)(function(){var bn=Qe(),Un=bn.trigger,qn=bn.layer,cr=bn.scrollContainers;if(!qn)throw new Error(W("layer"));if(!Un&&!Te)throw new Error(W("trigger"));if(Y){for(var hr=!1,pr=function(){if(!hr){hr=!0;return}Et()},Lr=new Y(pr),oo=0,Kr=[Un,qn,document.body];oo<Kr.length;oo++){var co=Kr[oo];co&&Lr.observe(co)}Nt(function(){for(var Ur=0,uo=[Un,qn,document.body];Ur<uo.length;Ur++){var mo=uo[Ur];mo&&Lr.unobserve(mo)}Lr.disconnect()})}for(var lo=[Ge].concat(cr),dr=function(){var uo=Hr.value;uo.addEventListener("scroll",Et),Nt(function(){return uo.removeEventListener("scroll",Et)})},Nr=x(lo),Hr;!(Hr=Nr()).done;)dr()},[Qe,Nt,Et,Ge,Y,Te]),at=(0,o.useCallback)(function(gn,bn){Ue&&gn&&gn!==bn&&(sn(),Ot(),Et())},[sn,Ot,Et,Ue]),Ht=E((0,o.useCallback)(function(gn){var bn=Qe(),Un=bn.layer;ht(function(qn){return d({},qn,{layer:gn})}),at(Un,gn)},[Qe,ht,at])),zt=(0,o.useCallback)(function(bn){var Un=A(bn,Ge),qn=Un[0];if(qn){var cr=Ge.getComputedStyle(qn).position,hr=["relative","absolute","fixed"].includes(cr)||Oe;hr||(qn.style.position="relative")}return Un},[Ge,Oe]),on=E((0,o.useCallback)(function(gn){var bn=zt(gn),Un=Qe(),qn=Un.trigger;ht(function(cr){return d({},cr,{trigger:gn,scrollContainers:bn})}),at(qn,gn)},[Qe,ht,at,zt])),hn=K==null||K.getParent==null?void 0:K.getParent();return _(function(){hn&&ht(function(gn){return d({},gn,{scrollContainers:zt(hn)})})},[hn,ht,zt]),_(function(){return Ue&&(Pt()||Ot()),function(){Pt()&&sn()}},[Ue,Pt,Ot,sn]),_(function(){Ue&&Et()}),{triggerRef:on,layerRef:Ht,arrowRef:he,closestScrollContainer:Qe().scrollContainers[0]||null}}var Z=(0,o.createContext)({});function J(Fe){var Ue=Fe.children,be=Fe.registrations,Ge=(0,o.useCallback)(function(Oe){return be.current.add(Oe),function(){return be.current.delete(Oe)}},[be]);return(0,o.createElement)(Z.Provider,{value:Ge},Ue)}function Q(Fe,Ue){for(var be=x(Fe),Ge;!(Ge=be()).done;){var nt=Ge.value.shouldCloseWhenClickedOutside;if(!nt(Ue))return!1}return!0}function ne(Fe){var Ue=Fe.isOpen,be=Fe.onOutsideClick,Ge=Fe.onParentClose,nt=(0,o.useRef)(null),Oe=(0,o.useRef)(null),K=(0,o.useRef)(new Set),Y=(0,o.useContext)(Z),he=(0,o.useCallback)(function(He){var Qe=He.target,ht=nt.current&&nt.current.contains(Qe),ct=Oe.current&&Oe.current.contains(Qe),Pt=Q(K.current,He);return ct&&Pt&&K.current.forEach(function(Nt){var sn=Nt.closeChild;return sn()}),!ht&&!ct&&Pt},[nt,Oe,K]);return(0,o.useEffect)(function(){if(typeof Y=="function")return Y({shouldCloseWhenClickedOutside:he,closeChild:function(){Ge&&Ge()}})},[Y,he,Ge,K]),(0,o.useEffect)(function(){var Te=typeof Y=="function",He=!Ue||!be||Te;if(He)return;function Qe(ht){he(ht)&&be()}return document.addEventListener("click",Qe,!0),function(){return document.removeEventListener("click",Qe,!0)}},[Ue,be,he,Y]),(0,o.useEffect)(function(){Ue||K.current.forEach(function(Te){var He=Te.closeChild;return He()})},[Ue]),{closeOnOutsideClickRefs:{trigger:nt,layer:Oe},registrations:K}}var te=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],B={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},V=function(){function Fe(be,Ge,nt,Oe,K,Y,he,Te,He){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=be,this.opposite=Ge,this.isHorizontal=nt,this.sizeProp=Oe,this.oppositeSizeProp=K,this.cssProp=Y,this.oppositeCssProp=he,this.isCenter=Te,this.isPush=He}var Ue=Fe.prototype;return Ue.factor=function(Ge){return Ge*(this.isPush?1:-1)},Ue.isOppositeDirection=function(Ge){return this.isHorizontal!==Ge.isHorizontal},Fe}();function re(Fe,Ue){Ue===void 0&&(Ue=!0);var be=["left","right"].includes(Fe);return new V(Fe,Ue?re(B[Fe],!1):null,be,be?"width":"height",be?"height":"width",be?"left":"top",be?"top":"left",Fe==="center",!["right","bottom"].includes(Fe))}var le={top:re("top"),bottom:re("bottom"),left:re("left"),right:re("right")},ae=d({},le,{center:re("center")}),q=["top","left","bottom","right"],oe=function(){function Fe(Ue){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,Ue)}return Fe.mergeSmallestSides=function(be){var Ge=be[0],nt=be.slice(1);if(!Ge)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var Oe=Object.fromEntries(q.map(function(ht){return[ht,Ge[ht]]})),K=x(nt),Y;!(Y=K()).done;)for(var he=Y.value,Te=x(q),He;!(He=Te()).done;){var Qe=He.value;Oe[Qe]=Math.min(Oe[Qe],he[Qe])}return new Fe(Oe)},f(Fe,[{key:"allSidesArePositive",get:function(){var be=this;return q.every(function(Ge){return be[Ge]>=0})}},{key:"negativeSides",get:function(){var be=this;return Object.fromEntries(q.filter(function(Ge){return be[Ge]<0}).map(function(Ge){return[Ge,be[Ge]]}))}}]),Fe}();function z(){for(var Fe=arguments.length,Ue=new Array(Fe),be=0;be<Fe;be++)Ue[be]=arguments[be];return Ue.reduce(function(Ge,nt){return Ge+(nt?S(nt):0)},0)}function ie(Fe){var Ue=Fe.top,be=Fe.left,Ge=Fe.right,nt=Fe.bottom,Oe=Fe.width,K=Fe.height;return{top:Ue,left:be,right:Ge,bottom:nt,width:Oe,height:K}}var ue={top:0,left:0,right:0,bottom:0,width:0,height:0},de=function(){Fe.create=function(Ge){return new Fe(Ge)},Fe.fromElement=function(Ge,nt){nt===void 0&&(nt={});var Oe=nt,K=Oe.withTransform,Y=K===void 0?!0:K,he=Oe.environment,Te=he===void 0?window:he,He=Oe.withScrollbars,Qe=He===void 0?!0:He,ht=ie(Ge.getBoundingClientRect()),ct=new Fe(ht);if(!Y){var Pt=Te.getComputedStyle(Ge),Nt=Pt.width,sn=Pt.height,Et=Pt.boxSizing,Ot=Pt.borderLeft,at=Pt.borderRight,Ht=Pt.borderTop,zt=Pt.borderBottom,on=Pt.paddingLeft,hn=Pt.paddingRight,gn=Pt.paddingTop,bn=Pt.paddingBottom,Un=Et==="border-box"?S(Nt):z(Nt,Ot,at,on,hn),qn=Et==="border-box"?S(sn):z(sn,Ht,zt,gn,bn);ct=new Fe(d({},ct,{width:Un,height:qn}))}if(!Qe){var cr=ct.width-Ge.clientWidth,hr=ct.height-Ge.clientHeight;return ct.substract({right:cr,bottom:hr})}return ct},Fe.empty=function(){return new Fe},Fe.fromWindow=function(Ge){var nt,Oe=(nt=Ge==null?void 0:Ge.document.scrollingElement)!=null?nt:Ge==null?void 0:Ge.document.documentElement,K=Oe!=null?Oe:{},Y=K.clientWidth,he=Y===void 0?0:Y,Te=K.clientHeight,He=Te===void 0?0:Te;return new Fe({width:he,height:He,right:he,bottom:He})};function Fe(be){return be===void 0&&(be={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,ue,be)}var Ue=Fe.prototype;return Ue.toObject=function(){return ie(this)},Ue.merge=function(Ge){var nt=this.toObject();return new Fe(d({},nt,typeof Ge=="function"?Ge(nt):Ge))},Ue.substract=function(Ge){for(var nt=this.toObject(),Oe=Object.entries(Ge),K=0,Y=Oe;K<Y.length;K++){var he=Y[K],Te=he[0],He=he[1];if(Te in le){var Qe=le[Te];nt[Te]+=Qe.factor(He),nt[Qe.isHorizontal?"width":"height"]-=He}else nt[Te]-=He||0}return new Fe(nt)},Ue.offsetsTo=function(Ge){return new oe({top:Ge.top-this.top,bottom:this.bottom-Ge.bottom,left:Ge.left-this.left,right:this.right-Ge.right})},Ue.mapSides=function(Ge){for(var nt=this.toObject(),Oe=Object.values(le),K=0,Y=Oe;K<Y.length;K++){var he=Y[K];nt[he.prop]=Ge(he,nt[he.prop])}return new Fe(nt)},f(Fe,[{key:"surface",get:function(){return this.width*this.height}}]),Fe}(),fe=function(){function Fe(be,Ge,nt,Oe,K){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=be,this.secondary=Ge,this.offsets=K,this.setSubjectsBounds(nt,Oe)}var Ue=Fe.prototype;return Ue.setSubjectsBounds=function(Ge,nt){if(!nt){this.subjectsBounds=Ge;return}var Oe=typeof nt=="function"?nt(this.primary.prop):nt;this.subjectsBounds=Ge.merge({layer:d({},Ge.layer,Oe)})},Ue.getLayerBounds=function(Ge){if(Ge===void 0&&(Ge=0),this._cachedLayerBounds&&Ge===0)return this._cachedLayerBounds;var nt=this.primary,Oe=this.secondary,K=this.subjectsBounds,Y=K.trigger,he=K.layer,Te=K.arrow,He=nt.isHorizontal,Qe=nt.oppositeCssProp,ht=nt.oppositeSizeProp,ct=nt.prop,Pt=nt.opposite,Nt=de.empty();Nt[Pt.prop]=Y[ct]-nt.factor(this.offsets.trigger),Nt[ct]=Nt[Pt.prop]-nt.factor(he[nt.sizeProp]);var sn=this.offsets.arrow*2,Et=Y[Qe]-(he[ht]-Te[ht])+sn,Ot=Y[Qe]+(Y[ht]-Te[ht])-sn;if(Oe.isPush||(Et+=he[ht],Ot+=he[ht]),Oe.isCenter){var at=(He?le.top:le.left).prop,Ht=(He?le.bottom:le.right).prop;Nt[at]=M(Y[at]+Y[ht]/2-he[ht]/2+Ge,Et,Ot),Nt[Ht]=Nt[at]+he[ht]}else{var zt=Oe,on=Y[zt.prop],hn=on<Et?Et-on:on>Ot?Ot-on:0;Nt[zt.prop]=M(on+Ge+hn,Et,Ot),Nt[zt.opposite.prop]=Nt[zt.prop]+Oe.factor(he[ht])}Nt.width=Nt.right-Nt.left,Nt.height=Nt.bottom-Nt.top;var gn=de.create(Nt);return Ge===0&&(this._cachedLayerBounds=gn),gn},Ue.getLayerCollisionBounds=function(){var Ge=this.offsets.container;return this.getLayerBounds().mapSides(function(nt,Oe){return Oe-=nt.factor(Ge)}).merge(function(nt){var Oe=nt.width,K=nt.height;return{width:Oe+Ge*2,height:K+Ge*2}})},Ue.getContainerOffsets=function(Ge){if(this._cachedContainerOffsets&&!Ge)return this._cachedContainerOffsets;var nt=this.subjectsBounds.merge({layer:Ge||this.getLayerCollisionBounds()}),Oe=oe.mergeSmallestSides(nt.layerOffsetsToScrollContainers);return Ge||(this._cachedContainerOffsets=Oe),Oe},f(Fe,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var Ge=this.secondary.isHorizontal,nt=this.subjectsBounds,Oe=nt.triggerHasBiggerWidth,K=nt.triggerHasBiggerHeight;return Ge&&Oe||!Ge&&K}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var Ge=this.getLayerBounds(),nt=this.getContainerOffsets(Ge),Oe=nt.negativeSides;for(var K in Oe)Oe[K]=-Oe[K];return Ge.substract(Oe).surface}},{key:"secondaryOffsetSide",get:function(){var Ge,nt,Oe=this,K=this.getContainerOffsets(),Y=(Ge=(nt=Object.entries(K.negativeSides).map(function(Te){var He=Te[0],Qe=Te[1];return[le[He],Qe]}).filter(function(Te){var He=Te[0];return Oe.primary.isOppositeDirection(He)}).sort(function(Te,He){var Qe=Te[1],ht=He[1];return ht-Qe}))==null?void 0:nt[0])!=null?Ge:[],he=Y[0];return he||null}}]),Fe}(),ye=function(Fe){g(Ue,Fe);function Ue(){return Fe.apply(this,arguments)||this}var be=Ue.prototype;return be.getLayerBounds=function(){var nt=this.subjectsBounds,Oe=nt.trigger,K=nt.layer,Y=de.empty();return Y.top=Oe.top+Oe.height/2-K.height/2,Y.bottom=Y.top+K.height,Y.left=Oe.left+Oe.width/2-K.width/2,Y.right=Y.left+K.width,Y.width=Y.right-Y.left,Y.height=Y.bottom-Y.top,Y},Ue}(fe);function pe(Fe,Ue,be){var Ge=Fe.layer,nt=Fe.trigger,Oe=Fe.arrow,K=Ue.primary.oppositeSizeProp,Y=Ue.primary.isHorizontal?["top","bottom"]:["left","right"],he=Y[0],Te=Y[1],He=Ge[he]+Ge[K]/2-nt[he]-Oe[K]/2-be,Qe=Ge[Te]-Ge[K]/2-nt[Te]+Oe[K]/2+be;return(He<0?-He:0)+(Qe>0?-Qe:0)}var we={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function Me(Fe,Ue,be){var Ge;if(Ue.primary.isCenter)return we;var nt=Fe.layer,Oe=Fe.trigger,K=Fe.arrow,Y=Ue.primary.oppositeSizeProp,he=Oe[Y]>nt[Y],Te=be+K[Y]/2,He=nt[Y]-K[Y]/2-be,Qe=pe(Fe,Ue,be),ht=Ue.primary.prop,ct=Ue.primary.oppositeCssProp,Pt=he?nt[Y]/2+Qe:Oe[ct]+Oe[Y]/2-nt[ct];return d({},we,(Ge={},Ge[ht]="100%",Ge[ct]=M(Pt,Te,He),Ge))}var je=function(){function Fe(be,Ge,nt){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=be,this.config=Ge,this.subjectsBounds=nt}Fe.getSidesFromPlacementType=function(Ge){var nt=Ge.split("-"),Oe=nt[0],K=nt[1],Y=le[Oe],he;return K==="center"?he=ae.center:Y.isHorizontal?he=K==="start"?ae.top:ae.bottom:he=K==="start"?ae.left:ae.right,[Y,he]},Fe.create=function(Ge,nt){var Oe={arrow:nt.arrowOffset,container:nt.containerOffset,trigger:nt.triggerOffset};function K(Y){Y===void 0&&(Y=nt.placement);var he=Fe.getSidesFromPlacementType(Y),Te=he[0],He=he[1],Qe=le[Te.isHorizontal?nt.preferY:nt.preferX],ht=!Te.isHorizontal&&Ge.triggerHasBiggerWidth||Te.isHorizontal&&Ge.triggerHasBiggerHeight;function ct(Nt,sn){return new fe(Nt,sn,Ge,nt.layerDimensions,Oe)}var Pt=[];return Pt[0]=ct(Te,He),Pt[1]=ct(Te,He.isCenter?Qe:ae.center),Pt[2]=ct(Te,ae[(He.opposite.isCenter?Qe.opposite:He.opposite).prop]),Pt[3]=ct(Qe,ht?Te:ae[Te.opposite.prop]),Pt[4]=ct(Qe,ae.center),Pt[5]=ct(Qe,ht?ae[Te.opposite.prop]:Te),Pt[6]=ct(le[Qe.opposite.prop],ht?Te:ae[Te.opposite.prop]),Pt[7]=ct(le[Qe.opposite.prop],ae.center),Pt[8]=ct(le[Qe.opposite.prop],ht?ae[Te.opposite.prop]:Te),Pt[9]=ct(le[Te.opposite.prop],He),Pt[10]=ct(le[Te.opposite.prop],He.isCenter?Qe:ae.center),Pt[11]=ct(le[Te.opposite.prop],ae[(He.opposite.isCenter?Qe.opposite:He.opposite).prop]),Pt=Pt.filter(function(Nt){return Nt.type===nt.placement||nt.possiblePlacements.includes(Nt.type)}),Pt}return nt.placement==="center"?new Fe([new ye(ae.center,ae.center,Ge,nt.layerDimensions,Oe)].concat(K(nt.preferY+"-"+nt.preferX)),nt,Ge):new Fe(K(),nt,Ge)};var Ue=Fe.prototype;return Ue.filterPlacementsBySide=function(Ge){return this.placements.filter(function(nt){return nt.primary===Ge})},Ue.findFirstPlacementThatFits=function(){return this.placements.find(function(Ge){return Ge.fitsContainer})},Ue.placementWithBiggestVisibleSurface=function(){var Ge=this.placements.map(function(Oe){return{placement:Oe,surface:Oe.visibleSurface}}).sort(function(Oe,K){return K.surface-Oe.surface}),nt=Ge[0].placement;return nt},Ue.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},Ue.getSecondaryOffset=function(Ge){var nt=this.config,Oe=nt.auto,K=nt.snap;if(!Oe||K||Ge instanceof ye)return 0;var Y=this.filterPlacementsBySide(Ge.primary),he=Y.indexOf(Ge)===0;if(he&&Ge.fitsContainer)return 0;var Te=Y.find(function(Nt){return!Nt.fitsContainer});if(!Te)return 0;var He=Te.secondaryOffsetSide;if(!He)return 0;var Qe=Ge.getContainerOffsets(),ht=Ge.secondary,ct;Ge.triggerIsBigger||Te===Ge?ct=He.isPush?-1:1:ct=ht===ae.left||[ae.top,ae.center].includes(ht)&&He.isPush?-1:1;var Pt=Qe[He.prop];return Pt*ct},Ue.getStyles=function(Ge,nt,Oe,K){var Y={willChange:"top, left, width, height"},he=Me(this.subjectsBounds.merge({layer:Ge}),nt,this.config.arrowOffset),Te=this.config.overflowContainer?d({},Y,{position:"fixed",top:Ge.top,left:Ge.left}):d({},Y,{position:"absolute",top:Ge.top-this.subjectsBounds.parent.top+Oe.top-K.top,left:Ge.left-this.subjectsBounds.parent.left+Oe.left-K.left});return{arrow:he,layer:Te}},Ue.getHasDisappeared=function(Ge){var nt=this.config.overflowContainer?this.subjectsBounds.trigger:Ge,Oe=oe.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(nt,!0)),K=Object.entries(Oe.negativeSides),Y=K.some(function(he){var Te=he[0],He=he[1],Qe=le[Te];return He<=-nt[Qe.sizeProp]});return Y?"full":Oe.allSidesArePositive?null:"partial"},Ue.result=function(Ge,nt){var Oe=this.findSuitablePlacement(),K=this.getSecondaryOffset(Oe),Y=Oe.getLayerBounds(K),he=this.getStyles(Y,Oe,Ge,nt),Te=Oe.primary.prop;return{styles:he,layerSide:Te,placement:Oe,layerBounds:Y,hasDisappeared:this.getHasDisappeared(Y)}},Fe}(),De=function(){function Fe(be,Ge){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=Ge,Object.assign(this,be)}Fe.create=function(Ge,nt,Oe,K,Y,he,Te,He){var Qe=de.fromWindow(Ge);return new Fe({layer:de.fromElement(nt,{environment:Ge,withTransform:!1}),trigger:He?de.create(ie(He())):de.fromElement(Oe),arrow:Y?de.fromElement(Y):de.empty(),parent:K?de.fromElement(K):Qe,window:Qe,scrollContainers:[Qe].concat(he.map(function(ht){return de.fromElement(ht,{withScrollbars:!1})}))},Te)};var Ue=Fe.prototype;return Ue.merge=function(Ge){return new Fe(d({},this,Ge),this.overflowContainer)},Ue.offsetsToScrollContainers=function(Ge,nt){nt===void 0&&(nt=!1);var Oe=this.overflowContainer&&!nt?[this.window]:this.scrollContainers;return Oe.map(function(K){return K.offsetsTo(Ge)})},f(Fe,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),Fe}(),me=null;function ce(Fe){typeof document!="undefined"&&(typeof Fe=="function"?me=Fe():typeof Fe=="string"?me=document.getElementById(Fe):me=Fe)}var ge={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:te,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function Ie(Fe){var Ue,be=Fe.isOpen,Ge=be===void 0?!1:be,nt=Fe.overflowContainer,Oe=nt===void 0?ge.overflowContainer:nt,K=Fe.environment,Y=K===void 0?typeof window!="undefined"?window:void 0:K,he=Fe.ResizeObserver,Te=Fe.placement,He=Te===void 0?ge.placement:Te,Qe=Fe.possiblePlacements,ht=Qe===void 0?ge.possiblePlacements:Qe,ct=Fe.preferX,Pt=ct===void 0?ge.preferX:ct,Nt=Fe.preferY,sn=Nt===void 0?ge.preferY:Nt,Et=Fe.auto,Ot=Et===void 0?ge.auto:Et,at=Fe.snap,Ht=at===void 0?ge.snap:at,zt=Fe.triggerOffset,on=zt===void 0?ge.triggerOffset:zt,hn=Fe.containerOffset,gn=hn===void 0?ge.containerOffset:hn,bn=Fe.arrowOffset,Un=bn===void 0?ge.arrowOffset:bn,qn=Fe.container,cr=qn===void 0?ge.container:qn,hr=Fe.layerDimensions,pr=hr===void 0?null:hr,Lr=Fe.onDisappear,oo=Fe.onOutsideClick,Kr=Fe.onParentClose,co=Fe.trigger,lo=(0,o.useState)(function(){return{layerSide:He==="center"?"center":je.getSidesFromPlacementType(He)[0].prop,styles:{layer:{position:Oe?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),dr=lo[0],Nr=lo[1],Hr=(0,o.useRef)(null),Ur=a(dr,Ge),uo=(0,o.useRef)({cancelled:!1});(0,o.useEffect)(function(){return function(){uo.current.cancelled=!0}},[]);var mo=(0,o.useCallback)(function(xr,$t,en){var nn=xr.arrow,Rn=xr.layer,At=xr.scrollContainers,Yt=xr.trigger,Wt=At[0],rn=De.create(Y,Rn,Yt,Wt,nn,At,Oe,co==null?void 0:co.getBounds),vn={placement:He,possiblePlacements:ht,auto:Ot,layerDimensions:pr,arrowOffset:Un,containerOffset:gn,triggerOffset:on,preferX:Pt,preferY:sn,snap:Ht,overflowContainer:Oe},An=je.create(rn,vn).result($t,en),zn=An.hasDisappeared,er=An.layerSide,Jn=An.styles,Nn={layerSide:er,styles:Jn};if(!Ur.current||Re(Ur.current,Nn)){Ur.current=Nn,uo.current.cancelled=!0;var Pr={cancelled:!1};uo.current=Pr,Promise.resolve().then(function(){Pr.cancelled||Nr(Nn)})}R(zn)&&R(Lr)&&Lr(zn)},[Un,Ot,gn,Y,pr,Lr,Oe,He,ht,Pt,sn,Ht,on,Ur,co]),yo=j({ResizeObserverPolyfill:he,environment:Y,enabled:Ge,overflowContainer:Oe,onChange:mo,triggerOption:co}),Oo=yo.triggerRef,Xo=yo.layerRef,Go=yo.arrowRef,Mo=yo.closestScrollContainer,Lo=ne({isOpen:Ge,onOutsideClick:oo,onParentClose:Kr}),Bo=Lo.closeOnOutsideClickRefs,Qr=Lo.registrations,Yr={triggerProps:co?{}:{ref:N(Oo,Bo.trigger,Hr)},layerProps:{ref:N(Xo,Bo.layer),style:dr.styles.layer},arrowProps:{ref:Go,style:dr.styles.arrow,layerSide:dr.layerSide},layerSide:dr.layerSide,triggerBounds:Ge?co?co.getBounds():(Ue=Hr.current)==null?void 0:Ue.getBoundingClientRect():null,renderLayer:function(xr){return typeof document!="undefined"?(0,o.createPortal)((0,o.createElement)(J,{registrations:Qr,children:xr}),Oe||!Mo?ut(cr):Mo):null}};return Yr}function Re(Fe,Ue){if(Fe.layerSide!==Ue.layerSide)return!0;for(var be=["position","top","left","right","bottom"],Ge=0,nt=be;Ge<nt.length;Ge++){var Oe=nt[Ge];if(Fe.styles.layer[Oe]!==Ue.styles.layer[Oe]||Fe.styles.arrow[Oe]!==Ue.styles.arrow[Oe])return!0}return!1}var Ke="layers";function ut(Fe){var Ue;if(typeof Fe=="function"){if(Ue=Fe(),!Ue||!(Ue instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(Fe instanceof HTMLElement)Ue=Fe;else if(typeof Fe=="string"){if(Ue=document.getElementById(Fe),!Ue)throw new Error("react-laag: You've passed element with id '"+Fe+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(me instanceof HTMLElement)return me;Ue=document.getElementById(Ke),Ue||(Ue=document.createElement("div"),Ue.id=Ke,Ue.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(Ue))}return Ue}var _t=null,ft="left",We="top",Be="bottom",lt="right";function Tt(Fe,Ue){return Math.tan(Fe*(Math.PI/180))*Ue}function xt(Fe,Ue,be,Ge){var nt,Oe=(nt={},nt[Be]="0 "+-Ge+" "+Ue+" "+Fe,nt[We]="0 0 "+Ue+" "+(Fe+Ge),nt[lt]=-Ge+" 0 "+Fe+" "+Ue,nt[ft]="0 0 "+(Fe+Ge)+" "+Ue,nt);return Oe[be.prop]}function Gt(Fe,Ue,be,Ge,nt){var Oe,K,Y,he=Ge/10*Fe*2,Te=(Oe={},Oe[Be]=[0,Fe],Oe[We]=[0,0],Oe[lt]=[Fe,Ue],Oe[ft]=[0,Ue],Oe)[be.prop].join(" "),He=be.isHorizontal?"V 0":"H "+Ue,Qe=Ue/2,ht=Ue/2+Tt(nt,Fe/8),ct=Fe/8,Pt=(K={},K[Be]=["C",ht,ct,Qe+he,0,Qe,0],K[We]=["C",ht,Fe-ct,Qe+he,Fe,Qe,Fe],K[lt]=["C",ct,Ue-ht,0,Qe-he,0,Qe],K[ft]=["C",Fe-ct,Ue-ht,Fe,Qe-he,Fe,Qe],K)[be.prop].join(" "),Nt=Ue/2-Tt(nt,Fe/8),sn=Fe/8,Et=(Y={},Y[Be]=["C",Qe-he,0,Nt,sn,Te],Y[We]=["C",Qe-he,Fe,Nt,Fe-sn,Te],Y[lt]=["C",0,Qe+he,sn,Ue-Nt,Te],Y[ft]=["C",Fe,Qe+he,Fe-sn,Ue-Nt,Te],Y)[be.prop].join(" ");return["M",Te,He,Pt,Et].join(" ")}function an(Fe,Ue,be,Ge,nt){var Oe=Tt(nt,be),K=Ge.isPush?[0,be]:[Fe,Fe-be],Y=K[0],he=K[1];return Ge.isHorizontal?["M",Y,be,"V",Ue-be,"L",he,Ue-be-Oe,"V",Oe+be,"Z"].join(" "):["M",be,Y,"H",Ue-be,"L",Ue-be-Oe,he,"H",Oe+be,"Z"].join(" ")}var yt=null,ke;(function(Fe){Fe[Fe.ENTERING=0]="ENTERING",Fe[Fe.LEAVING=1]="LEAVING",Fe[Fe.IDLE=2]="IDLE"})(ke||(ke={}));function Ve(Fe){var Ue=Fe===void 0?{}:Fe,be=Ue.delayEnter,Ge=be===void 0?0:be,nt=Ue.delayLeave,Oe=nt===void 0?0:nt,K=Ue.hideOnScroll,Y=K===void 0?!0:K,he=(0,o.useState)(!1),Te=he[0],He=he[1],Qe=(0,o.useRef)(null),ht=(0,o.useRef)(ke.IDLE),ct=(0,o.useRef)(!1),Pt=(0,o.useCallback)(function(){clearTimeout(Qe.current),Qe.current=null,ht.current=ke.IDLE},[]);function Nt(){ht.current===ke.LEAVING&&Qe.current&&Pt(),!Te&&(ht.current=ke.ENTERING,Qe.current=window.setTimeout(function(){He(!0),Qe.current=null,ht.current=ke.IDLE},Ge))}function sn(Ot,at){if(ht.current===ke.ENTERING&&Qe.current&&Pt(),!!Te){if(at){He(!1),Qe.current=null,ht.current=ke.IDLE;return}ht.current=ke.LEAVING,Qe.current=window.setTimeout(function(){He(!1),Qe.current=null,ht.current=ke.IDLE},Oe)}}(0,o.useEffect)(function(){function Ot(){Te&&Y&&(Pt(),He(!1))}return window.addEventListener("scroll",Ot,!0),function(){window.removeEventListener("scroll",Ot,!0),Qe.current&&clearTimeout(Qe.current)}},[Te,Y,Pt]);var Et={onMouseEnter:Nt,onMouseLeave:sn,onTouchStart:function(){ct.current=!1},onTouchMove:function(){ct.current=!0},onTouchEnd:function(){!ct.current&&!Te&&He(!0),ct.current=!1}};return[Te,Et,function(){return sn(null,!0)}]}function Ne(Fe){var Ue=Fe.isOpen,be=Fe.children,Ge=useState({isOpenInternal:Ue,isLeaving:!1}),nt=Ge[0],Oe=Ge[1],K=useRef(!1);return useEffect(function(){Ue?Oe({isOpenInternal:!0,isLeaving:!1}):K.current&&Oe({isOpenInternal:!1,isLeaving:!0})},[Ue,Oe]),useEffect(function(){},[be]),useEffect(function(){K.current=!0},[]),!Ue&&!nt.isOpenInternal&&!nt.isLeaving?null:be(nt.isOpenInternal,function(){nt.isOpenInternal||Oe(function(Y){return d({},Y,{isLeaving:!1})})},nt.isLeaving)}},1852:function(G,s,e){(function(o,m){G.exports=m(e(98661))})(typeof self!="undefined"?self:this,function(o){return function(m){function f(g){if(d[g])return d[g].exports;var y=d[g]={i:g,l:!1,exports:{}};return m[g].call(y.exports,y,y.exports,f),y.l=!0,y.exports}var d={};return f.m=m,f.c=d,f.d=function(g,y,C){f.o(g,y)||Object.defineProperty(g,y,{configurable:!1,enumerable:!0,get:C})},f.n=function(g){var y=g&&g.__esModule?function(){return g.default}:function(){return g};return f.d(y,"a",y),y},f.o=function(g,y){return Object.prototype.hasOwnProperty.call(g,y)},f.p="",f(f.s=7)}([function(m,f,d){"use strict";function g(Q,ne){return x(Q)||b(Q,ne)||C(Q,ne)||y()}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(Q,ne){if(Q){if(typeof Q=="string")return v(Q,ne);var te=Object.prototype.toString.call(Q).slice(8,-1);return te==="Object"&&Q.constructor&&(te=Q.constructor.name),te==="Map"||te==="Set"?Array.from(Q):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?v(Q,ne):void 0}}function v(Q,ne){(ne==null||ne>Q.length)&&(ne=Q.length);for(var te=0,B=new Array(ne);te<ne;te++)B[te]=Q[te];return B}function b(Q,ne){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(Q)){var te=[],B=!0,V=!1,re=void 0;try{for(var le,ae=Q[Symbol.iterator]();!(B=(le=ae.next()).done)&&(te.push(le.value),!ne||te.length!==ne);B=!0);}catch(q){V=!0,re=q}finally{try{B||ae.return==null||ae.return()}finally{if(V)throw re}}return te}}function x(Q){if(Array.isArray(Q))return Q}var E=d(1),O=d.n(E),w=d(8),_=d.n(w),a=d(2),l=d(10),P=d.n(l),S=d(3),M=d(6),R=function(Q){return Q.query||Object(S.a)(Q)},N=function(Q){if(!Q)return null;var ne=Object.keys(Q);return ne.length===0?null:ne.reduce(function(te,B){return te[Object(a.a)(B)]=Q[B],te},{})},T=function(){var Q=O.a.useRef(!1);return O.a.useEffect(function(){Q.current=!0},[]),Q.current},A=function(Q){var ne=O.a.useContext(M.a),te=function(){return N(Q)||N(ne)},B=O.a.useState(te),V=g(B,2),re=V[0],le=V[1];return O.a.useEffect(function(){var ae=te();P()(re,ae)||le(ae)},[Q,ne]),re},W=function(Q){var ne=function(){return R(Q)},te=O.a.useState(ne),B=g(te,2),V=B[0],re=B[1];return O.a.useEffect(function(){var le=ne();V!==le&&re(le)},[Q]),V},j=function(Q,ne){var te=function(){return _()(Q,ne||{},!!ne)},B=O.a.useState(te),V=g(B,2),re=V[0],le=V[1],ae=T();return O.a.useEffect(function(){return ae&&le(te()),function(){re.dispose()}},[Q,ne]),re},Z=function(Q){var ne=O.a.useState(Q.matches),te=g(ne,2),B=te[0],V=te[1];return O.a.useEffect(function(){var re=function(){V(Q.matches)};return Q.addListener(re),re(),function(){Q.removeListener(re)}},[Q]),B},J=function(Q,ne,te){var B=A(ne),V=W(Q);if(!V)throw new Error("Invalid or missing MediaQuery!");var re=j(V,B),le=Z(re),ae=T();return O.a.useEffect(function(){ae&&te&&te(le)},[le]),le};f.a=J},function(m,f){m.exports=o},function(m,f,d){"use strict";function g(x){return"-"+x.toLowerCase()}function y(x){if(b.hasOwnProperty(x))return b[x];var E=x.replace(C,g);return b[x]=v.test(E)?"-"+E:E}var C=/[A-Z]/g,v=/^ms-/,b={};f.a=y},function(m,f,d){"use strict";var g=d(2),y=d(11),C=function(E){return"not ".concat(E)},v=function(E,O){var w=Object(g.a)(E);return typeof O=="number"&&(O="".concat(O,"px")),O===!0?w:O===!1?C(w):"(".concat(w,": ").concat(O,")")},b=function(E){return E.join(" and ")},x=function(E){var O=[];return Object.keys(y.a.all).forEach(function(w){var _=E[w];_!=null&&O.push(v(w,_))}),b(O)};f.a=x},function(m,f,d){"use strict";m.exports=d(13)},function(m,f,d){"use strict";m.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(m,f,d){"use strict";var g=d(1),y=d.n(g),C=y.a.createContext();f.a=C},function(m,f,d){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var g=d(0),y=d(17),C=d(3),v=d(6);d.d(f,"default",function(){return y.a}),d.d(f,"useMediaQuery",function(){return g.a}),d.d(f,"toQuery",function(){return C.a}),d.d(f,"Context",function(){return v.a})},function(m,f,d){"use strict";function g(b,x,E){function O(S){P&&P.addListener(S)}function w(S){P&&P.removeListener(S)}function _(S){l.matches=S.matches,l.media=S.media}function a(){P&&P.removeListener(_)}var l=this;if(v&&!E){var P=v.call(window,b);this.matches=P.matches,this.media=P.media,P.addListener(_)}else this.matches=C(b,x),this.media=b;this.addListener=O,this.removeListener=w,this.dispose=a}function y(b,x,E){return new g(b,x,E)}var C=d(9).match,v=typeof window!="undefined"?window.matchMedia:null;m.exports=y},function(m,f,d){"use strict";function g(a,l){return y(a).some(function(P){var S=P.inverse,M=P.type==="all"||l.type===P.type;if(M&&S||!M&&!S)return!1;var R=P.expressions.every(function(N){var T=N.feature,A=N.modifier,W=N.value,j=l[T];if(!j)return!1;switch(T){case"orientation":case"scan":return j.toLowerCase()===W.toLowerCase();case"width":case"height":case"device-width":case"device-height":W=b(W),j=b(j);break;case"resolution":W=v(W),j=v(j);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":W=C(W),j=C(j);break;case"grid":case"color":case"color-index":case"monochrome":W=parseInt(W,10)||1,j=parseInt(j,10)||0}switch(A){case"min":return j>=W;case"max":return j<=W;default:return j===W}});return R&&!S||!R&&S})}function y(a){return a.split(",").map(function(l){l=l.trim();var P=l.match(x),S=P[1],M=P[2],R=P[3]||"",N={};return N.inverse=!!S&&S.toLowerCase()==="not",N.type=M?M.toLowerCase():"all",R=R.match(/\([^\)]+\)/g)||[],N.expressions=R.map(function(T){var A=T.match(E),W=A[1].toLowerCase().match(O);return{modifier:W[1],feature:W[2],value:A[2]}}),N})}function C(a){var l,P=Number(a);return P||(l=a.match(/^(\d+)\s*\/\s*(\d+)$/),P=l[1]/l[2]),P}function v(a){var l=parseFloat(a);switch(String(a).match(_)[1]){case"dpcm":return l/2.54;case"dppx":return 96*l;default:return l}}function b(a){var l=parseFloat(a);switch(String(a).match(w)[1]){case"em":case"rem":return 16*l;case"cm":return 96*l/2.54;case"mm":return 96*l/2.54/10;case"in":return 96*l;case"pt":return 72*l;case"pc":return 72*l/12;default:return l}}f.match=g,f.parse=y;var x=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,E=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,O=/^(?:(min|max)-)?(.+)/,w=/(em|rem|px|cm|mm|in|pt|pc)?$/,_=/(dpi|dpcm|dppx)?$/},function(m,f,d){"use strict";function g(y,C){if(y===C)return!0;if(!y||!C)return!1;var v=Object.keys(y),b=Object.keys(C),x=v.length;if(b.length!==x)return!1;for(var E=0;E<x;E++){var O=v[E];if(y[O]!==C[O]||!Object.prototype.hasOwnProperty.call(C,O))return!1}return!0}m.exports=g},function(m,f,d){"use strict";function g(a,l){var P=Object.keys(a);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(a);l&&(S=S.filter(function(M){return Object.getOwnPropertyDescriptor(a,M).enumerable})),P.push.apply(P,S)}return P}function y(a){for(var l=1;l<arguments.length;l++){var P=arguments[l]!=null?arguments[l]:{};l%2?g(Object(P),!0).forEach(function(S){C(a,S,P[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(P)):g(Object(P)).forEach(function(S){Object.defineProperty(a,S,Object.getOwnPropertyDescriptor(P,S))})}return a}function C(a,l,P){return l in a?Object.defineProperty(a,l,{value:P,enumerable:!0,configurable:!0,writable:!0}):a[l]=P,a}var v=d(12),b=d.n(v),x=b.a.oneOfType([b.a.string,b.a.number]),E={orientation:b.a.oneOf(["portrait","landscape"]),scan:b.a.oneOf(["progressive","interlace"]),aspectRatio:b.a.string,deviceAspectRatio:b.a.string,height:x,deviceHeight:x,width:x,deviceWidth:x,color:b.a.bool,colorIndex:b.a.bool,monochrome:b.a.bool,resolution:x},O=y({minAspectRatio:b.a.string,maxAspectRatio:b.a.string,minDeviceAspectRatio:b.a.string,maxDeviceAspectRatio:b.a.string,minHeight:x,maxHeight:x,minDeviceHeight:x,maxDeviceHeight:x,minWidth:x,maxWidth:x,minDeviceWidth:x,maxDeviceWidth:x,minColor:b.a.number,maxColor:b.a.number,minColorIndex:b.a.number,maxColorIndex:b.a.number,minMonochrome:b.a.number,maxMonochrome:b.a.number,minResolution:x,maxResolution:x},E),w={all:b.a.bool,grid:b.a.bool,aural:b.a.bool,braille:b.a.bool,handheld:b.a.bool,print:b.a.bool,projection:b.a.bool,screen:b.a.bool,tty:b.a.bool,tv:b.a.bool,embossed:b.a.bool},_=y(y({},w),O);E.type=Object.keys(w),f.a={all:_,types:w,matchers:E,features:O}},function(m,f,d){var g=d(4);m.exports=d(14)(g.isElement,!0)},function(m,f,d){"use strict";(function(){function g(Re){return typeof Re=="string"||typeof Re=="function"||Re===A||Re===ne||Re===j||Re===W||Re===B||Re===V||typeof Re=="object"&&Re!==null&&(Re.$$typeof===le||Re.$$typeof===re||Re.$$typeof===Z||Re.$$typeof===J||Re.$$typeof===te||Re.$$typeof===q||Re.$$typeof===oe||Re.$$typeof===z||Re.$$typeof===ae)}function y(Re){if(typeof Re=="object"&&Re!==null){var Ke=Re.$$typeof;switch(Ke){case N:var ut=Re.type;switch(ut){case Q:case ne:case A:case j:case W:case B:return ut;default:var _t=ut&&ut.$$typeof;switch(_t){case J:case te:case le:case re:case Z:return _t;default:return Ke}}case T:return Ke}}}function C(Re){return Ie||(Ie=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),v(Re)||y(Re)===Q}function v(Re){return y(Re)===ne}function b(Re){return y(Re)===J}function x(Re){return y(Re)===Z}function E(Re){return typeof Re=="object"&&Re!==null&&Re.$$typeof===N}function O(Re){return y(Re)===te}function w(Re){return y(Re)===A}function _(Re){return y(Re)===le}function a(Re){return y(Re)===re}function l(Re){return y(Re)===T}function P(Re){return y(Re)===j}function S(Re){return y(Re)===W}function M(Re){return y(Re)===B}var R=typeof Symbol=="function"&&Symbol.for,N=R?Symbol.for("react.element"):60103,T=R?Symbol.for("react.portal"):60106,A=R?Symbol.for("react.fragment"):60107,W=R?Symbol.for("react.strict_mode"):60108,j=R?Symbol.for("react.profiler"):60114,Z=R?Symbol.for("react.provider"):60109,J=R?Symbol.for("react.context"):60110,Q=R?Symbol.for("react.async_mode"):60111,ne=R?Symbol.for("react.concurrent_mode"):60111,te=R?Symbol.for("react.forward_ref"):60112,B=R?Symbol.for("react.suspense"):60113,V=R?Symbol.for("react.suspense_list"):60120,re=R?Symbol.for("react.memo"):60115,le=R?Symbol.for("react.lazy"):60116,ae=R?Symbol.for("react.block"):60121,q=R?Symbol.for("react.fundamental"):60117,oe=R?Symbol.for("react.responder"):60118,z=R?Symbol.for("react.scope"):60119,ie=Q,ue=ne,de=J,fe=Z,ye=N,pe=te,we=A,Me=le,je=re,De=T,me=j,ce=W,ge=B,Ie=!1;f.AsyncMode=ie,f.ConcurrentMode=ue,f.ContextConsumer=de,f.ContextProvider=fe,f.Element=ye,f.ForwardRef=pe,f.Fragment=we,f.Lazy=Me,f.Memo=je,f.Portal=De,f.Profiler=me,f.StrictMode=ce,f.Suspense=ge,f.isAsyncMode=C,f.isConcurrentMode=v,f.isContextConsumer=b,f.isContextProvider=x,f.isElement=E,f.isForwardRef=O,f.isFragment=w,f.isLazy=_,f.isMemo=a,f.isPortal=l,f.isProfiler=P,f.isStrictMode=S,f.isSuspense=M,f.isValidElementType=g,f.typeOf=y})()},function(m,f,d){"use strict";function g(){return null}var y=d(4),C=d(15),v=d(5),b=d(16),x=Function.call.bind(Object.prototype.hasOwnProperty),E=function(){};E=function(O){var w="Warning: "+O;typeof console!="undefined"&&console.error(w);try{throw new Error(w)}catch(_){}},m.exports=function(O,w){function _(q){var oe=q&&(V&&q[V]||q[re]);if(typeof oe=="function")return oe}function a(q,oe){return q===oe?q!==0||1/q==1/oe:q!==q&&oe!==oe}function l(q){this.message=q,this.stack=""}function P(q){function oe(de,fe,ye,pe,we,Me,je){if(pe=pe||le,Me=Me||ye,je!==v){if(w){var De=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw De.name="Invariant Violation",De}if(typeof console!="undefined"){var me=pe+":"+ye;!z[me]&&ie<3&&(E("You are manually calling a React.PropTypes validation function for the `"+Me+"` prop on `"+pe+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),z[me]=!0,ie++)}}return fe[ye]==null?de?new l(fe[ye]===null?"The "+we+" `"+Me+"` is marked as required in `"+pe+"`, but its value is `null`.":"The "+we+" `"+Me+"` is marked as required in `"+pe+"`, but its value is `undefined`."):null:q(fe,ye,pe,we,Me)}var z={},ie=0,ue=oe.bind(null,!1);return ue.isRequired=oe.bind(null,!0),ue}function S(q){function oe(z,ie,ue,de,fe,ye){var pe=z[ie];return Q(pe)!==q?new l("Invalid "+de+" `"+fe+"` of type `"+ne(pe)+"` supplied to `"+ue+"`, expected `"+q+"`."):null}return P(oe)}function M(q){function oe(z,ie,ue,de,fe){if(typeof q!="function")return new l("Property `"+fe+"` of component `"+ue+"` has invalid PropType notation inside arrayOf.");var ye=z[ie];if(!Array.isArray(ye))return new l("Invalid "+de+" `"+fe+"` of type `"+Q(ye)+"` supplied to `"+ue+"`, expected an array.");for(var pe=0;pe<ye.length;pe++){var we=q(ye,pe,ue,de,fe+"["+pe+"]",v);if(we instanceof Error)return we}return null}return P(oe)}function R(q){function oe(z,ie,ue,de,fe){if(!(z[ie]instanceof q)){var ye=q.name||le;return new l("Invalid "+de+" `"+fe+"` of type `"+B(z[ie])+"` supplied to `"+ue+"`, expected instance of `"+ye+"`.")}return null}return P(oe)}function N(q){function oe(z,ie,ue,de,fe){for(var ye=z[ie],pe=0;pe<q.length;pe++)if(a(ye,q[pe]))return null;var we=JSON.stringify(q,function(Me,je){return ne(je)==="symbol"?String(je):je});return new l("Invalid "+de+" `"+fe+"` of value `"+String(ye)+"` supplied to `"+ue+"`, expected one of "+we+".")}return Array.isArray(q)?P(oe):(E(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),g)}function T(q){function oe(z,ie,ue,de,fe){if(typeof q!="function")return new l("Property `"+fe+"` of component `"+ue+"` has invalid PropType notation inside objectOf.");var ye=z[ie],pe=Q(ye);if(pe!=="object")return new l("Invalid "+de+" `"+fe+"` of type `"+pe+"` supplied to `"+ue+"`, expected an object.");for(var we in ye)if(x(ye,we)){var Me=q(ye,we,ue,de,fe+"."+we,v);if(Me instanceof Error)return Me}return null}return P(oe)}function A(q){function oe(ue,de,fe,ye,pe){for(var we=0;we<q.length;we++)if((0,q[we])(ue,de,fe,ye,pe,v)==null)return null;return new l("Invalid "+ye+" `"+pe+"` supplied to `"+fe+"`.")}if(!Array.isArray(q))return E("Invalid argument supplied to oneOfType, expected an instance of array."),g;for(var z=0;z<q.length;z++){var ie=q[z];if(typeof ie!="function")return E("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+te(ie)+" at index "+z+"."),g}return P(oe)}function W(q){function oe(z,ie,ue,de,fe){var ye=z[ie],pe=Q(ye);if(pe!=="object")return new l("Invalid "+de+" `"+fe+"` of type `"+pe+"` supplied to `"+ue+"`, expected `object`.");for(var we in q){var Me=q[we];if(Me){var je=Me(ye,we,ue,de,fe+"."+we,v);if(je)return je}}return null}return P(oe)}function j(q){function oe(z,ie,ue,de,fe){var ye=z[ie],pe=Q(ye);if(pe!=="object")return new l("Invalid "+de+" `"+fe+"` of type `"+pe+"` supplied to `"+ue+"`, expected `object`.");var we=C({},z[ie],q);for(var Me in we){var je=q[Me];if(!je)return new l("Invalid "+de+" `"+fe+"` key `"+Me+"` supplied to `"+ue+"`.\nBad object: "+JSON.stringify(z[ie],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(q),null,"  "));var De=je(ye,Me,ue,de,fe+"."+Me,v);if(De)return De}return null}return P(oe)}function Z(q){switch(typeof q){case"number":case"string":case"undefined":return!0;case"boolean":return!q;case"object":if(Array.isArray(q))return q.every(Z);if(q===null||O(q))return!0;var oe=_(q);if(!oe)return!1;var z,ie=oe.call(q);if(oe!==q.entries){for(;!(z=ie.next()).done;)if(!Z(z.value))return!1}else for(;!(z=ie.next()).done;){var ue=z.value;if(ue&&!Z(ue[1]))return!1}return!0;default:return!1}}function J(q,oe){return q==="symbol"||!!oe&&(oe["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&oe instanceof Symbol)}function Q(q){var oe=typeof q;return Array.isArray(q)?"array":q instanceof RegExp?"object":J(oe,q)?"symbol":oe}function ne(q){if(q==null)return""+q;var oe=Q(q);if(oe==="object"){if(q instanceof Date)return"date";if(q instanceof RegExp)return"regexp"}return oe}function te(q){var oe=ne(q);switch(oe){case"array":case"object":return"an "+oe;case"boolean":case"date":case"regexp":return"a "+oe;default:return oe}}function B(q){return q.constructor&&q.constructor.name?q.constructor.name:le}var V=typeof Symbol=="function"&&Symbol.iterator,re="@@iterator",le="<<anonymous>>",ae={array:S("array"),bool:S("boolean"),func:S("function"),number:S("number"),object:S("object"),string:S("string"),symbol:S("symbol"),any:function(){return P(g)}(),arrayOf:M,element:function(){function q(oe,z,ie,ue,de){var fe=oe[z];return O(fe)?null:new l("Invalid "+ue+" `"+de+"` of type `"+Q(fe)+"` supplied to `"+ie+"`, expected a single ReactElement.")}return P(q)}(),elementType:function(){function q(oe,z,ie,ue,de){var fe=oe[z];return y.isValidElementType(fe)?null:new l("Invalid "+ue+" `"+de+"` of type `"+Q(fe)+"` supplied to `"+ie+"`, expected a single ReactElement type.")}return P(q)}(),instanceOf:R,node:function(){function q(oe,z,ie,ue,de){return Z(oe[z])?null:new l("Invalid "+ue+" `"+de+"` supplied to `"+ie+"`, expected a ReactNode.")}return P(q)}(),objectOf:T,oneOf:N,oneOfType:A,shape:W,exact:j};return l.prototype=Error.prototype,ae.checkPropTypes=b,ae.resetWarningCache=b.resetWarningCache,ae.PropTypes=ae,ae}},function(m,f,d){"use strict";function g(b){if(b==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(b)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;m.exports=function(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de",Object.getOwnPropertyNames(b)[0]==="5")return!1;for(var x={},E=0;E<10;E++)x["_"+String.fromCharCode(E)]=E;if(Object.getOwnPropertyNames(x).map(function(w){return x[w]}).join("")!=="0123456789")return!1;var O={};return"abcdefghijklmnopqrst".split("").forEach(function(w){O[w]=w}),Object.keys(Object.assign({},O)).join("")==="abcdefghijklmnopqrst"}catch(w){return!1}}()?Object.assign:function(b,x){for(var E,O,w=g(b),_=1;_<arguments.length;_++){E=Object(arguments[_]);for(var a in E)C.call(E,a)&&(w[a]=E[a]);if(y){O=y(E);for(var l=0;l<O.length;l++)v.call(E,O[l])&&(w[O[l]]=E[O[l]])}}return w}},function(m,f,d){"use strict";function g(x,E,O,w,_){for(var a in x)if(b(x,a)){var l;try{if(typeof x[a]!="function"){var P=Error((w||"React class")+": "+O+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof x[a]+"`.");throw P.name="Invariant Violation",P}l=x[a](E,a,w,O,null,C)}catch(M){l=M}if(!l||l instanceof Error||y((w||"React class")+": type specification of "+O+" `"+a+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in v)){v[l.message]=!0;var S=_?_():"";y("Failed "+O+" type: "+l.message+(S!=null?S:""))}}}var y=function(){},C=d(5),v={},b=Function.call.bind(Object.prototype.hasOwnProperty);y=function(x){var E="Warning: "+x;typeof console!="undefined"&&console.error(E);try{throw new Error(E)}catch(O){}},g.resetWarningCache=function(){v={}},m.exports=g},function(m,f,d){"use strict";function g(b,x){if(b==null)return{};var E,O,w=y(b,x);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(b);for(O=0;O<_.length;O++)E=_[O],x.indexOf(E)>=0||Object.prototype.propertyIsEnumerable.call(b,E)&&(w[E]=b[E])}return w}function y(b,x){if(b==null)return{};var E,O,w={},_=Object.keys(b);for(O=0;O<_.length;O++)E=_[O],x.indexOf(E)>=0||(w[E]=b[E]);return w}function C(b){var x=b.children,E=b.device,O=b.onChange,w=g(b,["children","device","onChange"]),_=Object(v.a)(w,E,O);return typeof x=="function"?x(_):_?x:null}f.a=C;var v=d(0)}])})},91036:(G,s,e)=>{const o=e(35106),m=e(22997),{klona:f}=e(23059),{isPlainObject:d}=e(10977),g=e(9996),y=e(79430),{parse:C}=e(50020),v=e(8575),b=["img","audio","video","picture","svg","object","map","iframe","embed"],x=["script","style"];function E(M,R){M&&Object.keys(M).forEach(function(N){R(M[N],N)})}function O(M,R){return{}.hasOwnProperty.call(M,R)}function w(M,R){const N=[];return E(M,function(T){R(T)&&N.push(T)}),N}function _(M){for(const R in M)if(O(M,R))return!1;return!0}function a(M){return M.map(function(R){if(!R.url)throw new Error("URL missing");return R.url+(R.w?` ${R.w}w`:"")+(R.h?` ${R.h}h`:"")+(R.d?` ${R.d}x`:"")}).join(", ")}G.exports=P;const l=/^[^\0\t\n\f\r /<=>]+$/;function P(M,R,N){let T="",A="";function W(Me,je){const De=this;this.tag=Me,this.attribs=je||{},this.tagPosition=T.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(V.length){const me=V[V.length-1];me.text+=De.text}},this.updateParentNodeMediaChildren=function(){V.length&&b.includes(this.tag)&&V[V.length-1].mediaChildren.push(this.tag)}}R?(R=Object.assign({},P.defaults,R),R.parser?R.parser=Object.assign({},S,R.parser):R.parser=S):(R=P.defaults,R.parser=S),x.forEach(function(Me){R.allowedTags&&R.allowedTags.indexOf(Me)>-1&&!R.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${Me}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const j=R.nonTextTags||["script","style","textarea","option"];let Z,J;R.allowedAttributes&&(Z={},J={},E(R.allowedAttributes,function(Me,je){Z[je]=[];const De=[];Me.forEach(function(me){typeof me=="string"&&me.indexOf("*")>=0?De.push(m(me).replace(/\\\*/g,".*")):Z[je].push(me)}),J[je]=new RegExp("^("+De.join("|")+")$")}));const Q={};E(R.allowedClasses,function(Me,je){Z&&(O(Z,je)||(Z[je]=[]),Z[je].push("class")),Q[je]=Me});const ne={};let te;E(R.transformTags,function(Me,je){let De;typeof Me=="function"?De=Me:typeof Me=="string"&&(De=P.simpleTransform(Me)),je==="*"?te=De:ne[je]=De});let B,V,re,le,ae,q,oe=!1;ie();const z=new o.Parser({onopentag:function(Me,je){if(R.enforceHtmlBoundary&&Me==="html"&&ie(),ae){q++;return}const De=new W(Me,je);V.push(De);let me=!1;const ce=!!De.text;let ge;if(O(ne,Me)&&(ge=ne[Me](Me,je),De.attribs=je=ge.attribs,ge.text!==void 0&&(De.innerText=ge.text),Me!==ge.tagName&&(De.name=Me=ge.tagName,le[B]=ge.tagName)),te&&(ge=te(Me,je),De.attribs=je=ge.attribs,Me!==ge.tagName&&(De.name=Me=ge.tagName,le[B]=ge.tagName)),(R.allowedTags&&R.allowedTags.indexOf(Me)===-1||R.disallowedTagsMode==="recursiveEscape"&&!_(re)||R.nestingLimit!=null&&B>=R.nestingLimit)&&(me=!0,re[B]=!0,R.disallowedTagsMode==="discard"&&j.indexOf(Me)!==-1&&(ae=!0,q=1),re[B]=!0),B++,me){if(R.disallowedTagsMode==="discard")return;A=T,T=""}T+="<"+Me,(!Z||O(Z,Me)||Z["*"])&&E(je,function(Ie,Re){if(!l.test(Re)){delete De.attribs[Re];return}let Ke,ut=!1;if(!Z||O(Z,Me)&&Z[Me].indexOf(Re)!==-1||Z["*"]&&Z["*"].indexOf(Re)!==-1||O(J,Me)&&J[Me].test(Re)||J["*"]&&J["*"].test(Re))ut=!0;else if(Z&&Z[Me]){for(const _t of Z[Me])if(d(_t)&&_t.name&&_t.name===Re){ut=!0;let ft="";if(_t.multiple===!0){const We=Ie.split(" ");for(const Be of We)_t.values.indexOf(Be)!==-1&&(ft===""?ft=Be:ft+=" "+Be)}else _t.values.indexOf(Ie)>=0&&(ft=Ie);Ie=ft}}if(ut){if(R.allowedSchemesAppliedToAttributes.indexOf(Re)!==-1&&de(Me,Ie)){delete De.attribs[Re];return}if(Me==="iframe"&&Re==="src"){let _t=!0;try{if(Ke=v.parse(Ie,!1,!0),Ke&&Ke.host===null&&Ke.protocol===null)_t=O(R,"allowIframeRelativeUrls")?R.allowIframeRelativeUrls:!R.allowedIframeHostnames&&!R.allowedIframeDomains;else if(R.allowedIframeHostnames||R.allowedIframeDomains){const We=(R.allowedIframeHostnames||[]).find(function(lt){return lt===Ke.hostname}),Be=(R.allowedIframeDomains||[]).find(function(lt){return Ke.hostname===lt||Ke.hostname.endsWith(`.${lt}`)});_t=We||Be}}catch(ft){_t=!1}if(!_t){delete De.attribs[Re];return}}if(Re==="srcset")try{if(Ke=y(Ie),Ke.forEach(function(_t){de("srcset",_t.url)&&(_t.evil=!0)}),Ke=w(Ke,function(_t){return!_t.evil}),Ke.length)Ie=a(w(Ke,function(_t){return!_t.evil})),De.attribs[Re]=Ie;else{delete De.attribs[Re];return}}catch(_t){delete De.attribs[Re];return}if(Re==="class"){const _t=Q[Me],ft=Q["*"];if(_t&&ft?Ie=we(Ie,g(_t,ft)):Ie=we(Ie,_t||ft),!Ie.length){delete De.attribs[Re];return}}if(Re==="style")try{const _t=C(Me+" {"+Ie+"}"),ft=fe(_t,R.allowedStyles);if(Ie=ye(ft),Ie.length===0){delete De.attribs[Re];return}}catch(_t){delete De.attribs[Re];return}T+=" "+Re,Ie&&Ie.length&&(T+='="'+ue(Ie,!0)+'"')}else delete De.attribs[Re]}),R.selfClosing.indexOf(Me)!==-1?T+=" />":(T+=">",De.innerText&&!ce&&!R.textFilter&&(T+=ue(De.innerText),oe=!0)),me&&(T=A+ue(T),A="")},ontext:function(Me){if(ae)return;const je=V[V.length-1];let De;if(je&&(De=je.tag,Me=je.innerText!==void 0?je.innerText:Me),R.disallowedTagsMode==="discard"&&(De==="script"||De==="style"))T+=Me;else{const me=ue(Me,!1);R.textFilter&&!oe?T+=R.textFilter(me,De):oe||(T+=me)}if(V.length){const me=V[V.length-1];me.text+=Me}},onclosetag:function(Me){if(ae)if(q--,!q)ae=!1;else return;const je=V.pop();if(!je)return;ae=R.enforceHtmlBoundary?Me==="html":!1,B--;const De=re[B];if(De){if(delete re[B],R.disallowedTagsMode==="discard"){je.updateParentNodeText();return}A=T,T=""}if(le[B]&&(Me=le[B],delete le[B]),R.exclusiveFilter&&R.exclusiveFilter(je)){T=T.substr(0,je.tagPosition);return}if(je.updateParentNodeMediaChildren(),je.updateParentNodeText(),R.selfClosing.indexOf(Me)!==-1){De&&(T=A,A="");return}T+="</"+Me+">",De&&(T=A+ue(T),A="")}},R.parser);return z.write(M),z.end(),T;function ie(){T="",B=0,V=[],re={},le={},ae=!1,q=0}function ue(Me,je){return typeof Me!="string"&&(Me=Me+""),R.parser.decodeEntities&&(Me=Me.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),je&&(Me=Me.replace(/"/g,"&quot;"))),Me=Me.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),je&&(Me=Me.replace(/"/g,"&quot;")),Me}function de(Me,je){je=je.replace(/[\x00-\x20]+/g,""),je=je.replace(/<!--.*?-->/g,"");const De=je.match(/^([a-zA-Z]+):/);if(!De)return je.match(/^[/\\]{2}/)?!R.allowProtocolRelative:!1;const me=De[1].toLowerCase();return O(R.allowedSchemesByTag,Me)?R.allowedSchemesByTag[Me].indexOf(me)===-1:!R.allowedSchemes||R.allowedSchemes.indexOf(me)===-1}function fe(Me,je){if(!je)return Me;const De=f(Me),me=Me.nodes[0];let ce;return je[me.selector]&&je["*"]?ce=g(je[me.selector],je["*"]):ce=je[me.selector]||je["*"],ce&&(De.nodes[0].nodes=me.nodes.reduce(pe(ce),[])),De}function ye(Me){return Me.nodes[0].nodes.reduce(function(je,De){return je.push(De.prop+":"+De.value),je},[]).join(";")}function pe(Me){return function(je,De){return O(Me,De.prop)&&Me[De.prop].some(function(ce){return ce.test(De.value)})&&je.push(De),je}}function we(Me,je){return je?(Me=Me.split(/\s+/),Me.filter(function(De){return je.indexOf(De)!==-1}).join(" ")):Me}}const S={decodeEntities:!0};P.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},P.simpleTransform=function(M,R,N){return N=N===void 0?!0:N,R=R||{},function(T,A){let W;if(N)for(W in R)A[W]=R[W];else A=R;return{tagName:M,attribs:A}}}},22997:G=>{"use strict";G.exports=s=>{if(typeof s!="string")throw new TypeError("Expected a string");return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},16691:function(G,s,e){"use strict";var o=this&&this.__extends||function(){var g=function(y,C){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var x in b)b.hasOwnProperty(x)&&(v[x]=b[x])},g(y,C)};return function(y,C){g(y,C);function v(){this.constructor=y}y.prototype=C===null?Object.create(C):(v.prototype=C.prototype,new v)}}(),m=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(s,"__esModule",{value:!0});var f=m(e(90819)),d=function(g){o(y,g);function y(C){C===void 0&&(C={});var v=g.call(this,function(b){for(var x,E=[],O=1;O<arguments.length;O++)E[O-1]=arguments[O];v.events.push([b].concat(E)),v._cbs[b]&&(x=v._cbs)[b].apply(x,E)})||this;return v._cbs=C,v.events=[],v}return y.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},y.prototype.restart=function(){var C;this._cbs.onreset&&this._cbs.onreset();for(var v=0;v<this.events.length;v++){var b=this.events[v],x=b[0],E=b.slice(1);this._cbs[x]&&(C=this._cbs)[x].apply(C,E)}},y}(f.default);s.CollectingHandler=d},57613:function(G,s,e){"use strict";var o=this&&this.__extends||function(){var l=function(P,S){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,R){M.__proto__=R}||function(M,R){for(var N in R)R.hasOwnProperty(N)&&(M[N]=R[N])},l(P,S)};return function(P,S){l(P,S);function M(){this.constructor=P}P.prototype=S===null?Object.create(S):(M.prototype=S.prototype,new M)}}(),m=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},f=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var P={};if(l!=null)for(var S in l)Object.hasOwnProperty.call(l,S)&&(P[S]=l[S]);return P.default=l,P};Object.defineProperty(s,"__esModule",{value:!0});var d=m(e(47915)),g=f(e(89432)),y=e(16666),C=function(l){o(P,l);function P(S,M){var R=this;return typeof S=="object"&&S!==null&&(S=void 0,M=S),R=l.call(this,S,M)||this,R}return P.prototype.onend=function(){var S={},M=b(w,this.dom);if(M)if(M.name==="feed"){var R=M.children;S.type="atom",O(S,"id","id",R),O(S,"title","title",R);var N=E("href",b("link",R));N&&(S.link=N),O(S,"description","subtitle",R);var T=x("updated",R);T&&(S.updated=new Date(T)),O(S,"author","email",R,!0),S.items=v("entry",R).map(function(A){var W={},j=A.children;O(W,"id","id",j),O(W,"title","title",j);var Z=E("href",b("link",j));Z&&(W.link=Z);var J=x("summary",j)||x("content",j);J&&(W.description=J);var Q=x("updated",j);return Q&&(W.pubDate=new Date(Q)),W})}else{var R=b("channel",M.children).children;S.type=M.name.substr(0,3),S.id="",O(S,"title","title",R),O(S,"link","link",R),O(S,"description","description",R);var T=x("lastBuildDate",R);T&&(S.updated=new Date(T)),O(S,"author","managingEditor",R,!0),S.items=v("item",M.children).map(function(j){var Z={},J=j.children;O(Z,"id","guid",J),O(Z,"title","title",J),O(Z,"link","link",J),O(Z,"description","description",J);var Q=x("pubDate",J);return Q&&(Z.pubDate=new Date(Q)),Z})}this.feed=S,this.handleCallback(M?null:Error("couldn't find root of feed"))},P}(d.default);s.FeedHandler=C;function v(l,P){return g.getElementsByTagName(l,P,!0)}function b(l,P){return g.getElementsByTagName(l,P,!0,1)[0]}function x(l,P,S){return S===void 0&&(S=!1),g.getText(g.getElementsByTagName(l,P,S,1)).trim()}function E(l,P){if(!P)return null;var S=P.attribs;return S[l]}function O(l,P,S,M,R){R===void 0&&(R=!1);var N=x(S,M,R);N&&(l[P]=N)}function w(l){return l==="rss"||l==="feed"||l==="rdf:RDF"}var _={xmlMode:!0};function a(l,P){P===void 0&&(P=_);var S=new C(P);return new y.Parser(S,P).end(l),S.feed}s.parseFeed=a},90819:(G,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=function(){function o(m){this._func=m}return o.prototype.onattribute=function(m,f){this._func("onattribute",m,f)},o.prototype.oncdatastart=function(){this._func("oncdatastart")},o.prototype.oncdataend=function(){this._func("oncdataend")},o.prototype.ontext=function(m){this._func("ontext",m)},o.prototype.onprocessinginstruction=function(m,f){this._func("onprocessinginstruction",m,f)},o.prototype.oncomment=function(m){this._func("oncomment",m)},o.prototype.oncommentend=function(){this._func("oncommentend")},o.prototype.onclosetag=function(m){this._func("onclosetag",m)},o.prototype.onopentag=function(m,f){this._func("onopentag",m,f)},o.prototype.onopentagname=function(m){this._func("onopentagname",m)},o.prototype.onerror=function(m){this._func("onerror",m)},o.prototype.onend=function(){this._func("onend")},o.prototype.onparserinit=function(m){this._func("onparserinit",m)},o.prototype.onreset=function(){this._func("onreset")},o}();s.default=e},16666:function(G,s,e){"use strict";var o=this&&this.__extends||function(){var w=function(_,a){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,P){l.__proto__=P}||function(l,P){for(var S in P)P.hasOwnProperty(S)&&(l[S]=P[S])},w(_,a)};return function(_,a){w(_,a);function l(){this.constructor=_}_.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),m=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(s,"__esModule",{value:!0});var f=m(e(10034)),d=e(17187),g=new Set(["input","option","optgroup","select","button","datalist","textarea"]),y=new Set(["p"]),C={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:y,h1:y,h2:y,h3:y,h4:y,h5:y,h6:y,select:g,input:g,output:g,button:g,datalist:g,textarea:g,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:y,article:y,aside:y,blockquote:y,details:y,div:y,dl:y,fieldset:y,figcaption:y,figure:y,footer:y,form:y,header:y,hr:y,main:y,nav:y,ol:y,pre:y,section:y,table:y,ul:y,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},v=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),b=new Set(["math","svg"]),x=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),E=/\s|\//,O=function(w){o(_,w);function _(a,l){var P=w.call(this)||this;return P._tagname="",P._attribname="",P._attribvalue="",P._attribs=null,P._stack=[],P._foreignContext=[],P.startIndex=0,P.endIndex=null,P.parseChunk=_.prototype.write,P.done=_.prototype.end,P._options=l||{},P._cbs=a||{},P._tagname="",P._attribname="",P._attribvalue="",P._attribs=null,P._stack=[],P._foreignContext=[],P.startIndex=0,P.endIndex=null,P._lowerCaseTagNames="lowerCaseTags"in P._options?!!P._options.lowerCaseTags:!P._options.xmlMode,P._lowerCaseAttributeNames="lowerCaseAttributeNames"in P._options?!!P._options.lowerCaseAttributeNames:!P._options.xmlMode,P._tokenizer=new(P._options.Tokenizer||f.default)(P._options,P),P._cbs.onparserinit&&P._cbs.onparserinit(P),P}return _.prototype._updatePosition=function(a){this.endIndex===null?this._tokenizer._sectionStart<=a?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-a:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},_.prototype.ontext=function(a){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(a)},_.prototype.onopentagname=function(a){if(this._lowerCaseTagNames&&(a=a.toLowerCase()),this._tagname=a,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(C,a))for(var l=void 0;C[a].has(l=this._stack[this._stack.length-1]);this.onclosetag(l));(this._options.xmlMode||!v.has(a))&&(this._stack.push(a),b.has(a)?this._foreignContext.push(!0):x.has(a)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(a),this._cbs.onopentag&&(this._attribs={})},_.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&v.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},_.prototype.onclosetag=function(a){if(this._updatePosition(1),this._lowerCaseTagNames&&(a=a.toLowerCase()),(b.has(a)||x.has(a))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!v.has(a))){var l=this._stack.lastIndexOf(a);if(l!==-1)if(this._cbs.onclosetag)for(l=this._stack.length-l;l--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=l;else a==="p"&&!this._options.xmlMode&&(this.onopentagname(a),this._closeCurrentTag())}else!this._options.xmlMode&&(a==="br"||a==="p")&&(this.onopentagname(a),this._closeCurrentTag())},_.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},_.prototype._closeCurrentTag=function(){var a=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===a&&(this._cbs.onclosetag&&this._cbs.onclosetag(a),this._stack.pop())},_.prototype.onattribname=function(a){this._lowerCaseAttributeNames&&(a=a.toLowerCase()),this._attribname=a},_.prototype.onattribdata=function(a){this._attribvalue+=a},_.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},_.prototype._getInstructionName=function(a){var l=a.search(E),P=l<0?a:a.substr(0,l);return this._lowerCaseTagNames&&(P=P.toLowerCase()),P},_.prototype.ondeclaration=function(a){if(this._cbs.onprocessinginstruction){var l=this._getInstructionName(a);this._cbs.onprocessinginstruction("!"+l,"!"+a)}},_.prototype.onprocessinginstruction=function(a){if(this._cbs.onprocessinginstruction){var l=this._getInstructionName(a);this._cbs.onprocessinginstruction("?"+l,"?"+a)}},_.prototype.oncomment=function(a){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(a),this._cbs.oncommentend&&this._cbs.oncommentend()},_.prototype.oncdata=function(a){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(a),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+a+"]]")},_.prototype.onerror=function(a){this._cbs.onerror&&this._cbs.onerror(a)},_.prototype.onend=function(){if(this._cbs.onclosetag)for(var a=this._stack.length;a>0;this._cbs.onclosetag(this._stack[--a]));this._cbs.onend&&this._cbs.onend()},_.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},_.prototype.parseComplete=function(a){this.reset(),this.end(a)},_.prototype.write=function(a){this._tokenizer.write(a)},_.prototype.end=function(a){this._tokenizer.end(a)},_.prototype.pause=function(){this._tokenizer.pause()},_.prototype.resume=function(){this._tokenizer.resume()},_}(d.EventEmitter);s.Parser=O},10034:function(G,s,e){"use strict";var o=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(s,"__esModule",{value:!0});var m=o(e(26)),f=o(e(59323)),d=o(e(29591)),g=o(e(2586));function y(B){return B===" "||B===`
`||B==="	"||B==="\f"||B==="\r"}function C(B,V,re){var le=B.toLowerCase();return B===le?function(ae,q){q===le?ae._state=V:(ae._state=re,ae._index--)}:function(ae,q){q===le||q===B?ae._state=V:(ae._state=re,ae._index--)}}function v(B,V){var re=B.toLowerCase();return function(le,ae){ae===re||ae===B?le._state=V:(le._state=3,le._index--)}}var b=C("C",23,16),x=C("D",24,16),E=C("A",25,16),O=C("T",26,16),w=C("A",27,16),_=v("R",34),a=v("I",35),l=v("P",36),P=v("T",37),S=C("R",39,1),M=C("I",40,1),R=C("P",41,1),N=C("T",42,1),T=v("Y",44),A=v("L",45),W=v("E",46),j=C("Y",48,1),Z=C("L",49,1),J=C("E",50,1),Q=C("#",52,53),ne=C("X",55,54),te=function(){function B(V,re){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=re,this._xmlMode=!!(V&&V.xmlMode),this._decodeEntities=!!(V&&V.decodeEntities)}return B.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},B.prototype._stateText=function(V){V==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&V==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},B.prototype._stateBeforeTagName=function(V){V==="/"?this._state=5:V==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):V===">"||this._special!==1||y(V)?this._state=1:V==="!"?(this._state=15,this._sectionStart=this._index+1):V==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(V==="s"||V==="S")?31:3,this._sectionStart=this._index)},B.prototype._stateInTagName=function(V){(V==="/"||V===">"||y(V))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},B.prototype._stateBeforeClosingTagName=function(V){y(V)||(V===">"?this._state=1:this._special!==1?V==="s"||V==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},B.prototype._stateInClosingTagName=function(V){(V===">"||y(V))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},B.prototype._stateAfterClosingTagName=function(V){V===">"&&(this._state=1,this._sectionStart=this._index+1)},B.prototype._stateBeforeAttributeName=function(V){V===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):V==="/"?this._state=4:y(V)||(this._state=9,this._sectionStart=this._index)},B.prototype._stateInSelfClosingTag=function(V){V===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):y(V)||(this._state=8,this._index--)},B.prototype._stateInAttributeName=function(V){(V==="="||V==="/"||V===">"||y(V))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},B.prototype._stateAfterAttributeName=function(V){V==="="?this._state=11:V==="/"||V===">"?(this._cbs.onattribend(),this._state=8,this._index--):y(V)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},B.prototype._stateBeforeAttributeValue=function(V){V==='"'?(this._state=12,this._sectionStart=this._index+1):V==="'"?(this._state=13,this._sectionStart=this._index+1):y(V)||(this._state=14,this._sectionStart=this._index,this._index--)},B.prototype._stateInAttributeValueDoubleQuotes=function(V){V==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&V==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},B.prototype._stateInAttributeValueSingleQuotes=function(V){V==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&V==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},B.prototype._stateInAttributeValueNoQuotes=function(V){y(V)||V===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&V==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},B.prototype._stateBeforeDeclaration=function(V){this._state=V==="["?22:V==="-"?18:16},B.prototype._stateInDeclaration=function(V){V===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},B.prototype._stateInProcessingInstruction=function(V){V===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},B.prototype._stateBeforeComment=function(V){V==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},B.prototype._stateInComment=function(V){V==="-"&&(this._state=20)},B.prototype._stateAfterComment1=function(V){V==="-"?this._state=21:this._state=19},B.prototype._stateAfterComment2=function(V){V===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):V!=="-"&&(this._state=19)},B.prototype._stateBeforeCdata6=function(V){V==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},B.prototype._stateInCdata=function(V){V==="]"&&(this._state=29)},B.prototype._stateAfterCdata1=function(V){V==="]"?this._state=30:this._state=28},B.prototype._stateAfterCdata2=function(V){V===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):V!=="]"&&(this._state=28)},B.prototype._stateBeforeSpecial=function(V){V==="c"||V==="C"?this._state=33:V==="t"||V==="T"?this._state=43:(this._state=3,this._index--)},B.prototype._stateBeforeSpecialEnd=function(V){this._special===2&&(V==="c"||V==="C")?this._state=38:this._special===3&&(V==="t"||V==="T")?this._state=47:this._state=1},B.prototype._stateBeforeScript5=function(V){(V==="/"||V===">"||y(V))&&(this._special=2),this._state=3,this._index--},B.prototype._stateAfterScript5=function(V){V===">"||y(V)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},B.prototype._stateBeforeStyle4=function(V){(V==="/"||V===">"||y(V))&&(this._special=3),this._state=3,this._index--},B.prototype._stateAfterStyle4=function(V){V===">"||y(V)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},B.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var V=this._buffer.substring(this._sectionStart+1,this._index),re=this._xmlMode?g.default:f.default;Object.prototype.hasOwnProperty.call(re,V)&&(this._emitPartial(re[V]),this._sectionStart=this._index+1)}},B.prototype._parseLegacyEntity=function(){var V=this._sectionStart+1,re=this._index-V;for(re>6&&(re=6);re>=2;){var le=this._buffer.substr(V,re);if(Object.prototype.hasOwnProperty.call(d.default,le)){this._emitPartial(d.default[le]),this._sectionStart+=re+1;return}else re--}},B.prototype._stateInNamedEntity=function(V){V===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(V<"a"||V>"z")&&(V<"A"||V>"Z")&&(V<"0"||V>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?V!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},B.prototype._decodeNumericEntity=function(V,re){var le=this._sectionStart+V;if(le!==this._index){var ae=this._buffer.substring(le,this._index),q=parseInt(ae,re);this._emitPartial(m.default(q)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},B.prototype._stateInNumericEntity=function(V){V===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(V<"0"||V>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},B.prototype._stateInHexEntity=function(V){V===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(V<"a"||V>"f")&&(V<"A"||V>"F")&&(V<"0"||V>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},B.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},B.prototype.write=function(V){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=V,this._parse()},B.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var V=this._buffer.charAt(this._index);this._state===1?this._stateText(V):this._state===12?this._stateInAttributeValueDoubleQuotes(V):this._state===9?this._stateInAttributeName(V):this._state===19?this._stateInComment(V):this._state===8?this._stateBeforeAttributeName(V):this._state===3?this._stateInTagName(V):this._state===6?this._stateInClosingTagName(V):this._state===2?this._stateBeforeTagName(V):this._state===10?this._stateAfterAttributeName(V):this._state===13?this._stateInAttributeValueSingleQuotes(V):this._state===11?this._stateBeforeAttributeValue(V):this._state===5?this._stateBeforeClosingTagName(V):this._state===7?this._stateAfterClosingTagName(V):this._state===31?this._stateBeforeSpecial(V):this._state===20?this._stateAfterComment1(V):this._state===14?this._stateInAttributeValueNoQuotes(V):this._state===4?this._stateInSelfClosingTag(V):this._state===16?this._stateInDeclaration(V):this._state===15?this._stateBeforeDeclaration(V):this._state===21?this._stateAfterComment2(V):this._state===18?this._stateBeforeComment(V):this._state===32?this._stateBeforeSpecialEnd(V):this._state===38?S(this,V):this._state===39?M(this,V):this._state===40?R(this,V):this._state===33?_(this,V):this._state===34?a(this,V):this._state===35?l(this,V):this._state===36?P(this,V):this._state===37?this._stateBeforeScript5(V):this._state===41?N(this,V):this._state===42?this._stateAfterScript5(V):this._state===43?T(this,V):this._state===28?this._stateInCdata(V):this._state===44?A(this,V):this._state===45?W(this,V):this._state===46?this._stateBeforeStyle4(V):this._state===47?j(this,V):this._state===48?Z(this,V):this._state===49?J(this,V):this._state===50?this._stateAfterStyle4(V):this._state===17?this._stateInProcessingInstruction(V):this._state===53?this._stateInNamedEntity(V):this._state===22?b(this,V):this._state===51?Q(this,V):this._state===23?x(this,V):this._state===24?E(this,V):this._state===29?this._stateAfterCdata1(V):this._state===30?this._stateAfterCdata2(V):this._state===25?O(this,V):this._state===26?w(this,V):this._state===27?this._stateBeforeCdata6(V):this._state===55?this._stateInHexEntity(V):this._state===54?this._stateInNumericEntity(V):this._state===52?ne(this,V):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},B.prototype.pause=function(){this._running=!1},B.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},B.prototype.end=function(V){this._ended&&this._cbs.onerror(Error(".end() after done!")),V&&this.write(V),this._ended=!0,this._running&&this._finish()},B.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},B.prototype._handleTrailingData=function(){var V=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(V):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(V):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(V)},B.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},B.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},B.prototype._emitToken=function(V){this._cbs[V](this._getSection()),this._sectionStart=-1},B.prototype._emitPartial=function(V){this._baseState!==1?this._cbs.onattribdata(V):this._cbs.ontext(V)},B}();s.default=te},35106:function(G,s,e){"use strict";function o(E){for(var O in E)s.hasOwnProperty(O)||(s[O]=E[O])}var m=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var O={};if(E!=null)for(var w in E)Object.hasOwnProperty.call(E,w)&&(O[w]=E[w]);return O.default=E,O};Object.defineProperty(s,"__esModule",{value:!0});var f=e(16666);s.Parser=f.Parser;var d=e(47915);s.DomHandler=d.DomHandler,s.DefaultHandler=d.DomHandler;function g(E,O){var w=new d.DomHandler(void 0,O);return new f.Parser(w,O).end(E),w.dom}s.parseDOM=g;function y(E,O,w){var _=new d.DomHandler(E,O,w);return new f.Parser(_,O)}s.createDomStream=y;var C=e(10034);s.Tokenizer=C.default;var v=m(e(99960));s.ElementType=v,s.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},o(e(57613)),o(e(18036)),o(e(16691));var b=m(e(89432));s.DomUtils=b;var x=e(57613);s.RssHandler=x.FeedHandler},10977:(G,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function e(m){return Object.prototype.toString.call(m)==="[object Object]"}function o(m){var f,d;return e(m)===!1?!1:(f=m.constructor,f===void 0?!0:(d=f.prototype,!(e(d)===!1||d.hasOwnProperty("isPrototypeOf")===!1)))}s.isPlainObject=o},37478:(G,s,e)=>{"use strict";var o=e(40210),m=e(21924),f=e(70631),d=o("%TypeError%"),g=o("%WeakMap%",!0),y=o("%Map%",!0),C=m("WeakMap.prototype.get",!0),v=m("WeakMap.prototype.set",!0),b=m("WeakMap.prototype.has",!0),x=m("Map.prototype.get",!0),E=m("Map.prototype.set",!0),O=m("Map.prototype.has",!0),w=function(P,S){for(var M=P,R;(R=M.next)!==null;M=R)if(R.key===S)return M.next=R.next,R.next=P.next,P.next=R,R},_=function(P,S){var M=w(P,S);return M&&M.value},a=function(P,S,M){var R=w(P,S);R?R.value=M:P.next={key:S,next:P.next,value:M}},l=function(P,S){return!!w(P,S)};G.exports=function(){var S,M,R,N={assert:function(T){if(!N.has(T))throw new d("Side channel does not contain "+f(T))},get:function(T){if(g&&T&&(typeof T=="object"||typeof T=="function")){if(S)return C(S,T)}else if(y){if(M)return x(M,T)}else if(R)return _(R,T)},has:function(T){if(g&&T&&(typeof T=="object"||typeof T=="function")){if(S)return b(S,T)}else if(y){if(M)return O(M,T)}else if(R)return l(R,T);return!1},set:function(T,A){g&&T&&(typeof T=="object"||typeof T=="function")?(S||(S=new g),v(S,T,A)):y?(M||(M=new y),E(M,T,A)):(R||(R={key:{},next:null}),a(R,T,A))}};return N}},79546:(G,s,e)=>{var o=e(62195),m=[e(39627),e(58855),e(45580),e(8728)],f=[];G.exports=o.createStore(m,f)},62195:(G,s,e)=>{var o=e(69078),m=o.slice,f=o.pluck,d=o.each,g=o.bind,y=o.create,C=o.isList,v=o.isFunction,b=o.isObject;G.exports={createStore:O};var x={version:"2.0.12",enabled:!1,get:function(w,_){var a=this.storage.read(this._namespacePrefix+w);return this._deserialize(a,_)},set:function(w,_){return _===void 0?this.remove(w):(this.storage.write(this._namespacePrefix+w,this._serialize(_)),_)},remove:function(w){this.storage.remove(this._namespacePrefix+w)},each:function(w){var _=this;this.storage.each(function(a,l){w.call(_,_._deserialize(a),(l||"").replace(_._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(w){return this._namespacePrefix=="__storejs_"+w+"_"},createStore:function(){return O.apply(this,arguments)},addPlugin:function(w){this._addPlugin(w)},namespace:function(w){return O(this.storage,this.plugins,w)}};function E(){var w=typeof console=="undefined"?null:console;if(w){var _=w.warn?w.warn:w.log;_.apply(w,arguments)}}function O(w,_,a){a||(a=""),w&&!C(w)&&(w=[w]),_&&!C(_)&&(_=[_]);var l=a?"__storejs_"+a+"_":"",P=a?new RegExp("^"+l):null,S=/^[a-zA-Z0-9_\-]*$/;if(!S.test(a))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var M={_namespacePrefix:l,_namespaceRegexp:P,_testStorage:function(N){try{var T="__storejs__test__";N.write(T,T);var A=N.read(T)===T;return N.remove(T),A}catch(W){return!1}},_assignPluginFnProp:function(N,T){var A=this[T];this[T]=function(){var j=m(arguments,0),Z=this;function J(){if(A)return d(arguments,function(ne,te){j[te]=ne}),A.apply(Z,j)}var Q=[J].concat(j);return N.apply(Z,Q)}},_serialize:function(N){return JSON.stringify(N)},_deserialize:function(N,T){if(!N)return T;var A="";try{A=JSON.parse(N)}catch(W){A=N}return A!==void 0?A:T},_addStorage:function(N){this.enabled||this._testStorage(N)&&(this.storage=N,this.enabled=!0)},_addPlugin:function(N){var T=this;if(C(N)){d(N,function(j){T._addPlugin(j)});return}var A=f(this.plugins,function(j){return N===j});if(!A){if(this.plugins.push(N),!v(N))throw new Error("Plugins must be function values that return objects");var W=N.call(this);if(!b(W))throw new Error("Plugins must return an object of function properties");d(W,function(j,Z){if(!v(j))throw new Error("Bad plugin property: "+Z+" from plugin "+N.name+". Plugins should only return functions.");T._assignPluginFnProp(j,Z)})}},addStorage:function(N){E("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(N)}},R=y(M,x,{plugins:[]});return R.raw={},d(R,function(N,T){v(N)&&(R.raw[T]=g(R,N))}),d(w,function(N){R._addStorage(N)}),d(_,function(N){R._addPlugin(N)}),R}},69078:(G,s,e)=>{var o=g(),m=y(),f=C(),d=typeof window!="undefined"?window:e.g;G.exports={assign:o,create:m,trim:f,bind:v,slice:b,each:x,map:E,pluck:O,isList:w,isFunction:_,isObject:a,Global:d};function g(){return Object.assign?Object.assign:function(P,S,M,R){for(var N=1;N<arguments.length;N++)x(Object(arguments[N]),function(T,A){P[A]=T});return P}}function y(){if(Object.create)return function(S,M,R,N){var T=b(arguments,1);return o.apply(this,[Object.create(S)].concat(T))};{let P=function(){};var l=P;return function(M,R,N,T){var A=b(arguments,1);return P.prototype=M,o.apply(this,[new P].concat(A))}}}function C(){return String.prototype.trim?function(P){return String.prototype.trim.call(P)}:function(P){return P.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function v(l,P){return function(){return P.apply(l,Array.prototype.slice.call(arguments,0))}}function b(l,P){return Array.prototype.slice.call(l,P||0)}function x(l,P){O(l,function(S,M){return P(S,M),!1})}function E(l,P){var S=w(l)?[]:{};return O(l,function(M,R){return S[R]=P(M,R),!1}),S}function O(l,P){if(w(l)){for(var S=0;S<l.length;S++)if(P(l[S],S))return l[S]}else for(var M in l)if(l.hasOwnProperty(M)&&P(l[M],M))return l[M]}function w(l){return l!=null&&typeof l!="function"&&typeof l.length=="number"}function _(l){return l&&{}.toString.call(l)==="[object Function]"}function a(l){return l&&{}.toString.call(l)==="[object Object]"}},45580:(G,s,e)=>{var o=e(69078),m=o.Global,f=o.trim;G.exports={name:"cookieStorage",read:g,write:C,each:y,remove:v,clearAll:b};var d=m.document;function g(E){if(!E||!x(E))return null;var O="(?:^|.*;\\s*)"+escape(E).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(d.cookie.replace(new RegExp(O),"$1"))}function y(E){for(var O=d.cookie.split(/; ?/g),w=O.length-1;w>=0;w--)if(f(O[w])){var _=O[w].split("="),a=unescape(_[0]),l=unescape(_[1]);E(l,a)}}function C(E,O){E&&(d.cookie=escape(E)+"="+escape(O)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function v(E){!E||!x(E)||(d.cookie=escape(E)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function b(){y(function(E,O){v(O)})}function x(E){return new RegExp("(?:^|;\\s*)"+escape(E).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(d.cookie)}},39627:(G,s,e)=>{var o=e(69078),m=o.Global;G.exports={name:"localStorage",read:d,write:g,each:y,remove:C,clearAll:v};function f(){return m.localStorage}function d(b){return f().getItem(b)}function g(b,x){return f().setItem(b,x)}function y(b){for(var x=f().length-1;x>=0;x--){var E=f().key(x);b(d(E),E)}}function C(b){return f().removeItem(b)}function v(){return f().clear()}},8728:G=>{G.exports={name:"memoryStorage",read:e,write:o,each:m,remove:f,clearAll:d};var s={};function e(g){return s[g]}function o(g,y){s[g]=y}function m(g){for(var y in s)s.hasOwnProperty(y)&&g(s[y],y)}function f(g){delete s[g]}function d(g){s={}}},58855:(G,s,e)=>{var o=e(69078),m=o.Global;G.exports={name:"sessionStorage",read:d,write:g,each:y,remove:C,clearAll:v};function f(){return m.sessionStorage}function d(b){return f().getItem(b)}function g(b,x){return f().setItem(b,x)}function y(b){for(var x=f().length-1;x>=0;x--){var E=f().key(x);b(d(E),E)}}function C(b){return f().removeItem(b)}function v(){return f().clear()}},37903:G=>{"use strict";function s(y){return f(y)||m(y)||o(y)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(y,C){if(y){if(typeof y=="string")return d(y,C);var v=Object.prototype.toString.call(y).slice(8,-1);if(v==="Object"&&y.constructor&&(v=y.constructor.name),v==="Map"||v==="Set")return Array.from(y);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return d(y,C)}}function m(y){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(y))return Array.from(y)}function f(y){if(Array.isArray(y))return d(y)}function d(y,C){(C==null||C>y.length)&&(C=y.length);for(var v=0,b=new Array(C);v<C;v++)b[v]=y[v];return b}function g(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(y){g.prototype[y]=function(){for(var C=arguments.length,v=new Array(C),b=0;b<C;b++)v[b]=arguments[b];return this._defaults.push({fn:y,args:v}),this}}),g.prototype._setDefaults=function(y){this._defaults.forEach(function(C){y[C.fn].apply(y,s(C.args))})},G.exports=g},80569:(G,s,e)=>{"use strict";function o(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(A){return typeof A}:o=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},o(N)}var m;typeof window!="undefined"?m=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),m=void 0):m=self;var f=e(98767),d=e(4445),g=e(80129),y=e(28899),C=e(54960),v=e(81097),b=e(37903);function x(){}G.exports=function(N,T){return typeof T=="function"?new s.Request("GET",N).end(T):arguments.length===1?new s.Request("GET",N):new s.Request(N,T)},s=G.exports;var E=s;s.Request=M,E.getXHR=function(){if(m.XMLHttpRequest&&(!m.location||m.location.protocol!=="file:"||!m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(N){}throw new Error("Browser-only version of superagent could not find XHR")};var O="".trim?function(N){return N.trim()}:function(N){return N.replace(/(^\s*|\s*$)/g,"")};function w(N){if(!C(N))return N;var T=[];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&_(T,A,N[A]);return T.join("&")}function _(N,T,A){if(A!==void 0){if(A===null){N.push(encodeURI(T));return}if(Array.isArray(A))A.forEach(function(j){_(N,T,j)});else if(C(A))for(var W in A)Object.prototype.hasOwnProperty.call(A,W)&&_(N,"".concat(T,"[").concat(W,"]"),A[W]);else N.push(encodeURI(T)+"="+encodeURIComponent(A))}}E.serializeObject=w;function a(N){for(var T={},A=N.split("&"),W,j,Z=0,J=A.length;Z<J;++Z)W=A[Z],j=W.indexOf("="),j===-1?T[decodeURIComponent(W)]="":T[decodeURIComponent(W.slice(0,j))]=decodeURIComponent(W.slice(j+1));return T}E.parseString=a,E.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},E.serialize={"application/x-www-form-urlencoded":g.stringify,"application/json":d},E.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse};function l(N){for(var T=N.split(/\r?\n/),A={},W,j,Z,J,Q=0,ne=T.length;Q<ne;++Q)j=T[Q],W=j.indexOf(":"),W!==-1&&(Z=j.slice(0,W).toLowerCase(),J=O(j.slice(W+1)),A[Z]=J);return A}function P(N){return/[/+]json($|[^-\w])/i.test(N)}function S(N){this.req=N,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var T=this.xhr.status;T===1223&&(T=204),this._setStatusProperties(T),this.headers=l(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&N._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}v(S.prototype),S.prototype._parseBody=function(N){var T=E.parse[this.type];return this.req._parser?this.req._parser(this,N):(!T&&P(this.type)&&(T=E.parse["application/json"]),T&&N&&(N.length>0||N instanceof Object)?T(N):null)},S.prototype.toError=function(){var N=this.req,T=N.method,A=N.url,W="cannot ".concat(T," ").concat(A," (").concat(this.status,")"),j=new Error(W);return j.status=this.status,j.method=T,j.url=A,j},E.Response=S;function M(N,T){var A=this;this._query=this._query||[],this.method=N,this.url=T,this.header={},this._header={},this.on("end",function(){var W=null,j=null;try{j=new S(A)}catch(J){return W=new Error("Parser is unable to parse the response"),W.parse=!0,W.original=J,A.xhr?(W.rawResponse=typeof A.xhr.responseType=="undefined"?A.xhr.responseText:A.xhr.response,W.status=A.xhr.status?A.xhr.status:null,W.statusCode=W.status):(W.rawResponse=null,W.status=null),A.callback(W)}A.emit("response",j);var Z;try{A._isResponseOK(j)||(Z=new Error(j.statusText||j.text||"Unsuccessful HTTP response"))}catch(J){Z=J}Z?(Z.original=W,Z.response=j,Z.status=j.status,A.callback(Z,j)):A.callback(null,j)})}f(M.prototype),y(M.prototype),M.prototype.type=function(N){return this.set("Content-Type",E.types[N]||N),this},M.prototype.accept=function(N){return this.set("Accept",E.types[N]||N),this},M.prototype.auth=function(N,T,A){arguments.length===1&&(T=""),o(T)==="object"&&T!==null&&(A=T,T=""),A||(A={type:typeof btoa=="function"?"basic":"auto"});var W=function(Z){if(typeof btoa=="function")return btoa(Z);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(N,T,A,W)},M.prototype.query=function(N){return typeof N!="string"&&(N=w(N)),N&&this._query.push(N),this},M.prototype.attach=function(N,T,A){if(T){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(N,T,A||T.name)}return this},M.prototype._getFormData=function(){return this._formData||(this._formData=new m.FormData),this._formData},M.prototype.callback=function(N,T){if(this._shouldRetry(N,T))return this._retry();var A=this._callback;this.clearTimeout(),N&&(this._maxRetries&&(N.retries=this._retries-1),this.emit("error",N)),A(N,T)},M.prototype.crossDomainError=function(){var N=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);N.crossDomain=!0,N.status=this.status,N.method=this.method,N.url=this.url,this.callback(N)},M.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},M.prototype.ca=M.prototype.agent,M.prototype.buffer=M.prototype.ca,M.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},M.prototype.pipe=M.prototype.write,M.prototype._isHost=function(N){return N&&o(N)==="object"&&!Array.isArray(N)&&Object.prototype.toString.call(N)!=="[object Object]"},M.prototype.end=function(N){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=N||x,this._finalizeQueryString(),this._end()},M.prototype._setUploadTimeout=function(){var N=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){N._timeoutError("Upload timeout of ",N._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},M.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var N=this;this.xhr=E.getXHR();var T=this.xhr,A=this._formData||this._data;this._setTimeouts(),T.onreadystatechange=function(){var Q=T.readyState;if(Q>=2&&N._responseTimeoutTimer&&clearTimeout(N._responseTimeoutTimer),Q===4){var ne;try{ne=T.status}catch(te){ne=0}if(!ne)return N.timedout||N._aborted?void 0:N.crossDomainError();N.emit("end")}};var W=function(ne,te){te.total>0&&(te.percent=te.loaded/te.total*100,te.percent===100&&clearTimeout(N._uploadTimeoutTimer)),te.direction=ne,N.emit("progress",te)};if(this.hasListeners("progress"))try{T.addEventListener("progress",W.bind(null,"download")),T.upload&&T.upload.addEventListener("progress",W.bind(null,"upload"))}catch(Q){}T.upload&&this._setUploadTimeout();try{this.username&&this.password?T.open(this.method,this.url,!0,this.username,this.password):T.open(this.method,this.url,!0)}catch(Q){return this.callback(Q)}if(this._withCredentials&&(T.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof A!="string"&&!this._isHost(A)){var j=this._header["content-type"],Z=this._serializer||E.serialize[j?j.split(";")[0]:""];!Z&&P(j)&&(Z=E.serialize["application/json"]),Z&&(A=Z(A))}for(var J in this.header)this.header[J]!==null&&Object.prototype.hasOwnProperty.call(this.header,J)&&T.setRequestHeader(J,this.header[J]);this._responseType&&(T.responseType=this._responseType),this.emit("request",this),T.send(typeof A=="undefined"?null:A)},E.agent=function(){return new b},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(N){b.prototype[N.toLowerCase()]=function(T,A){var W=new E.Request(N,T);return this._setDefaults(W),A&&W.end(A),W}}),b.prototype.del=b.prototype.delete,E.get=function(N,T,A){var W=E("GET",N);return typeof T=="function"&&(A=T,T=null),T&&W.query(T),A&&W.end(A),W},E.head=function(N,T,A){var W=E("HEAD",N);return typeof T=="function"&&(A=T,T=null),T&&W.query(T),A&&W.end(A),W},E.options=function(N,T,A){var W=E("OPTIONS",N);return typeof T=="function"&&(A=T,T=null),T&&W.send(T),A&&W.end(A),W};function R(N,T,A){var W=E("DELETE",N);return typeof T=="function"&&(A=T,T=null),T&&W.send(T),A&&W.end(A),W}E.del=R,E.delete=R,E.patch=function(N,T,A){var W=E("PATCH",N);return typeof T=="function"&&(A=T,T=null),T&&W.send(T),A&&W.end(A),W},E.post=function(N,T,A){var W=E("POST",N);return typeof T=="function"&&(A=T,T=null),T&&W.send(T),A&&W.end(A),W},E.put=function(N,T,A){var W=E("PUT",N);return typeof T=="function"&&(A=T,T=null),T&&W.send(T),A&&W.end(A),W}},54960:G=>{"use strict";function s(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(f){return typeof f}:s=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},s(o)}function e(o){return o!==null&&s(o)==="object"}G.exports=e},28899:(G,s,e)=>{"use strict";function o(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(b){return typeof b}:o=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o(C)}var m=e(54960);G.exports=f;function f(C){if(C)return d(C)}function d(C){for(var v in f.prototype)Object.prototype.hasOwnProperty.call(f.prototype,v)&&(C[v]=f.prototype[v]);return C}f.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},f.prototype.parse=function(C){return this._parser=C,this},f.prototype.responseType=function(C){return this._responseType=C,this},f.prototype.serialize=function(C){return this._serializer=C,this},f.prototype.timeout=function(C){if(!C||o(C)!=="object")return this._timeout=C,this._responseTimeout=0,this._uploadTimeout=0,this;for(var v in C)if(Object.prototype.hasOwnProperty.call(C,v))switch(v){case"deadline":this._timeout=C.deadline;break;case"response":this._responseTimeout=C.response;break;case"upload":this._uploadTimeout=C.upload;break;default:console.warn("Unknown timeout option",v)}return this},f.prototype.retry=function(C,v){return(arguments.length===0||C===!0)&&(C=1),C<=0&&(C=0),this._maxRetries=C,this._retries=0,this._retryCallback=v,this};var g=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),y=new Set([408,413,429,500,502,503,504,521,522,524]);f.prototype._shouldRetry=function(C,v){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var b=this._retryCallback(C,v);if(b===!0)return!0;if(b===!1)return!1}catch(x){console.error(x)}return!!(v&&v.status&&y.has(v.status)||C&&(C.code&&g.has(C.code)||C.timeout&&C.code==="ECONNABORTED"||C.crossDomain))},f.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},f.prototype.then=function(C,v){var b=this;if(!this._fullfilledPromise){var x=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(E,O){x.on("abort",function(){if(!(b._maxRetries&&b._maxRetries>b._retries)){if(b.timedout&&b.timedoutError){O(b.timedoutError);return}var w=new Error("Aborted");w.code="ABORTED",w.status=b.status,w.method=b.method,w.url=b.url,O(w)}}),x.end(function(w,_){w?O(w):E(_)})})}return this._fullfilledPromise.then(C,v)},f.prototype.catch=function(C){return this.then(void 0,C)},f.prototype.use=function(C){return C(this),this},f.prototype.ok=function(C){if(typeof C!="function")throw new Error("Callback required");return this._okCallback=C,this},f.prototype._isResponseOK=function(C){return C?this._okCallback?this._okCallback(C):C.status>=200&&C.status<300:!1},f.prototype.get=function(C){return this._header[C.toLowerCase()]},f.prototype.getHeader=f.prototype.get,f.prototype.set=function(C,v){if(m(C)){for(var b in C)Object.prototype.hasOwnProperty.call(C,b)&&this.set(b,C[b]);return this}return this._header[C.toLowerCase()]=v,this.header[C]=v,this},f.prototype.unset=function(C){return delete this._header[C.toLowerCase()],delete this.header[C],this},f.prototype.field=function(C,v){if(C==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(m(C)){for(var b in C)Object.prototype.hasOwnProperty.call(C,b)&&this.field(b,C[b]);return this}if(Array.isArray(v)){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&this.field(C,v[x]);return this}if(v==null)throw new Error(".field(name, val) val can not be empty");return typeof v=="boolean"&&(v=String(v)),this._getFormData().append(C,v),this},f.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},f.prototype._auth=function(C,v,b,x){switch(b.type){case"basic":this.set("Authorization","Basic ".concat(x("".concat(C,":").concat(v))));break;case"auto":this.username=C,this.password=v;break;case"bearer":this.set("Authorization","Bearer ".concat(C));break;default:break}return this},f.prototype.withCredentials=function(C){return C===void 0&&(C=!0),this._withCredentials=C,this},f.prototype.redirects=function(C){return this._maxRedirects=C,this},f.prototype.maxResponseSize=function(C){if(typeof C!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=C,this},f.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},f.prototype.send=function(C){var v=m(C),b=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(v&&!this._data)Array.isArray(C)?this._data=[]:this._isHost(C)||(this._data={});else if(C&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(v&&m(this._data))for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&(this._data[x]=C[x]);else typeof C=="string"?(b||this.type("form"),b=this._header["content-type"],b&&(b=b.toLowerCase().trim()),b==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(C):C:this._data=(this._data||"")+C):this._data=C;return!v||this._isHost(C)?this:(b||this.type("json"),this)},f.prototype.sortQuery=function(C){return this._sort=typeof C=="undefined"?!0:C,this},f.prototype._finalizeQueryString=function(){var C=this._query.join("&");if(C&&(this.url+=(this.url.includes("?")?"&":"?")+C),this._query.length=0,this._sort){var v=this.url.indexOf("?");if(v>=0){var b=this.url.slice(v+1).split("&");typeof this._sort=="function"?b.sort(this._sort):b.sort(),this.url=this.url.slice(0,v)+"?"+b.join("&")}}},f.prototype._appendQueryString=function(){console.warn("Unsupported")},f.prototype._timeoutError=function(C,v,b){if(!this._aborted){var x=new Error("".concat(C+v,"ms exceeded"));x.timeout=v,x.code="ECONNABORTED",x.errno=b,this.timedout=!0,this.timedoutError=x,this.abort(),this.callback(x)}},f.prototype._setTimeouts=function(){var C=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){C._timeoutError("Timeout of ",C._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){C._timeoutError("Response timeout of ",C._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},81097:(G,s,e)=>{"use strict";var o=e(64506);G.exports=m;function m(d){if(d)return f(d)}function f(d){for(var g in m.prototype)Object.prototype.hasOwnProperty.call(m.prototype,g)&&(d[g]=m.prototype[g]);return d}m.prototype.get=function(d){return this.header[d.toLowerCase()]},m.prototype._setHeaderProperties=function(d){var g=d["content-type"]||"";this.type=o.type(g);var y=o.params(g);for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(this[C]=y[C]);this.links={};try{d.link&&(this.links=o.parseLinks(d.link))}catch(v){}},m.prototype._setStatusProperties=function(d){var g=d/100|0;this.statusCode=d,this.status=this.statusCode,this.statusType=g,this.info=g===1,this.ok=g===2,this.redirect=g===3,this.clientError=g===4,this.serverError=g===5,this.error=g===4||g===5?this.toError():!1,this.created=d===201,this.accepted=d===202,this.noContent=d===204,this.badRequest=d===400,this.unauthorized=d===401,this.notAcceptable=d===406,this.forbidden=d===403,this.notFound=d===404,this.unprocessableEntity=d===422}},64506:(G,s)=>{"use strict";function e(f,d){var g;if(typeof Symbol=="undefined"||f[Symbol.iterator]==null){if(Array.isArray(f)||(g=o(f))||d&&f&&typeof f.length=="number"){g&&(f=g);var y=0,C=function(){};return{s:C,n:function(){return y>=f.length?{done:!0}:{done:!1,value:f[y++]}},e:function(O){throw O},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,b=!1,x;return{s:function(){g=f[Symbol.iterator]()},n:function(){var O=g.next();return v=O.done,O},e:function(O){b=!0,x=O},f:function(){try{!v&&g.return!=null&&g.return()}finally{if(b)throw x}}}}function o(f,d){if(f){if(typeof f=="string")return m(f,d);var g=Object.prototype.toString.call(f).slice(8,-1);if(g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set")return Array.from(f);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return m(f,d)}}function m(f,d){(d==null||d>f.length)&&(d=f.length);for(var g=0,y=new Array(d);g<d;g++)y[g]=f[g];return y}s.type=function(f){return f.split(/ *; */).shift()},s.params=function(f){var d={},g=e(f.split(/ *; */)),y;try{for(g.s();!(y=g.n()).done;){var C=y.value,v=C.split(/ *= */),b=v.shift(),x=v.shift();b&&x&&(d[b]=x)}}catch(E){g.e(E)}finally{g.f()}return d},s.parseLinks=function(f){var d={},g=e(f.split(/ *, */)),y;try{for(g.s();!(y=g.n()).done;){var C=y.value,v=C.split(/ *; */),b=v[0].slice(1,-1),x=v[1].split(/ *= */)[1].slice(1,-1);d[x]=b}}catch(E){g.e(E)}finally{g.f()}return d},s.cleanHeader=function(f,d){return delete f["content-type"],delete f["content-length"],delete f["transfer-encoding"],delete f.host,d&&(delete f.authorization,delete f.cookie),f}},79253:(G,s,e)=>{"use strict";e.d(s,{ZP:()=>ko});function o(tt){if(tt==null)return window;if(tt.toString()!=="[object Window]"){var ot=tt.ownerDocument;return ot&&ot.defaultView||window}return tt}function m(tt){var ot=o(tt).Element;return tt instanceof ot||tt instanceof Element}function f(tt){var ot=o(tt).HTMLElement;return tt instanceof ot||tt instanceof HTMLElement}function d(tt){if(typeof ShadowRoot=="undefined")return!1;var ot=o(tt).ShadowRoot;return tt instanceof ot||tt instanceof ShadowRoot}var g=Math.max,y=Math.min,C=Math.round;function v(tt,ot){ot===void 0&&(ot=!1);var wt=tt.getBoundingClientRect(),Zt=1,ln=1;if(f(tt)&&ot){var mn=tt.offsetHeight,Pn=tt.offsetWidth;Pn>0&&(Zt=C(wt.width)/Pn||1),mn>0&&(ln=C(wt.height)/mn||1)}return{width:wt.width/Zt,height:wt.height/ln,top:wt.top/ln,right:wt.right/Zt,bottom:wt.bottom/ln,left:wt.left/Zt,x:wt.left/Zt,y:wt.top/ln}}function b(tt){var ot=o(tt),wt=ot.pageXOffset,Zt=ot.pageYOffset;return{scrollLeft:wt,scrollTop:Zt}}function x(tt){return{scrollLeft:tt.scrollLeft,scrollTop:tt.scrollTop}}function E(tt){return tt===o(tt)||!f(tt)?b(tt):x(tt)}function O(tt){return tt?(tt.nodeName||"").toLowerCase():null}function w(tt){return((m(tt)?tt.ownerDocument:tt.document)||window.document).documentElement}function _(tt){return v(w(tt)).left+b(tt).scrollLeft}function a(tt){return o(tt).getComputedStyle(tt)}function l(tt){var ot=a(tt),wt=ot.overflow,Zt=ot.overflowX,ln=ot.overflowY;return/auto|scroll|overlay|hidden/.test(wt+ln+Zt)}function P(tt){var ot=tt.getBoundingClientRect(),wt=C(ot.width)/tt.offsetWidth||1,Zt=C(ot.height)/tt.offsetHeight||1;return wt!==1||Zt!==1}function S(tt,ot,wt){wt===void 0&&(wt=!1);var Zt=f(ot),ln=f(ot)&&P(ot),mn=w(ot),Pn=v(tt,ln),Dn={scrollLeft:0,scrollTop:0},Fn={x:0,y:0};return(Zt||!Zt&&!wt)&&((O(ot)!=="body"||l(mn))&&(Dn=E(ot)),f(ot)?(Fn=v(ot,!0),Fn.x+=ot.clientLeft,Fn.y+=ot.clientTop):mn&&(Fn.x=_(mn))),{x:Pn.left+Dn.scrollLeft-Fn.x,y:Pn.top+Dn.scrollTop-Fn.y,width:Pn.width,height:Pn.height}}function M(tt){var ot=v(tt),wt=tt.offsetWidth,Zt=tt.offsetHeight;return Math.abs(ot.width-wt)<=1&&(wt=ot.width),Math.abs(ot.height-Zt)<=1&&(Zt=ot.height),{x:tt.offsetLeft,y:tt.offsetTop,width:wt,height:Zt}}function R(tt){return O(tt)==="html"?tt:tt.assignedSlot||tt.parentNode||(d(tt)?tt.host:null)||w(tt)}function N(tt){return["html","body","#document"].indexOf(O(tt))>=0?tt.ownerDocument.body:f(tt)&&l(tt)?tt:N(R(tt))}function T(tt,ot){var wt;ot===void 0&&(ot=[]);var Zt=N(tt),ln=Zt===((wt=tt.ownerDocument)==null?void 0:wt.body),mn=o(Zt),Pn=ln?[mn].concat(mn.visualViewport||[],l(Zt)?Zt:[]):Zt,Dn=ot.concat(Pn);return ln?Dn:Dn.concat(T(R(Pn)))}function A(tt){return["table","td","th"].indexOf(O(tt))>=0}function W(tt){return!f(tt)||a(tt).position==="fixed"?null:tt.offsetParent}function j(tt){var ot=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,wt=navigator.userAgent.indexOf("Trident")!==-1;if(wt&&f(tt)){var Zt=a(tt);if(Zt.position==="fixed")return null}for(var ln=R(tt);f(ln)&&["html","body"].indexOf(O(ln))<0;){var mn=a(ln);if(mn.transform!=="none"||mn.perspective!=="none"||mn.contain==="paint"||["transform","perspective"].indexOf(mn.willChange)!==-1||ot&&mn.willChange==="filter"||ot&&mn.filter&&mn.filter!=="none")return ln;ln=ln.parentNode}return null}function Z(tt){for(var ot=o(tt),wt=W(tt);wt&&A(wt)&&a(wt).position==="static";)wt=W(wt);return wt&&(O(wt)==="html"||O(wt)==="body"&&a(wt).position==="static")?ot:wt||j(tt)||ot}var J="top",Q="bottom",ne="right",te="left",B="auto",V=[J,Q,ne,te],re="start",le="end",ae="clippingParents",q="viewport",oe="popper",z="reference",ie=V.reduce(function(tt,ot){return tt.concat([ot+"-"+re,ot+"-"+le])},[]),ue=[].concat(V,[B]).reduce(function(tt,ot){return tt.concat([ot,ot+"-"+re,ot+"-"+le])},[]),de="beforeRead",fe="read",ye="afterRead",pe="beforeMain",we="main",Me="afterMain",je="beforeWrite",De="write",me="afterWrite",ce=[de,fe,ye,pe,we,Me,je,De,me];function ge(tt){var ot=new Map,wt=new Set,Zt=[];tt.forEach(function(mn){ot.set(mn.name,mn)});function ln(mn){wt.add(mn.name);var Pn=[].concat(mn.requires||[],mn.requiresIfExists||[]);Pn.forEach(function(Dn){if(!wt.has(Dn)){var Fn=ot.get(Dn);Fn&&ln(Fn)}}),Zt.push(mn)}return tt.forEach(function(mn){wt.has(mn.name)||ln(mn)}),Zt}function Ie(tt){var ot=ge(tt);return ce.reduce(function(wt,Zt){return wt.concat(ot.filter(function(ln){return ln.phase===Zt}))},[])}function Re(tt){var ot;return function(){return ot||(ot=new Promise(function(wt){Promise.resolve().then(function(){ot=void 0,wt(tt())})})),ot}}function Ke(tt){var ot=tt.reduce(function(wt,Zt){var ln=wt[Zt.name];return wt[Zt.name]=ln?Object.assign({},ln,Zt,{options:Object.assign({},ln.options,Zt.options),data:Object.assign({},ln.data,Zt.data)}):Zt,wt},{});return Object.keys(ot).map(function(wt){return ot[wt]})}var ut="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",_t="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",ft={placement:"bottom",modifiers:[],strategy:"absolute"};function We(){for(var tt=arguments.length,ot=new Array(tt),wt=0;wt<tt;wt++)ot[wt]=arguments[wt];return!ot.some(function(Zt){return!(Zt&&typeof Zt.getBoundingClientRect=="function")})}function Be(tt){tt===void 0&&(tt={});var ot=tt,wt=ot.defaultModifiers,Zt=wt===void 0?[]:wt,ln=ot.defaultOptions,mn=ln===void 0?ft:ln;return function(Dn,Fn,or){or===void 0&&(or=mn);var jn={placement:"bottom",orderedModifiers:[],options:Object.assign({},ft,mn),modifiersData:{},elements:{reference:Dn,popper:Fn},attributes:{},styles:{}},jr=[],Wr=!1,Tr={state:jn,setOptions:function(sr){var Ce=typeof sr=="function"?sr(jn.options):sr;gr(),jn.options=Object.assign({},mn,jn.options,Ce),jn.scrollParents={reference:m(Dn)?T(Dn):Dn.contextElement?T(Dn.contextElement):[],popper:T(Fn)};var it=Ie(Ke([].concat(Zt,jn.options.modifiers)));if(jn.orderedModifiers=it.filter(function(rt){return rt.enabled}),!1)var L,F,$,se,Ee,Ae,Ze;return Ir(),Tr.update()},forceUpdate:function(){if(!Wr){var sr=jn.elements,Ce=sr.reference,it=sr.popper;if(We(Ce,it)){jn.rects={reference:S(Ce,Z(it),jn.options.strategy==="fixed"),popper:M(it)},jn.reset=!1,jn.placement=jn.options.placement,jn.orderedModifiers.forEach(function(rt){return jn.modifiersData[rt.name]=Object.assign({},rt.data)});for(var L=0,F=0;F<jn.orderedModifiers.length;F++){if(jn.reset===!0){jn.reset=!1,F=-1;continue}var $=jn.orderedModifiers[F],se=$.fn,Ee=$.options,Ae=Ee===void 0?{}:Ee,Ze=$.name;typeof se=="function"&&(jn=se({state:jn,options:Ae,name:Ze,instance:Tr})||jn)}}}},update:Re(function(){return new Promise(function(vr){Tr.forceUpdate(),vr(jn)})}),destroy:function(){gr(),Wr=!0}};if(!We(Dn,Fn))return Tr;Tr.setOptions(or).then(function(vr){!Wr&&or.onFirstUpdate&&or.onFirstUpdate(vr)});function Ir(){jn.orderedModifiers.forEach(function(vr){var sr=vr.name,Ce=vr.options,it=Ce===void 0?{}:Ce,L=vr.effect;if(typeof L=="function"){var F=L({state:jn,name:sr,instance:Tr,options:it}),$=function(){};jr.push(F||$)}})}function gr(){jr.forEach(function(vr){return vr()}),jr=[]}return Tr}}var lt=null,Tt={passive:!0};function xt(tt){var ot=tt.state,wt=tt.instance,Zt=tt.options,ln=Zt.scroll,mn=ln===void 0?!0:ln,Pn=Zt.resize,Dn=Pn===void 0?!0:Pn,Fn=o(ot.elements.popper),or=[].concat(ot.scrollParents.reference,ot.scrollParents.popper);return mn&&or.forEach(function(jn){jn.addEventListener("scroll",wt.update,Tt)}),Dn&&Fn.addEventListener("resize",wt.update,Tt),function(){mn&&or.forEach(function(jn){jn.removeEventListener("scroll",wt.update,Tt)}),Dn&&Fn.removeEventListener("resize",wt.update,Tt)}}const Gt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xt,data:{}};function an(tt){return tt.split("-")[0]}function yt(tt){return tt.split("-")[1]}function ke(tt){return["top","bottom"].indexOf(tt)>=0?"x":"y"}function Ve(tt){var ot=tt.reference,wt=tt.element,Zt=tt.placement,ln=Zt?an(Zt):null,mn=Zt?yt(Zt):null,Pn=ot.x+ot.width/2-wt.width/2,Dn=ot.y+ot.height/2-wt.height/2,Fn;switch(ln){case J:Fn={x:Pn,y:ot.y-wt.height};break;case Q:Fn={x:Pn,y:ot.y+ot.height};break;case ne:Fn={x:ot.x+ot.width,y:Dn};break;case te:Fn={x:ot.x-wt.width,y:Dn};break;default:Fn={x:ot.x,y:ot.y}}var or=ln?ke(ln):null;if(or!=null){var jn=or==="y"?"height":"width";switch(mn){case re:Fn[or]=Fn[or]-(ot[jn]/2-wt[jn]/2);break;case le:Fn[or]=Fn[or]+(ot[jn]/2-wt[jn]/2);break;default:}}return Fn}function Ne(tt){var ot=tt.state,wt=tt.name;ot.modifiersData[wt]=Ve({reference:ot.rects.reference,element:ot.rects.popper,strategy:"absolute",placement:ot.placement})}const Fe={name:"popperOffsets",enabled:!0,phase:"read",fn:Ne,data:{}};var Ue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function be(tt){var ot=tt.x,wt=tt.y,Zt=window,ln=Zt.devicePixelRatio||1;return{x:C(ot*ln)/ln||0,y:C(wt*ln)/ln||0}}function Ge(tt){var ot,wt=tt.popper,Zt=tt.popperRect,ln=tt.placement,mn=tt.variation,Pn=tt.offsets,Dn=tt.position,Fn=tt.gpuAcceleration,or=tt.adaptive,jn=tt.roundOffsets,jr=tt.isFixed,Wr=Pn.x,Tr=Wr===void 0?0:Wr,Ir=Pn.y,gr=Ir===void 0?0:Ir,vr=typeof jn=="function"?jn({x:Tr,y:gr}):{x:Tr,y:gr};Tr=vr.x,gr=vr.y;var sr=Pn.hasOwnProperty("x"),Ce=Pn.hasOwnProperty("y"),it=te,L=J,F=window;if(or){var $=Z(wt),se="clientHeight",Ee="clientWidth";if($===o(wt)&&($=w(wt),a($).position!=="static"&&Dn==="absolute"&&(se="scrollHeight",Ee="scrollWidth")),$=$,ln===J||(ln===te||ln===ne)&&mn===le){L=Q;var Ae=jr&&F.visualViewport?F.visualViewport.height:$[se];gr-=Ae-Zt.height,gr*=Fn?1:-1}if(ln===te||(ln===J||ln===Q)&&mn===le){it=ne;var Ze=jr&&F.visualViewport?F.visualViewport.width:$[Ee];Tr-=Ze-Zt.width,Tr*=Fn?1:-1}}var rt=Object.assign({position:Dn},or&&Ue),dt=jn===!0?be({x:Tr,y:gr}):{x:Tr,y:gr};if(Tr=dt.x,gr=dt.y,Fn){var Lt;return Object.assign({},rt,(Lt={},Lt[L]=Ce?"0":"",Lt[it]=sr?"0":"",Lt.transform=(F.devicePixelRatio||1)<=1?"translate("+Tr+"px, "+gr+"px)":"translate3d("+Tr+"px, "+gr+"px, 0)",Lt))}return Object.assign({},rt,(ot={},ot[L]=Ce?gr+"px":"",ot[it]=sr?Tr+"px":"",ot.transform="",ot))}function nt(tt){var ot=tt.state,wt=tt.options,Zt=wt.gpuAcceleration,ln=Zt===void 0?!0:Zt,mn=wt.adaptive,Pn=mn===void 0?!0:mn,Dn=wt.roundOffsets,Fn=Dn===void 0?!0:Dn;if(!1)var or;var jn={placement:an(ot.placement),variation:yt(ot.placement),popper:ot.elements.popper,popperRect:ot.rects.popper,gpuAcceleration:ln,isFixed:ot.options.strategy==="fixed"};ot.modifiersData.popperOffsets!=null&&(ot.styles.popper=Object.assign({},ot.styles.popper,Ge(Object.assign({},jn,{offsets:ot.modifiersData.popperOffsets,position:ot.options.strategy,adaptive:Pn,roundOffsets:Fn})))),ot.modifiersData.arrow!=null&&(ot.styles.arrow=Object.assign({},ot.styles.arrow,Ge(Object.assign({},jn,{offsets:ot.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Fn})))),ot.attributes.popper=Object.assign({},ot.attributes.popper,{"data-popper-placement":ot.placement})}const Oe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nt,data:{}};function K(tt){var ot=tt.state;Object.keys(ot.elements).forEach(function(wt){var Zt=ot.styles[wt]||{},ln=ot.attributes[wt]||{},mn=ot.elements[wt];!f(mn)||!O(mn)||(Object.assign(mn.style,Zt),Object.keys(ln).forEach(function(Pn){var Dn=ln[Pn];Dn===!1?mn.removeAttribute(Pn):mn.setAttribute(Pn,Dn===!0?"":Dn)}))})}function Y(tt){var ot=tt.state,wt={popper:{position:ot.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ot.elements.popper.style,wt.popper),ot.styles=wt,ot.elements.arrow&&Object.assign(ot.elements.arrow.style,wt.arrow),function(){Object.keys(ot.elements).forEach(function(Zt){var ln=ot.elements[Zt],mn=ot.attributes[Zt]||{},Pn=Object.keys(ot.styles.hasOwnProperty(Zt)?ot.styles[Zt]:wt[Zt]),Dn=Pn.reduce(function(Fn,or){return Fn[or]="",Fn},{});!f(ln)||!O(ln)||(Object.assign(ln.style,Dn),Object.keys(mn).forEach(function(Fn){ln.removeAttribute(Fn)}))})}}const he={name:"applyStyles",enabled:!0,phase:"write",fn:K,effect:Y,requires:["computeStyles"]};function Te(tt,ot,wt){var Zt=an(tt),ln=[te,J].indexOf(Zt)>=0?-1:1,mn=typeof wt=="function"?wt(Object.assign({},ot,{placement:tt})):wt,Pn=mn[0],Dn=mn[1];return Pn=Pn||0,Dn=(Dn||0)*ln,[te,ne].indexOf(Zt)>=0?{x:Dn,y:Pn}:{x:Pn,y:Dn}}function He(tt){var ot=tt.state,wt=tt.options,Zt=tt.name,ln=wt.offset,mn=ln===void 0?[0,0]:ln,Pn=ue.reduce(function(jn,jr){return jn[jr]=Te(jr,ot.rects,mn),jn},{}),Dn=Pn[ot.placement],Fn=Dn.x,or=Dn.y;ot.modifiersData.popperOffsets!=null&&(ot.modifiersData.popperOffsets.x+=Fn,ot.modifiersData.popperOffsets.y+=or),ot.modifiersData[Zt]=Pn}const Qe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:He};var ht={left:"right",right:"left",bottom:"top",top:"bottom"};function ct(tt){return tt.replace(/left|right|bottom|top/g,function(ot){return ht[ot]})}var Pt={start:"end",end:"start"};function Nt(tt){return tt.replace(/start|end/g,function(ot){return Pt[ot]})}function sn(tt){var ot=o(tt),wt=w(tt),Zt=ot.visualViewport,ln=wt.clientWidth,mn=wt.clientHeight,Pn=0,Dn=0;return Zt&&(ln=Zt.width,mn=Zt.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Pn=Zt.offsetLeft,Dn=Zt.offsetTop)),{width:ln,height:mn,x:Pn+_(tt),y:Dn}}function Et(tt){var ot,wt=w(tt),Zt=b(tt),ln=(ot=tt.ownerDocument)==null?void 0:ot.body,mn=g(wt.scrollWidth,wt.clientWidth,ln?ln.scrollWidth:0,ln?ln.clientWidth:0),Pn=g(wt.scrollHeight,wt.clientHeight,ln?ln.scrollHeight:0,ln?ln.clientHeight:0),Dn=-Zt.scrollLeft+_(tt),Fn=-Zt.scrollTop;return a(ln||wt).direction==="rtl"&&(Dn+=g(wt.clientWidth,ln?ln.clientWidth:0)-mn),{width:mn,height:Pn,x:Dn,y:Fn}}function Ot(tt,ot){var wt=ot.getRootNode&&ot.getRootNode();if(tt.contains(ot))return!0;if(wt&&d(wt)){var Zt=ot;do{if(Zt&&tt.isSameNode(Zt))return!0;Zt=Zt.parentNode||Zt.host}while(Zt)}return!1}function at(tt){return Object.assign({},tt,{left:tt.x,top:tt.y,right:tt.x+tt.width,bottom:tt.y+tt.height})}function Ht(tt){var ot=v(tt);return ot.top=ot.top+tt.clientTop,ot.left=ot.left+tt.clientLeft,ot.bottom=ot.top+tt.clientHeight,ot.right=ot.left+tt.clientWidth,ot.width=tt.clientWidth,ot.height=tt.clientHeight,ot.x=ot.left,ot.y=ot.top,ot}function zt(tt,ot){return ot===q?at(sn(tt)):m(ot)?Ht(ot):at(Et(w(tt)))}function on(tt){var ot=T(R(tt)),wt=["absolute","fixed"].indexOf(a(tt).position)>=0,Zt=wt&&f(tt)?Z(tt):tt;return m(Zt)?ot.filter(function(ln){return m(ln)&&Ot(ln,Zt)&&O(ln)!=="body"}):[]}function hn(tt,ot,wt){var Zt=ot==="clippingParents"?on(tt):[].concat(ot),ln=[].concat(Zt,[wt]),mn=ln[0],Pn=ln.reduce(function(Dn,Fn){var or=zt(tt,Fn);return Dn.top=g(or.top,Dn.top),Dn.right=y(or.right,Dn.right),Dn.bottom=y(or.bottom,Dn.bottom),Dn.left=g(or.left,Dn.left),Dn},zt(tt,mn));return Pn.width=Pn.right-Pn.left,Pn.height=Pn.bottom-Pn.top,Pn.x=Pn.left,Pn.y=Pn.top,Pn}function gn(){return{top:0,right:0,bottom:0,left:0}}function bn(tt){return Object.assign({},gn(),tt)}function Un(tt,ot){return ot.reduce(function(wt,Zt){return wt[Zt]=tt,wt},{})}function qn(tt,ot){ot===void 0&&(ot={});var wt=ot,Zt=wt.placement,ln=Zt===void 0?tt.placement:Zt,mn=wt.boundary,Pn=mn===void 0?ae:mn,Dn=wt.rootBoundary,Fn=Dn===void 0?q:Dn,or=wt.elementContext,jn=or===void 0?oe:or,jr=wt.altBoundary,Wr=jr===void 0?!1:jr,Tr=wt.padding,Ir=Tr===void 0?0:Tr,gr=bn(typeof Ir!="number"?Ir:Un(Ir,V)),vr=jn===oe?z:oe,sr=tt.rects.popper,Ce=tt.elements[Wr?vr:jn],it=hn(m(Ce)?Ce:Ce.contextElement||w(tt.elements.popper),Pn,Fn),L=v(tt.elements.reference),F=Ve({reference:L,element:sr,strategy:"absolute",placement:ln}),$=at(Object.assign({},sr,F)),se=jn===oe?$:L,Ee={top:it.top-se.top+gr.top,bottom:se.bottom-it.bottom+gr.bottom,left:it.left-se.left+gr.left,right:se.right-it.right+gr.right},Ae=tt.modifiersData.offset;if(jn===oe&&Ae){var Ze=Ae[ln];Object.keys(Ee).forEach(function(rt){var dt=[ne,Q].indexOf(rt)>=0?1:-1,Lt=[J,Q].indexOf(rt)>=0?"y":"x";Ee[rt]+=Ze[Lt]*dt})}return Ee}function cr(tt,ot){ot===void 0&&(ot={});var wt=ot,Zt=wt.placement,ln=wt.boundary,mn=wt.rootBoundary,Pn=wt.padding,Dn=wt.flipVariations,Fn=wt.allowedAutoPlacements,or=Fn===void 0?ue:Fn,jn=yt(Zt),jr=jn?Dn?ie:ie.filter(function(Ir){return yt(Ir)===jn}):V,Wr=jr.filter(function(Ir){return or.indexOf(Ir)>=0});Wr.length===0&&(Wr=jr);var Tr=Wr.reduce(function(Ir,gr){return Ir[gr]=qn(tt,{placement:gr,boundary:ln,rootBoundary:mn,padding:Pn})[an(gr)],Ir},{});return Object.keys(Tr).sort(function(Ir,gr){return Tr[Ir]-Tr[gr]})}function hr(tt){if(an(tt)===B)return[];var ot=ct(tt);return[Nt(tt),ot,Nt(ot)]}function pr(tt){var ot=tt.state,wt=tt.options,Zt=tt.name;if(!ot.modifiersData[Zt]._skip){for(var ln=wt.mainAxis,mn=ln===void 0?!0:ln,Pn=wt.altAxis,Dn=Pn===void 0?!0:Pn,Fn=wt.fallbackPlacements,or=wt.padding,jn=wt.boundary,jr=wt.rootBoundary,Wr=wt.altBoundary,Tr=wt.flipVariations,Ir=Tr===void 0?!0:Tr,gr=wt.allowedAutoPlacements,vr=ot.options.placement,sr=an(vr),Ce=sr===vr,it=Fn||(Ce||!Ir?[ct(vr)]:hr(vr)),L=[vr].concat(it).reduce(function(ui,Fo){return ui.concat(an(Fo)===B?cr(ot,{placement:Fo,boundary:jn,rootBoundary:jr,padding:or,flipVariations:Ir,allowedAutoPlacements:gr}):Fo)},[]),F=ot.rects.reference,$=ot.rects.popper,se=new Map,Ee=!0,Ae=L[0],Ze=0;Ze<L.length;Ze++){var rt=L[Ze],dt=an(rt),Lt=yt(rt)===re,Kt=[J,Q].indexOf(dt)>=0,wn=Kt?"width":"height",Tn=qn(ot,{placement:rt,boundary:jn,rootBoundary:jr,altBoundary:Wr,padding:or}),jt=Kt?Lt?ne:te:Lt?Q:J;F[wn]>$[wn]&&(jt=ct(jt));var Kn=ct(jt),Rr=[];if(mn&&Rr.push(Tn[dt]<=0),Dn&&Rr.push(Tn[jt]<=0,Tn[Kn]<=0),Rr.every(function(ui){return ui})){Ae=rt,Ee=!1;break}se.set(rt,Rr)}if(Ee)for(var Jr=Ir?3:1,go=function(Fo){var fi=L.find(function(Xi){var zr=se.get(Xi);if(zr)return zr.slice(0,Fo).every(function(Mi){return Mi})});if(fi)return Ae=fi,"break"},Zo=Jr;Zo>0;Zo--){var ii=go(Zo);if(ii==="break")break}ot.placement!==Ae&&(ot.modifiersData[Zt]._skip=!0,ot.placement=Ae,ot.reset=!0)}}const Lr={name:"flip",enabled:!0,phase:"main",fn:pr,requiresIfExists:["offset"],data:{_skip:!1}};function oo(tt){return tt==="x"?"y":"x"}function Kr(tt,ot,wt){return g(tt,y(ot,wt))}function co(tt,ot,wt){var Zt=Kr(tt,ot,wt);return Zt>wt?wt:Zt}function lo(tt){var ot=tt.state,wt=tt.options,Zt=tt.name,ln=wt.mainAxis,mn=ln===void 0?!0:ln,Pn=wt.altAxis,Dn=Pn===void 0?!1:Pn,Fn=wt.boundary,or=wt.rootBoundary,jn=wt.altBoundary,jr=wt.padding,Wr=wt.tether,Tr=Wr===void 0?!0:Wr,Ir=wt.tetherOffset,gr=Ir===void 0?0:Ir,vr=qn(ot,{boundary:Fn,rootBoundary:or,padding:jr,altBoundary:jn}),sr=an(ot.placement),Ce=yt(ot.placement),it=!Ce,L=ke(sr),F=oo(L),$=ot.modifiersData.popperOffsets,se=ot.rects.reference,Ee=ot.rects.popper,Ae=typeof gr=="function"?gr(Object.assign({},ot.rects,{placement:ot.placement})):gr,Ze=typeof Ae=="number"?{mainAxis:Ae,altAxis:Ae}:Object.assign({mainAxis:0,altAxis:0},Ae),rt=ot.modifiersData.offset?ot.modifiersData.offset[ot.placement]:null,dt={x:0,y:0};if($){if(mn){var Lt,Kt=L==="y"?J:te,wn=L==="y"?Q:ne,Tn=L==="y"?"height":"width",jt=$[L],Kn=jt+vr[Kt],Rr=jt-vr[wn],Jr=Tr?-Ee[Tn]/2:0,go=Ce===re?se[Tn]:Ee[Tn],Zo=Ce===re?-Ee[Tn]:-se[Tn],ii=ot.elements.arrow,ui=Tr&&ii?M(ii):{width:0,height:0},Fo=ot.modifiersData["arrow#persistent"]?ot.modifiersData["arrow#persistent"].padding:gn(),fi=Fo[Kt],Xi=Fo[wn],zr=Kr(0,se[Tn],ui[Tn]),Mi=it?se[Tn]/2-Jr-zr-fi-Ze.mainAxis:go-zr-fi-Ze.mainAxis,Ui=it?-se[Tn]/2+Jr+zr+Xi+Ze.mainAxis:Zo+zr+Xi+Ze.mainAxis,da=ot.elements.arrow&&Z(ot.elements.arrow),va=da?L==="y"?da.clientTop||0:da.clientLeft||0:0,ns=(Lt=rt==null?void 0:rt[L])!=null?Lt:0,Ss=jt+Mi-ns-va,ol=jt+Ui-ns,Ai=Kr(Tr?y(Kn,Ss):Kn,jt,Tr?g(Rr,ol):Rr);$[L]=Ai,dt[L]=Ai-jt}if(Dn){var Ni,Eo=L==="x"?J:te,rs=L==="x"?Q:ne,fa=$[F],ya=F==="y"?"height":"width",is=fa+vr[Eo],Sa=fa-vr[rs],as=[J,te].indexOf(sr)!==-1,ss=(Ni=rt==null?void 0:rt[F])!=null?Ni:0,Ts=as?is:fa-se[ya]-Ee[ya]-ss+Ze.altAxis,Is=as?fa+se[ya]+Ee[ya]-ss-Ze.altAxis:Sa,ls=Tr&&as?co(Ts,fa,Is):Kr(Tr?Ts:is,fa,Tr?Is:Sa);$[F]=ls,dt[F]=ls-fa}ot.modifiersData[Zt]=dt}}const dr={name:"preventOverflow",enabled:!0,phase:"main",fn:lo,requiresIfExists:["offset"]};var Nr=function(ot,wt){return ot=typeof ot=="function"?ot(Object.assign({},wt.rects,{placement:wt.placement})):ot,bn(typeof ot!="number"?ot:Un(ot,V))};function Hr(tt){var ot,wt=tt.state,Zt=tt.name,ln=tt.options,mn=wt.elements.arrow,Pn=wt.modifiersData.popperOffsets,Dn=an(wt.placement),Fn=ke(Dn),or=[te,ne].indexOf(Dn)>=0,jn=or?"height":"width";if(!(!mn||!Pn)){var jr=Nr(ln.padding,wt),Wr=M(mn),Tr=Fn==="y"?J:te,Ir=Fn==="y"?Q:ne,gr=wt.rects.reference[jn]+wt.rects.reference[Fn]-Pn[Fn]-wt.rects.popper[jn],vr=Pn[Fn]-wt.rects.reference[Fn],sr=Z(mn),Ce=sr?Fn==="y"?sr.clientHeight||0:sr.clientWidth||0:0,it=gr/2-vr/2,L=jr[Tr],F=Ce-Wr[jn]-jr[Ir],$=Ce/2-Wr[jn]/2+it,se=Kr(L,$,F),Ee=Fn;wt.modifiersData[Zt]=(ot={},ot[Ee]=se,ot.centerOffset=se-$,ot)}}function Ur(tt){var ot=tt.state,wt=tt.options,Zt=wt.element,ln=Zt===void 0?"[data-popper-arrow]":Zt;ln!=null&&(typeof ln=="string"&&(ln=ot.elements.popper.querySelector(ln),!ln)||Ot(ot.elements.popper,ln)&&(ot.elements.arrow=ln))}const uo={name:"arrow",enabled:!0,phase:"main",fn:Hr,effect:Ur,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mo(tt,ot,wt){return wt===void 0&&(wt={x:0,y:0}),{top:tt.top-ot.height-wt.y,right:tt.right-ot.width+wt.x,bottom:tt.bottom-ot.height+wt.y,left:tt.left-ot.width-wt.x}}function yo(tt){return[J,ne,Q,te].some(function(ot){return tt[ot]>=0})}function Oo(tt){var ot=tt.state,wt=tt.name,Zt=ot.rects.reference,ln=ot.rects.popper,mn=ot.modifiersData.preventOverflow,Pn=qn(ot,{elementContext:"reference"}),Dn=qn(ot,{altBoundary:!0}),Fn=mo(Pn,Zt),or=mo(Dn,ln,mn),jn=yo(Fn),jr=yo(or);ot.modifiersData[wt]={referenceClippingOffsets:Fn,popperEscapeOffsets:or,isReferenceHidden:jn,hasPopperEscaped:jr},ot.attributes.popper=Object.assign({},ot.attributes.popper,{"data-popper-reference-hidden":jn,"data-popper-escaped":jr})}var Go=[Gt,Fe,Oe,he,Qe,Lr,dr,uo,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Oo}],Mo=Be({defaultModifiers:Go}),Lo='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',Bo="tippy-box",Qr="tippy-content",Yr="tippy-backdrop",$r="tippy-arrow",xr="tippy-svg-arrow",$t={passive:!0,capture:!0},en=function(){return document.body};function nn(tt,ot){return{}.hasOwnProperty.call(tt,ot)}function Rn(tt,ot,wt){if(Array.isArray(tt)){var Zt=tt[ot];return Zt==null?Array.isArray(wt)?wt[ot]:wt:Zt}return tt}function At(tt,ot){var wt={}.toString.call(tt);return wt.indexOf("[object")===0&&wt.indexOf(ot+"]")>-1}function Yt(tt,ot){return typeof tt=="function"?tt.apply(void 0,ot):tt}function Wt(tt,ot){if(ot===0)return tt;var wt;return function(Zt){clearTimeout(wt),wt=setTimeout(function(){tt(Zt)},ot)}}function rn(tt,ot){var wt=Object.assign({},tt);return ot.forEach(function(Zt){delete wt[Zt]}),wt}function vn(tt){return tt.split(/\s+/).filter(Boolean)}function An(tt){return[].concat(tt)}function zn(tt,ot){tt.indexOf(ot)===-1&&tt.push(ot)}function er(tt){return tt.filter(function(ot,wt){return tt.indexOf(ot)===wt})}function Jn(tt){return tt.split("-")[0]}function Nn(tt){return[].slice.call(tt)}function Pr(tt){return Object.keys(tt).reduce(function(ot,wt){return tt[wt]!==void 0&&(ot[wt]=tt[wt]),ot},{})}function Er(){return document.createElement("div")}function yr(tt){return["Element","Fragment"].some(function(ot){return At(tt,ot)})}function Br(tt){return At(tt,"NodeList")}function ao(tt){return At(tt,"MouseEvent")}function to(tt){return!!(tt&&tt._tippy&&tt._tippy.reference===tt)}function Sr(tt){return yr(tt)?[tt]:Br(tt)?Nn(tt):Array.isArray(tt)?tt:Nn(document.querySelectorAll(tt))}function Ao(tt,ot){tt.forEach(function(wt){wt&&(wt.style.transitionDuration=ot+"ms")})}function fo(tt,ot){tt.forEach(function(wt){wt&&wt.setAttribute("data-state",ot)})}function Ho(tt){var ot,wt=An(tt),Zt=wt[0];return Zt!=null&&(ot=Zt.ownerDocument)!=null&&ot.body?Zt.ownerDocument:document}function Po(tt,ot){var wt=ot.clientX,Zt=ot.clientY;return tt.every(function(ln){var mn=ln.popperRect,Pn=ln.popperState,Dn=ln.props,Fn=Dn.interactiveBorder,or=Jn(Pn.placement),jn=Pn.modifiersData.offset;if(!jn)return!0;var jr=or==="bottom"?jn.top.y:0,Wr=or==="top"?jn.bottom.y:0,Tr=or==="right"?jn.left.x:0,Ir=or==="left"?jn.right.x:0,gr=mn.top-Zt+jr>Fn,vr=Zt-mn.bottom-Wr>Fn,sr=mn.left-wt+Tr>Fn,Ce=wt-mn.right-Ir>Fn;return gr||vr||sr||Ce})}function No(tt,ot,wt){var Zt=ot+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(ln){tt[Zt](ln,wt)})}function Vo(tt,ot){for(var wt=ot;wt;){var Zt;if(tt.contains(wt))return!0;wt=wt.getRootNode==null||(Zt=wt.getRootNode())==null?void 0:Zt.host}return!1}var bo={isTouch:!1},_i=0;function si(){bo.isTouch||(bo.isTouch=!0,window.performance&&document.addEventListener("mousemove",oi))}function oi(){var tt=performance.now();tt-_i<20&&(bo.isTouch=!1,document.removeEventListener("mousemove",oi)),_i=tt}function ci(){var tt=document.activeElement;if(to(tt)){var ot=tt._tippy;tt.blur&&!ot.state.isVisible&&tt.blur()}}function gi(){document.addEventListener("touchstart",si,$t),window.addEventListener("blur",ci)}var vi=typeof window!="undefined"&&typeof document!="undefined",oa=vi?!!window.msCrypto:!1;function _o(tt){var ot=tt==="destroy"?"n already-":" ";return[tt+"() was called on a"+ot+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function xi(tt){var ot=/[ \t]{2,}/g,wt=/^[ \t]*/gm;return tt.replace(ot," ").replace(wt,"").trim()}function Bi(tt){return xi(`
  %ctippy.js

  %c`+xi(tt)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function ki(tt){return[Bi(tt),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var di;function So(){di=new Set}function ti(tt,ot){if(tt&&!di.has(ot)){var wt;di.add(ot),(wt=console).warn.apply(wt,ki(ot))}}function li(tt,ot){if(tt&&!di.has(ot)){var wt;di.add(ot),(wt=console).error.apply(wt,ki(ot))}}function Di(tt){var ot=!tt,wt=Object.prototype.toString.call(tt)==="[object Object]"&&!tt.addEventListener;li(ot,["tippy() was passed","`"+String(tt)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),li(wt,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var et={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ye={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Xe=Object.assign({appendTo:en,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},et,Ye),pt=Object.keys(Xe),gt=function(ot){var wt=Object.keys(ot);wt.forEach(function(Zt){Xe[Zt]=ot[Zt]})};function kt(tt){var ot=tt.plugins||[],wt=ot.reduce(function(Zt,ln){var mn=ln.name,Pn=ln.defaultValue;if(mn){var Dn;Zt[mn]=tt[mn]!==void 0?tt[mn]:(Dn=Xe[mn])!=null?Dn:Pn}return Zt},{});return Object.assign({},tt,wt)}function Bt(tt,ot){var wt=ot?Object.keys(kt(Object.assign({},Xe,{plugins:ot}))):pt,Zt=wt.reduce(function(ln,mn){var Pn=(tt.getAttribute("data-tippy-"+mn)||"").trim();if(!Pn)return ln;if(mn==="content")ln[mn]=Pn;else try{ln[mn]=JSON.parse(Pn)}catch(Dn){ln[mn]=Pn}return ln},{});return Zt}function Se(tt,ot){var wt=Object.assign({},ot,{content:Yt(ot.content,[tt])},ot.ignoreAttributes?{}:Bt(tt,ot.plugins));return wt.aria=Object.assign({},Xe.aria,wt.aria),wt.aria={expanded:wt.aria.expanded==="auto"?ot.interactive:wt.aria.expanded,content:wt.aria.content==="auto"?ot.interactive?null:"describedby":wt.aria.content},wt}function _e(tt,ot){tt===void 0&&(tt={}),ot===void 0&&(ot=[]);var wt=Object.keys(tt);wt.forEach(function(Zt){var ln=rn(Xe,Object.keys(et)),mn=!nn(ln,Zt);mn&&(mn=ot.filter(function(Pn){return Pn.name===Zt}).length===0),ti(mn,["`"+Zt+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Pe=function(){return"innerHTML"};function $e(tt,ot){tt[Pe()]=ot}function mt(tt){var ot=Er();return tt===!0?ot.className=$r:(ot.className=xr,yr(tt)?ot.appendChild(tt):$e(ot,tt)),ot}function vt(tt,ot){yr(ot.content)?($e(tt,""),tt.appendChild(ot.content)):typeof ot.content!="function"&&(ot.allowHTML?$e(tt,ot.content):tt.textContent=ot.content)}function St(tt){var ot=tt.firstElementChild,wt=Nn(ot.children);return{box:ot,content:wt.find(function(Zt){return Zt.classList.contains(Qr)}),arrow:wt.find(function(Zt){return Zt.classList.contains($r)||Zt.classList.contains(xr)}),backdrop:wt.find(function(Zt){return Zt.classList.contains(Yr)})}}function Mt(tt){var ot=Er(),wt=Er();wt.className=Bo,wt.setAttribute("data-state","hidden"),wt.setAttribute("tabindex","-1");var Zt=Er();Zt.className=Qr,Zt.setAttribute("data-state","hidden"),vt(Zt,tt.props),ot.appendChild(wt),wt.appendChild(Zt),ln(tt.props,tt.props);function ln(mn,Pn){var Dn=St(ot),Fn=Dn.box,or=Dn.content,jn=Dn.arrow;Pn.theme?Fn.setAttribute("data-theme",Pn.theme):Fn.removeAttribute("data-theme"),typeof Pn.animation=="string"?Fn.setAttribute("data-animation",Pn.animation):Fn.removeAttribute("data-animation"),Pn.inertia?Fn.setAttribute("data-inertia",""):Fn.removeAttribute("data-inertia"),Fn.style.maxWidth=typeof Pn.maxWidth=="number"?Pn.maxWidth+"px":Pn.maxWidth,Pn.role?Fn.setAttribute("role",Pn.role):Fn.removeAttribute("role"),(mn.content!==Pn.content||mn.allowHTML!==Pn.allowHTML)&&vt(or,tt.props),Pn.arrow?jn?mn.arrow!==Pn.arrow&&(Fn.removeChild(jn),Fn.appendChild(mt(Pn.arrow))):Fn.appendChild(mt(Pn.arrow)):jn&&Fn.removeChild(jn)}return{popper:ot,onUpdate:ln}}Mt.$$tippy=!0;var Ft=1,Vt=[],un=[];function tn(tt,ot){var wt=Se(tt,Object.assign({},Xe,kt(Pr(ot)))),Zt,ln,mn,Pn=!1,Dn=!1,Fn=!1,or=!1,jn,jr,Wr,Tr=[],Ir=Wt(Ss,wt.interactiveDebounce),gr,vr=Ft++,sr=null,Ce=er(wt.plugins),it={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},L={id:vr,reference:tt,popper:Er(),popperInstance:sr,props:wt,state:it,plugins:Ce,clearDelayTimeouts:Ts,setProps:Is,setContent:ls,show:Qc,hide:qc,hideWithInteractivity:Cp,enable:as,disable:ss,unmount:ed,destroy:td};if(!wt.render)return L;var F=wt.render(L),$=F.popper,se=F.onUpdate;$.setAttribute("data-tippy-root",""),$.id="tippy-"+L.id,L.popper=$,tt._tippy=L,$._tippy=L;var Ee=Ce.map(function(kn){return kn.fn(L)}),Ae=tt.hasAttribute("aria-expanded");return da(),Jr(),jt(),Kn("onCreate",[L]),wt.showOnCreate&&is(),$.addEventListener("mouseenter",function(){L.props.interactive&&L.state.isVisible&&L.clearDelayTimeouts()}),$.addEventListener("mouseleave",function(){L.props.interactive&&L.props.trigger.indexOf("mouseenter")>=0&&Kt().addEventListener("mousemove",Ir)}),L;function Ze(){var kn=L.props.touch;return Array.isArray(kn)?kn:[kn,0]}function rt(){return Ze()[0]==="hold"}function dt(){var kn;return!!((kn=L.props.render)!=null&&kn.$$tippy)}function Lt(){return gr||tt}function Kt(){var kn=Lt().parentNode;return kn?Ho(kn):document}function wn(){return St($)}function Tn(kn){return L.state.isMounted&&!L.state.isVisible||bo.isTouch||jn&&jn.type==="focus"?0:Rn(L.props.delay,kn?0:1,Xe.delay)}function jt(kn){kn===void 0&&(kn=!1),$.style.pointerEvents=L.props.interactive&&!kn?"":"none",$.style.zIndex=""+L.props.zIndex}function Kn(kn,Mr,Gr){if(Gr===void 0&&(Gr=!0),Ee.forEach(function(ho){ho[kn]&&ho[kn].apply(ho,Mr)}),Gr){var Io;(Io=L.props)[kn].apply(Io,Mr)}}function Rr(){var kn=L.props.aria;if(kn.content){var Mr="aria-"+kn.content,Gr=$.id,Io=An(L.props.triggerTarget||tt);Io.forEach(function(ho){var pi=ho.getAttribute(Mr);if(L.state.isVisible)ho.setAttribute(Mr,pi?pi+" "+Gr:Gr);else{var Fi=pi&&pi.replace(Gr,"").trim();Fi?ho.setAttribute(Mr,Fi):ho.removeAttribute(Mr)}})}}function Jr(){if(!(Ae||!L.props.aria.expanded)){var kn=An(L.props.triggerTarget||tt);kn.forEach(function(Mr){L.props.interactive?Mr.setAttribute("aria-expanded",L.state.isVisible&&Mr===Lt()?"true":"false"):Mr.removeAttribute("aria-expanded")})}}function go(){Kt().removeEventListener("mousemove",Ir),Vt=Vt.filter(function(kn){return kn!==Ir})}function Zo(kn){if(!(bo.isTouch&&(Fn||kn.type==="mousedown"))){var Mr=kn.composedPath&&kn.composedPath()[0]||kn.target;if(!(L.props.interactive&&Vo($,Mr))){if(An(L.props.triggerTarget||tt).some(function(Gr){return Vo(Gr,Mr)})){if(bo.isTouch||L.state.isVisible&&L.props.trigger.indexOf("click")>=0)return}else Kn("onClickOutside",[L,kn]);L.props.hideOnClick===!0&&(L.clearDelayTimeouts(),L.hide(),Dn=!0,setTimeout(function(){Dn=!1}),L.state.isMounted||fi())}}}function ii(){Fn=!0}function ui(){Fn=!1}function Fo(){var kn=Kt();kn.addEventListener("mousedown",Zo,!0),kn.addEventListener("touchend",Zo,$t),kn.addEventListener("touchstart",ui,$t),kn.addEventListener("touchmove",ii,$t)}function fi(){var kn=Kt();kn.removeEventListener("mousedown",Zo,!0),kn.removeEventListener("touchend",Zo,$t),kn.removeEventListener("touchstart",ui,$t),kn.removeEventListener("touchmove",ii,$t)}function Xi(kn,Mr){Mi(kn,function(){!L.state.isVisible&&$.parentNode&&$.parentNode.contains($)&&Mr()})}function zr(kn,Mr){Mi(kn,Mr)}function Mi(kn,Mr){var Gr=wn().box;function Io(ho){ho.target===Gr&&(No(Gr,"remove",Io),Mr())}if(kn===0)return Mr();No(Gr,"remove",jr),No(Gr,"add",Io),jr=Io}function Ui(kn,Mr,Gr){Gr===void 0&&(Gr=!1);var Io=An(L.props.triggerTarget||tt);Io.forEach(function(ho){ho.addEventListener(kn,Mr,Gr),Tr.push({node:ho,eventType:kn,handler:Mr,options:Gr})})}function da(){rt()&&(Ui("touchstart",ns,{passive:!0}),Ui("touchend",ol,{passive:!0})),vn(L.props.trigger).forEach(function(kn){if(kn!=="manual")switch(Ui(kn,ns),kn){case"mouseenter":Ui("mouseleave",ol);break;case"focus":Ui(oa?"focusout":"blur",Ai);break;case"focusin":Ui("focusout",Ai);break}})}function va(){Tr.forEach(function(kn){var Mr=kn.node,Gr=kn.eventType,Io=kn.handler,ho=kn.options;Mr.removeEventListener(Gr,Io,ho)}),Tr=[]}function ns(kn){var Mr,Gr=!1;if(!(!L.state.isEnabled||Ni(kn)||Dn)){var Io=((Mr=jn)==null?void 0:Mr.type)==="focus";jn=kn,gr=kn.currentTarget,Jr(),!L.state.isVisible&&ao(kn)&&Vt.forEach(function(ho){return ho(kn)}),kn.type==="click"&&(L.props.trigger.indexOf("mouseenter")<0||Pn)&&L.props.hideOnClick!==!1&&L.state.isVisible?Gr=!0:is(kn),kn.type==="click"&&(Pn=!Gr),Gr&&!Io&&Sa(kn)}}function Ss(kn){var Mr=kn.target,Gr=Lt().contains(Mr)||$.contains(Mr);if(!(kn.type==="mousemove"&&Gr)){var Io=ya().concat($).map(function(ho){var pi,Fi=ho._tippy,Fa=(pi=Fi.popperInstance)==null?void 0:pi.state;return Fa?{popperRect:ho.getBoundingClientRect(),popperState:Fa,props:wt}:null}).filter(Boolean);Po(Io,kn)&&(go(),Sa(kn))}}function ol(kn){var Mr=Ni(kn)||L.props.trigger.indexOf("click")>=0&&Pn;if(!Mr){if(L.props.interactive){L.hideWithInteractivity(kn);return}Sa(kn)}}function Ai(kn){L.props.trigger.indexOf("focusin")<0&&kn.target!==Lt()||L.props.interactive&&kn.relatedTarget&&$.contains(kn.relatedTarget)||Sa(kn)}function Ni(kn){return bo.isTouch?rt()!==kn.type.indexOf("touch")>=0:!1}function Eo(){rs();var kn=L.props,Mr=kn.popperOptions,Gr=kn.placement,Io=kn.offset,ho=kn.getReferenceClientRect,pi=kn.moveTransition,Fi=dt()?St($).arrow:null,Fa=ho?{getBoundingClientRect:ho,contextElement:ho.contextElement||Lt()}:tt,nd={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(xs){var ja=xs.state;if(dt()){var lu=wn(),al=lu.box;["placement","reference-hidden","escaped"].forEach(function(Ds){Ds==="placement"?al.setAttribute("data-placement",ja.placement):ja.attributes.popper["data-popper-"+Ds]?al.setAttribute("data-"+Ds,""):al.removeAttribute("data-"+Ds)}),ja.attributes.popper={}}}},Ta=[{name:"offset",options:{offset:Io}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!pi}},nd];dt()&&Fi&&Ta.push({name:"arrow",options:{element:Fi,padding:3}}),Ta.push.apply(Ta,(Mr==null?void 0:Mr.modifiers)||[]),L.popperInstance=Mo(Fa,$,Object.assign({},Mr,{placement:Gr,onFirstUpdate:Wr,modifiers:Ta}))}function rs(){L.popperInstance&&(L.popperInstance.destroy(),L.popperInstance=null)}function fa(){var kn=L.props.appendTo,Mr,Gr=Lt();L.props.interactive&&kn===en||kn==="parent"?Mr=Gr.parentNode:Mr=Yt(kn,[Gr]),Mr.contains($)||Mr.appendChild($),L.state.isMounted=!0,Eo()}function ya(){return Nn($.querySelectorAll("[data-tippy-root]"))}function is(kn){L.clearDelayTimeouts(),kn&&Kn("onTrigger",[L,kn]),Fo();var Mr=Tn(!0),Gr=Ze(),Io=Gr[0],ho=Gr[1];bo.isTouch&&Io==="hold"&&ho&&(Mr=ho),Mr?Zt=setTimeout(function(){L.show()},Mr):L.show()}function Sa(kn){if(L.clearDelayTimeouts(),Kn("onUntrigger",[L,kn]),!L.state.isVisible){fi();return}if(!(L.props.trigger.indexOf("mouseenter")>=0&&L.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(kn.type)>=0&&Pn)){var Mr=Tn(!1);Mr?ln=setTimeout(function(){L.state.isVisible&&L.hide()},Mr):mn=requestAnimationFrame(function(){L.hide()})}}function as(){L.state.isEnabled=!0}function ss(){L.hide(),L.state.isEnabled=!1}function Ts(){clearTimeout(Zt),clearTimeout(ln),cancelAnimationFrame(mn)}function Is(kn){if(!L.state.isDestroyed){Kn("onBeforeUpdate",[L,kn]),va();var Mr=L.props,Gr=Se(tt,Object.assign({},Mr,Pr(kn),{ignoreAttributes:!0}));L.props=Gr,da(),Mr.interactiveDebounce!==Gr.interactiveDebounce&&(go(),Ir=Wt(Ss,Gr.interactiveDebounce)),Mr.triggerTarget&&!Gr.triggerTarget?An(Mr.triggerTarget).forEach(function(Io){Io.removeAttribute("aria-expanded")}):Gr.triggerTarget&&tt.removeAttribute("aria-expanded"),Jr(),jt(),se&&se(Mr,Gr),L.popperInstance&&(Eo(),ya().forEach(function(Io){requestAnimationFrame(Io._tippy.popperInstance.forceUpdate)})),Kn("onAfterUpdate",[L,kn])}}function ls(kn){L.setProps({content:kn})}function Qc(){var kn=L.state.isVisible,Mr=L.state.isDestroyed,Gr=!L.state.isEnabled,Io=bo.isTouch&&!L.props.touch,ho=Rn(L.props.duration,0,Xe.duration);if(!(kn||Mr||Gr||Io)&&!Lt().hasAttribute("disabled")&&(Kn("onShow",[L],!1),L.props.onShow(L)!==!1)){if(L.state.isVisible=!0,dt()&&($.style.visibility="visible"),jt(),Fo(),L.state.isMounted||($.style.transition="none"),dt()){var pi=wn(),Fi=pi.box,Fa=pi.content;Ao([Fi,Fa],0)}Wr=function(){var Ta;if(!(!L.state.isVisible||or)){if(or=!0,$.offsetHeight,$.style.transition=L.props.moveTransition,dt()&&L.props.animation){var il=wn(),xs=il.box,ja=il.content;Ao([xs,ja],ho),fo([xs,ja],"visible")}Rr(),Jr(),zn(un,L),(Ta=L.popperInstance)==null||Ta.forceUpdate(),Kn("onMount",[L]),L.props.animation&&dt()&&zr(ho,function(){L.state.isShown=!0,Kn("onShown",[L])})}},fa()}}function qc(){var kn=!L.state.isVisible,Mr=L.state.isDestroyed,Gr=!L.state.isEnabled,Io=Rn(L.props.duration,1,Xe.duration);if(!(kn||Mr||Gr)&&(Kn("onHide",[L],!1),L.props.onHide(L)!==!1)){if(L.state.isVisible=!1,L.state.isShown=!1,or=!1,Pn=!1,dt()&&($.style.visibility="hidden"),go(),fi(),jt(!0),dt()){var ho=wn(),pi=ho.box,Fi=ho.content;L.props.animation&&(Ao([pi,Fi],Io),fo([pi,Fi],"hidden"))}Rr(),Jr(),L.props.animation?dt()&&Xi(Io,L.unmount):L.unmount()}}function Cp(kn){Kt().addEventListener("mousemove",Ir),zn(Vt,Ir),Ir(kn)}function ed(){L.state.isVisible&&L.hide(),L.state.isMounted&&(rs(),ya().forEach(function(kn){kn._tippy.unmount()}),$.parentNode&&$.parentNode.removeChild($),un=un.filter(function(kn){return kn!==L}),L.state.isMounted=!1,Kn("onHidden",[L]))}function td(){L.state.isDestroyed||(L.clearDelayTimeouts(),L.unmount(),va(),delete tt._tippy,L.state.isDestroyed=!0,Kn("onDestroy",[L]))}}function dn(tt,ot){ot===void 0&&(ot={});var wt=Xe.plugins.concat(ot.plugins||[]);gi();var Zt=Object.assign({},ot,{plugins:wt}),ln=Sr(tt);if(!1)var mn,Pn;var Dn=ln.reduce(function(Fn,or){var jn=or&&tn(or,Zt);return jn&&Fn.push(jn),Fn},[]);return yr(tt)?Dn[0]:Dn}dn.defaultProps=Xe,dn.setDefaultProps=gt,dn.currentInput=bo;var xn=function(ot){var wt=ot===void 0?{}:ot,Zt=wt.exclude,ln=wt.duration;un.forEach(function(mn){var Pn=!1;if(Zt&&(Pn=to(Zt)?mn.reference===Zt:mn.popper===Zt.popper),!Pn){var Dn=mn.props.duration;mn.setProps({duration:ln}),mn.hide(),mn.state.isDestroyed||mn.setProps({duration:Dn})}})},Wn=Object.assign({},he,{effect:function(ot){var wt=ot.state,Zt={popper:{position:wt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(wt.elements.popper.style,Zt.popper),wt.styles=Zt,wt.elements.arrow&&Object.assign(wt.elements.arrow.style,Zt.arrow)}}),ur=function(ot,wt){var Zt;wt===void 0&&(wt={});var ln=ot,mn=[],Pn=[],Dn,Fn=wt.overrides,or=[],jn=!1;function jr(){Pn=ln.map(function(L){return An(L.props.triggerTarget||L.reference)}).reduce(function(L,F){return L.concat(F)},[])}function Wr(){mn=ln.map(function(L){return L.reference})}function Tr(L){ln.forEach(function(F){L?F.enable():F.disable()})}function Ir(L){return ln.map(function(F){var $=F.setProps;return F.setProps=function(se){$(se),F.reference===Dn&&L.setProps(se)},function(){F.setProps=$}})}function gr(L,F){var $=Pn.indexOf(F);if(F!==Dn){Dn=F;var se=(Fn||[]).concat("content").reduce(function(Ee,Ae){return Ee[Ae]=ln[$].props[Ae],Ee},{});L.setProps(Object.assign({},se,{getReferenceClientRect:typeof se.getReferenceClientRect=="function"?se.getReferenceClientRect:function(){var Ee;return(Ee=mn[$])==null?void 0:Ee.getBoundingClientRect()}}))}}Tr(!1),Wr(),jr();var vr={fn:function(){return{onDestroy:function(){Tr(!0)},onHidden:function(){Dn=null},onClickOutside:function($){$.props.showOnCreate&&!jn&&(jn=!0,Dn=null)},onShow:function($){$.props.showOnCreate&&!jn&&(jn=!0,gr($,mn[0]))},onTrigger:function($,se){gr($,se.currentTarget)}}}},sr=dn(Er(),Object.assign({},rn(wt,["overrides"]),{plugins:[vr].concat(wt.plugins||[]),triggerTarget:Pn,popperOptions:Object.assign({},wt.popperOptions,{modifiers:[].concat(((Zt=wt.popperOptions)==null?void 0:Zt.modifiers)||[],[Wn])})})),Ce=sr.show;sr.show=function(L){if(Ce(),!Dn&&L==null)return gr(sr,mn[0]);if(!(Dn&&L==null)){if(typeof L=="number")return mn[L]&&gr(sr,mn[L]);if(ln.indexOf(L)>=0){var F=L.reference;return gr(sr,F)}if(mn.indexOf(L)>=0)return gr(sr,L)}},sr.showNext=function(){var L=mn[0];if(!Dn)return sr.show(0);var F=mn.indexOf(Dn);sr.show(mn[F+1]||L)},sr.showPrevious=function(){var L=mn[mn.length-1];if(!Dn)return sr.show(L);var F=mn.indexOf(Dn),$=mn[F-1]||L;sr.show($)};var it=sr.setProps;return sr.setProps=function(L){Fn=L.overrides||Fn,it(L)},sr.setInstances=function(L){Tr(!0),or.forEach(function(F){return F()}),ln=L,Tr(!1),Wr(),jr(),or=Ir(sr),sr.setProps({triggerTarget:Pn})},or=Ir(sr),sr},tr={mouseover:"mouseenter",focusin:"focus",click:"click"};function Sn(tt,ot){var wt=[],Zt=[],ln=!1,mn=ot.target,Pn=rn(ot,["target"]),Dn=Object.assign({},Pn,{trigger:"manual",touch:!1}),Fn=Object.assign({touch:Xe.touch},Pn,{showOnCreate:!0}),or=dn(tt,Dn),jn=An(or);function jr(vr){if(!(!vr.target||ln)){var sr=vr.target.closest(mn);if(sr){var Ce=sr.getAttribute("data-tippy-trigger")||ot.trigger||Xe.trigger;if(!sr._tippy&&!(vr.type==="touchstart"&&typeof Fn.touch=="boolean")&&!(vr.type!=="touchstart"&&Ce.indexOf(tr[vr.type])<0)){var it=dn(sr,Fn);it&&(Zt=Zt.concat(it))}}}}function Wr(vr,sr,Ce,it){it===void 0&&(it=!1),vr.addEventListener(sr,Ce,it),wt.push({node:vr,eventType:sr,handler:Ce,options:it})}function Tr(vr){var sr=vr.reference;Wr(sr,"touchstart",jr,$t),Wr(sr,"mouseover",jr),Wr(sr,"focusin",jr),Wr(sr,"click",jr)}function Ir(){wt.forEach(function(vr){var sr=vr.node,Ce=vr.eventType,it=vr.handler,L=vr.options;sr.removeEventListener(Ce,it,L)}),wt=[]}function gr(vr){var sr=vr.destroy,Ce=vr.enable,it=vr.disable;vr.destroy=function(L){L===void 0&&(L=!0),L&&Zt.forEach(function(F){F.destroy()}),Zt=[],Ir(),sr()},vr.enable=function(){Ce(),Zt.forEach(function(L){return L.enable()}),ln=!1},vr.disable=function(){it(),Zt.forEach(function(L){return L.disable()}),ln=!0},Tr(vr)}return jn.forEach(gr),or}var fr={name:"animateFill",defaultValue:!1,fn:function(ot){var wt;if(!((wt=ot.props.render)!=null&&wt.$$tippy))return{};var Zt=St(ot.popper),ln=Zt.box,mn=Zt.content,Pn=ot.props.animateFill?rr():null;return{onCreate:function(){Pn&&(ln.insertBefore(Pn,ln.firstElementChild),ln.setAttribute("data-animatefill",""),ln.style.overflow="hidden",ot.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(Pn){var Fn=ln.style.transitionDuration,or=Number(Fn.replace("ms",""));mn.style.transitionDelay=Math.round(or/10)+"ms",Pn.style.transitionDuration=Fn,fo([Pn],"visible")}},onShow:function(){Pn&&(Pn.style.transitionDuration="0ms")},onHide:function(){Pn&&fo([Pn],"hidden")}}}};function rr(){var tt=Er();return tt.className=Yr,fo([tt],"hidden"),tt}var wr={clientX:0,clientY:0},Cr=[];function no(tt){var ot=tt.clientX,wt=tt.clientY;wr={clientX:ot,clientY:wt}}function po(tt){tt.addEventListener("mousemove",no)}function kr(tt){tt.removeEventListener("mousemove",no)}var qo={name:"followCursor",defaultValue:!1,fn:function(ot){var wt=ot.reference,Zt=Ho(ot.props.triggerTarget||wt),ln=!1,mn=!1,Pn=!0,Dn=ot.props;function Fn(){return ot.props.followCursor==="initial"&&ot.state.isVisible}function or(){Zt.addEventListener("mousemove",Wr)}function jn(){Zt.removeEventListener("mousemove",Wr)}function jr(){ln=!0,ot.setProps({getReferenceClientRect:null}),ln=!1}function Wr(gr){var vr=gr.target?wt.contains(gr.target):!0,sr=ot.props.followCursor,Ce=gr.clientX,it=gr.clientY,L=wt.getBoundingClientRect(),F=Ce-L.left,$=it-L.top;(vr||!ot.props.interactive)&&ot.setProps({getReferenceClientRect:function(){var Ee=wt.getBoundingClientRect(),Ae=Ce,Ze=it;sr==="initial"&&(Ae=Ee.left+F,Ze=Ee.top+$);var rt=sr==="horizontal"?Ee.top:Ze,dt=sr==="vertical"?Ee.right:Ae,Lt=sr==="horizontal"?Ee.bottom:Ze,Kt=sr==="vertical"?Ee.left:Ae;return{width:dt-Kt,height:Lt-rt,top:rt,right:dt,bottom:Lt,left:Kt}}})}function Tr(){ot.props.followCursor&&(Cr.push({instance:ot,doc:Zt}),po(Zt))}function Ir(){Cr=Cr.filter(function(gr){return gr.instance!==ot}),Cr.filter(function(gr){return gr.doc===Zt}).length===0&&kr(Zt)}return{onCreate:Tr,onDestroy:Ir,onBeforeUpdate:function(){Dn=ot.props},onAfterUpdate:function(vr,sr){var Ce=sr.followCursor;ln||Ce!==void 0&&Dn.followCursor!==Ce&&(Ir(),Ce?(Tr(),ot.state.isMounted&&!mn&&!Fn()&&or()):(jn(),jr()))},onMount:function(){ot.props.followCursor&&!mn&&(Pn&&(Wr(wr),Pn=!1),Fn()||or())},onTrigger:function(vr,sr){ao(sr)&&(wr={clientX:sr.clientX,clientY:sr.clientY}),mn=sr.type==="focus"},onHidden:function(){ot.props.followCursor&&(jr(),jn(),Pn=!0)}}}};function Uo(tt,ot){var wt;return{popperOptions:Object.assign({},tt.popperOptions,{modifiers:[].concat((((wt=tt.popperOptions)==null?void 0:wt.modifiers)||[]).filter(function(Zt){var ln=Zt.name;return ln!==ot.name}),[ot])})}}var To={name:"inlinePositioning",defaultValue:!1,fn:function(ot){var wt=ot.reference;function Zt(){return!!ot.props.inlinePositioning}var ln,mn=-1,Pn=!1,Dn=[],Fn={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(Tr){var Ir=Tr.state;Zt()&&(Dn.indexOf(Ir.placement)!==-1&&(Dn=[]),ln!==Ir.placement&&Dn.indexOf(Ir.placement)===-1&&(Dn.push(Ir.placement),ot.setProps({getReferenceClientRect:function(){return or(Ir.placement)}})),ln=Ir.placement)}};function or(Wr){return Oi(Jn(Wr),wt.getBoundingClientRect(),Nn(wt.getClientRects()),mn)}function jn(Wr){Pn=!0,ot.setProps(Wr),Pn=!1}function jr(){Pn||jn(Uo(ot.props,Fn))}return{onCreate:jr,onAfterUpdate:jr,onTrigger:function(Tr,Ir){if(ao(Ir)){var gr=Nn(ot.reference.getClientRects()),vr=gr.find(function(Ce){return Ce.left-2<=Ir.clientX&&Ce.right+2>=Ir.clientX&&Ce.top-2<=Ir.clientY&&Ce.bottom+2>=Ir.clientY}),sr=gr.indexOf(vr);mn=sr>-1?sr:mn}},onHidden:function(){mn=-1}}}};function Oi(tt,ot,wt,Zt){if(wt.length<2||tt===null)return ot;if(wt.length===2&&Zt>=0&&wt[0].left>wt[1].right)return wt[Zt]||ot;switch(tt){case"top":case"bottom":{var ln=wt[0],mn=wt[wt.length-1],Pn=tt==="top",Dn=ln.top,Fn=mn.bottom,or=Pn?ln.left:mn.left,jn=Pn?ln.right:mn.right,jr=jn-or,Wr=Fn-Dn;return{top:Dn,bottom:Fn,left:or,right:jn,width:jr,height:Wr}}case"left":case"right":{var Tr=Math.min.apply(Math,wt.map(function($){return $.left})),Ir=Math.max.apply(Math,wt.map(function($){return $.right})),gr=wt.filter(function($){return tt==="left"?$.left===Tr:$.right===Ir}),vr=gr[0].top,sr=gr[gr.length-1].bottom,Ce=Tr,it=Ir,L=it-Ce,F=sr-vr;return{top:vr,bottom:sr,left:Ce,right:it,width:L,height:F}}default:return ot}}var Ji={name:"sticky",defaultValue:!1,fn:function(ot){var wt=ot.reference,Zt=ot.popper;function ln(){return ot.popperInstance?ot.popperInstance.state.elements.reference:wt}function mn(or){return ot.props.sticky===!0||ot.props.sticky===or}var Pn=null,Dn=null;function Fn(){var or=mn("reference")?ln().getBoundingClientRect():null,jn=mn("popper")?Zt.getBoundingClientRect():null;(or&&yi(Pn,or)||jn&&yi(Dn,jn))&&ot.popperInstance&&ot.popperInstance.update(),Pn=or,Dn=jn,ot.state.isMounted&&requestAnimationFrame(Fn)}return{onMount:function(){ot.props.sticky&&Fn()}}}};function yi(tt,ot){return tt&&ot?tt.top!==ot.top||tt.right!==ot.right||tt.bottom!==ot.bottom||tt.left!==ot.left:!0}dn.setDefaultProps({render:Mt});const ko=dn},8575:(G,s,e)=>{var o=e(74971);s.parse=P,s.resolve=M,s.resolveObject=R,s.format=S,s.Url=m;function m(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var f=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r",`
`,"	"],y=["{","}","|","\\","^","`"].concat(g),C=["'"].concat(y),v=["%","/","?",";","#"].concat(C),b=["/","?","#"],x=255,E=/^[a-z0-9A-Z_-]{0,63}$/,O=/^([a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},a={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},l=e(17673);function P(j,Z,J){if(j&&T(j)&&j instanceof m)return j;var Q=new m;return Q.parse(j,Z,J),Q}m.prototype.parse=function(j,Z,J){if(!N(j))throw new TypeError("Parameter 'url' must be a string, not "+typeof j);var Q=j;Q=Q.trim();var ne=f.exec(Q);if(ne){ne=ne[0];var te=ne.toLowerCase();this.protocol=te,Q=Q.substr(ne.length)}if(J||ne||Q.match(/^\/\/[^@\/]+@[^@\/]+/)){var B=Q.substr(0,2)==="//";B&&!(ne&&_[ne])&&(Q=Q.substr(2),this.slashes=!0)}if(!_[ne]&&(B||ne&&!a[ne])){for(var V=-1,re=0;re<b.length;re++){var le=Q.indexOf(b[re]);le!==-1&&(V===-1||le<V)&&(V=le)}var ae,q;V===-1?q=Q.lastIndexOf("@"):q=Q.lastIndexOf("@",V),q!==-1&&(ae=Q.slice(0,q),Q=Q.slice(q+1),this.auth=decodeURIComponent(ae)),V=-1;for(var re=0;re<v.length;re++){var le=Q.indexOf(v[re]);le!==-1&&(V===-1||le<V)&&(V=le)}V===-1&&(V=Q.length),this.host=Q.slice(0,V),Q=Q.slice(V),this.parseHost(),this.hostname=this.hostname||"";var oe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!oe)for(var z=this.hostname.split(/\./),re=0,ie=z.length;re<ie;re++){var ue=z[re];if(ue&&!ue.match(E)){for(var de="",fe=0,ye=ue.length;fe<ye;fe++)ue.charCodeAt(fe)>127?de+="x":de+=ue[fe];if(!de.match(E)){var pe=z.slice(0,re),we=z.slice(re+1),Me=ue.match(O);Me&&(pe.push(Me[1]),we.unshift(Me[2])),we.length&&(Q="/"+we.join(".")+Q),this.hostname=pe.join(".");break}}}if(this.hostname.length>x?this.hostname="":this.hostname=this.hostname.toLowerCase(),!oe){for(var je=this.hostname.split("."),De=[],re=0;re<je.length;++re){var me=je[re];De.push(me.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(me):me)}this.hostname=De.join(".")}var ce=this.port?":"+this.port:"",ge=this.hostname||"";this.host=ge+ce,this.href+=this.host,oe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!w[te])for(var re=0,ie=C.length;re<ie;re++){var Ie=C[re],Re=encodeURIComponent(Ie);Re===Ie&&(Re=escape(Ie)),Q=Q.split(Ie).join(Re)}var Ke=Q.indexOf("#");Ke!==-1&&(this.hash=Q.substr(Ke),Q=Q.slice(0,Ke));var ut=Q.indexOf("?");if(ut!==-1?(this.search=Q.substr(ut),this.query=Q.substr(ut+1),Z&&(this.query=l.parse(this.query)),Q=Q.slice(0,ut)):Z&&(this.search="",this.query={}),Q&&(this.pathname=Q),a[te]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ce=this.pathname||"",me=this.search||"";this.path=ce+me}return this.href=this.format(),this};function S(j){return N(j)&&(j=P(j)),j instanceof m?j.format():m.prototype.format.call(j)}m.prototype.format=function(){var j=this.auth||"";j&&(j=encodeURIComponent(j),j=j.replace(/%3A/i,":"),j+="@");var Z=this.protocol||"",J=this.pathname||"",Q=this.hash||"",ne=!1,te="";this.host?ne=j+this.host:this.hostname&&(ne=j+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ne+=":"+this.port)),this.query&&T(this.query)&&Object.keys(this.query).length&&(te=l.stringify(this.query));var B=this.search||te&&"?"+te||"";return Z&&Z.substr(-1)!==":"&&(Z+=":"),this.slashes||(!Z||a[Z])&&ne!==!1?(ne="//"+(ne||""),J&&J.charAt(0)!=="/"&&(J="/"+J)):ne||(ne=""),Q&&Q.charAt(0)!=="#"&&(Q="#"+Q),B&&B.charAt(0)!=="?"&&(B="?"+B),J=J.replace(/[?#]/g,function(V){return encodeURIComponent(V)}),B=B.replace("#","%23"),Z+ne+J+B+Q};function M(j,Z){return P(j,!1,!0).resolve(Z)}m.prototype.resolve=function(j){return this.resolveObject(P(j,!1,!0)).format()};function R(j,Z){return j?P(j,!1,!0).resolveObject(Z):Z}m.prototype.resolveObject=function(j){if(N(j)){var Z=new m;Z.parse(j,!1,!0),j=Z}var J=new m;if(Object.keys(this).forEach(function(ye){J[ye]=this[ye]},this),J.hash=j.hash,j.href==="")return J.href=J.format(),J;if(j.slashes&&!j.protocol)return Object.keys(j).forEach(function(ye){ye!=="protocol"&&(J[ye]=j[ye])}),a[J.protocol]&&J.hostname&&!J.pathname&&(J.path=J.pathname="/"),J.href=J.format(),J;if(j.protocol&&j.protocol!==J.protocol){if(!a[j.protocol])return Object.keys(j).forEach(function(ye){J[ye]=j[ye]}),J.href=J.format(),J;if(J.protocol=j.protocol,!j.host&&!_[j.protocol]){for(var ae=(j.pathname||"").split("/");ae.length&&!(j.host=ae.shift()););j.host||(j.host=""),j.hostname||(j.hostname=""),ae[0]!==""&&ae.unshift(""),ae.length<2&&ae.unshift(""),J.pathname=ae.join("/")}else J.pathname=j.pathname;if(J.search=j.search,J.query=j.query,J.host=j.host||"",J.auth=j.auth,J.hostname=j.hostname||j.host,J.port=j.port,J.pathname||J.search){var Q=J.pathname||"",ne=J.search||"";J.path=Q+ne}return J.slashes=J.slashes||j.slashes,J.href=J.format(),J}var te=J.pathname&&J.pathname.charAt(0)==="/",B=j.host||j.pathname&&j.pathname.charAt(0)==="/",V=B||te||J.host&&j.pathname,re=V,le=J.pathname&&J.pathname.split("/")||[],ae=j.pathname&&j.pathname.split("/")||[],q=J.protocol&&!a[J.protocol];if(q&&(J.hostname="",J.port=null,J.host&&(le[0]===""?le[0]=J.host:le.unshift(J.host)),J.host="",j.protocol&&(j.hostname=null,j.port=null,j.host&&(ae[0]===""?ae[0]=j.host:ae.unshift(j.host)),j.host=null),V=V&&(ae[0]===""||le[0]==="")),B)J.host=j.host||j.host===""?j.host:J.host,J.hostname=j.hostname||j.hostname===""?j.hostname:J.hostname,J.search=j.search,J.query=j.query,le=ae;else if(ae.length)le||(le=[]),le.pop(),le=le.concat(ae),J.search=j.search,J.query=j.query;else if(!W(j.search)){if(q){J.hostname=J.host=le.shift();var oe=J.host&&J.host.indexOf("@")>0?J.host.split("@"):!1;oe&&(J.auth=oe.shift(),J.host=J.hostname=oe.shift())}return J.search=j.search,J.query=j.query,(!A(J.pathname)||!A(J.search))&&(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.href=J.format(),J}if(!le.length)return J.pathname=null,J.search?J.path="/"+J.search:J.path=null,J.href=J.format(),J;for(var z=le.slice(-1)[0],ie=(J.host||j.host)&&(z==="."||z==="..")||z==="",ue=0,de=le.length;de>=0;de--)z=le[de],z=="."?le.splice(de,1):z===".."?(le.splice(de,1),ue++):ue&&(le.splice(de,1),ue--);if(!V&&!re)for(;ue--;ue)le.unshift("..");V&&le[0]!==""&&(!le[0]||le[0].charAt(0)!=="/")&&le.unshift(""),ie&&le.join("/").substr(-1)!=="/"&&le.push("");var fe=le[0]===""||le[0]&&le[0].charAt(0)==="/";if(q){J.hostname=J.host=fe?"":le.length?le.shift():"";var oe=J.host&&J.host.indexOf("@")>0?J.host.split("@"):!1;oe&&(J.auth=oe.shift(),J.host=J.hostname=oe.shift())}return V=V||J.host&&le.length,V&&!fe&&le.unshift(""),le.length?J.pathname=le.join("/"):(J.pathname=null,J.path=null),(!A(J.pathname)||!A(J.search))&&(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.auth=j.auth||J.auth,J.slashes=J.slashes||j.slashes,J.href=J.format(),J},m.prototype.parseHost=function(){var j=this.host,Z=d.exec(j);Z&&(Z=Z[0],Z!==":"&&(this.port=Z.substr(1)),j=j.substr(0,j.length-Z.length)),j&&(this.hostname=j)};function N(j){return typeof j=="string"}function T(j){return typeof j=="object"&&j!==null}function A(j){return j===null}function W(j){return j==null}},53250:(G,s,e)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=e(98661);function m(O,w){return O===w&&(O!==0||1/O===1/w)||O!==O&&w!==w}var f=typeof Object.is=="function"?Object.is:m,d=o.useState,g=o.useEffect,y=o.useLayoutEffect,C=o.useDebugValue;function v(O,w){var _=w(),a=d({inst:{value:_,getSnapshot:w}}),l=a[0].inst,P=a[1];return y(function(){l.value=_,l.getSnapshot=w,b(l)&&P({inst:l})},[O,_,w]),g(function(){return b(l)&&P({inst:l}),O(function(){b(l)&&P({inst:l})})},[O]),C(_),_}function b(O){var w=O.getSnapshot;O=O.value;try{var _=w();return!f(O,_)}catch(a){return!0}}function x(O,w){return w()}var E=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?x:v;s.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:E},61688:(G,s,e)=>{"use strict";G.exports=e(53250)},45327:G=>{for(var s=[],e=0;e<256;++e)s[e]=(e+256).toString(16).substr(1);function o(m,f){var d=f||0,g=s;return g[m[d++]]+g[m[d++]]+g[m[d++]]+g[m[d++]]+"-"+g[m[d++]]+g[m[d++]]+"-"+g[m[d++]]+g[m[d++]]+"-"+g[m[d++]]+g[m[d++]]+"-"+g[m[d++]]+g[m[d++]]+g[m[d++]]+g[m[d++]]+g[m[d++]]+g[m[d++]]}G.exports=o},85217:G=>{var s=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(s){var e=new Uint8Array(16);G.exports=function(){return s(e),e}}else{var o=new Array(16);G.exports=function(){for(var f=0,d;f<16;f++)f&3||(d=Math.random()*4294967296),o[f]=d>>>((f&3)<<3)&255;return o}}},71171:(G,s,e)=>{var o=e(85217),m=e(45327);function f(d,g,y){var C=g&&y||0;typeof d=="string"&&(g=d==="binary"?new Array(16):null,d=null),d=d||{};var v=d.random||(d.rng||o)();if(v[6]=v[6]&15|64,v[8]=v[8]&63|128,g)for(var b=0;b<16;++b)g[C+b]=v[b];return g||m(v)}G.exports=f},93235:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=d;var o=m(e(65571));function m(g){return g&&g.__esModule?g:{default:g}}function f(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(C){return typeof C}:f=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},f(g)}function d(g,y){(0,o.default)(g);var C,v;f(y)==="object"?(C=y.min||0,v=y.max):(C=arguments[1],v=arguments[2]);var b=encodeURI(g).split(/%..|./).length-1;return b>=C&&(typeof v=="undefined"||b<=v)}G.exports=s.default,G.exports.default=s.default},83868:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=l;var o=y(e(65571)),m=y(e(84808)),f=y(e(93235)),d=y(e(10221)),g=y(e(61028));function y(P){return P&&P.__esModule?P:{default:P}}var C={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},v=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,b=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,x=/^[a-z\d]+$/,E=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,O=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,w=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,_=254;function a(P){var S=P.replace(/^"(.+)"$/,"$1");if(!S.trim())return!1;var M=/[\.";<>]/.test(S);if(M){if(S===P)return!1;var R=S.split('"').length===S.split('\\"').length;if(!R)return!1}return!0}function l(P,S){if((0,o.default)(P),S=(0,m.default)(S,C),S.require_display_name||S.allow_display_name){var M=P.match(v);if(M){var R=M[1];if(P=P.replace(R,"").replace(/(^<|>$)/g,""),R.endsWith(" ")&&(R=R.substr(0,R.length-1)),!a(R))return!1}else if(S.require_display_name)return!1}if(!S.ignore_max_length&&P.length>_)return!1;var N=P.split("@"),T=N.pop(),A=T.toLowerCase();if(S.host_blacklist.includes(A))return!1;var W=N.join("@");if(S.domain_specific_validation&&(A==="gmail.com"||A==="googlemail.com")){W=W.toLowerCase();var j=W.split("+")[0];if(!(0,f.default)(j.replace(/\./g,""),{min:6,max:30}))return!1;for(var Z=j.split("."),J=0;J<Z.length;J++)if(!x.test(Z[J]))return!1}if(S.ignore_max_length===!1&&(!(0,f.default)(W,{max:64})||!(0,f.default)(T,{max:254})))return!1;if(!(0,d.default)(T,{require_tld:S.require_tld})){if(!S.allow_ip_domain)return!1;if(!(0,g.default)(T)){if(!T.startsWith("[")||!T.endsWith("]"))return!1;var Q=T.substr(1,T.length-2);if(Q.length===0||!(0,g.default)(Q))return!1}}if(W[0]==='"')return W=W.slice(1,W.length-1),S.allow_utf8_local_part?w.test(W):E.test(W);for(var ne=S.allow_utf8_local_part?O:b,te=W.split("."),B=0;B<te.length;B++)if(!ne.test(te[B]))return!1;return!(S.blacklisted_chars&&W.search(new RegExp("[".concat(S.blacklisted_chars,"]+"),"g"))!==-1)}G.exports=s.default,G.exports.default=s.default},10221:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=g;var o=f(e(65571)),m=f(e(84808));function f(y){return y&&y.__esModule?y:{default:y}}var d={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function g(y,C){(0,o.default)(y),C=(0,m.default)(C,d),C.allow_trailing_dot&&y[y.length-1]==="."&&(y=y.substring(0,y.length-1)),C.allow_wildcard===!0&&y.indexOf("*.")===0&&(y=y.substring(2));var v=y.split("."),b=v[v.length-1];return C.require_tld&&(v.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(b)||/\s/.test(b))||!C.allow_numeric_tld&&/^\d+$/.test(b)?!1:v.every(function(x){return!(x.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(x)||/[\uff01-\uff5e]/.test(x)||/^-|-$/.test(x)||!C.allow_underscores&&/_/.test(x))})}G.exports=s.default,G.exports.default=s.default},61028:(G,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=v;var o=m(e(65571));function m(b){return b&&b.__esModule?b:{default:b}}var f="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",d="(".concat(f,"[.]){3}").concat(f),g=new RegExp("^".concat(d,"$")),y="(?:[0-9a-fA-F]{1,4})",C=new RegExp("^("+"(?:".concat(y,":){7}(?:").concat(y,"|:)|")+"(?:".concat(y,":){6}(?:").concat(d,"|:").concat(y,"|:)|")+"(?:".concat(y,":){5}(?::").concat(d,"|(:").concat(y,"){1,2}|:)|")+"(?:".concat(y,":){4}(?:(:").concat(y,"){0,1}:").concat(d,"|(:").concat(y,"){1,3}|:)|")+"(?:".concat(y,":){3}(?:(:").concat(y,"){0,2}:").concat(d,"|(:").concat(y,"){1,4}|:)|")+"(?:".concat(y,":){2}(?:(:").concat(y,"){0,3}:").concat(d,"|(:").concat(y,"){1,5}|:)|")+"(?:".concat(y,":){1}(?:(:").concat(y,"){0,4}:").concat(d,"|(:").concat(y,"){1,6}|:)|")+"(?::((?::".concat(y,"){0,5}:").concat(d,"|(?::").concat(y,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function v(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,o.default)(b),x=String(x),!x)return v(b,4)||v(b,6);if(x==="4"){if(!g.test(b))return!1;var E=b.split(".").sort(function(O,w){return O-w});return E[3]<=255}return x==="6"?!!C.test(b):!1}G.exports=s.default,G.exports.default=s.default},65571:(G,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=o;function e(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(d){return typeof d}:e=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(m)}function o(m){var f=typeof m=="string"||m instanceof String;if(!f){var d=e(m);throw m===null?d="null":d==="object"&&(d=m.constructor.name),new TypeError("Expected a string but received a ".concat(d))}}G.exports=s.default,G.exports.default=s.default},84808:(G,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=e;function e(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;for(var f in m)typeof o[f]=="undefined"&&(o[f]=m[f]);return o}G.exports=s.default,G.exports.default=s.default},24654:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},18036:()=>{},62961:G=>{let s="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e=(m,f=21)=>(d=f)=>{let g="",y=d;for(;y--;)g+=m[Math.random()*m.length|0];return g},o=(m=21)=>{let f="",d=m;for(;d--;)f+=s[Math.random()*64|0];return f};G.exports={nanoid:o,customAlphabet:e}},39516:(G,s,e)=>{"use strict";e.d(s,{d:()=>E,f:()=>b});var o=e(98661),m=e(19946),f=e(12351),d=e(16723),g=e(23784),y=e(73781);let C=(0,o.createContext)(null);function v(){let O=(0,o.useContext)(C);if(O===null){let w=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(w,v),w}return O}function b(){let[O,w]=(0,o.useState)([]);return[O.length>0?O.join(" "):void 0,(0,o.useMemo)(()=>function(_){let a=(0,y.z)(P=>(w(S=>[...S,P]),()=>w(S=>{let M=S.slice(),R=M.indexOf(P);return R!==-1&&M.splice(R,1),M}))),l=(0,o.useMemo)(()=>({register:a,slot:_.slot,name:_.name,props:_.props}),[a,_.slot,_.name,_.props]);return o.default.createElement(C.Provider,{value:l},_.children)},[w])]}let x="p",E=(0,f.yV)(function(O,w){let _=v(),a=`headlessui-description-${(0,m.M)()}`,l=(0,g.T)(w);(0,d.e)(()=>_.register(a),[a,_.register]);let P=O,S=Wo(nr({ref:l},_.props),{id:a});return(0,f.sY)({ourProps:S,theirProps:P,slot:_.slot||{},defaultTag:x,name:_.name||"Description"})})},53789:(G,s,e)=>{"use strict";e.d(s,{V:()=>Ot});var o=e(98661),m=e(32984),f=e(12351),d=e(23784),g=e(61363),y=e(64103),C=e(19946),v=e(82180),b=e(46045),x=e(43393);function E(at){return x.s?null:at instanceof Node?at.ownerDocument:at!=null&&at.hasOwnProperty("current")&&at.current instanceof Node?at.current.ownerDocument:document}let O=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(at=>`${at}:not([tabindex='-1'])`).join(",");var w=(at=>(at[at.First=1]="First",at[at.Previous=2]="Previous",at[at.Next=4]="Next",at[at.Last=8]="Last",at[at.WrapAround=16]="WrapAround",at[at.NoScroll=32]="NoScroll",at))(w||{}),_=(at=>(at[at.Error=0]="Error",at[at.Overflow=1]="Overflow",at[at.Success=2]="Success",at[at.Underflow=3]="Underflow",at))(_||{}),a=(at=>(at[at.Previous=-1]="Previous",at[at.Next=1]="Next",at))(a||{});function l(at=document.body){return at==null?[]:Array.from(at.querySelectorAll(O))}var P=(at=>(at[at.Strict=0]="Strict",at[at.Loose=1]="Loose",at))(P||{});function S(at,Ht=0){var zt;return at===((zt=E(at))==null?void 0:zt.body)?!1:(0,m.E)(Ht,{[0](){return at.matches(O)},[1](){let on=at;for(;on!==null;){if(on.matches(O))return!0;on=on.parentElement}return!1}})}function M(at){let Ht=c(at);p().nextFrame(()=>{Ht&&!S(Ht.activeElement,0)&&R(at)})}function R(at){at==null||at.focus({preventScroll:!0})}let N=["textarea","input"].join(",");function T(at){var Ht,zt;return(zt=(Ht=at==null?void 0:at.matches)==null?void 0:Ht.call(at,N))!=null?zt:!1}function A(at,Ht=zt=>zt){return at.slice().sort((zt,on)=>{let hn=Ht(zt),gn=Ht(on);if(hn===null||gn===null)return 0;let bn=hn.compareDocumentPosition(gn);return bn&Node.DOCUMENT_POSITION_FOLLOWING?-1:bn&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function W(at,Ht){return j(l(),Ht,!0,at)}function j(at,Ht,zt=!0,on=null){let hn=Array.isArray(at)?at.length>0?at[0].ownerDocument:document:at.ownerDocument,gn=Array.isArray(at)?zt?A(at):at:l(at);on=on!=null?on:hn.activeElement;let bn=(()=>{if(Ht&5)return 1;if(Ht&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Un=(()=>{if(Ht&1)return 0;if(Ht&2)return Math.max(0,gn.indexOf(on))-1;if(Ht&4)return Math.max(0,gn.indexOf(on))+1;if(Ht&8)return gn.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),qn=Ht&32?{preventScroll:!0}:{},cr=0,hr=gn.length,pr;do{if(cr>=hr||cr+hr<=0)return 0;let Lr=Un+cr;if(Ht&16)Lr=(Lr+hr)%hr;else{if(Lr<0)return 3;if(Lr>=hr)return 1}pr=gn[Lr],pr==null||pr.focus(qn),cr+=bn}while(pr!==hn.activeElement);return Ht&6&&T(pr)&&pr.select(),pr.hasAttribute("tabindex")||pr.setAttribute("tabindex","0"),2}var Z=e(73781),J=e(3855);function Q(at,Ht,zt){let on=(0,J.E)(Ht);(0,o.useEffect)(()=>{function hn(gn){on.current(gn)}return window.addEventListener(at,hn,zt),()=>window.removeEventListener(at,hn,zt)},[at,zt])}var ne=(at=>(at[at.Forwards=0]="Forwards",at[at.Backwards=1]="Backwards",at))(ne||{});function te(){let at=(0,o.useRef)(0);return Q("keydown",Ht=>{Ht.key==="Tab"&&(at.current=Ht.shiftKey?1:0)},!0),at}var B=e(14879);function V(...at){return(0,o.useMemo)(()=>E(...at),[...at])}function re(at,Ht,zt,on){let hn=(0,J.E)(zt);(0,o.useEffect)(()=>{at=at!=null?at:window;function gn(bn){hn.current(bn)}return at.addEventListener(Ht,gn,on),()=>at.removeEventListener(Ht,gn,on)},[at,Ht,on])}var le=e(81021);function ae(at,Ht){let zt=(0,o.useRef)([]),on=(0,Z.z)(at);(0,o.useEffect)(()=>{let hn=[...zt.current];for(let[gn,bn]of Ht.entries())if(zt.current[gn]!==bn){let Un=on(Ht,hn);return zt.current=Ht,Un}},[on,...Ht])}let q="div";var oe=(at=>(at[at.None=1]="None",at[at.InitialFocus=2]="InitialFocus",at[at.TabLock=4]="TabLock",at[at.FocusLock=8]="FocusLock",at[at.RestoreFocus=16]="RestoreFocus",at[at.All=30]="All",at))(oe||{});let z=Object.assign((0,f.yV)(function(at,Ht){let zt=(0,o.useRef)(null),on=(0,d.T)(zt,Ht),oo=at,{initialFocus:hn,containers:gn,features:bn=30}=oo,Un=Yi(oo,["initialFocus","containers","features"]);(0,v.H)()||(bn=1);let qn=V(zt);ie({ownerDocument:qn},!!(bn&16));let cr=ue({ownerDocument:qn,container:zt,initialFocus:hn},!!(bn&2));de({ownerDocument:qn,container:zt,containers:gn,previousActiveElement:cr},!!(bn&8));let hr=te(),pr=(0,Z.z)(()=>{let Kr=zt.current;!Kr||(0,m.E)(hr.current,{[ne.Forwards]:()=>j(Kr,w.First),[ne.Backwards]:()=>j(Kr,w.Last)})}),Lr={ref:on};return o.default.createElement(o.default.Fragment,null,!!(bn&4)&&o.default.createElement(b._,{as:"button",type:"button",onFocus:pr,features:b.A.Focusable}),(0,f.sY)({ourProps:Lr,theirProps:Un,defaultTag:q,name:"FocusTrap"}),!!(bn&4)&&o.default.createElement(b._,{as:"button",type:"button",onFocus:pr,features:b.A.Focusable}))}),{features:oe});function ie({ownerDocument:at},Ht){let zt=(0,o.useRef)(null);re(at==null?void 0:at.defaultView,"focusout",hn=>{!Ht||zt.current||(zt.current=hn.target)},!0),ae(()=>{Ht||((at==null?void 0:at.activeElement)===(at==null?void 0:at.body)&&R(zt.current),zt.current=null)},[Ht]);let on=(0,o.useRef)(!1);(0,o.useEffect)(()=>(on.current=!1,()=>{on.current=!0,(0,le.Y)(()=>{!on.current||(R(zt.current),zt.current=null)})}),[])}function ue({ownerDocument:at,container:Ht,initialFocus:zt},on){let hn=(0,o.useRef)(null),gn=(0,B.t)();return ae(()=>{if(!on)return;let bn=Ht.current;!bn||(0,le.Y)(()=>{if(!gn.current)return;let Un=at==null?void 0:at.activeElement;if(zt!=null&&zt.current){if((zt==null?void 0:zt.current)===Un){hn.current=Un;return}}else if(bn.contains(Un)){hn.current=Un;return}zt!=null&&zt.current?R(zt.current):j(bn,w.First)===_.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),hn.current=at==null?void 0:at.activeElement})},[on]),hn}function de({ownerDocument:at,container:Ht,containers:zt,previousActiveElement:on},hn){let gn=(0,B.t)();re(at==null?void 0:at.defaultView,"focus",bn=>{if(!hn||!gn.current)return;let Un=new Set(zt==null?void 0:zt.current);Un.add(Ht);let qn=on.current;if(!qn)return;let cr=bn.target;cr&&cr instanceof HTMLElement?fe(Un,cr)?(on.current=cr,R(cr)):(bn.preventDefault(),bn.stopPropagation(),R(qn)):R(on.current)},!0)}function fe(at,Ht){var zt;for(let on of at)if((zt=on.current)!=null&&zt.contains(Ht))return!0;return!1}var ye=e(16723);let pe=new Set,we=new Map;function Me(at){at.setAttribute("aria-hidden","true"),at.inert=!0}function je(at){let Ht=we.get(at);!Ht||(Ht["aria-hidden"]===null?at.removeAttribute("aria-hidden"):at.setAttribute("aria-hidden",Ht["aria-hidden"]),at.inert=Ht.inert)}function De(at,Ht=!0){(0,ye.e)(()=>{if(!Ht||!at.current)return;let zt=at.current,on=E(zt);if(on){pe.add(zt);for(let hn of we.keys())hn.contains(zt)&&(je(hn),we.delete(hn));return on.querySelectorAll("body > *").forEach(hn=>{if(hn instanceof HTMLElement){for(let gn of pe)if(hn.contains(gn))return;pe.size===1&&(we.set(hn,{"aria-hidden":hn.getAttribute("aria-hidden"),inert:hn.inert}),Me(hn))}}),()=>{if(pe.delete(zt),pe.size>0)on.querySelectorAll("body > *").forEach(hn=>{if(hn instanceof HTMLElement&&!we.has(hn)){for(let gn of pe)if(hn.contains(gn))return;we.set(hn,{"aria-hidden":hn.getAttribute("aria-hidden"),inert:hn.inert}),Me(hn)}});else for(let hn of we.keys())je(hn),we.delete(hn)}}},[Ht])}let me=(0,o.createContext)(!1);function ce(){return(0,o.useContext)(me)}function ge(at){return o.default.createElement(me.Provider,{value:at.force},at.children)}function Ie(at){let Ht=ce(),zt=(0,o.useContext)(_t),on=V(at),[hn,gn]=(0,o.useState)(()=>{if(!Ht&&zt!==null||x.s)return null;let bn=on==null?void 0:on.getElementById("headlessui-portal-root");if(bn)return bn;if(on===null)return null;let Un=on.createElement("div");return Un.setAttribute("id","headlessui-portal-root"),on.body.appendChild(Un)});return(0,o.useEffect)(()=>{hn!==null&&(on!=null&&on.body.contains(hn)||on==null||on.body.appendChild(hn))},[hn,on]),(0,o.useEffect)(()=>{Ht||zt!==null&&gn(zt.current)},[zt,gn,Ht]),hn}let Re=o.Fragment,Ke=(0,f.yV)(function(at,Ht){let zt=at,on=(0,o.useRef)(null),hn=(0,d.T)((0,d.h)(hr=>{on.current=hr}),Ht),gn=V(on),bn=Ie(on),[Un]=(0,o.useState)(()=>{var hr;return x.s?null:(hr=gn==null?void 0:gn.createElement("div"))!=null?hr:null}),qn=(0,v.H)(),cr=(0,o.useRef)(!1);return(0,ye.e)(()=>{if(cr.current=!1,!(!bn||!Un))return bn.contains(Un)||(Un.setAttribute("data-headlessui-portal",""),bn.appendChild(Un)),()=>{cr.current=!0,(0,le.Y)(()=>{var hr;!cr.current||!bn||!Un||(bn.removeChild(Un),bn.childNodes.length<=0&&((hr=bn.parentElement)==null||hr.removeChild(bn)))})}},[bn,Un]),qn?!bn||!Un?null:(0,o.createPortal)((0,f.sY)({ourProps:{ref:hn},theirProps:zt,defaultTag:Re,name:"Portal"}),Un):null}),ut=o.Fragment,_t=(0,o.createContext)(null),ft=(0,f.yV)(function(at,Ht){let gn=at,{target:zt}=gn,on=Yi(gn,["target"]),hn={ref:(0,d.T)(Ht)};return o.default.createElement(_t.Provider,{value:zt},(0,f.sY)({ourProps:hn,theirProps:on,defaultTag:ut,name:"Popover.Group"}))}),We=Object.assign(Ke,{Group:ft});var Be=e(39516),lt=e(16567);let Tt=(0,o.createContext)(()=>{});Tt.displayName="StackContext";var xt=(at=>(at[at.Add=0]="Add",at[at.Remove=1]="Remove",at))(xt||{});function Gt(){return(0,o.useContext)(Tt)}function an({children:at,onUpdate:Ht,type:zt,element:on,enabled:hn}){let gn=Gt(),bn=(0,Z.z)((...Un)=>{Ht==null||Ht(...Un),gn(...Un)});return(0,ye.e)(()=>{let Un=hn===void 0||hn===!0;return Un&&bn(0,zt,on),()=>{Un&&bn(1,zt,on)}},[bn,zt,on,hn]),o.default.createElement(Tt.Provider,{value:bn},at)}function yt(at,Ht,zt){let on=(0,J.E)(Ht);(0,o.useEffect)(()=>{function hn(gn){on.current(gn)}return document.addEventListener(at,hn,zt),()=>document.removeEventListener(at,hn,zt)},[at,zt])}function ke(at,Ht,zt=!0){let on=(0,o.useRef)(!1);(0,o.useEffect)(()=>{requestAnimationFrame(()=>{on.current=zt})},[zt]);function hn(bn,Un){if(!on.current||bn.defaultPrevented)return;let qn=function hr(pr){return typeof pr=="function"?hr(pr()):Array.isArray(pr)||pr instanceof Set?pr:[pr]}(at),cr=Un(bn);if(cr!==null&&cr.getRootNode().contains(cr)){for(let hr of qn){if(hr===null)continue;let pr=hr instanceof HTMLElement?hr:hr.current;if(pr!=null&&pr.contains(cr))return}return!S(cr,P.Loose)&&cr.tabIndex!==-1&&bn.preventDefault(),Ht(bn,cr)}}let gn=(0,o.useRef)(null);yt("mousedown",bn=>{var Un,qn;on.current&&(gn.current=((qn=(Un=bn.composedPath)==null?void 0:Un.call(bn))==null?void 0:qn[0])||bn.target)},!0),yt("click",bn=>{!gn.current||(hn(bn,()=>gn.current),gn.current=null)},!0),yt("blur",bn=>hn(bn,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Ve=e(9362);function Ne(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var Fe=(at=>(at[at.Open=0]="Open",at[at.Closed=1]="Closed",at))(Fe||{}),Ue=(at=>(at[at.SetTitleId=0]="SetTitleId",at))(Ue||{});let be={[0](at,Ht){return at.titleId===Ht.id?at:Wo(nr({},at),{titleId:Ht.id})}},Ge=(0,o.createContext)(null);Ge.displayName="DialogContext";function nt(at){let Ht=(0,o.useContext)(Ge);if(Ht===null){let zt=new Error(`<${at} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(zt,nt),zt}return Ht}function Oe(at,Ht){(0,o.useEffect)(()=>{var zt;if(!Ht||!at)return;let on=(0,Ve.k)();function hn(Un,qn,cr){let hr=Un.style.getPropertyValue(qn);return Object.assign(Un.style,{[qn]:cr}),on.add(()=>{Object.assign(Un.style,{[qn]:hr})})}let gn=at.documentElement,bn=((zt=at.defaultView)!=null?zt:window).innerWidth-gn.clientWidth;if(hn(gn,"overflow","hidden"),bn>0){let Un=gn.clientWidth-gn.offsetWidth,qn=bn-Un;hn(gn,"paddingRight",`${qn}px`)}if(Ne()){let Un=window.pageYOffset;hn(gn,"position","fixed"),hn(gn,"marginTop",`-${Un}px`),hn(gn,"width","100%"),on.add(()=>window.scrollTo(0,Un))}return on.dispose},[at,Ht])}function K(at,Ht){return(0,m.E)(Ht.type,be,at,Ht)}let Y="div",he=f.AN.RenderStrategy|f.AN.Static,Te=(0,f.yV)(function(at,Ht){let $r=at,{open:zt,onClose:on,initialFocus:hn,__demoMode:gn=!1}=$r,bn=Yi($r,["open","onClose","initialFocus","__demoMode"]),[Un,qn]=(0,o.useState)(0),cr=(0,lt.oJ)();zt===void 0&&cr!==null&&(zt=(0,m.E)(cr,{[lt.ZM.Open]:!0,[lt.ZM.Closed]:!1}));let hr=(0,o.useRef)(new Set),pr=(0,o.useRef)(null),Lr=(0,d.T)(pr,Ht),oo=(0,o.useRef)(null),Kr=V(pr),co=at.hasOwnProperty("open")||cr!==null,lo=at.hasOwnProperty("onClose");if(!co&&!lo)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!co)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!lo)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof zt!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${zt}`);if(typeof on!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${on}`);let dr=zt?0:1,[Nr,Hr]=(0,o.useReducer)(K,{titleId:null,descriptionId:null,panelRef:(0,o.createRef)()}),Ur=(0,Z.z)(()=>on(!1)),uo=(0,Z.z)(xr=>Hr({type:0,id:xr})),mo=(0,v.H)()?gn?!1:dr===0:!1,yo=Un>1,Oo=(0,o.useContext)(Ge)!==null,Xo=yo?"parent":"leaf";De(pr,yo?mo:!1),ke(()=>{var xr,$t;return[...Array.from((xr=Kr==null?void 0:Kr.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?xr:[]).filter(en=>!(!(en instanceof HTMLElement)||en.contains(oo.current)||Nr.panelRef.current&&en.contains(Nr.panelRef.current))),($t=Nr.panelRef.current)!=null?$t:pr.current]},Ur,mo&&!yo),re(Kr==null?void 0:Kr.defaultView,"keydown",xr=>{xr.defaultPrevented||xr.key===g.R.Escape&&dr===0&&(yo||(xr.preventDefault(),xr.stopPropagation(),Ur()))}),Oe(Kr,dr===0&&!Oo),(0,o.useEffect)(()=>{if(dr!==0||!pr.current)return;let xr=new IntersectionObserver($t=>{for(let en of $t)en.boundingClientRect.x===0&&en.boundingClientRect.y===0&&en.boundingClientRect.width===0&&en.boundingClientRect.height===0&&Ur()});return xr.observe(pr.current),()=>xr.disconnect()},[dr,pr,Ur]);let[Go,Mo]=(0,Be.f)(),Lo=`headlessui-dialog-${(0,C.M)()}`,Bo=(0,o.useMemo)(()=>[{dialogState:dr,close:Ur,setTitleId:uo},Nr],[dr,Nr,Ur,uo]),Qr=(0,o.useMemo)(()=>({open:dr===0}),[dr]),Yr={ref:Lr,id:Lo,role:"dialog","aria-modal":dr===0?!0:void 0,"aria-labelledby":Nr.titleId,"aria-describedby":Go};return o.default.createElement(an,{type:"Dialog",enabled:dr===0,element:pr,onUpdate:(0,Z.z)((xr,$t,en)=>{$t==="Dialog"&&(0,m.E)(xr,{[xt.Add](){hr.current.add(en),qn(nn=>nn+1)},[xt.Remove](){hr.current.add(en),qn(nn=>nn-1)}})})},o.default.createElement(ge,{force:!0},o.default.createElement(We,null,o.default.createElement(Ge.Provider,{value:Bo},o.default.createElement(We.Group,{target:pr},o.default.createElement(ge,{force:!1},o.default.createElement(Mo,{slot:Qr,name:"Dialog.Description"},o.default.createElement(z,{initialFocus:hn,containers:hr,features:mo?(0,m.E)(Xo,{parent:z.features.RestoreFocus,leaf:z.features.All&~z.features.FocusLock}):z.features.None},(0,f.sY)({ourProps:Yr,theirProps:bn,slot:Qr,defaultTag:Y,features:he,visible:dr===0,name:"Dialog"})))))))),o.default.createElement(b._,{features:b.A.Hidden,ref:oo}))}),He="div",Qe=(0,f.yV)(function(at,Ht){let[{dialogState:zt,close:on}]=nt("Dialog.Overlay"),hn=(0,d.T)(Ht),gn=`headlessui-dialog-overlay-${(0,C.M)()}`,bn=(0,Z.z)(qn=>{if(qn.target===qn.currentTarget){if((0,y.P)(qn.currentTarget))return qn.preventDefault();qn.preventDefault(),qn.stopPropagation(),on()}}),Un=(0,o.useMemo)(()=>({open:zt===0}),[zt]);return(0,f.sY)({ourProps:{ref:hn,id:gn,"aria-hidden":!0,onClick:bn},theirProps:at,slot:Un,defaultTag:He,name:"Dialog.Overlay"})}),ht="div",ct=(0,f.yV)(function(at,Ht){let[{dialogState:zt},on]=nt("Dialog.Backdrop"),hn=(0,d.T)(Ht),gn=`headlessui-dialog-backdrop-${(0,C.M)()}`;(0,o.useEffect)(()=>{if(on.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[on.panelRef]);let bn=(0,o.useMemo)(()=>({open:zt===0}),[zt]);return o.default.createElement(ge,{force:!0},o.default.createElement(We,null,(0,f.sY)({ourProps:{ref:hn,id:gn,"aria-hidden":!0},theirProps:at,slot:bn,defaultTag:ht,name:"Dialog.Backdrop"})))}),Pt="div",Nt=(0,f.yV)(function(at,Ht){let[{dialogState:zt},on]=nt("Dialog.Panel"),hn=(0,d.T)(Ht,on.panelRef),gn=`headlessui-dialog-panel-${(0,C.M)()}`,bn=(0,o.useMemo)(()=>({open:zt===0}),[zt]),Un=(0,Z.z)(qn=>{qn.stopPropagation()});return(0,f.sY)({ourProps:{ref:hn,id:gn,onClick:Un},theirProps:at,slot:bn,defaultTag:Pt,name:"Dialog.Panel"})}),sn="h2",Et=(0,f.yV)(function(at,Ht){let[{dialogState:zt,setTitleId:on}]=nt("Dialog.Title"),hn=`headlessui-dialog-title-${(0,C.M)()}`,gn=(0,d.T)(Ht);(0,o.useEffect)(()=>(on(hn),()=>on(null)),[hn,on]);let bn=(0,o.useMemo)(()=>({open:zt===0}),[zt]);return(0,f.sY)({ourProps:{ref:gn,id:hn},theirProps:at,slot:bn,defaultTag:sn,name:"Dialog.Title"})}),Ot=Object.assign(Te,{Backdrop:ct,Panel:Nt,Overlay:Qe,Title:Et,Description:Be.d})},61363:(G,s,e)=>{"use strict";e.d(s,{R:()=>o});var o=(m=>(m.Space=" ",m.Enter="Enter",m.Escape="Escape",m.Backspace="Backspace",m.Delete="Delete",m.ArrowLeft="ArrowLeft",m.ArrowUp="ArrowUp",m.ArrowRight="ArrowRight",m.ArrowDown="ArrowDown",m.Home="Home",m.End="End",m.PageUp="PageUp",m.PageDown="PageDown",m.Tab="Tab",m))(o||{})},34875:(G,s,e)=>{"use strict";e.d(s,{u:()=>oe});var o=e(98661),m=e(12351),f=e(16567),d=e(32984),g=e(14879),y=e(16723),C=e(3855),v=e(82180),b=e(23784);function x(z){let ie={called:!1};return(...ue)=>{if(!ie.called)return ie.called=!0,z(...ue)}}var E=e(9362);function O(z,...ie){z&&ie.length>0&&z.classList.add(...ie)}function w(z,...ie){z&&ie.length>0&&z.classList.remove(...ie)}var _=(z=>(z.Ended="ended",z.Cancelled="cancelled",z))(_||{});function a(z,ie){let ue=(0,E.k)();if(!z)return ue.dispose;let{transitionDuration:de,transitionDelay:fe}=getComputedStyle(z),[ye,pe]=[de,fe].map(we=>{let[Me=0]=we.split(",").filter(Boolean).map(je=>je.includes("ms")?parseFloat(je):parseFloat(je)*1e3).sort((je,De)=>De-je);return Me});if(ye+pe!==0){let we=[];we.push(ue.addEventListener(z,"transitionrun",Me=>{Me.target===Me.currentTarget&&(we.splice(0).forEach(je=>je()),we.push(ue.addEventListener(z,"transitionend",je=>{je.target===je.currentTarget&&(ie("ended"),we.splice(0).forEach(De=>De()))}),ue.addEventListener(z,"transitioncancel",je=>{je.target===je.currentTarget&&(ie("cancelled"),we.splice(0).forEach(De=>De()))})))}))}else ie("ended");return ue.add(()=>ie("cancelled")),ue.dispose}function l(z,ie,ue,de){let fe=ue?"enter":"leave",ye=(0,E.k)(),pe=de!==void 0?x(de):()=>{};fe==="enter"&&(z.removeAttribute("hidden"),z.style.display="");let we=(0,d.E)(fe,{enter:()=>ie.enter,leave:()=>ie.leave}),Me=(0,d.E)(fe,{enter:()=>ie.enterTo,leave:()=>ie.leaveTo}),je=(0,d.E)(fe,{enter:()=>ie.enterFrom,leave:()=>ie.leaveFrom});return w(z,...ie.enter,...ie.enterTo,...ie.enterFrom,...ie.leave,...ie.leaveFrom,...ie.leaveTo,...ie.entered),O(z,...we,...je),ye.nextFrame(()=>{w(z,...je),O(z,...Me),a(z,De=>(De==="ended"&&(w(z,...we),O(z,...ie.entered)),pe(De)))}),ye.dispose}function P(){let[z]=(0,o.useState)(E.k);return(0,o.useEffect)(()=>()=>z.dispose(),[z]),z}function S({container:z,direction:ie,classes:ue,onStart:de,onStop:fe}){let ye=(0,g.t)(),pe=P(),we=(0,C.E)(ie);(0,y.e)(()=>{let Me=(0,E.k)();pe.add(Me.dispose);let je=z.current;if(je&&we.current!=="idle"&&ye.current)return Me.dispose(),de.current(we.current),Me.add(l(je,ue.current,we.current==="enter",De=>{Me.dispose(),(0,d.E)(De,{[_.Ended](){fe.current(we.current)},[_.Cancelled]:()=>{}})})),Me.dispose},[ie])}var M=e(73781);function R(z=""){return z.split(" ").filter(ie=>ie.trim().length>1)}let N=(0,o.createContext)(null);N.displayName="TransitionContext";var T=(z=>(z.Visible="visible",z.Hidden="hidden",z))(T||{});function A(){let z=(0,o.useContext)(N);if(z===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return z}function W(){let z=(0,o.useContext)(j);if(z===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return z}let j=(0,o.createContext)(null);j.displayName="NestingContext";function Z(z){return"children"in z?Z(z.children):z.current.filter(({el:ie})=>ie.current!==null).filter(({state:ie})=>ie==="visible").length>0}function J(z,ie){let ue=(0,C.E)(z),de=(0,o.useRef)([]),fe=(0,g.t)(),ye=P(),pe=(0,M.z)((ge,Ie=m.l4.Hidden)=>{let Re=de.current.findIndex(({el:Ke})=>Ke===ge);Re!==-1&&((0,d.E)(Ie,{[m.l4.Unmount](){de.current.splice(Re,1)},[m.l4.Hidden](){de.current[Re].state="hidden"}}),ye.microTask(()=>{var Ke;!Z(de)&&fe.current&&((Ke=ue.current)==null||Ke.call(ue))}))}),we=(0,M.z)(ge=>{let Ie=de.current.find(({el:Re})=>Re===ge);return Ie?Ie.state!=="visible"&&(Ie.state="visible"):de.current.push({el:ge,state:"visible"}),()=>pe(ge,m.l4.Unmount)}),Me=(0,o.useRef)([]),je=(0,o.useRef)(Promise.resolve()),De=(0,o.useRef)({enter:[],leave:[],idle:[]}),me=(0,M.z)((ge,Ie,Re)=>{Me.current.splice(0),ie&&(ie.chains.current[Ie]=ie.chains.current[Ie].filter(([Ke])=>Ke!==ge)),ie==null||ie.chains.current[Ie].push([ge,new Promise(Ke=>{Me.current.push(Ke)})]),ie==null||ie.chains.current[Ie].push([ge,new Promise(Ke=>{Promise.all(De.current[Ie].map(([ut,_t])=>_t)).then(()=>Ke())})]),Ie==="enter"?je.current=je.current.then(()=>ie==null?void 0:ie.wait.current).then(()=>Re(Ie)):Re(Ie)}),ce=(0,M.z)((ge,Ie,Re)=>{Promise.all(De.current[Ie].splice(0).map(([Ke,ut])=>ut)).then(()=>{var Ke;(Ke=Me.current.shift())==null||Ke()}).then(()=>Re(Ie))});return(0,o.useMemo)(()=>({children:de,register:we,unregister:pe,onStart:me,onStop:ce,wait:je,chains:De}),[we,pe,de,me,ce,De,je])}function Q(){}let ne=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function te(z){var ie;let ue={};for(let de of ne)ue[de]=(ie=z[de])!=null?ie:Q;return ue}function B(z){let ie=(0,o.useRef)(te(z));return(0,o.useEffect)(()=>{ie.current=te(z)},[z]),ie}let V="div",re=m.AN.RenderStrategy,le=(0,m.yV)(function(z,ie){let Oe=z,{beforeEnter:ue,afterEnter:de,beforeLeave:fe,afterLeave:ye,enter:pe,enterFrom:we,enterTo:Me,entered:je,leave:De,leaveFrom:me,leaveTo:ce}=Oe,ge=Yi(Oe,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),Ie=(0,o.useRef)(null),Re=(0,b.T)(Ie,ie),Ke=ge.unmount?m.l4.Unmount:m.l4.Hidden,{show:ut,appear:_t,initial:ft}=A(),[We,Be]=(0,o.useState)(ut?"visible":"hidden"),lt=W(),{register:Tt,unregister:xt}=lt,Gt=(0,o.useRef)(null);(0,o.useEffect)(()=>Tt(Ie),[Tt,Ie]),(0,o.useEffect)(()=>{if(Ke===m.l4.Hidden&&Ie.current){if(ut&&We!=="visible"){Be("visible");return}return(0,d.E)(We,{hidden:()=>xt(Ie),visible:()=>Tt(Ie)})}},[We,Ie,Tt,xt,ut,Ke]);let an=(0,C.E)({enter:R(pe),enterFrom:R(we),enterTo:R(Me),entered:R(je),leave:R(De),leaveFrom:R(me),leaveTo:R(ce)}),yt=B({beforeEnter:ue,afterEnter:de,beforeLeave:fe,afterLeave:ye}),ke=(0,v.H)();(0,o.useEffect)(()=>{if(ke&&We==="visible"&&Ie.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Ie,We,ke]);let Ve=ft&&!_t,Ne=(()=>!ke||Ve||Gt.current===ut?"idle":ut?"enter":"leave")(),Fe=(0,M.z)(K=>(0,d.E)(K,{enter:()=>yt.current.beforeEnter(),leave:()=>yt.current.beforeLeave(),idle:()=>{}})),Ue=(0,M.z)(K=>(0,d.E)(K,{enter:()=>yt.current.afterEnter(),leave:()=>yt.current.afterLeave(),idle:()=>{}})),be=J(()=>{Be("hidden"),xt(Ie)},lt);S({container:Ie,classes:an,direction:Ne,onStart:(0,C.E)(K=>{be.onStart(Ie,K,Fe)}),onStop:(0,C.E)(K=>{be.onStop(Ie,K,Ue),K==="leave"&&!Z(be)&&(Be("hidden"),xt(Ie))})}),(0,o.useEffect)(()=>{!Ve||(Ke===m.l4.Hidden?Gt.current=null:Gt.current=ut)},[ut,Ve,We]);let Ge=ge,nt={ref:Re};return o.default.createElement(j.Provider,{value:be},o.default.createElement(f.up,{value:(0,d.E)(We,{visible:f.ZM.Open,hidden:f.ZM.Closed})},(0,m.sY)({ourProps:nt,theirProps:Ge,defaultTag:V,features:re,visible:We==="visible",name:"Transition.Child"})))}),ae=(0,m.yV)(function(z,ie){let ut=z,{show:ue,appear:de=!1,unmount:fe}=ut,ye=Yi(ut,["show","appear","unmount"]),pe=(0,o.useRef)(null),we=(0,b.T)(pe,ie);(0,v.H)();let Me=(0,f.oJ)();if(ue===void 0&&Me!==null&&(ue=(0,d.E)(Me,{[f.ZM.Open]:!0,[f.ZM.Closed]:!1})),![!0,!1].includes(ue))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[je,De]=(0,o.useState)(ue?"visible":"hidden"),me=J(()=>{De("hidden")}),[ce,ge]=(0,o.useState)(!0),Ie=(0,o.useRef)([ue]);(0,y.e)(()=>{ce!==!1&&Ie.current[Ie.current.length-1]!==ue&&(Ie.current.push(ue),ge(!1))},[Ie,ue]);let Re=(0,o.useMemo)(()=>({show:ue,appear:de,initial:ce}),[ue,de,ce]);(0,o.useEffect)(()=>{if(ue)De("visible");else if(!Z(me))De("hidden");else{let _t=pe.current;if(!_t)return;let ft=_t.getBoundingClientRect();ft.x===0&&ft.y===0&&ft.width===0&&ft.height===0&&De("hidden")}},[ue,me]);let Ke={unmount:fe};return o.default.createElement(j.Provider,{value:me},o.default.createElement(N.Provider,{value:Re},(0,m.sY)({ourProps:Wo(nr({},Ke),{as:o.Fragment,children:o.default.createElement(le,nr(nr({ref:we},Ke),ye))}),theirProps:{},defaultTag:o.Fragment,features:re,visible:je==="visible",name:"Transition"})))}),q=(0,m.yV)(function(z,ie){let ue=(0,o.useContext)(N)!==null,de=(0,f.oJ)()!==null;return o.default.createElement(o.default.Fragment,null,!ue&&de?o.default.createElement(ae,nr({ref:ie},z)):o.default.createElement(le,nr({ref:ie},z)))}),oe=Object.assign(ae,{Child:q,Root:ae})},73781:(G,s,e)=>{"use strict";e.d(s,{z:()=>f});var o=e(98661),m=e(3855);let f=function(d){let g=(0,m.E)(d);return o.default.useCallback((...y)=>g.current(...y),[g])}},19946:(G,s,e)=>{"use strict";e.d(s,{M:()=>C});var o=e(98661),m=e(16723),f=e(82180),d;let g=0;function y(){return++g}let C=(d=o.default.useId)!=null?d:function(){let v=(0,f.H)(),[b,x]=o.default.useState(v?y:null);return(0,m.e)(()=>{b===null&&x(y())},[b]),b!=null?""+b:void 0}},14879:(G,s,e)=>{"use strict";e.d(s,{t:()=>f});var o=e(98661),m=e(16723);function f(){let d=(0,o.useRef)(!1);return(0,m.e)(()=>(d.current=!0,()=>{d.current=!1}),[]),d}},16723:(G,s,e)=>{"use strict";e.d(s,{e:()=>f});var o=e(98661),m=e(43393);let f=m.s?o.useEffect:o.useLayoutEffect},3855:(G,s,e)=>{"use strict";e.d(s,{E:()=>f});var o=e(98661),m=e(16723);function f(d){let g=(0,o.useRef)(d);return(0,m.e)(()=>{g.current=d},[d]),g}},82180:(G,s,e)=>{"use strict";e.d(s,{H:()=>f});var o=e(98661);let m={serverHandoffComplete:!1};function f(){let[d,g]=(0,o.useState)(m.serverHandoffComplete);return(0,o.useEffect)(()=>{d!==!0&&g(!0)},[d]),(0,o.useEffect)(()=>{m.serverHandoffComplete===!1&&(m.serverHandoffComplete=!0)},[]),d}},23784:(G,s,e)=>{"use strict";e.d(s,{T:()=>g,h:()=>d});var o=e(98661),m=e(73781);let f=Symbol();function d(y,C=!0){return Object.assign(y,{[f]:C})}function g(...y){let C=(0,o.useRef)(y);(0,o.useEffect)(()=>{C.current=y},[y]);let v=(0,m.z)(b=>{for(let x of C.current)x!=null&&(typeof x=="function"?x(b):x.current=b)});return y.every(b=>b==null||(b==null?void 0:b[f]))?void 0:v}},46045:(G,s,e)=>{"use strict";e.d(s,{A:()=>f,_:()=>d});var o=e(12351);let m="div";var f=(g=>(g[g.None=1]="None",g[g.Focusable=2]="Focusable",g[g.Hidden=4]="Hidden",g))(f||{});let d=(0,o.yV)(function(g,y){let x=g,{features:C=1}=x,v=Yi(x,["features"]),b={ref:y,"aria-hidden":(C&2)===2?!0:void 0,style:nr({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(C&4)===4&&(C&2)!==2&&{display:"none"})};return(0,o.sY)({ourProps:b,theirProps:v,slot:{},defaultTag:m,name:"Hidden"})})},16567:(G,s,e)=>{"use strict";e.d(s,{ZM:()=>f,oJ:()=>d,up:()=>g});var o=e(98661);let m=(0,o.createContext)(null);m.displayName="OpenClosedContext";var f=(y=>(y[y.Open=0]="Open",y[y.Closed=1]="Closed",y))(f||{});function d(){return(0,o.useContext)(m)}function g({value:y,children:C}){return o.default.createElement(m.Provider,{value:y},C)}},64103:(G,s,e)=>{"use strict";e.d(s,{P:()=>o});function o(f){let d=f.parentElement,g=null;for(;d&&!(d instanceof HTMLFieldSetElement);)d instanceof HTMLLegendElement&&(g=d),d=d.parentElement;let y=(d==null?void 0:d.getAttribute("disabled"))==="";return y&&m(g)?!1:y}function m(f){if(!f)return!1;let d=f.previousElementSibling;for(;d!==null;){if(d instanceof HTMLLegendElement)return!1;d=d.previousElementSibling}return!0}},9362:(G,s,e)=>{"use strict";e.d(s,{k:()=>m});var o=e(81021);function m(){let f=[],d=[],g={enqueue(C){d.push(C)},addEventListener(C,v,b,x){return C.addEventListener(v,b,x),g.add(()=>C.removeEventListener(v,b,x))},requestAnimationFrame(...C){let v=requestAnimationFrame(...C);return g.add(()=>cancelAnimationFrame(v))},nextFrame(...C){return g.requestAnimationFrame(()=>g.requestAnimationFrame(...C))},setTimeout(...C){let v=setTimeout(...C);return g.add(()=>clearTimeout(v))},microTask(...C){let v={current:!0};return(0,o.Y)(()=>{v.current&&C[0]()}),g.add(()=>{v.current=!1})},add(C){return f.push(C),()=>{let v=f.indexOf(C);if(v>=0){let[b]=f.splice(v,1);b()}}},dispose(){for(let C of f.splice(0))C()},workQueue(){return rl(this,null,function*(){for(let C of d.splice(0))yield C()})}};return g}},32984:(G,s,e)=>{"use strict";e.d(s,{E:()=>o});function o(m,f,...d){if(m in f){let y=f[m];return typeof y=="function"?y(...d):y}let g=new Error(`Tried to handle "${m}" but there is no handler defined. Only defined handlers are: ${Object.keys(f).map(y=>`"${y}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,o),g}},81021:(G,s,e)=>{"use strict";e.d(s,{Y:()=>o});function o(m){typeof queueMicrotask=="function"?queueMicrotask(m):Promise.resolve().then(m).catch(f=>setTimeout(()=>{throw f}))}},12351:(G,s,e)=>{"use strict";e.d(s,{AN:()=>f,l4:()=>d,sY:()=>g,yV:()=>b});var o=e(98661),m=e(32984),f=(O=>(O[O.None=0]="None",O[O.RenderStrategy=1]="RenderStrategy",O[O.Static=2]="Static",O))(f||{}),d=(O=>(O[O.Unmount=0]="Unmount",O[O.Hidden=1]="Hidden",O))(d||{});function g({ourProps:O,theirProps:w,slot:_,defaultTag:a,features:l,visible:P=!0,name:S}){let M=v(w,O);if(P)return y(M,_,a,S);let R=l!=null?l:0;if(R&2){let N=M,{static:A=!1}=N,W=Yi(N,["static"]);if(A)return y(W,_,a,S)}if(R&1){let T=M,{unmount:A=!0}=T,W=Yi(T,["unmount"]);return(0,m.E)(A?0:1,{[0](){return null},[1](){return y(Wo(nr({},W),{hidden:!0,style:{display:"none"}}),_,a,S)}})}return y(M,_,a,S)}function y(O,w={},_,a){let A=E(O,["unmount","static"]),{as:l=_,children:P,refName:S="ref"}=A,M=Yi(A,["as","children","refName"]),R=O.ref!==void 0?{[S]:O.ref}:{},N=typeof P=="function"?P(w):P;M.className&&typeof M.className=="function"&&(M.className=M.className(w));let T={};if(w){let W=!1,j=[];for(let[Z,J]of Object.entries(w))typeof J=="boolean"&&(W=!0),J===!0&&j.push(Z);W&&(T["data-headlessui-state"]=j.join(" "))}if(l===o.Fragment&&Object.keys(x(M)).length>0){if(!(0,o.isValidElement)(N)||Array.isArray(N)&&N.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(M).map(W=>`  - ${W}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(W=>`  - ${W}`).join(`
`)].join(`
`));return(0,o.cloneElement)(N,Object.assign({},v(N.props,x(E(M,["ref"]))),T,R,C(N.ref,R.ref)))}return(0,o.createElement)(l,Object.assign({},E(M,["ref"]),l!==o.Fragment&&R,l!==o.Fragment&&T),N)}function C(...O){return{ref:O.every(w=>w==null)?void 0:w=>{for(let _ of O)_!=null&&(typeof _=="function"?_(w):_.current=w)}}}function v(...O){var w;if(O.length===0)return{};if(O.length===1)return O[0];let _={},a={};for(let l of O)for(let P in l)P.startsWith("on")&&typeof l[P]=="function"?((w=a[P])!=null||(a[P]=[]),a[P].push(l[P])):_[P]=l[P];if(_.disabled||_["aria-disabled"])return Object.assign(_,Object.fromEntries(Object.keys(a).map(l=>[l,void 0])));for(let l in a)Object.assign(_,{[l](P,...S){let M=a[l];for(let R of M){if((P instanceof Event||(P==null?void 0:P.nativeEvent)instanceof Event)&&P.defaultPrevented)return;R(P,...S)}}});return _}function b(O){var w;return Object.assign((0,o.forwardRef)(O),{displayName:(w=O.displayName)!=null?w:O.name})}function x(O){let w=Object.assign({},O);for(let _ in w)w[_]===void 0&&delete w[_];return w}function E(O,w=[]){let _=Object.assign({},O);for(let a of w)a in _&&delete _[a];return _}},43393:(G,s,e)=>{"use strict";e.d(s,{s:()=>o});const o=typeof window=="undefined"||typeof document=="undefined"},5865:(G,s,e)=>{"use strict";e.d(s,{AW:()=>uo,Cf:()=>Bi,DK:()=>et,DS:()=>So,EG:()=>Rn,Jo:()=>Oo,K9:()=>Ye,ML:()=>xi,NB:()=>Di,Ov:()=>Xe,P1:()=>a,QC:()=>Bo,S0:()=>ti,XP:()=>Lr,_4:()=>yo,b5:()=>co,hj:()=>fe,pr:()=>At,tI:()=>Yr,u9:()=>Go,vc:()=>li,xh:()=>an,zK:()=>di});var o=e(2376),m=e(84348),f=e(60440),d=e(87823),g=e(16560),y=e(25804),C=e(53833);function v(Se){const{state:_e,transaction:Pe}=Se;let{selection:$e}=Pe,{doc:mt}=Pe,{storedMarks:vt}=Pe;return Wo(nr({},_e),{apply:_e.apply.bind(_e),applyTransaction:_e.applyTransaction.bind(_e),filterTransaction:_e.filterTransaction,plugins:_e.plugins,schema:_e.schema,reconfigure:_e.reconfigure.bind(_e),toJSON:_e.toJSON.bind(_e),get storedMarks(){return vt},get selection(){return $e},get doc(){return mt},get tr(){return $e=Pe.selection,mt=Pe.doc,vt=Pe.storedMarks,Pe}})}class b{constructor(_e){this.editor=_e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=_e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:_e,editor:Pe,state:$e}=this,{view:mt}=Pe,{tr:vt}=$e,St=this.buildProps(vt);return Object.fromEntries(Object.entries(_e).map(([Mt,Ft])=>[Mt,(...un)=>{const tn=Ft(...un)(St);return!vt.getMeta("preventDispatch")&&!this.hasCustomState&&mt.dispatch(vt),tn}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(_e,Pe=!0){const{rawCommands:$e,editor:mt,state:vt}=this,{view:St}=mt,Mt=[],Ft=!!_e,Vt=_e||vt.tr,un=()=>(!Ft&&Pe&&!Vt.getMeta("preventDispatch")&&!this.hasCustomState&&St.dispatch(Vt),Mt.every(dn=>dn===!0)),tn=Wo(nr({},Object.fromEntries(Object.entries($e).map(([dn,xn])=>[dn,(...ur)=>{const tr=this.buildProps(Vt,Pe),Sn=xn(...ur)(tr);return Mt.push(Sn),tn}]))),{run:un});return tn}createCan(_e){const{rawCommands:Pe,state:$e}=this,mt=!1,vt=_e||$e.tr,St=this.buildProps(vt,mt),Mt=Object.fromEntries(Object.entries(Pe).map(([Ft,Vt])=>[Ft,(...un)=>Vt(...un)(Wo(nr({},St),{dispatch:void 0}))]));return Wo(nr({},Mt),{chain:()=>this.createChain(vt,mt)})}buildProps(_e,Pe=!0){const{rawCommands:$e,editor:mt,state:vt}=this,{view:St}=mt;vt.storedMarks&&_e.setStoredMarks(vt.storedMarks);const Mt={tr:_e,editor:mt,view:St,state:v({state:vt,transaction:_e}),dispatch:Pe?()=>{}:void 0,chain:()=>this.createChain(_e),can:()=>this.createCan(_e),get commands(){return Object.fromEntries(Object.entries($e).map(([Ft,Vt])=>[Ft,(...un)=>Vt(...un)(Mt)]))}};return Mt}}class x{constructor(){this.callbacks={}}on(_e,Pe){return this.callbacks[_e]||(this.callbacks[_e]=[]),this.callbacks[_e].push(Pe),this}emit(_e,...Pe){const $e=this.callbacks[_e];return $e&&$e.forEach(mt=>mt.apply(this,Pe)),this}off(_e,Pe){const $e=this.callbacks[_e];return $e&&(Pe?this.callbacks[_e]=$e.filter(mt=>mt!==Pe):delete this.callbacks[_e]),this}removeAllListeners(){this.callbacks={}}}function E(Se,_e,Pe){return Se.config[_e]===void 0&&Se.parent?E(Se.parent,_e,Pe):typeof Se.config[_e]=="function"?Se.config[_e].bind(Wo(nr({},Pe),{parent:Se.parent?E(Se.parent,_e,Pe):null})):Se.config[_e]}function O(Se){const _e=Se.filter(mt=>mt.type==="extension"),Pe=Se.filter(mt=>mt.type==="node"),$e=Se.filter(mt=>mt.type==="mark");return{baseExtensions:_e,nodeExtensions:Pe,markExtensions:$e}}function w(Se){const _e=[],{nodeExtensions:Pe,markExtensions:$e}=O(Se),mt=[...Pe,...$e],vt={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return Se.forEach(St=>{const Mt={name:St.name,options:St.options,storage:St.storage},Ft=E(St,"addGlobalAttributes",Mt);if(!Ft)return;Ft().forEach(un=>{un.types.forEach(tn=>{Object.entries(un.attributes).forEach(([dn,xn])=>{_e.push({type:tn,name:dn,attribute:nr(nr({},vt),xn)})})})})}),mt.forEach(St=>{const Mt={name:St.name,options:St.options,storage:St.storage},Ft=E(St,"addAttributes",Mt);if(!Ft)return;const Vt=Ft();Object.entries(Vt).forEach(([un,tn])=>{const dn=nr(nr({},vt),tn);typeof(dn==null?void 0:dn.default)=="function"&&(dn.default=dn.default()),dn!=null&&dn.isRequired&&(dn==null?void 0:dn.default)===void 0&&delete dn.default,_e.push({type:St.name,name:un,attribute:dn})})}),_e}function _(Se,_e){if(typeof Se=="string"){if(!_e.nodes[Se])throw Error(`There is no node type named '${Se}'. Maybe you forgot to add the extension?`);return _e.nodes[Se]}return Se}function a(...Se){return Se.filter(_e=>!!_e).reduce((_e,Pe)=>{const $e=nr({},_e);return Object.entries(Pe).forEach(([mt,vt])=>{if(!$e[mt]){$e[mt]=vt;return}mt==="class"?$e[mt]=[$e[mt],vt].join(" "):mt==="style"?$e[mt]=[$e[mt],vt].join("; "):$e[mt]=vt}),$e},{})}function l(Se,_e){return _e.filter(Pe=>Pe.attribute.rendered).map(Pe=>Pe.attribute.renderHTML?Pe.attribute.renderHTML(Se.attrs)||{}:{[Pe.name]:Se.attrs[Pe.name]}).reduce((Pe,$e)=>a(Pe,$e),{})}function P(Se){return typeof Se=="function"}function S(Se,_e=void 0,...Pe){return P(Se)?_e?Se.bind(_e)(...Pe):Se(...Pe):Se}function M(Se={}){return Object.keys(Se).length===0&&Se.constructor===Object}function R(Se){return typeof Se!="string"?Se:Se.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(Se):Se==="true"?!0:Se==="false"?!1:Se}function N(Se,_e){return Se.style?Se:Wo(nr({},Se),{getAttrs:Pe=>{const $e=Se.getAttrs?Se.getAttrs(Pe):Se.attrs;if($e===!1)return!1;const mt=_e.reduce((vt,St)=>{const Mt=St.attribute.parseHTML?St.attribute.parseHTML(Pe):R(Pe.getAttribute(St.name));return Mt==null?vt:Wo(nr({},vt),{[St.name]:Mt})},{});return nr(nr({},$e),mt)}})}function T(Se){return Object.fromEntries(Object.entries(Se).filter(([_e,Pe])=>_e==="attrs"&&M(Pe)?!1:Pe!=null))}function A(Se,_e){var Pe;const $e=w(Se),{nodeExtensions:mt,markExtensions:vt}=O(Se),St=(Pe=mt.find(Vt=>E(Vt,"topNode")))===null||Pe===void 0?void 0:Pe.name,Mt=Object.fromEntries(mt.map(Vt=>{const un=$e.filter(Sn=>Sn.type===Vt.name),tn={name:Vt.name,options:Vt.options,storage:Vt.storage,editor:_e},dn=Se.reduce((Sn,fr)=>{const rr=E(fr,"extendNodeSchema",tn);return nr(nr({},Sn),rr?rr(Vt):{})},{}),xn=T(Wo(nr({},dn),{content:S(E(Vt,"content",tn)),marks:S(E(Vt,"marks",tn)),group:S(E(Vt,"group",tn)),inline:S(E(Vt,"inline",tn)),atom:S(E(Vt,"atom",tn)),selectable:S(E(Vt,"selectable",tn)),draggable:S(E(Vt,"draggable",tn)),code:S(E(Vt,"code",tn)),defining:S(E(Vt,"defining",tn)),isolating:S(E(Vt,"isolating",tn)),attrs:Object.fromEntries(un.map(Sn=>{var fr;return[Sn.name,{default:(fr=Sn==null?void 0:Sn.attribute)===null||fr===void 0?void 0:fr.default}]}))})),Wn=S(E(Vt,"parseHTML",tn));Wn&&(xn.parseDOM=Wn.map(Sn=>N(Sn,un)));const ur=E(Vt,"renderHTML",tn);ur&&(xn.toDOM=Sn=>ur({node:Sn,HTMLAttributes:l(Sn,un)}));const tr=E(Vt,"renderText",tn);return tr&&(xn.toText=tr),[Vt.name,xn]})),Ft=Object.fromEntries(vt.map(Vt=>{const un=$e.filter(tr=>tr.type===Vt.name),tn={name:Vt.name,options:Vt.options,storage:Vt.storage,editor:_e},dn=Se.reduce((tr,Sn)=>{const fr=E(Sn,"extendMarkSchema",tn);return nr(nr({},tr),fr?fr(Vt):{})},{}),xn=T(Wo(nr({},dn),{inclusive:S(E(Vt,"inclusive",tn)),excludes:S(E(Vt,"excludes",tn)),group:S(E(Vt,"group",tn)),spanning:S(E(Vt,"spanning",tn)),code:S(E(Vt,"code",tn)),attrs:Object.fromEntries(un.map(tr=>{var Sn;return[tr.name,{default:(Sn=tr==null?void 0:tr.attribute)===null||Sn===void 0?void 0:Sn.default}]}))})),Wn=S(E(Vt,"parseHTML",tn));Wn&&(xn.parseDOM=Wn.map(tr=>N(tr,un)));const ur=E(Vt,"renderHTML",tn);return ur&&(xn.toDOM=tr=>ur({mark:tr,HTMLAttributes:l(tr,un)})),[Vt.name,xn]}));return new d.V_({topNode:St,nodes:Mt,marks:Ft})}function W(Se,_e){return _e.nodes[Se]||_e.marks[Se]||null}function j(Se,_e){return Array.isArray(_e)?_e.some(Pe=>(typeof Pe=="string"?Pe:Pe.name)===Se.name):_e}const Z=(Se,_e=500)=>{let Pe="";const $e=Se.parentOffset;return Se.parent.nodesBetween(Math.max(0,$e-_e),$e,(mt,vt,St,Mt)=>{var Ft,Vt;const un=((Vt=(Ft=mt.type.spec).toText)===null||Vt===void 0?void 0:Vt.call(Ft,{node:mt,pos:vt,parent:St,index:Mt}))||mt.textContent||"%leaf%";Pe+=un.slice(0,Math.max(0,$e-vt))}),Pe};function J(Se){return Object.prototype.toString.call(Se)==="[object RegExp]"}class Q{constructor(_e){this.find=_e.find,this.handler=_e.handler}}const ne=(Se,_e)=>{if(J(_e))return _e.exec(Se);const Pe=_e(Se);if(!Pe)return null;const $e=[Pe.text];return $e.index=Pe.index,$e.input=Se,$e.data=Pe.data,Pe.replaceWith&&(Pe.text.includes(Pe.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),$e.push(Pe.replaceWith)),$e};function te(Se){var _e;const{editor:Pe,from:$e,to:mt,text:vt,rules:St,plugin:Mt}=Se,{view:Ft}=Pe;if(Ft.composing)return!1;const Vt=Ft.state.doc.resolve($e);if(Vt.parent.type.spec.code||!((_e=Vt.nodeBefore||Vt.nodeAfter)===null||_e===void 0)&&_e.marks.find(dn=>dn.type.spec.code))return!1;let un=!1;const tn=Z(Vt)+vt;return St.forEach(dn=>{if(un)return;const xn=ne(tn,dn.find);if(!xn)return;const Wn=Ft.state.tr,ur=v({state:Ft.state,transaction:Wn}),tr={from:$e-(xn[0].length-vt.length),to:mt},{commands:Sn,chain:fr,can:rr}=new b({editor:Pe,state:ur});dn.handler({state:ur,range:tr,match:xn,commands:Sn,chain:fr,can:rr})===null||!Wn.steps.length||(Wn.setMeta(Mt,{transform:Wn,from:$e,to:mt,text:vt}),Ft.dispatch(Wn),un=!0)}),un}function B(Se){const{editor:_e,rules:Pe}=Se,$e=new o.Sy({state:{init(){return null},apply(mt,vt){const St=mt.getMeta($e);return St||(mt.selectionSet||mt.docChanged?null:vt)}},props:{handleTextInput(mt,vt,St,Mt){return te({editor:_e,from:vt,to:St,text:Mt,rules:Pe,plugin:$e})},handleDOMEvents:{compositionend:mt=>(setTimeout(()=>{const{$cursor:vt}=mt.state.selection;vt&&te({editor:_e,from:vt.pos,to:vt.pos,text:"",rules:Pe,plugin:$e})}),!1)},handleKeyDown(mt,vt){if(vt.key!=="Enter")return!1;const{$cursor:St}=mt.state.selection;return St?te({editor:_e,from:St.pos,to:St.pos,text:`
`,rules:Pe,plugin:$e}):!1}},isInputRules:!0});return $e}function V(Se){return typeof Se=="number"}class re{constructor(_e){this.find=_e.find,this.handler=_e.handler}}const le=(Se,_e)=>{if(J(_e))return[...Se.matchAll(_e)];const Pe=_e(Se);return Pe?Pe.map($e=>{const mt=[$e.text];return mt.index=$e.index,mt.input=Se,mt.data=$e.data,$e.replaceWith&&($e.text.includes($e.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),mt.push($e.replaceWith)),mt}):[]};function ae(Se){const{editor:_e,state:Pe,from:$e,to:mt,rule:vt}=Se,{commands:St,chain:Mt,can:Ft}=new b({editor:_e,state:Pe}),Vt=[];return Pe.doc.nodesBetween($e,mt,(tn,dn)=>{if(!tn.isTextblock||tn.type.spec.code)return;const xn=Math.max($e,dn),Wn=Math.min(mt,dn+tn.content.size),ur=tn.textBetween(xn-dn,Wn-dn,void 0,"\uFFFC");le(ur,vt.find).forEach(Sn=>{if(Sn.index===void 0)return;const fr=xn+Sn.index+1,rr=fr+Sn[0].length,wr={from:Pe.tr.mapping.map(fr),to:Pe.tr.mapping.map(rr)},Cr=vt.handler({state:Pe,range:wr,match:Sn,commands:St,chain:Mt,can:Ft});Vt.push(Cr)})}),Vt.every(tn=>tn!==null)}function q(Se){const{editor:_e,rules:Pe}=Se;let $e=null,mt=!1,vt=!1;return Pe.map(Mt=>new o.Sy({view(Ft){const Vt=un=>{var tn;$e=!((tn=Ft.dom.parentElement)===null||tn===void 0)&&tn.contains(un.target)?Ft.dom.parentElement:null};return window.addEventListener("dragstart",Vt),{destroy(){window.removeEventListener("dragstart",Vt)}}},props:{handleDOMEvents:{drop:Ft=>(vt=$e===Ft.dom.parentElement,!1),paste:(Ft,Vt)=>{var un;const tn=(un=Vt.clipboardData)===null||un===void 0?void 0:un.getData("text/html");return mt=!!(tn!=null&&tn.includes("data-pm-slice")),!1}}},appendTransaction:(Ft,Vt,un)=>{const tn=Ft[0],dn=tn.getMeta("uiEvent")==="paste"&&!mt,xn=tn.getMeta("uiEvent")==="drop"&&!vt;if(!dn&&!xn)return;const Wn=Vt.doc.content.findDiffStart(un.doc.content),ur=Vt.doc.content.findDiffEnd(un.doc.content);if(!V(Wn)||!ur||Wn===ur.b)return;const tr=un.tr,Sn=v({state:un,transaction:tr});if(!(!ae({editor:_e,state:Sn,from:Math.max(Wn-1,0),to:ur.b-1,rule:Mt})||!tr.steps.length))return tr}}))}function oe(Se){const _e=Se.filter((Pe,$e)=>Se.indexOf(Pe)!==$e);return[...new Set(_e)]}class z{constructor(_e,Pe){this.splittableMarks=[],this.editor=Pe,this.extensions=z.resolve(_e),this.schema=A(this.extensions,Pe),this.extensions.forEach($e=>{var mt;this.editor.extensionStorage[$e.name]=$e.storage;const vt={name:$e.name,options:$e.options,storage:$e.storage,editor:this.editor,type:W($e.name,this.schema)};$e.type==="mark"&&(!((mt=S(E($e,"keepOnSplit",vt)))!==null&&mt!==void 0)||mt)&&this.splittableMarks.push($e.name);const St=E($e,"onBeforeCreate",vt);St&&this.editor.on("beforeCreate",St);const Mt=E($e,"onCreate",vt);Mt&&this.editor.on("create",Mt);const Ft=E($e,"onUpdate",vt);Ft&&this.editor.on("update",Ft);const Vt=E($e,"onSelectionUpdate",vt);Vt&&this.editor.on("selectionUpdate",Vt);const un=E($e,"onTransaction",vt);un&&this.editor.on("transaction",un);const tn=E($e,"onFocus",vt);tn&&this.editor.on("focus",tn);const dn=E($e,"onBlur",vt);dn&&this.editor.on("blur",dn);const xn=E($e,"onDestroy",vt);xn&&this.editor.on("destroy",xn)})}static resolve(_e){const Pe=z.sort(z.flatten(_e)),$e=oe(Pe.map(mt=>mt.name));return $e.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${$e.map(mt=>`'${mt}'`).join(", ")}]. This can lead to issues.`),Pe}static flatten(_e){return _e.map(Pe=>{const $e={name:Pe.name,options:Pe.options,storage:Pe.storage},mt=E(Pe,"addExtensions",$e);return mt?[Pe,...this.flatten(mt())]:Pe}).flat(10)}static sort(_e){return _e.sort(($e,mt)=>{const vt=E($e,"priority")||100,St=E(mt,"priority")||100;return vt>St?-1:vt<St?1:0})}get commands(){return this.extensions.reduce((_e,Pe)=>{const $e={name:Pe.name,options:Pe.options,storage:Pe.storage,editor:this.editor,type:W(Pe.name,this.schema)},mt=E(Pe,"addCommands",$e);return mt?nr(nr({},_e),mt()):_e},{})}get plugins(){const{editor:_e}=this,Pe=z.sort([...this.extensions].reverse()),$e=[],mt=[],vt=Pe.map(St=>{const Mt={name:St.name,options:St.options,storage:St.storage,editor:_e,type:W(St.name,this.schema)},Ft=[],Vt=E(St,"addKeyboardShortcuts",Mt);let un={};if(St.type==="mark"&&St.config.exitable&&(un.ArrowRight=()=>li.handleExit({editor:_e,mark:St})),Vt){const ur=Object.fromEntries(Object.entries(Vt()).map(([tr,Sn])=>[tr,()=>Sn({editor:_e})]));un=nr(nr({},un),ur)}const tn=(0,f.h)(un);Ft.push(tn);const dn=E(St,"addInputRules",Mt);j(St,_e.options.enableInputRules)&&dn&&$e.push(...dn());const xn=E(St,"addPasteRules",Mt);j(St,_e.options.enablePasteRules)&&xn&&mt.push(...xn());const Wn=E(St,"addProseMirrorPlugins",Mt);if(Wn){const ur=Wn();Ft.push(...ur)}return Ft}).flat();return[B({editor:_e,rules:$e}),...q({editor:_e,rules:mt}),...vt]}get attributes(){return w(this.extensions)}get nodeViews(){const{editor:_e}=this,{nodeExtensions:Pe}=O(this.extensions);return Object.fromEntries(Pe.filter($e=>!!E($e,"addNodeView")).map($e=>{const mt=this.attributes.filter(Ft=>Ft.type===$e.name),vt={name:$e.name,options:$e.options,storage:$e.storage,editor:_e,type:_($e.name,this.schema)},St=E($e,"addNodeView",vt);if(!St)return[];const Mt=(Ft,Vt,un,tn)=>{const dn=l(Ft,mt);return St()({editor:_e,node:Ft,getPos:un,decorations:tn,HTMLAttributes:dn,extension:$e})};return[$e.name,Mt]}))}}function ie(Se){return Object.prototype.toString.call(Se).slice(8,-1)}function ue(Se){return ie(Se)!=="Object"?!1:Se.constructor===Object&&Object.getPrototypeOf(Se)===Object.prototype}function de(Se,_e){const Pe=nr({},Se);return ue(Se)&&ue(_e)&&Object.keys(_e).forEach($e=>{ue(_e[$e])?$e in Se?Pe[$e]=de(Se[$e],_e[$e]):Object.assign(Pe,{[$e]:_e[$e]}):Object.assign(Pe,{[$e]:_e[$e]})}),Pe}class fe{constructor(_e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=nr(nr({},this.config),_e),this.name=this.config.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=S(E(this,"addOptions",{name:this.name}))),this.storage=S(E(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(_e={}){return new fe(_e)}configure(_e={}){const Pe=this.extend();return Pe.options=de(this.options,_e),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}extend(_e={}){const Pe=new fe(_e);return Pe.parent=this,this.child=Pe,Pe.name=_e.name?_e.name:Pe.parent.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Pe.name}".`),Pe.options=S(E(Pe,"addOptions",{name:Pe.name})),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}}function ye(Se,_e,Pe){const{from:$e,to:mt}=_e,{blockSeparator:vt=`

`,textSerializers:St={}}=Pe||{};let Mt="",Ft=!0;return Se.nodesBetween($e,mt,(Vt,un,tn,dn)=>{var xn;const Wn=St==null?void 0:St[Vt.type.name];Wn?(Vt.isBlock&&!Ft&&(Mt+=vt,Ft=!0),tn&&(Mt+=Wn({node:Vt,pos:un,parent:tn,index:dn,range:_e}))):Vt.isText?(Mt+=(xn=Vt==null?void 0:Vt.text)===null||xn===void 0?void 0:xn.slice(Math.max($e,un)-un,mt-un),Ft=!1):Vt.isBlock&&!Ft&&(Mt+=vt,Ft=!0)}),Mt}function pe(Se){return Object.fromEntries(Object.entries(Se.nodes).filter(([,_e])=>_e.spec.toText).map(([_e,Pe])=>[_e,Pe.spec.toText]))}const we=fe.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:Se}=this,{state:_e,schema:Pe}=Se,{doc:$e,selection:mt}=_e,{ranges:vt}=mt,St=Math.min(...vt.map(un=>un.$from.pos)),Mt=Math.max(...vt.map(un=>un.$to.pos)),Ft=pe(Pe);return ye($e,{from:St,to:Mt},{textSerializers:Ft})}}})]}}),Me=()=>({editor:Se,view:_e})=>(requestAnimationFrame(()=>{var Pe;Se.isDestroyed||(_e.dom.blur(),(Pe=window==null?void 0:window.getSelection())===null||Pe===void 0||Pe.removeAllRanges())}),!0),je=(Se=!1)=>({commands:_e})=>_e.setContent("",Se),De=()=>({state:Se,tr:_e,dispatch:Pe})=>{const{selection:$e}=_e,{ranges:mt}=$e;return Pe&&mt.forEach(({$from:vt,$to:St})=>{Se.doc.nodesBetween(vt.pos,St.pos,(Mt,Ft)=>{if(Mt.type.isText)return;const{doc:Vt,mapping:un}=_e,tn=Vt.resolve(un.map(Ft)),dn=Vt.resolve(un.map(Ft+Mt.nodeSize)),xn=tn.blockRange(dn);if(!xn)return;const Wn=(0,g.k9)(xn);if(Mt.type.isTextblock){const{defaultType:ur}=tn.parent.contentMatchAt(tn.index());_e.setNodeMarkup(xn.start,ur)}(Wn||Wn===0)&&_e.lift(xn,Wn)})}),!0},me=Se=>_e=>Se(_e),ce=()=>({state:Se,dispatch:_e})=>(0,y.mD)(Se,_e),ge=()=>({tr:Se,dispatch:_e})=>{const{selection:Pe}=Se,$e=Pe.$anchor.node();if($e.content.size>0)return!1;const mt=Se.selection.$anchor;for(let vt=mt.depth;vt>0;vt-=1)if(mt.node(vt).type===$e.type){if(_e){const Mt=mt.before(vt),Ft=mt.after(vt);Se.delete(Mt,Ft).scrollIntoView()}return!0}return!1},Ie=Se=>({tr:_e,state:Pe,dispatch:$e})=>{const mt=_(Se,Pe.schema),vt=_e.selection.$anchor;for(let St=vt.depth;St>0;St-=1)if(vt.node(St).type===mt){if($e){const Ft=vt.before(St),Vt=vt.after(St);_e.delete(Ft,Vt).scrollIntoView()}return!0}return!1},Re=Se=>({tr:_e,dispatch:Pe})=>{const{from:$e,to:mt}=Se;return Pe&&_e.delete($e,mt),!0},Ke=()=>({state:Se,dispatch:_e})=>(0,y.NE)(Se,_e),ut=()=>({commands:Se})=>Se.keyboardShortcut("Enter"),_t=()=>({state:Se,dispatch:_e})=>(0,y.uo)(Se,_e);function ft(Se,_e,Pe={strict:!0}){const $e=Object.keys(_e);return $e.length?$e.every(mt=>Pe.strict?_e[mt]===Se[mt]:J(_e[mt])?_e[mt].test(Se[mt]):_e[mt]===Se[mt]):!0}function We(Se,_e,Pe={}){return Se.find($e=>$e.type===_e&&ft($e.attrs,Pe))}function Be(Se,_e,Pe={}){return!!We(Se,_e,Pe)}function lt(Se,_e,Pe={}){if(!Se||!_e)return;let $e=Se.parent.childAfter(Se.parentOffset);if(Se.parentOffset===$e.offset&&$e.offset!==0&&($e=Se.parent.childBefore(Se.parentOffset)),!$e.node)return;const mt=We([...$e.node.marks],_e,Pe);if(!mt)return;let vt=$e.index,St=Se.start()+$e.offset,Mt=vt+1,Ft=St+$e.node.nodeSize;for(We([...$e.node.marks],_e,Pe);vt>0&&mt.isInSet(Se.parent.child(vt-1).marks);)vt-=1,St-=Se.parent.child(vt).nodeSize;for(;Mt<Se.parent.childCount&&Be([...Se.parent.child(Mt).marks],_e,Pe);)Ft+=Se.parent.child(Mt).nodeSize,Mt+=1;return{from:St,to:Ft}}function Tt(Se,_e){if(typeof Se=="string"){if(!_e.marks[Se])throw Error(`There is no mark type named '${Se}'. Maybe you forgot to add the extension?`);return _e.marks[Se]}return Se}const xt=(Se,_e={})=>({tr:Pe,state:$e,dispatch:mt})=>{const vt=Tt(Se,$e.schema),{doc:St,selection:Mt}=Pe,{$from:Ft,from:Vt,to:un}=Mt;if(mt){const tn=lt(Ft,vt,_e);if(tn&&tn.from<=Vt&&tn.to>=un){const dn=o.Bs.create(St,tn.from,tn.to);Pe.setSelection(dn)}}return!0},Gt=Se=>_e=>{const Pe=typeof Se=="function"?Se(_e):Se;for(let $e=0;$e<Pe.length;$e+=1)if(Pe[$e](_e))return!0;return!1};function an(Se){return Se instanceof o.Bs}function yt(Se=0,_e=0,Pe=0){return Math.min(Math.max(Se,_e),Pe)}function ke(Se,_e=null){if(!_e)return null;const Pe=o.Y1.atStart(Se),$e=o.Y1.atEnd(Se);if(_e==="start"||_e===!0)return Pe;if(_e==="end")return $e;const mt=Pe.from,vt=$e.to;return _e==="all"?o.Bs.create(Se,yt(0,mt,vt),yt(Se.content.size,mt,vt)):o.Bs.create(Se,yt(_e,mt,vt),yt(_e,mt,vt))}function Ve(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Ne=(Se=null,_e={})=>({editor:Pe,view:$e,tr:mt,dispatch:vt})=>{_e=nr({scrollIntoView:!0},_e);const St=()=>{Ve()&&$e.dom.focus(),requestAnimationFrame(()=>{Pe.isDestroyed||($e.focus(),_e!=null&&_e.scrollIntoView&&Pe.commands.scrollIntoView())})};if($e.hasFocus()&&Se===null||Se===!1)return!0;if(vt&&Se===null&&!an(Pe.state.selection))return St(),!0;const Mt=ke(mt.doc,Se)||Pe.state.selection,Ft=Pe.state.selection.eq(Mt);return vt&&(Ft||mt.setSelection(Mt),Ft&&mt.storedMarks&&mt.setStoredMarks(mt.storedMarks),St()),!0},Fe=(Se,_e)=>Pe=>Se.every(($e,mt)=>_e($e,Wo(nr({},Pe),{index:mt}))),Ue=(Se,_e)=>({tr:Pe,commands:$e})=>$e.insertContentAt({from:Pe.selection.from,to:Pe.selection.to},Se,_e);function be(Se){const _e=`<body>${Se}</body>`;return new window.DOMParser().parseFromString(_e,"text/html").body}function Ge(Se,_e,Pe){if(Pe=nr({slice:!0,parseOptions:{}},Pe),typeof Se=="object"&&Se!==null)try{return Array.isArray(Se)&&Se.length>0?d.HY.fromArray(Se.map($e=>_e.nodeFromJSON($e))):_e.nodeFromJSON(Se)}catch($e){return console.warn("[tiptap warn]: Invalid content.","Passed value:",Se,"Error:",$e),Ge("",_e,Pe)}if(typeof Se=="string"){const $e=d.aw.fromSchema(_e);return Pe.slice?$e.parseSlice(be(Se),Pe.parseOptions).content:$e.parse(be(Se),Pe.parseOptions)}return Ge("",_e,Pe)}function nt(Se,_e,Pe){const $e=Se.steps.length-1;if($e<_e)return;const mt=Se.steps[$e];if(!(mt instanceof g.Pu||mt instanceof g.FC))return;const vt=Se.mapping.maps[$e];let St=0;vt.forEach((Mt,Ft,Vt,un)=>{St===0&&(St=un)}),Se.setSelection(o.Y1.near(Se.doc.resolve(St),Pe))}const Oe=Se=>Se.toString().startsWith("<"),K=(Se,_e,Pe)=>({tr:$e,dispatch:mt,editor:vt})=>{if(mt){Pe=nr({parseOptions:{},updateSelection:!0},Pe);const St=Ge(_e,vt.schema,{parseOptions:nr({preserveWhitespace:"full"},Pe.parseOptions)});if(St.toString()==="<>")return!0;let{from:Mt,to:Ft}=typeof Se=="number"?{from:Se,to:Se}:Se,Vt=!0,un=!0;if((Oe(St)?St:[St]).forEach(dn=>{dn.check(),Vt=Vt?dn.isText&&dn.marks.length===0:!1,un=un?dn.isBlock:!1}),Mt===Ft&&un){const{parent:dn}=$e.doc.resolve(Mt);dn.isTextblock&&!dn.type.spec.code&&!dn.childCount&&(Mt-=1,Ft+=1)}Vt?Array.isArray(_e)?$e.insertText(_e.map(dn=>dn.text||"").join(""),Mt,Ft):typeof _e=="object"&&_e&&_e.text?$e.insertText(_e.text,Mt,Ft):$e.insertText(_e,Mt,Ft):$e.replaceWith(Mt,Ft,St),Pe.updateSelection&&nt($e,$e.steps.length-1,-1)}return!0},Y=()=>({state:Se,dispatch:_e})=>(0,y.MI)(Se,_e),he=()=>({state:Se,dispatch:_e})=>(0,y.Ig)(Se,_e),Te=()=>({state:Se,dispatch:_e})=>(0,y.al)(Se,_e),He=()=>({state:Se,dispatch:_e})=>(0,y.Y_)(Se,_e);function Qe(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function ht(Se){const _e=Se.split(/-(?!$)/);let Pe=_e[_e.length-1];Pe==="Space"&&(Pe=" ");let $e,mt,vt,St;for(let Mt=0;Mt<_e.length-1;Mt+=1){const Ft=_e[Mt];if(/^(cmd|meta|m)$/i.test(Ft))St=!0;else if(/^a(lt)?$/i.test(Ft))$e=!0;else if(/^(c|ctrl|control)$/i.test(Ft))mt=!0;else if(/^s(hift)?$/i.test(Ft))vt=!0;else if(/^mod$/i.test(Ft))Ve()||Qe()?St=!0:mt=!0;else throw new Error(`Unrecognized modifier name: ${Ft}`)}return $e&&(Pe=`Alt-${Pe}`),mt&&(Pe=`Ctrl-${Pe}`),St&&(Pe=`Meta-${Pe}`),vt&&(Pe=`Shift-${Pe}`),Pe}const ct=Se=>({editor:_e,view:Pe,tr:$e,dispatch:mt})=>{const vt=ht(Se).split(/-(?!$)/),St=vt.find(Vt=>!["Alt","Ctrl","Meta","Shift"].includes(Vt)),Mt=new KeyboardEvent("keydown",{key:St==="Space"?" ":St,altKey:vt.includes("Alt"),ctrlKey:vt.includes("Ctrl"),metaKey:vt.includes("Meta"),shiftKey:vt.includes("Shift"),bubbles:!0,cancelable:!0}),Ft=_e.captureTransaction(()=>{Pe.someProp("handleKeyDown",Vt=>Vt(Pe,Mt))});return Ft==null||Ft.steps.forEach(Vt=>{const un=Vt.map($e.mapping);un&&mt&&$e.maybeStep(un)}),!0};function Pt(Se,_e,Pe={}){const{from:$e,to:mt,empty:vt}=Se.selection,St=_e?_(_e,Se.schema):null,Mt=[];Se.doc.nodesBetween($e,mt,(tn,dn)=>{if(tn.isText)return;const xn=Math.max($e,dn),Wn=Math.min(mt,dn+tn.nodeSize);Mt.push({node:tn,from:xn,to:Wn})});const Ft=mt-$e,Vt=Mt.filter(tn=>St?St.name===tn.node.type.name:!0).filter(tn=>ft(tn.node.attrs,Pe,{strict:!1}));return vt?!!Vt.length:Vt.reduce((tn,dn)=>tn+dn.to-dn.from,0)>=Ft}const Nt=(Se,_e={})=>({state:Pe,dispatch:$e})=>{const mt=_(Se,Pe.schema);return Pt(Pe,mt,_e)?(0,y.xb)(Pe,$e):!1},sn=()=>({state:Se,dispatch:_e})=>(0,y.X0)(Se,_e),Et=Se=>({state:_e,dispatch:Pe})=>{const $e=_(Se,_e.schema);return(0,C.IB)($e)(_e,Pe)},Ot=()=>({state:Se,dispatch:_e})=>(0,y.QK)(Se,_e);function at(Se,_e){return _e.nodes[Se]?"node":_e.marks[Se]?"mark":null}function Ht(Se,_e){const Pe=typeof _e=="string"?[_e]:_e;return Object.keys(Se).reduce(($e,mt)=>(Pe.includes(mt)||($e[mt]=Se[mt]),$e),{})}const zt=(Se,_e)=>({tr:Pe,state:$e,dispatch:mt})=>{let vt=null,St=null;const Mt=at(typeof Se=="string"?Se:Se.name,$e.schema);return Mt?(Mt==="node"&&(vt=_(Se,$e.schema)),Mt==="mark"&&(St=Tt(Se,$e.schema)),mt&&Pe.selection.ranges.forEach(Ft=>{$e.doc.nodesBetween(Ft.$from.pos,Ft.$to.pos,(Vt,un)=>{vt&&vt===Vt.type&&Pe.setNodeMarkup(un,void 0,Ht(Vt.attrs,_e)),St&&Vt.marks.length&&Vt.marks.forEach(tn=>{St===tn.type&&Pe.addMark(un,un+Vt.nodeSize,St.create(Ht(tn.attrs,_e)))})})}),!0):!1},on=()=>({tr:Se,dispatch:_e})=>(_e&&Se.scrollIntoView(),!0),hn=()=>({tr:Se,commands:_e})=>_e.setTextSelection({from:0,to:Se.doc.content.size}),gn=()=>({state:Se,dispatch:_e})=>(0,y._M)(Se,_e),bn=()=>({state:Se,dispatch:_e})=>(0,y.o)(Se,_e),Un=()=>({state:Se,dispatch:_e})=>(0,y.N0)(Se,_e),qn=()=>({state:Se,dispatch:_e})=>(0,y.nw)(Se,_e),cr=()=>({state:Se,dispatch:_e})=>(0,y.U9)(Se,_e);function hr(Se,_e,Pe={}){return Ge(Se,_e,{slice:!1,parseOptions:Pe})}const pr=(Se,_e=!1,Pe={})=>({tr:$e,editor:mt,dispatch:vt})=>{const{doc:St}=$e,Mt=hr(Se,mt.schema,Pe);return vt&&$e.replaceWith(0,St.content.size,Mt).setMeta("preventUpdate",!_e),!0};function Lr(Se,_e){const Pe=new g.wx(Se);return _e.forEach($e=>{$e.steps.forEach(mt=>{Pe.step(mt)})}),Pe}function oo(Se){for(let _e=0;_e<Se.edgeCount;_e+=1){const{type:Pe}=Se.edge(_e);if(Pe.isTextblock&&!Pe.hasRequiredAttrs())return Pe}return null}function Kr(Se,_e){const Pe=[];return Se.descendants(($e,mt)=>{_e($e)&&Pe.push({node:$e,pos:mt})}),Pe}function co(Se,_e,Pe){const $e=[];return Se.nodesBetween(_e.from,_e.to,(mt,vt)=>{Pe(mt)&&$e.push({node:mt,pos:vt})}),$e}function lo(Se,_e){for(let Pe=Se.depth;Pe>0;Pe-=1){const $e=Se.node(Pe);if(_e($e))return{pos:Pe>0?Se.before(Pe):0,start:Se.start(Pe),depth:Pe,node:$e}}}function dr(Se){return _e=>lo(_e.$from,Se)}function Nr(Se,_e){const Pe=d.PW.fromSchema(_e).serializeFragment(Se),mt=document.implementation.createHTMLDocument().createElement("div");return mt.appendChild(Pe),mt.innerHTML}function Hr(Se,_e){const Pe=z.resolve(Se);return A(Pe,_e)}function Ur(Se,_e){const Pe=Hr(_e),$e=Node$1.fromJSON(Pe,Se);return Nr($e.content,Pe)}function uo(Se,_e){const Pe=Hr(_e),$e=be(Se);return d.aw.fromSchema(Pe).parse($e).toJSON()}function mo(Se,_e){const Pe={from:0,to:Se.content.size};return ye(Se,Pe,_e)}function yo(Se,_e,Pe){const{blockSeparator:$e=`

`,textSerializers:mt={}}=Pe||{},vt=Hr(_e),St=d.NB.fromJSON(vt,Se);return mo(St,{blockSeparator:$e,textSerializers:nr(nr({},pe(vt)),mt)})}function Oo(Se,_e){const Pe=Tt(_e,Se.schema),{from:$e,to:mt,empty:vt}=Se.selection,St=[];vt?(Se.storedMarks&&St.push(...Se.storedMarks),St.push(...Se.selection.$head.marks())):Se.doc.nodesBetween($e,mt,Ft=>{St.push(...Ft.marks)});const Mt=St.find(Ft=>Ft.type.name===Pe.name);return Mt?nr({},Mt.attrs):{}}function Xo(Se,_e){const Pe=_(_e,Se.schema),{from:$e,to:mt}=Se.selection,vt=[];Se.doc.nodesBetween($e,mt,Mt=>{vt.push(Mt)});const St=vt.reverse().find(Mt=>Mt.type.name===Pe.name);return St?nr({},St.attrs):{}}function Go(Se,_e){const Pe=at(typeof _e=="string"?_e:_e.name,Se.schema);return Pe==="node"?Xo(Se,_e):Pe==="mark"?Oo(Se,_e):{}}function Mo(Se,_e=JSON.stringify){const Pe={};return Se.filter($e=>{const mt=_e($e);return Object.prototype.hasOwnProperty.call(Pe,mt)?!1:Pe[mt]=!0})}function Lo(Se){const _e=Mo(Se);return _e.length===1?_e:_e.filter((Pe,$e)=>!_e.filter((vt,St)=>St!==$e).some(vt=>Pe.oldRange.from>=vt.oldRange.from&&Pe.oldRange.to<=vt.oldRange.to&&Pe.newRange.from>=vt.newRange.from&&Pe.newRange.to<=vt.newRange.to))}function Bo(Se){const{mapping:_e,steps:Pe}=Se,$e=[];return _e.maps.forEach((mt,vt)=>{const St=[];if(mt.ranges.length)mt.forEach((Mt,Ft)=>{St.push({from:Mt,to:Ft})});else{const{from:Mt,to:Ft}=Pe[vt];if(Mt===void 0||Ft===void 0)return;St.push({from:Mt,to:Ft})}St.forEach(({from:Mt,to:Ft})=>{const Vt=_e.slice(vt).map(Mt,-1),un=_e.slice(vt).map(Ft),tn=_e.invert().map(Vt,-1),dn=_e.invert().map(un);$e.push({oldRange:{from:tn,to:dn},newRange:{from:Vt,to:un}})})}),Lo($e)}function Qr(Se,_e=0){const $e=Se.type===Se.type.schema.topNodeType?0:1,mt=_e,vt=mt+Se.nodeSize,St=Se.marks.map(Vt=>{const un={type:Vt.type.name};return Object.keys(Vt.attrs).length&&(un.attrs=nr({},Vt.attrs)),un}),Mt=nr({},Se.attrs),Ft={type:Se.type.name,from:mt,to:vt};return Object.keys(Mt).length&&(Ft.attrs=Mt),St.length&&(Ft.marks=St),Se.content.childCount&&(Ft.content=[],Se.forEach((Vt,un)=>{var tn;(tn=Ft.content)===null||tn===void 0||tn.push(Qr(Vt,_e+un+$e))})),Se.text&&(Ft.text=Se.text),Ft}function Yr(Se,_e,Pe){const $e=[];return Se===_e?Pe.resolve(Se).marks().forEach(mt=>{const vt=Pe.resolve(Se-1),St=lt(vt,mt.type);St&&$e.push(nr({mark:mt},St))}):Pe.nodesBetween(Se,_e,(mt,vt)=>{$e.push(...mt.marks.map(St=>({from:vt,to:vt+mt.nodeSize,mark:St})))}),$e}function $r(Se,_e,Pe){return Object.fromEntries(Object.entries(Pe).filter(([$e])=>{const mt=Se.find(vt=>vt.type===_e&&vt.name===$e);return mt?mt.attribute.keepOnSplit:!1}))}function xr(Se,_e,Pe={}){const{empty:$e,ranges:mt}=Se.selection,vt=_e?Tt(_e,Se.schema):null;if($e)return!!(Se.storedMarks||Se.selection.$from.marks()).filter(tn=>vt?vt.name===tn.type.name:!0).find(tn=>ft(tn.attrs,Pe,{strict:!1}));let St=0;const Mt=[];if(mt.forEach(({$from:tn,$to:dn})=>{const xn=tn.pos,Wn=dn.pos;Se.doc.nodesBetween(xn,Wn,(ur,tr)=>{if(!ur.isText&&!ur.marks.length)return;const Sn=Math.max(xn,tr),fr=Math.min(Wn,tr+ur.nodeSize),rr=fr-Sn;St+=rr,Mt.push(...ur.marks.map(wr=>({mark:wr,from:Sn,to:fr})))})}),St===0)return!1;const Ft=Mt.filter(tn=>vt?vt.name===tn.mark.type.name:!0).filter(tn=>ft(tn.mark.attrs,Pe,{strict:!1})).reduce((tn,dn)=>tn+dn.to-dn.from,0),Vt=Mt.filter(tn=>vt?tn.mark.type!==vt&&tn.mark.type.excludes(vt):!0).reduce((tn,dn)=>tn+dn.to-dn.from,0);return(Ft>0?Ft+Vt:Ft)>=St}function $t(Se,_e,Pe={}){if(!_e)return Pt(Se,null,Pe)||xr(Se,null,Pe);const $e=at(_e,Se.schema);return $e==="node"?Pt(Se,_e,Pe):$e==="mark"?xr(Se,_e,Pe):!1}function en(Se,_e){const{nodeExtensions:Pe}=O(_e),$e=Pe.find(St=>St.name===Se);if(!$e)return!1;const mt={name:$e.name,options:$e.options,storage:$e.storage},vt=S(E($e,"group",mt));return typeof vt!="string"?!1:vt.split(" ").includes("list")}function nn(Se){var _e;const Pe=(_e=Se.type.createAndFill())===null||_e===void 0?void 0:_e.toJSON(),$e=Se.toJSON();return JSON.stringify(Pe)===JSON.stringify($e)}function Rn(Se){return Se instanceof o.qv}function At(Se,_e,Pe){const mt=Se.state.doc.content.size,vt=yt(_e,0,mt),St=yt(Pe,0,mt),Mt=Se.coordsAtPos(vt),Ft=Se.coordsAtPos(St,-1),Vt=Math.min(Mt.top,Ft.top),un=Math.max(Mt.bottom,Ft.bottom),tn=Math.min(Mt.left,Ft.left),dn=Math.max(Mt.right,Ft.right),xn=dn-tn,Wn=un-Vt,Sn={top:Vt,bottom:un,left:tn,right:dn,width:xn,height:Wn,x:tn,y:Vt};return Wo(nr({},Sn),{toJSON:()=>Sn})}function Yt(Se,_e,Pe){var $e;const{selection:mt}=_e;let vt=null;if(an(mt)&&(vt=mt.$cursor),vt){const Mt=($e=Se.storedMarks)!==null&&$e!==void 0?$e:vt.marks();return!!Pe.isInSet(Mt)||!Mt.some(Ft=>Ft.type.excludes(Pe))}const{ranges:St}=mt;return St.some(({$from:Mt,$to:Ft})=>{let Vt=Mt.depth===0?Se.doc.inlineContent&&Se.doc.type.allowsMarkType(Pe):!1;return Se.doc.nodesBetween(Mt.pos,Ft.pos,(un,tn,dn)=>{if(Vt)return!1;if(un.isInline){const xn=!dn||dn.type.allowsMarkType(Pe),Wn=!!Pe.isInSet(un.marks)||!un.marks.some(ur=>ur.type.excludes(Pe));Vt=xn&&Wn}return!Vt}),Vt})}const Wt=(Se,_e={})=>({tr:Pe,state:$e,dispatch:mt})=>{const{selection:vt}=Pe,{empty:St,ranges:Mt}=vt,Ft=Tt(Se,$e.schema);if(mt)if(St){const Vt=Oo($e,Ft);Pe.addStoredMark(Ft.create(nr(nr({},Vt),_e)))}else Mt.forEach(Vt=>{const un=Vt.$from.pos,tn=Vt.$to.pos;$e.doc.nodesBetween(un,tn,(dn,xn)=>{const Wn=Math.max(xn,un),ur=Math.min(xn+dn.nodeSize,tn);dn.marks.find(Sn=>Sn.type===Ft)?dn.marks.forEach(Sn=>{Ft===Sn.type&&Pe.addMark(Wn,ur,Ft.create(nr(nr({},Sn.attrs),_e)))}):Pe.addMark(Wn,ur,Ft.create(_e))})});return Yt($e,Pe,Ft)},rn=(Se,_e)=>({tr:Pe})=>(Pe.setMeta(Se,_e),!0),vn=(Se,_e={})=>({state:Pe,dispatch:$e,chain:mt})=>{const vt=_(Se,Pe.schema);return vt.isTextblock?mt().command(({commands:St})=>(0,y.uJ)(vt,_e)(Pe)?!0:St.clearNodes()).command(({state:St})=>(0,y.uJ)(vt,_e)(St,$e)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},An=Se=>({tr:_e,dispatch:Pe})=>{if(Pe){const{doc:$e}=_e,mt=yt(Se,0,$e.content.size),vt=o.qv.create($e,mt);_e.setSelection(vt)}return!0},zn=Se=>({tr:_e,dispatch:Pe})=>{if(Pe){const{doc:$e}=_e,{from:mt,to:vt}=typeof Se=="number"?{from:Se,to:Se}:Se,St=o.Bs.atStart($e).from,Mt=o.Bs.atEnd($e).to,Ft=yt(mt,St,Mt),Vt=yt(vt,St,Mt),un=o.Bs.create($e,Ft,Vt);_e.setSelection(un)}return!0},er=Se=>({state:_e,dispatch:Pe})=>{const $e=_(Se,_e.schema);return(0,C.bw)($e)(_e,Pe)};function Jn(Se,_e){const Pe=Se.storedMarks||Se.selection.$to.parentOffset&&Se.selection.$from.marks();if(Pe){const $e=Pe.filter(mt=>_e==null?void 0:_e.includes(mt.type.name));Se.tr.ensureMarks($e)}}const Nn=({keepMarks:Se=!0}={})=>({tr:_e,state:Pe,dispatch:$e,editor:mt})=>{const{selection:vt,doc:St}=_e,{$from:Mt,$to:Ft}=vt,Vt=mt.extensionManager.attributes,un=$r(Vt,Mt.node().type.name,Mt.node().attrs);if(vt instanceof o.qv&&vt.node.isBlock)return!Mt.parentOffset||!(0,g.Ax)(St,Mt.pos)?!1:($e&&(Se&&Jn(Pe,mt.extensionManager.splittableMarks),_e.split(Mt.pos).scrollIntoView()),!0);if(!Mt.parent.isBlock)return!1;if($e){const tn=Ft.parentOffset===Ft.parent.content.size;vt instanceof o.Bs&&_e.deleteSelection();const dn=Mt.depth===0?void 0:oo(Mt.node(-1).contentMatchAt(Mt.indexAfter(-1)));let xn=tn&&dn?[{type:dn,attrs:un}]:void 0,Wn=(0,g.Ax)(_e.doc,_e.mapping.map(Mt.pos),1,xn);if(!xn&&!Wn&&(0,g.Ax)(_e.doc,_e.mapping.map(Mt.pos),1,dn?[{type:dn}]:void 0)&&(Wn=!0,xn=dn?[{type:dn,attrs:un}]:void 0),Wn&&(_e.split(_e.mapping.map(Mt.pos),1,xn),dn&&!tn&&!Mt.parentOffset&&Mt.parent.type!==dn)){const ur=_e.mapping.map(Mt.before()),tr=_e.doc.resolve(ur);Mt.node(-1).canReplaceWith(tr.index(),tr.index()+1,dn)&&_e.setNodeMarkup(_e.mapping.map(Mt.before()),dn)}Se&&Jn(Pe,mt.extensionManager.splittableMarks),_e.scrollIntoView()}return!0},Pr=Se=>({tr:_e,state:Pe,dispatch:$e,editor:mt})=>{var vt;const St=_(Se,Pe.schema),{$from:Mt,$to:Ft}=Pe.selection,Vt=Pe.selection.node;if(Vt&&Vt.isBlock||Mt.depth<2||!Mt.sameParent(Ft))return!1;const un=Mt.node(-1);if(un.type!==St)return!1;const tn=mt.extensionManager.attributes;if(Mt.parent.content.size===0&&Mt.node(-1).childCount===Mt.indexAfter(-1)){if(Mt.depth===2||Mt.node(-3).type!==St||Mt.index(-2)!==Mt.node(-2).childCount-1)return!1;if($e){let tr=d.HY.empty;const Sn=Mt.index(-1)?1:Mt.index(-2)?2:3;for(let po=Mt.depth-Sn;po>=Mt.depth-3;po-=1)tr=d.HY.from(Mt.node(po).copy(tr));const fr=Mt.indexAfter(-1)<Mt.node(-2).childCount?1:Mt.indexAfter(-2)<Mt.node(-3).childCount?2:3,rr=$r(tn,Mt.node().type.name,Mt.node().attrs),wr=((vt=St.contentMatch.defaultType)===null||vt===void 0?void 0:vt.createAndFill(rr))||void 0;tr=tr.append(d.HY.from(St.createAndFill(null,wr)||void 0));const Cr=Mt.before(Mt.depth-(Sn-1));_e.replace(Cr,Mt.after(-fr),new d.p2(tr,4-Sn,0));let no=-1;_e.doc.nodesBetween(Cr,_e.doc.content.size,(po,kr)=>{if(no>-1)return!1;po.isTextblock&&po.content.size===0&&(no=kr+1)}),no>-1&&_e.setSelection(o.Bs.near(_e.doc.resolve(no))),_e.scrollIntoView()}return!0}const dn=Ft.pos===Mt.end()?un.contentMatchAt(0).defaultType:null,xn=$r(tn,un.type.name,un.attrs),Wn=$r(tn,Mt.node().type.name,Mt.node().attrs);_e.delete(Mt.pos,Ft.pos);const ur=dn?[{type:St,attrs:xn},{type:dn,attrs:Wn}]:[{type:St,attrs:xn}];if(!(0,g.Ax)(_e.doc,Mt.pos,2))return!1;if($e){const{selection:tr,storedMarks:Sn}=Pe,{splittableMarks:fr}=mt.extensionManager,rr=Sn||tr.$to.parentOffset&&tr.$from.marks();if(_e.split(Mt.pos,2,ur).scrollIntoView(),!rr||!$e)return!0;const wr=rr.filter(Cr=>fr.includes(Cr.type.name));_e.ensureMarks(wr)}return!0},Er=(Se,_e)=>{const Pe=dr(St=>St.type===_e)(Se.selection);if(!Pe)return!0;const $e=Se.doc.resolve(Math.max(0,Pe.pos-1)).before(Pe.depth);if($e===void 0)return!0;const mt=Se.doc.nodeAt($e);return Pe.node.type===(mt==null?void 0:mt.type)&&(0,g.Mn)(Se.doc,Pe.pos)&&Se.join(Pe.pos),!0},yr=(Se,_e)=>{const Pe=dr(St=>St.type===_e)(Se.selection);if(!Pe)return!0;const $e=Se.doc.resolve(Pe.start).after(Pe.depth);if($e===void 0)return!0;const mt=Se.doc.nodeAt($e);return Pe.node.type===(mt==null?void 0:mt.type)&&(0,g.Mn)(Se.doc,$e)&&Se.join($e),!0};var bo=Object.freeze({__proto__:null,blur:Me,clearContent:je,clearNodes:De,command:me,createParagraphNear:ce,deleteCurrentNode:ge,deleteNode:Ie,deleteRange:Re,deleteSelection:Ke,enter:ut,exitCode:_t,extendMarkRange:xt,first:Gt,focus:Ne,forEach:Fe,insertContent:Ue,insertContentAt:K,joinUp:Y,joinDown:he,joinBackward:Te,joinForward:He,keyboardShortcut:ct,lift:Nt,liftEmptyBlock:sn,liftListItem:Et,newlineInCode:Ot,resetAttributes:zt,scrollIntoView:on,selectAll:hn,selectNodeBackward:gn,selectNodeForward:bn,selectParentNode:Un,selectTextblockEnd:qn,selectTextblockStart:cr,setContent:pr,setMark:Wt,setMeta:rn,setNode:vn,setNodeSelection:An,setTextSelection:zn,sinkListItem:er,splitBlock:Nn,splitListItem:Pr,toggleList:(Se,_e,Pe,$e={})=>({editor:mt,tr:vt,state:St,dispatch:Mt,chain:Ft,commands:Vt,can:un})=>{const{extensions:tn,splittableMarks:dn}=mt.extensionManager,xn=_(Se,St.schema),Wn=_(_e,St.schema),{selection:ur,storedMarks:tr}=St,{$from:Sn,$to:fr}=ur,rr=Sn.blockRange(fr),wr=tr||ur.$to.parentOffset&&ur.$from.marks();if(!rr)return!1;const Cr=dr(no=>en(no.type.name,tn))(ur);if(rr.depth>=1&&Cr&&rr.depth-Cr.depth<=1){if(Cr.node.type===xn)return Vt.liftListItem(Wn);if(en(Cr.node.type.name,tn)&&xn.validContent(Cr.node.content)&&Mt)return Ft().command(()=>(vt.setNodeMarkup(Cr.pos,xn),!0)).command(()=>Er(vt,xn)).command(()=>yr(vt,xn)).run()}return!Pe||!wr||!Mt?Ft().command(()=>un().wrapInList(xn,$e)?!0:Vt.clearNodes()).wrapInList(xn,$e).command(()=>Er(vt,xn)).command(()=>yr(vt,xn)).run():Ft().command(()=>{const no=un().wrapInList(xn,$e),po=wr.filter(kr=>dn.includes(kr.type.name));return vt.ensureMarks(po),no?!0:Vt.clearNodes()}).wrapInList(xn,$e).command(()=>Er(vt,xn)).command(()=>yr(vt,xn)).run()},toggleMark:(Se,_e={},Pe={})=>({state:$e,commands:mt})=>{const{extendEmptyMarkRange:vt=!1}=Pe,St=Tt(Se,$e.schema);return xr($e,St,_e)?mt.unsetMark(St,{extendEmptyMarkRange:vt}):mt.setMark(St,_e)},toggleNode:(Se,_e,Pe={})=>({state:$e,commands:mt})=>{const vt=_(Se,$e.schema),St=_(_e,$e.schema);return Pt($e,vt,Pe)?mt.setNode(St):mt.setNode(vt,Pe)},toggleWrap:(Se,_e={})=>({state:Pe,commands:$e})=>{const mt=_(Se,Pe.schema);return Pt(Pe,mt,_e)?$e.lift(mt):$e.wrapIn(mt,_e)},undoInputRule:()=>({state:Se,dispatch:_e})=>{const Pe=Se.plugins;for(let $e=0;$e<Pe.length;$e+=1){const mt=Pe[$e];let vt;if(mt.spec.isInputRules&&(vt=mt.getState(Se))){if(_e){const St=Se.tr,Mt=vt.transform;for(let Ft=Mt.steps.length-1;Ft>=0;Ft-=1)St.step(Mt.steps[Ft].invert(Mt.docs[Ft]));if(vt.text){const Ft=St.doc.resolve(vt.from).marks();St.replaceWith(vt.from,vt.to,Se.schema.text(vt.text,Ft))}else St.delete(vt.from,vt.to)}return!0}}return!1},unsetAllMarks:()=>({tr:Se,dispatch:_e})=>{const{selection:Pe}=Se,{empty:$e,ranges:mt}=Pe;return $e||_e&&mt.forEach(vt=>{Se.removeMark(vt.$from.pos,vt.$to.pos)}),!0},unsetMark:(Se,_e={})=>({tr:Pe,state:$e,dispatch:mt})=>{var vt;const{extendEmptyMarkRange:St=!1}=_e,{selection:Mt}=Pe,Ft=Tt(Se,$e.schema),{$from:Vt,empty:un,ranges:tn}=Mt;if(!mt)return!0;if(un&&St){let{from:dn,to:xn}=Mt;const Wn=(vt=Vt.marks().find(tr=>tr.type===Ft))===null||vt===void 0?void 0:vt.attrs,ur=lt(Vt,Ft,Wn);ur&&(dn=ur.from,xn=ur.to),Pe.removeMark(dn,xn,Ft)}else tn.forEach(dn=>{Pe.removeMark(dn.$from.pos,dn.$to.pos,Ft)});return Pe.removeStoredMark(Ft),!0},updateAttributes:(Se,_e={})=>({tr:Pe,state:$e,dispatch:mt})=>{let vt=null,St=null;const Mt=at(typeof Se=="string"?Se:Se.name,$e.schema);return Mt?(Mt==="node"&&(vt=_(Se,$e.schema)),Mt==="mark"&&(St=Tt(Se,$e.schema)),mt&&Pe.selection.ranges.forEach(Ft=>{const Vt=Ft.$from.pos,un=Ft.$to.pos;$e.doc.nodesBetween(Vt,un,(tn,dn)=>{vt&&vt===tn.type&&Pe.setNodeMarkup(dn,void 0,nr(nr({},tn.attrs),_e)),St&&tn.marks.length&&tn.marks.forEach(xn=>{if(St===xn.type){const Wn=Math.max(dn,Vt),ur=Math.min(dn+tn.nodeSize,un);Pe.addMark(Wn,ur,St.create(nr(nr({},xn.attrs),_e)))}})})}),!0):!1},wrapIn:(Se,_e={})=>({state:Pe,dispatch:$e})=>{const mt=_(Se,Pe.schema);return(0,y.ym)(mt,_e)(Pe,$e)},wrapInList:(Se,_e={})=>({state:Pe,dispatch:$e})=>{const mt=_(Se,Pe.schema);return(0,C.KI)(mt,_e)(Pe,$e)}});const _i=fe.create({name:"commands",addCommands(){return nr({},bo)}}),si=fe.create({name:"editable",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),oi=fe.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:Se}=this;return[new o.Sy({key:new o.H$("focusEvents"),props:{handleDOMEvents:{focus:(_e,Pe)=>{Se.isFocused=!0;const $e=Se.state.tr.setMeta("focus",{event:Pe}).setMeta("addToHistory",!1);return _e.dispatch($e),!1},blur:(_e,Pe)=>{Se.isFocused=!1;const $e=Se.state.tr.setMeta("blur",{event:Pe}).setMeta("addToHistory",!1);return _e.dispatch($e),!1}}}})]}}),ci=fe.create({name:"keymap",addKeyboardShortcuts(){const Se=()=>this.editor.commands.first(({commands:St})=>[()=>St.undoInputRule(),()=>St.command(({tr:Mt})=>{const{selection:Ft,doc:Vt}=Mt,{empty:un,$anchor:tn}=Ft,{pos:dn,parent:xn}=tn,Wn=o.Y1.atStart(Vt).from===dn;return!un||!Wn||!xn.type.isTextblock||xn.textContent.length?!1:St.clearNodes()}),()=>St.deleteSelection(),()=>St.joinBackward(),()=>St.selectNodeBackward()]),_e=()=>this.editor.commands.first(({commands:St})=>[()=>St.deleteSelection(),()=>St.deleteCurrentNode(),()=>St.joinForward(),()=>St.selectNodeForward()]),$e={Enter:()=>this.editor.commands.first(({commands:St})=>[()=>St.newlineInCode(),()=>St.createParagraphNear(),()=>St.liftEmptyBlock(),()=>St.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:Se,"Mod-Backspace":Se,"Shift-Backspace":Se,Delete:_e,"Mod-Delete":_e,"Mod-a":()=>this.editor.commands.selectAll()},mt=nr({},$e),vt=Wo(nr({},$e),{"Ctrl-h":Se,"Alt-Backspace":Se,"Ctrl-d":_e,"Ctrl-Alt-Backspace":_e,"Alt-Delete":_e,"Alt-d":_e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return Ve()||Qe()?vt:mt},addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clearDocument"),appendTransaction:(Se,_e,Pe)=>{if(!(Se.some(Wn=>Wn.docChanged)&&!_e.doc.eq(Pe.doc)))return;const{empty:mt,from:vt,to:St}=_e.selection,Mt=o.Y1.atStart(_e.doc).from,Ft=o.Y1.atEnd(_e.doc).to;if(mt||!(vt===Mt&&St===Ft)||!(Pe.doc.textBetween(0,Pe.doc.content.size," "," ").length===0))return;const tn=Pe.tr,dn=v({state:Pe,transaction:tn}),{commands:xn}=new b({editor:this.editor,state:dn});if(xn.clearNodes(),!!tn.steps.length)return tn}})]}}),gi=fe.create({name:"tabindex",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var vi=Object.freeze({__proto__:null,ClipboardTextSerializer:we,Commands:_i,Editable:si,FocusEvents:oi,Keymap:ci,Tabindex:gi});const oa=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function _o(Se,_e){const Pe=document.querySelector("style[data-tiptap-style]");if(Pe!==null)return Pe;const $e=document.createElement("style");return _e&&$e.setAttribute("nonce",_e),$e.setAttribute("data-tiptap-style",""),$e.innerHTML=Se,document.getElementsByTagName("head")[0].appendChild($e),$e}class xi extends x{constructor(_e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(_e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=_o(oa,this.options.injectNonce))}setOptions(_e={}){this.options=nr(nr({},this.options),_e),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(_e,Pe=!0){this.setOptions({editable:_e}),Pe&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(_e,Pe){const $e=P(Pe)?Pe(_e,[...this.state.plugins]):[...this.state.plugins,_e],mt=this.state.reconfigure({plugins:$e});this.view.updateState(mt)}unregisterPlugin(_e){if(this.isDestroyed)return;const Pe=typeof _e=="string"?`${_e}$`:_e.key,$e=this.state.reconfigure({plugins:this.state.plugins.filter(mt=>!mt.key.startsWith(Pe))});this.view.updateState($e)}createExtensionManager(){const Pe=[...this.options.enableCoreExtensions?Object.values(vi):[],...this.options.extensions].filter($e=>["extension","node","mark"].includes($e==null?void 0:$e.type));this.extensionManager=new z(Pe,this)}createCommandManager(){this.commandManager=new b({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const _e=hr(this.options.content,this.schema,this.options.parseOptions),Pe=ke(_e,this.options.autofocus);this.view=new m.tk(this.options.element,Wo(nr({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:o.yy.create({doc:_e,selection:Pe||void 0})}));const $e=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState($e),this.createNodeViews();const mt=this.view.dom;mt.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(_e){this.isCapturingTransaction=!0,_e(),this.isCapturingTransaction=!1;const Pe=this.capturedTransaction;return this.capturedTransaction=null,Pe}dispatchTransaction(_e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=_e;return}_e.steps.forEach(St=>{var Mt;return(Mt=this.capturedTransaction)===null||Mt===void 0?void 0:Mt.step(St)});return}const Pe=this.state.apply(_e),$e=!this.state.selection.eq(Pe.selection);this.view.updateState(Pe),this.emit("transaction",{editor:this,transaction:_e}),$e&&this.emit("selectionUpdate",{editor:this,transaction:_e});const mt=_e.getMeta("focus"),vt=_e.getMeta("blur");mt&&this.emit("focus",{editor:this,event:mt.event,transaction:_e}),vt&&this.emit("blur",{editor:this,event:vt.event,transaction:_e}),!(!_e.docChanged||_e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:_e})}getAttributes(_e){return Go(this.state,_e)}isActive(_e,Pe){const $e=typeof _e=="string"?_e:null,mt=typeof _e=="string"?Pe:_e;return $t(this.state,$e,mt)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Nr(this.state.doc.content,this.schema)}getText(_e){const{blockSeparator:Pe=`

`,textSerializers:$e={}}=_e||{};return mo(this.state.doc,{blockSeparator:Pe,textSerializers:nr(nr({},pe(this.schema)),$e)})}get isEmpty(){return nn(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var _e;return!(!((_e=this.view)===null||_e===void 0)&&_e.docView)}}function Bi(Se){return new Q({find:Se.find,handler:({state:_e,range:Pe,match:$e})=>{const mt=S(Se.getAttributes,void 0,$e);if(mt===!1||mt===null)return null;const{tr:vt}=_e,St=$e[$e.length-1],Mt=$e[0];let Ft=Pe.to;if(St){const Vt=Mt.search(/\S/),un=Pe.from+Mt.indexOf(St),tn=un+St.length;if(Yr(Pe.from,Pe.to,_e.doc).filter(xn=>xn.mark.type.excluded.find(ur=>ur===Se.type&&ur!==xn.mark.type)).filter(xn=>xn.to>un).length)return null;tn<Pe.to&&vt.delete(tn,Pe.to),un>Pe.from&&vt.delete(Pe.from+Vt,un),Ft=Pe.from+Vt+St.length,vt.addMark(Pe.from+Vt,Ft,Se.type.create(mt||{})),vt.removeStoredMark(Se.type)}}})}function ki(Se){return new Q({find:Se.find,handler:({state:_e,range:Pe,match:$e})=>{const mt=S(Se.getAttributes,void 0,$e)||{},{tr:vt}=_e,St=Pe.from;let Mt=Pe.to;if($e[1]){const Ft=$e[0].lastIndexOf($e[1]);let Vt=St+Ft;Vt>Mt?Vt=Mt:Mt=Vt+$e[1].length;const un=$e[0][$e[0].length-1];vt.insertText(un,St+$e[0].length-1),vt.replaceWith(Vt,Mt,Se.type.create(mt))}else $e[0]&&vt.replaceWith(St,Mt,Se.type.create(mt))}})}function di(Se){return new Q({find:Se.find,handler:({state:_e,range:Pe,match:$e})=>{const mt=_e.doc.resolve(Pe.from),vt=S(Se.getAttributes,void 0,$e)||{};if(!mt.node(-1).canReplaceWith(mt.index(-1),mt.indexAfter(-1),Se.type))return null;_e.tr.delete(Pe.from,Pe.to).setBlockType(Pe.from,Pe.from,Se.type,vt)}})}function So(Se){return new Q({find:Se.find,handler:({state:_e,range:Pe,match:$e})=>{let mt=Se.replace,vt=Pe.from;const St=Pe.to;if($e[1]){const Mt=$e[0].lastIndexOf($e[1]);mt+=$e[0].slice(Mt+$e[1].length),vt+=Mt;const Ft=vt-St;Ft>0&&(mt=$e[0].slice(Mt-Ft,Mt)+mt,vt=St)}_e.tr.insertText(mt,vt,St)}})}function ti(Se){return new Q({find:Se.find,handler:({state:_e,range:Pe,match:$e,chain:mt})=>{const vt=S(Se.getAttributes,void 0,$e)||{},St=_e.tr.delete(Pe.from,Pe.to),Ft=St.doc.resolve(Pe.from).blockRange(),Vt=Ft&&(0,g.nd)(Ft,Se.type,vt);if(!Vt)return null;if(St.wrap(Ft,Vt),Se.keepMarks&&Se.editor){const{selection:tn,storedMarks:dn}=_e,{splittableMarks:xn}=Se.editor.extensionManager,Wn=dn||tn.$to.parentOffset&&tn.$from.marks();if(Wn){const ur=Wn.filter(tr=>xn.includes(tr.type.name));St.ensureMarks(ur)}}if(Se.keepAttributes){const tn=Se.type.name==="bulletList"||Se.type.name==="orderedList"?"listItem":"taskList";mt().updateAttributes(tn,vt).run()}const un=St.doc.resolve(Pe.from-1).nodeBefore;un&&un.type===Se.type&&(0,g.Mn)(St.doc,Pe.from-1)&&(!Se.joinPredicate||Se.joinPredicate($e,un))&&St.join(Pe.from-1)}})}class li{constructor(_e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=nr(nr({},this.config),_e),this.name=this.config.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=S(E(this,"addOptions",{name:this.name}))),this.storage=S(E(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(_e={}){return new li(_e)}configure(_e={}){const Pe=this.extend();return Pe.options=de(this.options,_e),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}extend(_e={}){const Pe=new li(_e);return Pe.parent=this,this.child=Pe,Pe.name=_e.name?_e.name:Pe.parent.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Pe.name}".`),Pe.options=S(E(Pe,"addOptions",{name:Pe.name})),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}static handleExit({editor:_e,mark:Pe}){const{tr:$e}=_e.state,mt=_e.state.selection.$from;if(mt.pos===mt.end()){const St=mt.marks();if(!!!St.find(Vt=>(Vt==null?void 0:Vt.type.name)===Pe.name))return!1;const Ft=St.find(Vt=>(Vt==null?void 0:Vt.type.name)===Pe.name);return Ft&&$e.removeStoredMark(Ft),$e.insertText(" ",mt.pos),_e.view.dispatch($e),!0}return!1}}class Di{constructor(_e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=nr(nr({},this.config),_e),this.name=this.config.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=S(E(this,"addOptions",{name:this.name}))),this.storage=S(E(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(_e={}){return new Di(_e)}configure(_e={}){const Pe=this.extend();return Pe.options=de(this.options,_e),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}extend(_e={}){const Pe=new Di(_e);return Pe.parent=this,this.child=Pe,Pe.name=_e.name?_e.name:Pe.parent.name,_e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Pe.name}".`),Pe.options=S(E(Pe,"addOptions",{name:Pe.name})),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}}class et{constructor(_e,Pe,$e){this.isDragging=!1,this.component=_e,this.editor=Pe.editor,this.options=nr({stopEvent:null,ignoreMutation:null},$e),this.extension=Pe.extension,this.node=Pe.node,this.decorations=Pe.decorations,this.getPos=Pe.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(_e){var Pe,$e,mt,vt,St,Mt,Ft;const{view:Vt}=this.editor,un=_e.target,tn=un.nodeType===3?(Pe=un.parentElement)===null||Pe===void 0?void 0:Pe.closest("[data-drag-handle]"):un.closest("[data-drag-handle]");if(!this.dom||!(($e=this.contentDOM)===null||$e===void 0)&&$e.contains(un)||!tn)return;let dn=0,xn=0;if(this.dom!==tn){const tr=this.dom.getBoundingClientRect(),Sn=tn.getBoundingClientRect(),fr=(mt=_e.offsetX)!==null&&mt!==void 0?mt:(vt=_e.nativeEvent)===null||vt===void 0?void 0:vt.offsetX,rr=(St=_e.offsetY)!==null&&St!==void 0?St:(Mt=_e.nativeEvent)===null||Mt===void 0?void 0:Mt.offsetY;dn=Sn.x-tr.x+fr,xn=Sn.y-tr.y+rr}(Ft=_e.dataTransfer)===null||Ft===void 0||Ft.setDragImage(this.dom,dn,xn);const Wn=o.qv.create(Vt.state.doc,this.getPos()),ur=Vt.state.tr.setSelection(Wn);Vt.dispatch(ur)}stopEvent(_e){var Pe;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:_e});const $e=_e.target;if(!(this.dom.contains($e)&&!(!((Pe=this.contentDOM)===null||Pe===void 0)&&Pe.contains($e))))return!1;const vt=_e.type.startsWith("drag"),St=_e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes($e.tagName)||$e.isContentEditable)&&!St&&!vt)return!0;const{isEditable:Ft}=this.editor,{isDragging:Vt}=this,un=!!this.node.type.spec.draggable,tn=o.qv.isSelectable(this.node),dn=_e.type==="copy",xn=_e.type==="paste",Wn=_e.type==="cut",ur=_e.type==="mousedown";if(!un&&tn&&vt&&_e.preventDefault(),un&&vt&&!Vt)return _e.preventDefault(),!1;if(un&&Ft&&!Vt&&ur){const tr=$e.closest("[data-drag-handle]");tr&&(this.dom===tr||this.dom.contains(tr))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(Vt||St||dn||xn||Wn||ur&&tn)}ignoreMutation(_e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:_e}):this.node.isLeaf||this.node.isAtom?!0:_e.type==="selection"||this.dom.contains(_e.target)&&_e.type==="childList"&&Ve()&&this.editor.isFocused&&[...Array.from(_e.addedNodes),...Array.from(_e.removedNodes)].every($e=>$e.isContentEditable)?!1:this.contentDOM===_e.target&&_e.type==="attributes"?!0:!this.contentDOM.contains(_e.target)}updateAttributes(_e){this.editor.commands.command(({tr:Pe})=>{const $e=this.getPos();return Pe.setNodeMarkup($e,void 0,nr(nr({},this.node.attrs),_e)),!0})}deleteNode(){const _e=this.getPos(),Pe=_e+this.node.nodeSize;this.editor.commands.deleteRange({from:_e,to:Pe})}}function Ye(Se){return new re({find:Se.find,handler:({state:_e,range:Pe,match:$e})=>{const mt=S(Se.getAttributes,void 0,$e);if(mt===!1||mt===null)return null;const{tr:vt}=_e,St=$e[$e.length-1],Mt=$e[0];let Ft=Pe.to;if(St){const Vt=Mt.search(/\S/),un=Pe.from+Mt.indexOf(St),tn=un+St.length;if(Yr(Pe.from,Pe.to,_e.doc).filter(xn=>xn.mark.type.excluded.find(ur=>ur===Se.type&&ur!==xn.mark.type)).filter(xn=>xn.to>un).length)return null;tn<Pe.to&&vt.delete(tn,Pe.to),un>Pe.from&&vt.delete(Pe.from+Vt,un),Ft=Pe.from+Vt+St.length,vt.addMark(Pe.from+Vt,Ft,Se.type.create(mt||{})),vt.removeStoredMark(Se.type)}}})}function Xe(Se){return Se.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function pt(Se){return typeof Se=="string"}function gt(Se){return new re({find:Se.find,handler({match:_e,chain:Pe,range:$e}){const mt=S(Se.getAttributes,void 0,_e);if(mt===!1||mt===null)return null;_e.input&&Pe().deleteRange($e).insertContentAt($e.from,{type:Se.type.name,attrs:mt})}})}function kt(Se){return new re({find:Se.find,handler:({state:_e,range:Pe,match:$e})=>{let mt=Se.replace,vt=Pe.from;const St=Pe.to;if($e[1]){const Mt=$e[0].lastIndexOf($e[1]);mt+=$e[0].slice(Mt+$e[1].length),vt+=Mt;const Ft=vt-St;Ft>0&&(mt=$e[0].slice(Mt-Ft,Mt)+mt,vt=St)}_e.tr.insertText(mt,vt,St)}})}class Bt{constructor(_e){this.transaction=_e,this.currentStep=this.transaction.steps.length}map(_e){let Pe=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((mt,vt)=>{const St=vt.getMap().mapResult(mt);return St.deleted&&(Pe=!0),St.pos},_e),deleted:Pe}}}},9353:(G,s,e)=>{"use strict";e.d(s,{q3:()=>g});var o=e(5865),m=e(2376),f=e(79253);class d{constructor({editor:v,element:b,view:x,tippyOptions:E={},updateDelay:O=250,shouldShow:w}){this.preventHide=!1,this.shouldShow=({view:_,state:a,from:l,to:P})=>{const{doc:S,selection:M}=a,{empty:R}=M,N=!S.textBetween(l,P).length&&(0,o.xh)(a.selection),T=this.element.contains(document.activeElement);return!(!(_.hasFocus()||T)||R||N||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:_})=>{var a;if(this.preventHide){this.preventHide=!1;return}_!=null&&_.relatedTarget&&(!((a=this.element.parentNode)===null||a===void 0)&&a.contains(_.relatedTarget))||this.hide()},this.tippyBlurHandler=_=>{this.blurHandler({event:_})},this.handleDebouncedUpdate=(_,a)=>{this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(_,a)},this.updateDelay)},this.updateHandler=(_,a)=>{var l,P,S;const{state:M,composing:R}=_,{doc:N,selection:T}=M,A=a&&a.doc.eq(N)&&a.selection.eq(T);if(R||A)return;this.createTooltip();const{ranges:W}=T,j=Math.min(...W.map(Q=>Q.$from.pos)),Z=Math.max(...W.map(Q=>Q.$to.pos));if(!((l=this.shouldShow)===null||l===void 0?void 0:l.call(this,{editor:this.editor,view:_,state:M,oldState:a,from:j,to:Z}))){this.hide();return}(P=this.tippy)===null||P===void 0||P.setProps({getReferenceClientRect:((S=this.tippyOptions)===null||S===void 0?void 0:S.getReferenceClientRect)||(()=>{if((0,o.EG)(M.selection)){let Q=_.nodeDOM(j);const ne=Q.dataset.nodeViewWrapper?Q:Q.querySelector("[data-node-view-wrapper]");if(ne&&(Q=ne.firstChild),Q)return Q.getBoundingClientRect()}return(0,o.pr)(_,j,Z)})}),this.show()},this.editor=v,this.element=b,this.view=x,this.updateDelay=O,w&&(this.shouldShow=w),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=E,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:v}=this.editor.options,b=!!v.parentElement;this.tippy||!b||(this.tippy=(0,f.ZP)(v,nr({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(v,b){const{state:x}=v,E=x.selection.$from.pos!==x.selection.$to.pos;if(this.updateDelay>0&&E){this.handleDebouncedUpdate(v,b);return}this.updateHandler(v,b)}show(){var v;(v=this.tippy)===null||v===void 0||v.show()}hide(){var v;(v=this.tippy)===null||v===void 0||v.hide()}destroy(){var v,b;!((v=this.tippy)===null||v===void 0)&&v.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(b=this.tippy)===null||b===void 0||b.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const g=C=>new m.Sy({key:typeof C.pluginKey=="string"?new m.H$(C.pluginKey):C.pluginKey,view:v=>new d(nr({view:v},C))}),y=o.hj.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[g({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}})},71284:(G,s,e)=>{"use strict";e.d(s,{M_:()=>l,NM:()=>d,T5:()=>w,fW:()=>S,jE:()=>R,kg:()=>v});var o=e(9353),m=e(98661),f=e(5865);const d=N=>{const[T,A]=(0,m.useState)(null);return(0,m.useEffect)(()=>{if(!T||N.editor.isDestroyed)return;const{pluginKey:W="bubbleMenu",editor:j,tippyOptions:Z={},updateDelay:J,shouldShow:Q=null}=N,ne=(0,o.q3)({updateDelay:J,editor:j,element:T,pluginKey:W,shouldShow:Q,tippyOptions:Z});return j.registerPlugin(ne),()=>j.unregisterPlugin(W)},[N.editor,T]),m.default.createElement("div",{ref:A,className:N.className,style:{visibility:"hidden"}},N.children)};class g extends f.ML{constructor(){super(...arguments),this.contentComponent=null}}const y=({renderers:N})=>m.default.createElement(m.default.Fragment,null,Object.entries(N).map(([T,A])=>m.default.createPortal(A.reactElement,A.element,T)));class C extends m.default.Component{constructor(T){super(T),this.editorContentRef=m.default.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:T}=this.props;if(T&&T.options.element){if(T.contentComponent)return;const A=this.editorContentRef.current;A.append(...T.options.element.childNodes),T.setOptions({element:A}),T.contentComponent=this,T.createNodeViews(),this.initialized=!0}}maybeFlushSync(T){this.initialized?(0,m.flushSync)(T):T()}setRenderer(T,A){this.maybeFlushSync(()=>{this.setState(({renderers:W})=>({renderers:Wo(nr({},W),{[T]:A})}))})}removeRenderer(T){this.maybeFlushSync(()=>{this.setState(({renderers:A})=>{const W=nr({},A);return delete W[T],{renderers:W}})})}componentWillUnmount(){const{editor:T}=this.props;if(!T||(this.initialized=!1,T.isDestroyed||T.view.setProps({nodeViews:{}}),T.contentComponent=null,!T.options.element.firstChild))return;const A=document.createElement("div");A.append(...T.options.element.childNodes),T.setOptions({element:A})}render(){const W=this.props,{editor:T}=W,A=Yi(W,["editor"]);return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",nr({ref:this.editorContentRef},A)),m.default.createElement(y,{renderers:this.state.renderers}))}}const v=m.default.memo(C),b=N=>{const[T,A]=useState(null);return useEffect(()=>{if(!T||N.editor.isDestroyed)return;const{pluginKey:W="floatingMenu",editor:j,tippyOptions:Z={},shouldShow:J=null}=N,Q=FloatingMenuPlugin({pluginKey:W,editor:j,element:T,tippyOptions:Z,shouldShow:J});return j.registerPlugin(Q),()=>j.unregisterPlugin(W)},[N.editor,T]),React.createElement("div",{ref:A,className:N.className,style:{visibility:"hidden"}},N.children)},x=(0,m.createContext)({onDragStart:void 0}),E=()=>(0,m.useContext)(x),O=N=>{const T=N.as||"div",{nodeViewContentRef:A}=E();return React.createElement(T,Wo(nr({},N),{ref:A,"data-node-view-content":"",style:nr({whiteSpace:"pre-wrap"},N.style)}))},w=m.default.forwardRef((N,T)=>{const{onDragStart:A}=E(),W=N.as||"div";return m.default.createElement(W,Wo(nr({},N),{ref:T,"data-node-view-wrapper":"",onDragStart:A,style:nr({whiteSpace:"normal"},N.style)}))});function _(N){return!!(typeof N=="function"&&N.prototype&&N.prototype.isReactComponent)}function a(N){var T;return typeof N=="object"&&((T=N.$$typeof)===null||T===void 0?void 0:T.toString())==="Symbol(react.forward_ref)"}class l{constructor(T,{editor:A,props:W={},as:j="div",className:Z="",attrs:J}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=T,this.editor=A,this.props=W,this.element=document.createElement(j),this.element.classList.add("react-renderer"),Z&&this.element.classList.add(...Z.split(" ")),J&&Object.keys(J).forEach(Q=>{this.element.setAttribute(Q,J[Q])}),this.render()}render(){var T,A;const W=this.component,j=this.props;(_(W)||a(W))&&(j.ref=Z=>{this.ref=Z}),this.reactElement=m.default.createElement(W,nr({},j)),(A=(T=this.editor)===null||T===void 0?void 0:T.contentComponent)===null||A===void 0||A.setRenderer(this.id,this)}updateProps(T={}){this.props=nr(nr({},this.props),T),this.render()}destroy(){var T,A;(A=(T=this.editor)===null||T===void 0?void 0:T.contentComponent)===null||A===void 0||A.removeRenderer(this.id)}}class P extends f.DK{mount(){const T={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(Z={})=>this.updateAttributes(Z),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const Z=J=>J.charAt(0).toUpperCase()+J.substring(1);this.component.displayName=Z(this.extension.name)}const A=Z=>{const J=this.component,Q=this.onDragStart.bind(this),ne=te=>{te&&this.contentDOMElement&&te.firstChild!==this.contentDOMElement&&te.appendChild(this.contentDOMElement)};return m.default.createElement(m.default.Fragment,null,m.default.createElement(x.Provider,{value:{onDragStart:Q,nodeViewContentRef:ne}},m.default.createElement(J,nr({},Z))))};A.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let W=this.node.isInline?"span":"div";this.options.as&&(W=this.options.as);const{className:j=""}=this.options;this.renderer=new l(A,{editor:this.editor,props:T,as:W,className:`node-${this.node.type.name} ${j}`.trim(),attrs:this.options.attrs})}get dom(){var T;if(this.renderer.element.firstElementChild&&!(!((T=this.renderer.element.firstElementChild)===null||T===void 0)&&T.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(T,A){const W=j=>{this.renderer.updateProps(j)};if(T.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const j=this.node,Z=this.decorations;return this.node=T,this.decorations=A,this.options.update({oldNode:j,oldDecorations:Z,newNode:T,newDecorations:A,updateProps:()=>W({node:T,decorations:A})})}return T===this.node&&this.decorations===A||(this.node=T,this.decorations=A,W({node:T,decorations:A})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function S(N,T){return A=>A.editor.contentComponent?new P(N,A,T):{}}function M(){const[,N]=(0,m.useState)(0);return()=>N(T=>T+1)}const R=(N={},T=[])=>{const[A,W]=(0,m.useState)(null),j=M(),{onBeforeCreate:Z,onBlur:J,onCreate:Q,onDestroy:ne,onFocus:te,onSelectionUpdate:B,onTransaction:V,onUpdate:re}=N;return(0,m.useEffect)(()=>{A&&(Z&&(A.off("beforeCreate"),A.on("beforeCreate",Z)),J&&(A.off("blur"),A.on("blur",J)),Q&&(A.off("create"),A.on("create",Q)),ne&&(A.off("destroy"),A.on("destroy",ne)),te&&(A.off("focus"),A.on("focus",te)),B&&(A.off("selectionUpdate"),A.on("selectionUpdate",B)),V&&(A.off("transaction"),A.on("transaction",V)),re&&(A.off("update"),A.on("update",re)))},[Z,J,Q,ne,te,B,V,re]),(0,m.useEffect)(()=>{let le=!0;const ae=new g(N);return W(ae),ae.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{le&&j()})})}),()=>{ae.destroy(),le=!1}},T),A}},48583:(G,s,e)=>{"use strict";e.d(s,{KO:()=>x});var o=e(98661),m=e(15103);const f=(0,o.createContext)(void 0),d=E=>{const O=(0,o.useContext)(f);return(E==null?void 0:E.store)||O||(0,m.K7)()},g=({children:E,store:O})=>{const w=useRef();return!O&&!w.current&&(w.current=createStore()),createElement(f.Provider,{value:O||w.current},E)},y=E=>E instanceof Promise,C=o.default.use||(E=>{if(E.status==="pending")throw E;if(E.status==="fulfilled")return E.value;throw E.status==="rejected"?E.reason:(E.status="pending",E.then(O=>{E.status="fulfilled",E.value=O},O=>{E.status="rejected",E.reason=O}),E)});function v(E,O){const w=d(O),[[_,a,l],P]=(0,o.useReducer)(R=>{const N=w.get(E);return Object.is(R[0],N)&&R[1]===w&&R[2]===E?R:[N,w,E]},void 0,()=>[w.get(E),w,E]);let S=_;(a!==w||l!==E)&&(P(),S=w.get(E));const M=O==null?void 0:O.delay;return(0,o.useEffect)(()=>{const R=w.sub(E,()=>{if(typeof M=="number"){setTimeout(P,M);return}P()});return P(),R},[w,E,M]),(0,o.useDebugValue)(S),y(S)?C(S):S}function b(E,O){const w=d(O);return(0,o.useCallback)((...a)=>{if(!("write"in E))throw new Error("not writable atom");return w.set(E,...a)},[w,E])}function x(E,O){return[v(E,O),b(E,O)]}},15103:(G,s,e)=>{"use strict";e.d(s,{K7:()=>l,cn:()=>m});let o=0;function m(P,S){const M=`atom${++o}`,R={toString:()=>M};return typeof P=="function"?R.read=P:(R.init=P,R.read=N=>N(R),R.write=(N,T,A)=>T(R,typeof A=="function"?A(N(R)):A)),S&&(R.write=S),R}const f=P=>"init"in P,d=P=>!!P.write,g=new WeakMap,y=(P,S)=>{g.set(P,S),P.catch(()=>{}).finally(()=>g.delete(P))},C=(P,S)=>{const M=g.get(P);M&&(g.delete(P),M(S))},v=(P,S)=>{P.status="fulfilled",P.value=S},b=(P,S)=>{P.status="rejected",P.reason=S},x=(P,S)=>"v"in P&&"v"in S&&Object.is(P.v,S.v),E=(P,S)=>"e"in P&&"e"in S&&Object.is(P.e,S.e),O=P=>"v"in P&&P.v instanceof Promise,w=P=>{if("e"in P)throw P.e;return P.v},_=()=>{const P=new WeakMap,S=new WeakMap,M=new Map;let R,N,T;R=new Set,N=new Set,T=new Set;const A=de=>P.get(de),W=(de,fe)=>{Object.freeze(fe);const ye=P.get(de);if(P.set(de,fe),M.has(de)||M.set(de,ye),ye&&O(ye)){const pe="v"in fe?fe.v instanceof Promise?fe.v:Promise.resolve(fe.v):Promise.reject(fe.e);C(ye.v,pe)}},j=(de,fe,ye)=>{const pe=new Map;let we=!1;ye.forEach(Me=>{const je=Me===de?fe:A(Me);je?(pe.set(Me,je),fe.d.get(Me)!==je&&(we=!0)):console.warn("[Bug] atom state not found")}),(we||fe.d.size!==pe.size)&&(fe.d=pe)},Z=(de,fe,ye)=>{const pe=A(de),we={d:(pe==null?void 0:pe.d)||new Map,v:fe};return ye&&j(de,we,ye),pe&&x(pe,we)&&pe.d===we.d?pe:(W(de,we),we)},J=(de,fe,ye)=>{const pe=A(de),we={d:(pe==null?void 0:pe.d)||new Map,e:fe};return ye&&j(de,we,ye),pe&&E(pe,we)&&pe.d===we.d?pe:(W(de,we),we)},Q=de=>{const fe=A(de);if(fe&&(fe.d.forEach((me,ce)=>{ce!==de&&!S.has(ce)&&Q(ce)}),Array.from(fe.d).every(([me,ce])=>me===de||A(me)===ce)))return fe;const ye=new Set;let pe=!0;const we=me=>{if(ye.add(me),me===de){const ge=A(me);if(ge)return w(ge);if(f(me))return me.init;throw new Error("no atom init")}const ce=Q(me);return w(ce)};let Me,je;const De={get signal(){return Me||(Me=new AbortController),Me.signal},get setSelf(){return d(de)||console.warn("setSelf function cannot be used with read-only atom"),!je&&d(de)&&(je=(...me)=>{if(pe&&console.warn("setSelf function cannot be called in sync"),!pe)return ae(de,...me)}),je}};try{const me=de.read(we,De);if(me instanceof Promise){let ce;const ge=new Promise((Ie,Re)=>{let Ke=!1;me.then(ut=>{Ke||(Ke=!0,Z(de,ge,ye),v(ge,ut),Ie(ut))},ut=>{Ke||(Ke=!0,Z(de,ge,ye),b(ge,ut),Re(ut))}),ce=ut=>{Ke||(Ke=!0,ut.then(_t=>v(ge,_t),_t=>b(ge,_t)),Ie(ut))}});return ge.status="pending",y(ge,Ie=>{Ie&&ce(Ie),Me==null||Me.abort()}),Z(de,ge,ye)}return Z(de,me,ye)}catch(me){return J(de,me,ye)}finally{pe=!1}},ne=de=>w(Q(de)),te=de=>{let fe=S.get(de);return fe||(fe=q(de)),fe},B=(de,fe)=>!fe.l.size&&(!fe.t.size||fe.t.size===1&&fe.t.has(de)),V=de=>{const fe=S.get(de);fe&&B(de,fe)&&oe(de)},re=de=>{const fe=S.get(de);fe==null||fe.t.forEach(ye=>{if(ye!==de){const pe=A(ye),we=Q(ye);(!pe||!x(pe,we))&&re(ye)}})},le=(de,...fe)=>{let ye=!0;const pe=je=>w(Q(je)),we=(je,...De)=>{let me;if(je===de){if(!f(je))throw new Error("atom not writable");const ce=A(je),ge=Z(je,De[0]);(!ce||!x(ce,ge))&&re(je)}else me=le(je,...De);return ye||ie(),me},Me=de.write(pe,we,...fe);return ye=!1,Me},ae=(de,...fe)=>{const ye=le(de,...fe);return ie(),ye},q=(de,fe)=>{const ye={t:new Set(fe&&[fe]),l:new Set};if(S.set(de,ye),T.add(de),Q(de).d.forEach((pe,we)=>{const Me=S.get(we);Me?Me.t.add(de):we!==de&&q(we,de)}),Q(de),d(de)&&de.onMount){const pe=de.onMount((...we)=>ae(de,...we));pe&&(ye.u=pe)}return ye},oe=de=>{var fe;const ye=(fe=S.get(de))==null?void 0:fe.u;ye&&ye(),S.delete(de),T.delete(de);const pe=A(de);pe?(O(pe)&&C(pe.v),pe.d.forEach((we,Me)=>{if(Me!==de){const je=S.get(Me);je&&(je.t.delete(de),B(Me,je)&&oe(Me))}})):console.warn("[Bug] could not find atom state to unmount",de)},z=(de,fe,ye)=>{const pe=new Set(fe.d.keys());ye==null||ye.forEach((we,Me)=>{if(pe.has(Me)){pe.delete(Me);return}const je=S.get(Me);je&&(je.t.delete(de),B(Me,je)&&oe(Me))}),pe.forEach(we=>{const Me=S.get(we);Me?Me.t.add(de):S.has(de)&&q(we,de)})},ie=()=>{for(;M.size;){const de=Array.from(M);M.clear(),de.forEach(([fe,ye])=>{const pe=A(fe);if(pe){pe.d!==(ye==null?void 0:ye.d)&&z(fe,pe,ye==null?void 0:ye.d);const we=S.get(fe);we&&!(ye&&!O(ye)&&(x(ye,pe)||E(ye,pe)))&&we.l.forEach(Me=>Me())}else console.warn("[Bug] no atom state to flush")})}R.forEach(de=>de()),N.forEach(de=>de("state"))},ue=(de,fe)=>{const ye=te(de);ie();const pe=ye.l;return pe.add(fe),N.forEach(we=>we("sub")),()=>{pe.delete(fe),V(de),N.forEach(we=>we("unsub"))}};return{get:ne,set:ae,sub:ue,dev_subscribe_state:de=>(console.warn("[DEPRECATED] dev_subscribe_state is deprecated and will be removed in the next minor version. use dev_subscribe_store instead."),R.add(de),()=>{R.delete(de)}),dev_subscribe_store:de=>(N.add(de),()=>{N.delete(de)}),dev_get_mounted_atoms:()=>T.values(),dev_get_atom_state:de=>P.get(de),dev_get_mounted:de=>S.get(de),dev_restore_atoms:de=>{for(const[fe,ye]of de)f(fe)&&(Z(fe,ye),re(fe));ie()}}};let a;const l=()=>(a||(a=_()),a)},95495:(G,s,e)=>{"use strict";e.d(s,{xu:()=>d});const o=Symbol();function m(oe){const z=atom(oe,(ie,ue,de)=>{const fe=typeof de=="function"?de(ie(z)):de;ue(z,fe===o?oe:fe)});return z}function f(oe,z){const ie=atom(oe,(ue,de,fe)=>de(ie,z(ue(ie),fe)));return ie}function d(oe,z){let ie=null;const ue=new Map,de=fe=>{let ye;if(z===void 0)ye=ue.get(fe);else for(const[we,Me]of ue)if(z(we,fe)){ye=Me;break}if(ye!==void 0)if(ie!=null&&ie(ye[1],fe))de.remove(fe);else return ye[0];const pe=oe(fe);return ue.set(fe,[pe,Date.now()]),pe};return de.remove=fe=>{if(z===void 0)ue.delete(fe);else for(const[ye]of ue)if(z(ye,fe)){ue.delete(ye);break}},de.setShouldRemove=fe=>{if(ie=fe,!!ie)for(const[ye,pe]of ue)ie(pe[1],ye)&&ue.delete(ye)},de}const g=(oe,z,ie)=>(z.has(ie)?z:z.set(ie,oe())).get(ie),y=new WeakMap,C=(oe,z,ie,ue)=>{const de=g(()=>new WeakMap,y,z),fe=g(()=>new WeakMap,de,ie);return g(oe,fe,ue)};function v(oe,z,ie=Object.is){return C(()=>{const ue=Symbol(),de=([ye,pe])=>{if(pe===ue)return z(ye);const we=z(ye,pe);return ie(pe,we)?pe:we},fe=atom(ye=>{const pe=ye(fe),we=ye(oe);return we instanceof Promise||pe instanceof Promise?Promise.all([we,pe]).then(de):de([we,pe])});return fe.init=ue,fe},oe,z,ie)}const b=new WeakMap,x=(oe,z)=>(b.has(z)?b:b.set(z,oe())).get(z),E=oe=>{if(typeof oe!="object"||oe===null)return;Object.freeze(oe);const z=Object.getOwnPropertyNames(oe);for(const ie of z){const ue=oe[ie];E(ue)}return oe};function O(oe){return x(()=>atom(ie=>E(ie(oe)),(ie,ue,de)=>ue(oe,de)),oe)}function w(oe){return(...z)=>{const ie=oe(...z),ue=ie.read;return ie.read=(de,fe)=>E(ue(de,fe)),ie}}const _=(oe,z,ie)=>(z.has(ie)?z:z.set(ie,oe())).get(ie),a=new WeakMap,l=(oe,z,ie)=>{const ue=_(()=>new WeakMap,a,z);return _(oe,ue,ie)},P={},S=oe=>!!oe.write,M=oe=>typeof oe=="function";function R(oe,z){return l(()=>{const ie=new WeakMap,ue=(ye,pe)=>{let we=ie.get(ye);if(we)return we;const Me=pe&&ie.get(pe),je=[],De=[];return ye.forEach((me,ce)=>{const ge=z?z(me):ce;De[ce]=ge;const Ie=Me&&Me.atomList[Me.keyList.indexOf(ge)];if(Ie){je[ce]=Ie;return}const Re=ut=>{const _t=ut(de),ft=ut(oe),Be=ue(ft,_t==null?void 0:_t.arr).keyList.indexOf(ge);if(Be<0||Be>=ft.length){const lt=ye[ue(ye).keyList.indexOf(ge)];if(lt)return lt;throw new Error("splitAtom: index out of bounds for read")}return ft[Be]},Ke=(ut,_t,ft)=>{const We=ut(de),Be=ut(oe),Tt=ue(Be,We==null?void 0:We.arr).keyList.indexOf(ge);if(Tt<0||Tt>=Be.length)throw new Error("splitAtom: index out of bounds for write");const xt=M(ft)?ft(Be[Tt]):ft;_t(oe,[...Be.slice(0,Tt),xt,...Be.slice(Tt+1)])};je[ce]=S(oe)?atom(Re,Ke):atom(Re)}),Me&&Me.keyList.length===De.length&&Me.keyList.every((me,ce)=>me===De[ce])?we=Me:we={arr:ye,atomList:je,keyList:De},ie.set(ye,we),we},de=atom(ye=>{const pe=ye(de),we=ye(oe);return ue(we,pe==null?void 0:pe.arr)});de.debugPrivate=!0,de.init=void 0;const fe=S(oe)?atom(ye=>ye(de).atomList,(ye,pe,we)=>{switch(we.type){case"remove":{const Me=ye(fe).indexOf(we.atom);if(Me>=0){const je=ye(oe);pe(oe,[...je.slice(0,Me),...je.slice(Me+1)])}break}case"insert":{const Me=we.before?ye(fe).indexOf(we.before):ye(fe).length;if(Me>=0){const je=ye(oe);pe(oe,[...je.slice(0,Me),we.value,...je.slice(Me)])}break}case"move":{const Me=ye(fe).indexOf(we.atom),je=we.before?ye(fe).indexOf(we.before):ye(fe).length;if(Me>=0&&je>=0){const De=ye(oe);Me<je?pe(oe,[...De.slice(0,Me),...De.slice(Me+1,je),De[Me],...De.slice(je)]):pe(oe,[...De.slice(0,je),De[Me],...De.slice(je,Me),...De.slice(Me+1)])}break}}}):atom(ye=>ye(de).atomList);return fe},oe,z||P)}const N=(oe,z)=>typeof z=="function"?z(oe):z;function T(oe){const z=Symbol(),ie=atom(z);ie.debugPrivate=!0;const ue=atom((de,fe)=>{const ye=de(ie);return ye!==z?ye:oe(de,fe)},(de,fe,ye)=>{if(ye===o)return fe(ie,z);const pe=de(ue);return pe instanceof Promise?pe.then(we=>fe(ie,N(we,ye))):fe(ie,N(pe,ye))});return ue}const A=Symbol();function W(oe){let z,ie;const ue={getItem:de=>{var fe,ye;const pe=Me=>{if(Me=Me||"",z!==Me){try{ie=JSON.parse(Me)}catch(je){return A}z=Me}return ie},we=(ye=(fe=oe())==null?void 0:fe.getItem(de))!=null?ye:null;return we instanceof Promise?we.then(pe):pe(we)},setItem:(de,fe)=>{var ye;return(ye=oe())==null?void 0:ye.setItem(de,JSON.stringify(fe))},removeItem:de=>{var fe;return(fe=oe())==null?void 0:fe.removeItem(de)}};return typeof window!="undefined"&&typeof window.addEventListener=="function"&&(ue.subscribe=(de,fe)=>{const ye=pe=>{pe.storageArea===oe()&&pe.key===de&&pe.newValue&&fe(JSON.parse(pe.newValue))};return window.addEventListener("storage",ye),()=>{window.removeEventListener("storage",ye)}}),ue}const j=W(()=>typeof window!="undefined"?window.localStorage:void 0);function Z(oe,z,ie=j){const ue=atom(z);return ue.debugPrivate=!0,ue.onMount=fe=>{const ye=ie.getItem(oe);ye instanceof Promise?ye.then(we=>fe(we===A?z:we)):fe(ye===A?z:ye);let pe;return ie.subscribe&&(pe=ie.subscribe(oe,fe)),pe},atom(fe=>fe(ue),(fe,ye,pe)=>{const we=typeof pe=="function"?pe(fe(ue)):pe;return we===o?(ye(ue,z),ie.removeItem(oe)):(ye(ue,we),ie.setItem(oe,we))})}function J(oe,z){const ie=fe=>{if("e"in fe)throw fe.e;return fe.d},ue=atom(fe=>{var ye;let pe=oe(fe);const we=(ye=pe[Symbol.observable])==null?void 0:ye.call(pe);we&&(pe=we);let Me;const je=()=>new Promise(ft=>{Me=ft}),De=z&&"initialValue"in z?{d:typeof z.initialValue=="function"?z.initialValue():z.initialValue}:je();let me,ce;const ge=ft=>{ce=ft,Me==null||Me(ft),me==null||me(ft)};let Ie,Re;const Ke=()=>!me,ut=()=>{Ie&&(clearTimeout(Re),Ie.unsubscribe()),Ie=pe.subscribe({next:ft=>ge({d:ft}),error:ft=>ge({e:ft}),complete:()=>{}}),Ke()&&(z!=null&&z.unstable_timeout)&&(Re=setTimeout(()=>{Ie&&(Ie.unsubscribe(),Ie=void 0)},z.unstable_timeout))};ut();const _t=atom(ce||De);return _t.debugPrivate=!0,_t.onMount=ft=>(me=ft,ce&&ft(ce),Ie?clearTimeout(Re):ut(),()=>{me=void 0,Ie&&(Ie.unsubscribe(),Ie=void 0)}),[_t,pe,je,ut,Ke]});return ue.debugPrivate=!0,atom(fe=>{const[ye]=fe(ue),pe=fe(ye);return pe instanceof Promise?pe.then(ie):ie(pe)},(fe,ye,pe)=>{const[we,Me,je,De,me]=fe(ue);if("next"in Me)me()&&(ye(we,je()),De()),Me.next(pe);else throw new Error("observable is not subject")})}const Q=new WeakMap,ne=(oe,z)=>(Q.has(z)?Q:Q.set(z,oe())).get(z),te={state:"loading"};function B(oe){return ne(()=>{const z=new WeakMap,ie=atom(0);ie.debugPrivate=!0;const ue=atom((de,{setSelf:fe})=>{de(ie);const ye=de(oe);if(!(ye instanceof Promise))return{state:"hasData",data:ye};const pe=z.get(ye);return pe||(z.set(ye,te),ye.then(we=>{z.set(ye,{state:"hasData",data:we})},we=>{z.set(ye,{state:"hasError",error:we})}).finally(fe),te)},(de,fe)=>{fe(ie,ye=>ye+1)});return ue.debugPrivate=!0,atom(de=>de(ue))},oe)}const V=(oe,z,ie)=>(z.has(ie)?z:z.set(ie,oe())).get(ie),re=new WeakMap,le=(oe,z,ie)=>{const ue=V(()=>new WeakMap,re,z);return V(oe,ue,ie)},ae=()=>{};function q(oe,z=ae){return le(()=>{const ie=new WeakMap,ue=new WeakMap,de=atom(0);de.debugPrivate=!0;const fe=atom((ye,{setSelf:pe})=>{ye(de);const we=ye(fe),Me=ye(oe);if(Me===(we==null?void 0:we.p)){if(ie.has(Me))throw ie.get(Me);if(ue.has(Me))return{p:Me,v:ue.get(Me)}}return Me!==(we==null?void 0:we.p)&&Me.then(je=>ue.set(Me,je),je=>ie.set(Me,je)).finally(pe),we&&"v"in we?{p:Me,f:z(we.v)}:{p:Me,f:z()}},(ye,pe)=>{pe(de,we=>we+1)});return fe.init=void 0,fe.debugPrivate=!0,atom(ye=>{const pe=ye(fe);return"v"in pe?pe.v:pe.f})},oe,z)}},25804:(G,s,e)=>{"use strict";e.d(s,{Ig:()=>S,MI:()=>P,N0:()=>Q,NE:()=>d,QK:()=>R,U9:()=>re,X0:()=>W,Y_:()=>_,_M:()=>E,al:()=>y,mD:()=>A,nw:()=>le,o:()=>a,uJ:()=>q,uo:()=>T,xb:()=>M,ym:()=>ae});var o=e(16560),m=e(87823),f=e(2376);const d=(De,me)=>De.selection.empty?!1:(me&&me(De.tr.deleteSelection().scrollIntoView()),!0);function g(De,me){let{$cursor:ce}=De.selection;return!ce||(me?!me.endOfTextblock("backward",De):ce.parentOffset>0)?null:ce}const y=(De,me,ce)=>{let ge=g(De,ce);if(!ge)return!1;let Ie=O(ge);if(!Ie){let Ke=ge.blockRange(),ut=Ke&&(0,o.k9)(Ke);return ut==null?!1:(me&&me(De.tr.lift(Ke,ut).scrollIntoView()),!0)}let Re=Ie.nodeBefore;if(!Re.type.spec.isolating&&B(De,Ie,me))return!0;if(ge.parent.content.size==0&&(x(Re,"end")||f.qv.isSelectable(Re))){let Ke=(0,o.dR)(De.doc,ge.before(),ge.after(),m.p2.empty);if(Ke&&Ke.slice.size<Ke.to-Ke.from){if(me){let ut=De.tr.step(Ke);ut.setSelection(x(Re,"end")?f.Y1.findFrom(ut.doc.resolve(ut.mapping.map(Ie.pos,-1)),-1):f.qv.create(ut.doc,Ie.pos-Re.nodeSize)),me(ut.scrollIntoView())}return!0}}return Re.isAtom&&Ie.depth==ge.depth-1?(me&&me(De.tr.delete(Ie.pos-Re.nodeSize,Ie.pos).scrollIntoView()),!0):!1},C=(De,me,ce)=>{let ge=g(De,ce);if(!ge)return!1;let Ie=O(ge);return Ie?b(De,Ie,me):!1},v=(De,me,ce)=>{let ge=w(De,ce);if(!ge)return!1;let Ie=l(ge);return Ie?b(De,Ie,me):!1};function b(De,me,ce){let ge=me.nodeBefore,Ie=ge,Re=me.pos-1;for(;!Ie.isTextblock;Re--){if(Ie.type.spec.isolating)return!1;let We=Ie.lastChild;if(!We)return!1;Ie=We}let Ke=me.nodeAfter,ut=Ke,_t=me.pos+1;for(;!ut.isTextblock;_t++){if(ut.type.spec.isolating)return!1;let We=ut.firstChild;if(!We)return!1;ut=We}let ft=replaceStep(De.doc,Re,_t,Slice.empty);if(!ft||ft.from!=Re||ft.slice.size>=_t-Re)return!1;if(ce){let We=De.tr.step(ft);We.setSelection(TextSelection.create(We.doc,Re)),ce(We.scrollIntoView())}return!0}function x(De,me,ce=!1){for(let ge=De;ge;ge=me=="start"?ge.firstChild:ge.lastChild){if(ge.isTextblock)return!0;if(ce&&ge.childCount!=1)return!1}return!1}const E=(De,me,ce)=>{let{$head:ge,empty:Ie}=De.selection,Re=ge;if(!Ie)return!1;if(ge.parent.isTextblock){if(ce?!ce.endOfTextblock("backward",De):ge.parentOffset>0)return!1;Re=O(ge)}let Ke=Re&&Re.nodeBefore;return!Ke||!f.qv.isSelectable(Ke)?!1:(me&&me(De.tr.setSelection(f.qv.create(De.doc,Re.pos-Ke.nodeSize)).scrollIntoView()),!0)};function O(De){if(!De.parent.type.spec.isolating)for(let me=De.depth-1;me>=0;me--){if(De.index(me)>0)return De.doc.resolve(De.before(me+1));if(De.node(me).type.spec.isolating)break}return null}function w(De,me){let{$cursor:ce}=De.selection;return!ce||(me?!me.endOfTextblock("forward",De):ce.parentOffset<ce.parent.content.size)?null:ce}const _=(De,me,ce)=>{let ge=w(De,ce);if(!ge)return!1;let Ie=l(ge);if(!Ie)return!1;let Re=Ie.nodeAfter;if(B(De,Ie,me))return!0;if(ge.parent.content.size==0&&(x(Re,"start")||f.qv.isSelectable(Re))){let Ke=(0,o.dR)(De.doc,ge.before(),ge.after(),m.p2.empty);if(Ke&&Ke.slice.size<Ke.to-Ke.from){if(me){let ut=De.tr.step(Ke);ut.setSelection(x(Re,"start")?f.Y1.findFrom(ut.doc.resolve(ut.mapping.map(Ie.pos)),1):f.qv.create(ut.doc,ut.mapping.map(Ie.pos))),me(ut.scrollIntoView())}return!0}}return Re.isAtom&&Ie.depth==ge.depth-1?(me&&me(De.tr.delete(Ie.pos,Ie.pos+Re.nodeSize).scrollIntoView()),!0):!1},a=(De,me,ce)=>{let{$head:ge,empty:Ie}=De.selection,Re=ge;if(!Ie)return!1;if(ge.parent.isTextblock){if(ce?!ce.endOfTextblock("forward",De):ge.parentOffset<ge.parent.content.size)return!1;Re=l(ge)}let Ke=Re&&Re.nodeAfter;return!Ke||!f.qv.isSelectable(Ke)?!1:(me&&me(De.tr.setSelection(f.qv.create(De.doc,Re.pos)).scrollIntoView()),!0)};function l(De){if(!De.parent.type.spec.isolating)for(let me=De.depth-1;me>=0;me--){let ce=De.node(me);if(De.index(me)+1<ce.childCount)return De.doc.resolve(De.after(me+1));if(ce.type.spec.isolating)break}return null}const P=(De,me)=>{let ce=De.selection,ge=ce instanceof f.qv,Ie;if(ge){if(ce.node.isTextblock||!(0,o.Mn)(De.doc,ce.from))return!1;Ie=ce.from}else if(Ie=(0,o.GJ)(De.doc,ce.from,-1),Ie==null)return!1;if(me){let Re=De.tr.join(Ie);ge&&Re.setSelection(f.qv.create(Re.doc,Ie-De.doc.resolve(Ie).nodeBefore.nodeSize)),me(Re.scrollIntoView())}return!0},S=(De,me)=>{let ce=De.selection,ge;if(ce instanceof f.qv){if(ce.node.isTextblock||!(0,o.Mn)(De.doc,ce.to))return!1;ge=ce.to}else if(ge=(0,o.GJ)(De.doc,ce.to,1),ge==null)return!1;return me&&me(De.tr.join(ge).scrollIntoView()),!0},M=(De,me)=>{let{$from:ce,$to:ge}=De.selection,Ie=ce.blockRange(ge),Re=Ie&&(0,o.k9)(Ie);return Re==null?!1:(me&&me(De.tr.lift(Ie,Re).scrollIntoView()),!0)},R=(De,me)=>{let{$head:ce,$anchor:ge}=De.selection;return!ce.parent.type.spec.code||!ce.sameParent(ge)?!1:(me&&me(De.tr.insertText(`
`).scrollIntoView()),!0)};function N(De){for(let me=0;me<De.edgeCount;me++){let{type:ce}=De.edge(me);if(ce.isTextblock&&!ce.hasRequiredAttrs())return ce}return null}const T=(De,me)=>{let{$head:ce,$anchor:ge}=De.selection;if(!ce.parent.type.spec.code||!ce.sameParent(ge))return!1;let Ie=ce.node(-1),Re=ce.indexAfter(-1),Ke=N(Ie.contentMatchAt(Re));if(!Ke||!Ie.canReplaceWith(Re,Re,Ke))return!1;if(me){let ut=ce.after(),_t=De.tr.replaceWith(ut,ut,Ke.createAndFill());_t.setSelection(f.Y1.near(_t.doc.resolve(ut),1)),me(_t.scrollIntoView())}return!0},A=(De,me)=>{let ce=De.selection,{$from:ge,$to:Ie}=ce;if(ce instanceof f.C1||ge.parent.inlineContent||Ie.parent.inlineContent)return!1;let Re=N(Ie.parent.contentMatchAt(Ie.indexAfter()));if(!Re||!Re.isTextblock)return!1;if(me){let Ke=(!ge.parentOffset&&Ie.index()<Ie.parent.childCount?ge:Ie).pos,ut=De.tr.insert(Ke,Re.createAndFill());ut.setSelection(f.Bs.create(ut.doc,Ke+1)),me(ut.scrollIntoView())}return!0},W=(De,me)=>{let{$cursor:ce}=De.selection;if(!ce||ce.parent.content.size)return!1;if(ce.depth>1&&ce.after()!=ce.end(-1)){let Re=ce.before();if((0,o.Ax)(De.doc,Re))return me&&me(De.tr.split(Re).scrollIntoView()),!0}let ge=ce.blockRange(),Ie=ge&&(0,o.k9)(ge);return Ie==null?!1:(me&&me(De.tr.lift(ge,Ie).scrollIntoView()),!0)};function j(De){return(me,ce)=>{let{$from:ge,$to:Ie}=me.selection;if(me.selection instanceof f.qv&&me.selection.node.isBlock)return!ge.parentOffset||!(0,o.Ax)(me.doc,ge.pos)?!1:(ce&&ce(me.tr.split(ge.pos).scrollIntoView()),!0);if(!ge.parent.isBlock)return!1;if(ce){let Re=Ie.parentOffset==Ie.parent.content.size,Ke=me.tr;(me.selection instanceof f.Bs||me.selection instanceof f.C1)&&Ke.deleteSelection();let ut=ge.depth==0?null:N(ge.node(-1).contentMatchAt(ge.indexAfter(-1))),_t=De&&De(Ie.parent,Re),ft=_t?[_t]:Re&&ut?[{type:ut}]:void 0,We=(0,o.Ax)(Ke.doc,Ke.mapping.map(ge.pos),1,ft);if(!ft&&!We&&(0,o.Ax)(Ke.doc,Ke.mapping.map(ge.pos),1,ut?[{type:ut}]:void 0)&&(ut&&(ft=[{type:ut}]),We=!0),We&&(Ke.split(Ke.mapping.map(ge.pos),1,ft),!Re&&!ge.parentOffset&&ge.parent.type!=ut)){let Be=Ke.mapping.map(ge.before()),lt=Ke.doc.resolve(Be);ut&&ge.node(-1).canReplaceWith(lt.index(),lt.index()+1,ut)&&Ke.setNodeMarkup(Ke.mapping.map(ge.before()),ut)}ce(Ke.scrollIntoView())}return!0}}const Z=j(),J=(De,me)=>Z(De,me&&(ce=>{let ge=De.storedMarks||De.selection.$to.parentOffset&&De.selection.$from.marks();ge&&ce.ensureMarks(ge),me(ce)})),Q=(De,me)=>{let{$from:ce,to:ge}=De.selection,Ie,Re=ce.sharedDepth(ge);return Re==0?!1:(Ie=ce.before(Re),me&&me(De.tr.setSelection(f.qv.create(De.doc,Ie))),!0)},ne=(De,me)=>(me&&me(De.tr.setSelection(new f.C1(De.doc))),!0);function te(De,me,ce){let ge=me.nodeBefore,Ie=me.nodeAfter,Re=me.index();return!ge||!Ie||!ge.type.compatibleContent(Ie.type)?!1:!ge.content.size&&me.parent.canReplace(Re-1,Re)?(ce&&ce(De.tr.delete(me.pos-ge.nodeSize,me.pos).scrollIntoView()),!0):!me.parent.canReplace(Re,Re+1)||!(Ie.isTextblock||(0,o.Mn)(De.doc,me.pos))?!1:(ce&&ce(De.tr.clearIncompatible(me.pos,ge.type,ge.contentMatchAt(ge.childCount)).join(me.pos).scrollIntoView()),!0)}function B(De,me,ce){let ge=me.nodeBefore,Ie=me.nodeAfter,Re,Ke;if(ge.type.spec.isolating||Ie.type.spec.isolating)return!1;if(te(De,me,ce))return!0;let ut=me.parent.canReplace(me.index(),me.index()+1);if(ut&&(Re=(Ke=ge.contentMatchAt(ge.childCount)).findWrapping(Ie.type))&&Ke.matchType(Re[0]||Ie.type).validEnd){if(ce){let Be=me.pos+Ie.nodeSize,lt=m.HY.empty;for(let Gt=Re.length-1;Gt>=0;Gt--)lt=m.HY.from(Re[Gt].create(null,lt));lt=m.HY.from(ge.copy(lt));let Tt=De.tr.step(new o.FC(me.pos-1,Be,me.pos,Be,new m.p2(lt,1,0),Re.length,!0)),xt=Be+2*Re.length;(0,o.Mn)(Tt.doc,xt)&&Tt.join(xt),ce(Tt.scrollIntoView())}return!0}let _t=f.Y1.findFrom(me,1),ft=_t&&_t.$from.blockRange(_t.$to),We=ft&&(0,o.k9)(ft);if(We!=null&&We>=me.depth)return ce&&ce(De.tr.lift(ft,We).scrollIntoView()),!0;if(ut&&x(Ie,"start",!0)&&x(ge,"end")){let Be=ge,lt=[];for(;lt.push(Be),!Be.isTextblock;)Be=Be.lastChild;let Tt=Ie,xt=1;for(;!Tt.isTextblock;Tt=Tt.firstChild)xt++;if(Be.canReplace(Be.childCount,Be.childCount,Tt.content)){if(ce){let Gt=m.HY.empty;for(let yt=lt.length-1;yt>=0;yt--)Gt=m.HY.from(lt[yt].copy(Gt));let an=De.tr.step(new o.FC(me.pos-lt.length,me.pos+Ie.nodeSize,me.pos+xt,me.pos+Ie.nodeSize-xt,new m.p2(Gt,lt.length,0),0,!0));ce(an.scrollIntoView())}return!0}}return!1}function V(De){return function(me,ce){let ge=me.selection,Ie=De<0?ge.$from:ge.$to,Re=Ie.depth;for(;Ie.node(Re).isInline;){if(!Re)return!1;Re--}return Ie.node(Re).isTextblock?(ce&&ce(me.tr.setSelection(f.Bs.create(me.doc,De<0?Ie.start(Re):Ie.end(Re)))),!0):!1}}const re=V(-1),le=V(1);function ae(De,me=null){return function(ce,ge){let{$from:Ie,$to:Re}=ce.selection,Ke=Ie.blockRange(Re),ut=Ke&&(0,o.nd)(Ke,De,me);return ut?(ge&&ge(ce.tr.wrap(Ke,ut).scrollIntoView()),!0):!1}}function q(De,me=null){return function(ce,ge){let Ie=!1;for(let Re=0;Re<ce.selection.ranges.length&&!Ie;Re++){let{$from:{pos:Ke},$to:{pos:ut}}=ce.selection.ranges[Re];ce.doc.nodesBetween(Ke,ut,(_t,ft)=>{if(Ie)return!1;if(!(!_t.isTextblock||_t.hasMarkup(De,me)))if(_t.type==De)Ie=!0;else{let We=ce.doc.resolve(ft),Be=We.index();Ie=We.parent.canReplaceWith(Be,Be+1,De)}})}if(!Ie)return!1;if(ge){let Re=ce.tr;for(let Ke=0;Ke<ce.selection.ranges.length;Ke++){let{$from:{pos:ut},$to:{pos:_t}}=ce.selection.ranges[Ke];Re.setBlockType(ut,_t,De,me)}ge(Re.scrollIntoView())}return!0}}function oe(De,me,ce){for(let ge=0;ge<me.length;ge++){let{$from:Ie,$to:Re}=me[ge],Ke=Ie.depth==0?De.inlineContent&&De.type.allowsMarkType(ce):!1;if(De.nodesBetween(Ie.pos,Re.pos,ut=>{if(Ke)return!1;Ke=ut.inlineContent&&ut.type.allowsMarkType(ce)}),Ke)return!0}return!1}function z(De,me=null){return function(ce,ge){let{empty:Ie,$cursor:Re,ranges:Ke}=ce.selection;if(Ie&&!Re||!oe(ce.doc,Ke,De))return!1;if(ge)if(Re)De.isInSet(ce.storedMarks||Re.marks())?ge(ce.tr.removeStoredMark(De)):ge(ce.tr.addStoredMark(De.create(me)));else{let ut=!1,_t=ce.tr;for(let ft=0;!ut&&ft<Ke.length;ft++){let{$from:We,$to:Be}=Ke[ft];ut=ce.doc.rangeHasMark(We.pos,Be.pos,De)}for(let ft=0;ft<Ke.length;ft++){let{$from:We,$to:Be}=Ke[ft];if(ut)_t.removeMark(We.pos,Be.pos,De);else{let lt=We.pos,Tt=Be.pos,xt=We.nodeAfter,Gt=Be.nodeBefore,an=xt&&xt.isText?/^\s*/.exec(xt.text)[0].length:0,yt=Gt&&Gt.isText?/\s*$/.exec(Gt.text)[0].length:0;lt+an<Tt&&(lt+=an,Tt-=yt),_t.addMark(lt,Tt,De.create(me))}}ge(_t.scrollIntoView())}return!0}}function ie(De,me){return ce=>{if(!ce.isGeneric)return De(ce);let ge=[];for(let Re=0;Re<ce.mapping.maps.length;Re++){let Ke=ce.mapping.maps[Re];for(let ut=0;ut<ge.length;ut++)ge[ut]=Ke.map(ge[ut]);Ke.forEach((ut,_t,ft,We)=>ge.push(ft,We))}let Ie=[];for(let Re=0;Re<ge.length;Re+=2){let Ke=ge[Re],ut=ge[Re+1],_t=ce.doc.resolve(Ke),ft=_t.sharedDepth(ut),We=_t.node(ft);for(let Be=_t.indexAfter(ft),lt=_t.after(ft+1);lt<=ut;++Be){let Tt=We.maybeChild(Be);if(!Tt)break;if(Be&&Ie.indexOf(lt)==-1){let xt=We.child(Be-1);xt.type==Tt.type&&me(xt,Tt)&&Ie.push(lt)}lt+=Tt.nodeSize}}Ie.sort((Re,Ke)=>Re-Ke);for(let Re=Ie.length-1;Re>=0;Re--)canJoin(ce.doc,Ie[Re])&&ce.join(Ie[Re]);De(ce)}}function ue(De,me){let ce=Array.isArray(me)?ge=>me.indexOf(ge.type.name)>-1:me;return(ge,Ie,Re)=>De(ge,Ie&&ie(Ie,ce),Re)}function de(...De){return function(me,ce,ge){for(let Ie=0;Ie<De.length;Ie++)if(De[Ie](me,ce,ge))return!0;return!1}}let fe=de(d,y,E),ye=de(d,_,a);const pe={Enter:de(R,A,W,Z),"Mod-Enter":T,Backspace:fe,"Mod-Backspace":fe,"Shift-Backspace":fe,Delete:ye,"Mod-Delete":ye,"Mod-a":ne},we={"Ctrl-h":pe.Backspace,"Alt-Backspace":pe["Mod-Backspace"],"Ctrl-d":pe.Delete,"Ctrl-Alt-Backspace":pe["Mod-Delete"],"Alt-Delete":pe["Mod-Delete"],"Alt-d":pe["Mod-Delete"],"Ctrl-a":re,"Ctrl-e":le};for(let De in pe)we[De]=pe[De];const Me=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1,je=null},60440:(G,s,e)=>{"use strict";e.d(s,{h:()=>C});var o=e(33952),m=e(2376);const f=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function d(b){let x=b.split(/-(?!$)/),E=x[x.length-1];E=="Space"&&(E=" ");let O,w,_,a;for(let l=0;l<x.length-1;l++){let P=x[l];if(/^(cmd|meta|m)$/i.test(P))a=!0;else if(/^a(lt)?$/i.test(P))O=!0;else if(/^(c|ctrl|control)$/i.test(P))w=!0;else if(/^s(hift)?$/i.test(P))_=!0;else if(/^mod$/i.test(P))f?a=!0:w=!0;else throw new Error("Unrecognized modifier name: "+P)}return O&&(E="Alt-"+E),w&&(E="Ctrl-"+E),a&&(E="Meta-"+E),_&&(E="Shift-"+E),E}function g(b){let x=Object.create(null);for(let E in b)x[d(E)]=b[E];return x}function y(b,x,E=!0){return x.altKey&&(b="Alt-"+b),x.ctrlKey&&(b="Ctrl-"+b),x.metaKey&&(b="Meta-"+b),E&&x.shiftKey&&(b="Shift-"+b),b}function C(b){return new m.Sy({props:{handleKeyDown:v(b)}})}function v(b){let x=g(b);return function(E,O){let w=(0,o.YG)(O),_,a=x[y(w,O)];if(a&&a(E.state,E.dispatch,E))return!0;if(w.length==1&&w!=" "){if(O.shiftKey){let l=x[y(w,O,!1)];if(l&&l(E.state,E.dispatch,E))return!0}if((O.shiftKey||O.altKey||O.metaKey||w.charCodeAt(0)>127)&&(_=o.ue[O.keyCode])&&_!=w){let l=x[y(_,O)];if(l&&l(E.state,E.dispatch,E))return!0}}return!1}}},87823:(G,s,e)=>{"use strict";e.d(s,{aw:()=>ut,PW:()=>be,HY:()=>g,vc:()=>b,ZU:()=>Ie,NB:()=>te,Ts:()=>Q,e4:()=>x,V_:()=>Re,p2:()=>E});function o(Oe){this.content=Oe}o.prototype={constructor:o,find:function(Oe){for(var K=0;K<this.content.length;K+=2)if(this.content[K]===Oe)return K;return-1},get:function(Oe){var K=this.find(Oe);return K==-1?void 0:this.content[K+1]},update:function(Oe,K,Y){var he=Y&&Y!=Oe?this.remove(Y):this,Te=he.find(Oe),He=he.content.slice();return Te==-1?He.push(Y||Oe,K):(He[Te+1]=K,Y&&(He[Te]=Y)),new o(He)},remove:function(Oe){var K=this.find(Oe);if(K==-1)return this;var Y=this.content.slice();return Y.splice(K,2),new o(Y)},addToStart:function(Oe,K){return new o([Oe,K].concat(this.remove(Oe).content))},addToEnd:function(Oe,K){var Y=this.remove(Oe).content.slice();return Y.push(Oe,K),new o(Y)},addBefore:function(Oe,K,Y){var he=this.remove(K),Te=he.content.slice(),He=he.find(Oe);return Te.splice(He==-1?Te.length:He,0,K,Y),new o(Te)},forEach:function(Oe){for(var K=0;K<this.content.length;K+=2)Oe(this.content[K],this.content[K+1])},prepend:function(Oe){return Oe=o.from(Oe),Oe.size?new o(Oe.content.concat(this.subtract(Oe).content)):this},append:function(Oe){return Oe=o.from(Oe),Oe.size?new o(this.subtract(Oe).content.concat(Oe.content)):this},subtract:function(Oe){var K=this;Oe=o.from(Oe);for(var Y=0;Y<Oe.content.length;Y+=2)K=K.remove(Oe.content[Y]);return K},toObject:function(){var Oe={};return this.forEach(function(K,Y){Oe[K]=Y}),Oe},get size(){return this.content.length>>1}},o.from=function(Oe){if(Oe instanceof o)return Oe;var K=[];if(Oe)for(var Y in Oe)K.push(Y,Oe[Y]);return new o(K)};const m=o;function f(Oe,K,Y){for(let he=0;;he++){if(he==Oe.childCount||he==K.childCount)return Oe.childCount==K.childCount?null:Y;let Te=Oe.child(he),He=K.child(he);if(Te==He){Y+=Te.nodeSize;continue}if(!Te.sameMarkup(He))return Y;if(Te.isText&&Te.text!=He.text){for(let Qe=0;Te.text[Qe]==He.text[Qe];Qe++)Y++;return Y}if(Te.content.size||He.content.size){let Qe=f(Te.content,He.content,Y+1);if(Qe!=null)return Qe}Y+=Te.nodeSize}}function d(Oe,K,Y,he){for(let Te=Oe.childCount,He=K.childCount;;){if(Te==0||He==0)return Te==He?null:{a:Y,b:he};let Qe=Oe.child(--Te),ht=K.child(--He),ct=Qe.nodeSize;if(Qe==ht){Y-=ct,he-=ct;continue}if(!Qe.sameMarkup(ht))return{a:Y,b:he};if(Qe.isText&&Qe.text!=ht.text){let Pt=0,Nt=Math.min(Qe.text.length,ht.text.length);for(;Pt<Nt&&Qe.text[Qe.text.length-Pt-1]==ht.text[ht.text.length-Pt-1];)Pt++,Y--,he--;return{a:Y,b:he}}if(Qe.content.size||ht.content.size){let Pt=d(Qe.content,ht.content,Y-1,he-1);if(Pt)return Pt}Y-=ct,he-=ct}}class g{constructor(K,Y){if(this.content=K,this.size=Y||0,Y==null)for(let he=0;he<K.length;he++)this.size+=K[he].nodeSize}nodesBetween(K,Y,he,Te=0,He){for(let Qe=0,ht=0;ht<Y;Qe++){let ct=this.content[Qe],Pt=ht+ct.nodeSize;if(Pt>K&&he(ct,Te+ht,He||null,Qe)!==!1&&ct.content.size){let Nt=ht+1;ct.nodesBetween(Math.max(0,K-Nt),Math.min(ct.content.size,Y-Nt),he,Te+Nt)}ht=Pt}}descendants(K){this.nodesBetween(0,this.size,K)}textBetween(K,Y,he,Te){let He="",Qe=!0;return this.nodesBetween(K,Y,(ht,ct)=>{ht.isText?(He+=ht.text.slice(Math.max(K,ct)-ct,Y-ct),Qe=!he):ht.isLeaf?(Te?He+=typeof Te=="function"?Te(ht):Te:ht.type.spec.leafText&&(He+=ht.type.spec.leafText(ht)),Qe=!he):!Qe&&ht.isBlock&&(He+=he,Qe=!0)},0),He}append(K){if(!K.size)return this;if(!this.size)return K;let Y=this.lastChild,he=K.firstChild,Te=this.content.slice(),He=0;for(Y.isText&&Y.sameMarkup(he)&&(Te[Te.length-1]=Y.withText(Y.text+he.text),He=1);He<K.content.length;He++)Te.push(K.content[He]);return new g(Te,this.size+K.size)}cut(K,Y=this.size){if(K==0&&Y==this.size)return this;let he=[],Te=0;if(Y>K)for(let He=0,Qe=0;Qe<Y;He++){let ht=this.content[He],ct=Qe+ht.nodeSize;ct>K&&((Qe<K||ct>Y)&&(ht.isText?ht=ht.cut(Math.max(0,K-Qe),Math.min(ht.text.length,Y-Qe)):ht=ht.cut(Math.max(0,K-Qe-1),Math.min(ht.content.size,Y-Qe-1))),he.push(ht),Te+=ht.nodeSize),Qe=ct}return new g(he,Te)}cutByIndex(K,Y){return K==Y?g.empty:K==0&&Y==this.content.length?this:new g(this.content.slice(K,Y))}replaceChild(K,Y){let he=this.content[K];if(he==Y)return this;let Te=this.content.slice(),He=this.size+Y.nodeSize-he.nodeSize;return Te[K]=Y,new g(Te,He)}addToStart(K){return new g([K].concat(this.content),this.size+K.nodeSize)}addToEnd(K){return new g(this.content.concat(K),this.size+K.nodeSize)}eq(K){if(this.content.length!=K.content.length)return!1;for(let Y=0;Y<this.content.length;Y++)if(!this.content[Y].eq(K.content[Y]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(K){let Y=this.content[K];if(!Y)throw new RangeError("Index "+K+" out of range for "+this);return Y}maybeChild(K){return this.content[K]||null}forEach(K){for(let Y=0,he=0;Y<this.content.length;Y++){let Te=this.content[Y];K(Te,he,Y),he+=Te.nodeSize}}findDiffStart(K,Y=0){return f(this,K,Y)}findDiffEnd(K,Y=this.size,he=K.size){return d(this,K,Y,he)}findIndex(K,Y=-1){if(K==0)return C(0,K);if(K==this.size)return C(this.content.length,K);if(K>this.size||K<0)throw new RangeError(`Position ${K} outside of fragment (${this})`);for(let he=0,Te=0;;he++){let He=this.child(he),Qe=Te+He.nodeSize;if(Qe>=K)return Qe==K||Y>0?C(he+1,Qe):C(he,Te);Te=Qe}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(K=>K.toJSON()):null}static fromJSON(K,Y){if(!Y)return g.empty;if(!Array.isArray(Y))throw new RangeError("Invalid input for Fragment.fromJSON");return new g(Y.map(K.nodeFromJSON))}static fromArray(K){if(!K.length)return g.empty;let Y,he=0;for(let Te=0;Te<K.length;Te++){let He=K[Te];he+=He.nodeSize,Te&&He.isText&&K[Te-1].sameMarkup(He)?(Y||(Y=K.slice(0,Te)),Y[Y.length-1]=He.withText(Y[Y.length-1].text+He.text)):Y&&Y.push(He)}return new g(Y||K,he)}static from(K){if(!K)return g.empty;if(K instanceof g)return K;if(Array.isArray(K))return this.fromArray(K);if(K.attrs)return new g([K],K.nodeSize);throw new RangeError("Can not convert "+K+" to a Fragment"+(K.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}g.empty=new g([],0);const y={index:0,offset:0};function C(Oe,K){return y.index=Oe,y.offset=K,y}function v(Oe,K){if(Oe===K)return!0;if(!(Oe&&typeof Oe=="object")||!(K&&typeof K=="object"))return!1;let Y=Array.isArray(Oe);if(Array.isArray(K)!=Y)return!1;if(Y){if(Oe.length!=K.length)return!1;for(let he=0;he<Oe.length;he++)if(!v(Oe[he],K[he]))return!1}else{for(let he in Oe)if(!(he in K)||!v(Oe[he],K[he]))return!1;for(let he in K)if(!(he in Oe))return!1}return!0}class b{constructor(K,Y){this.type=K,this.attrs=Y}addToSet(K){let Y,he=!1;for(let Te=0;Te<K.length;Te++){let He=K[Te];if(this.eq(He))return K;if(this.type.excludes(He.type))Y||(Y=K.slice(0,Te));else{if(He.type.excludes(this.type))return K;!he&&He.type.rank>this.type.rank&&(Y||(Y=K.slice(0,Te)),Y.push(this),he=!0),Y&&Y.push(He)}}return Y||(Y=K.slice()),he||Y.push(this),Y}removeFromSet(K){for(let Y=0;Y<K.length;Y++)if(this.eq(K[Y]))return K.slice(0,Y).concat(K.slice(Y+1));return K}isInSet(K){for(let Y=0;Y<K.length;Y++)if(this.eq(K[Y]))return!0;return!1}eq(K){return this==K||this.type==K.type&&v(this.attrs,K.attrs)}toJSON(){let K={type:this.type.name};for(let Y in this.attrs){K.attrs=this.attrs;break}return K}static fromJSON(K,Y){if(!Y)throw new RangeError("Invalid input for Mark.fromJSON");let he=K.marks[Y.type];if(!he)throw new RangeError(`There is no mark type ${Y.type} in this schema`);return he.create(Y.attrs)}static sameSet(K,Y){if(K==Y)return!0;if(K.length!=Y.length)return!1;for(let he=0;he<K.length;he++)if(!K[he].eq(Y[he]))return!1;return!0}static setFrom(K){if(!K||Array.isArray(K)&&K.length==0)return b.none;if(K instanceof b)return[K];let Y=K.slice();return Y.sort((he,Te)=>he.type.rank-Te.type.rank),Y}}b.none=[];class x extends Error{}class E{constructor(K,Y,he){this.content=K,this.openStart=Y,this.openEnd=he}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(K,Y){let he=w(this.content,K+this.openStart,Y);return he&&new E(he,this.openStart,this.openEnd)}removeBetween(K,Y){return new E(O(this.content,K+this.openStart,Y+this.openStart),this.openStart,this.openEnd)}eq(K){return this.content.eq(K.content)&&this.openStart==K.openStart&&this.openEnd==K.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let K={content:this.content.toJSON()};return this.openStart>0&&(K.openStart=this.openStart),this.openEnd>0&&(K.openEnd=this.openEnd),K}static fromJSON(K,Y){if(!Y)return E.empty;let he=Y.openStart||0,Te=Y.openEnd||0;if(typeof he!="number"||typeof Te!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new E(g.fromJSON(K,Y.content),he,Te)}static maxOpen(K,Y=!0){let he=0,Te=0;for(let He=K.firstChild;He&&!He.isLeaf&&(Y||!He.type.spec.isolating);He=He.firstChild)he++;for(let He=K.lastChild;He&&!He.isLeaf&&(Y||!He.type.spec.isolating);He=He.lastChild)Te++;return new E(K,he,Te)}}E.empty=new E(g.empty,0,0);function O(Oe,K,Y){let{index:he,offset:Te}=Oe.findIndex(K),He=Oe.maybeChild(he),{index:Qe,offset:ht}=Oe.findIndex(Y);if(Te==K||He.isText){if(ht!=Y&&!Oe.child(Qe).isText)throw new RangeError("Removing non-flat range");return Oe.cut(0,K).append(Oe.cut(Y))}if(he!=Qe)throw new RangeError("Removing non-flat range");return Oe.replaceChild(he,He.copy(O(He.content,K-Te-1,Y-Te-1)))}function w(Oe,K,Y,he){let{index:Te,offset:He}=Oe.findIndex(K),Qe=Oe.maybeChild(Te);if(He==K||Qe.isText)return he&&!he.canReplace(Te,Te,Y)?null:Oe.cut(0,K).append(Y).append(Oe.cut(K));let ht=w(Qe.content,K-He-1,Y);return ht&&Oe.replaceChild(Te,Qe.copy(ht))}function _(Oe,K,Y){if(Y.openStart>Oe.depth)throw new x("Inserted content deeper than insertion position");if(Oe.depth-Y.openStart!=K.depth-Y.openEnd)throw new x("Inconsistent open depths");return a(Oe,K,Y,0)}function a(Oe,K,Y,he){let Te=Oe.index(he),He=Oe.node(he);if(Te==K.index(he)&&he<Oe.depth-Y.openStart){let Qe=a(Oe,K,Y,he+1);return He.copy(He.content.replaceChild(Te,Qe))}else if(Y.content.size)if(!Y.openStart&&!Y.openEnd&&Oe.depth==he&&K.depth==he){let Qe=Oe.parent,ht=Qe.content;return R(Qe,ht.cut(0,Oe.parentOffset).append(Y.content).append(ht.cut(K.parentOffset)))}else{let{start:Qe,end:ht}=A(Y,Oe);return R(He,N(Oe,Qe,ht,K,he))}else return R(He,T(Oe,K,he))}function l(Oe,K){if(!K.type.compatibleContent(Oe.type))throw new x("Cannot join "+K.type.name+" onto "+Oe.type.name)}function P(Oe,K,Y){let he=Oe.node(Y);return l(he,K.node(Y)),he}function S(Oe,K){let Y=K.length-1;Y>=0&&Oe.isText&&Oe.sameMarkup(K[Y])?K[Y]=Oe.withText(K[Y].text+Oe.text):K.push(Oe)}function M(Oe,K,Y,he){let Te=(K||Oe).node(Y),He=0,Qe=K?K.index(Y):Te.childCount;Oe&&(He=Oe.index(Y),Oe.depth>Y?He++:Oe.textOffset&&(S(Oe.nodeAfter,he),He++));for(let ht=He;ht<Qe;ht++)S(Te.child(ht),he);K&&K.depth==Y&&K.textOffset&&S(K.nodeBefore,he)}function R(Oe,K){return Oe.type.checkContent(K),Oe.copy(K)}function N(Oe,K,Y,he,Te){let He=Oe.depth>Te&&P(Oe,K,Te+1),Qe=he.depth>Te&&P(Y,he,Te+1),ht=[];return M(null,Oe,Te,ht),He&&Qe&&K.index(Te)==Y.index(Te)?(l(He,Qe),S(R(He,N(Oe,K,Y,he,Te+1)),ht)):(He&&S(R(He,T(Oe,K,Te+1)),ht),M(K,Y,Te,ht),Qe&&S(R(Qe,T(Y,he,Te+1)),ht)),M(he,null,Te,ht),new g(ht)}function T(Oe,K,Y){let he=[];if(M(null,Oe,Y,he),Oe.depth>Y){let Te=P(Oe,K,Y+1);S(R(Te,T(Oe,K,Y+1)),he)}return M(K,null,Y,he),new g(he)}function A(Oe,K){let Y=K.depth-Oe.openStart,Te=K.node(Y).copy(Oe.content);for(let He=Y-1;He>=0;He--)Te=K.node(He).copy(g.from(Te));return{start:Te.resolveNoCache(Oe.openStart+Y),end:Te.resolveNoCache(Te.content.size-Oe.openEnd-Y)}}class W{constructor(K,Y,he){this.pos=K,this.path=Y,this.parentOffset=he,this.depth=Y.length/3-1}resolveDepth(K){return K==null?this.depth:K<0?this.depth+K:K}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(K){return this.path[this.resolveDepth(K)*3]}index(K){return this.path[this.resolveDepth(K)*3+1]}indexAfter(K){return K=this.resolveDepth(K),this.index(K)+(K==this.depth&&!this.textOffset?0:1)}start(K){return K=this.resolveDepth(K),K==0?0:this.path[K*3-1]+1}end(K){return K=this.resolveDepth(K),this.start(K)+this.node(K).content.size}before(K){if(K=this.resolveDepth(K),!K)throw new RangeError("There is no position before the top-level node");return K==this.depth+1?this.pos:this.path[K*3-1]}after(K){if(K=this.resolveDepth(K),!K)throw new RangeError("There is no position after the top-level node");return K==this.depth+1?this.pos:this.path[K*3-1]+this.path[K*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let K=this.parent,Y=this.index(this.depth);if(Y==K.childCount)return null;let he=this.pos-this.path[this.path.length-1],Te=K.child(Y);return he?K.child(Y).cut(he):Te}get nodeBefore(){let K=this.index(this.depth),Y=this.pos-this.path[this.path.length-1];return Y?this.parent.child(K).cut(0,Y):K==0?null:this.parent.child(K-1)}posAtIndex(K,Y){Y=this.resolveDepth(Y);let he=this.path[Y*3],Te=Y==0?0:this.path[Y*3-1]+1;for(let He=0;He<K;He++)Te+=he.child(He).nodeSize;return Te}marks(){let K=this.parent,Y=this.index();if(K.content.size==0)return b.none;if(this.textOffset)return K.child(Y).marks;let he=K.maybeChild(Y-1),Te=K.maybeChild(Y);if(!he){let ht=he;he=Te,Te=ht}let He=he.marks;for(var Qe=0;Qe<He.length;Qe++)He[Qe].type.spec.inclusive===!1&&(!Te||!He[Qe].isInSet(Te.marks))&&(He=He[Qe--].removeFromSet(He));return He}marksAcross(K){let Y=this.parent.maybeChild(this.index());if(!Y||!Y.isInline)return null;let he=Y.marks,Te=K.parent.maybeChild(K.index());for(var He=0;He<he.length;He++)he[He].type.spec.inclusive===!1&&(!Te||!he[He].isInSet(Te.marks))&&(he=he[He--].removeFromSet(he));return he}sharedDepth(K){for(let Y=this.depth;Y>0;Y--)if(this.start(Y)<=K&&this.end(Y)>=K)return Y;return 0}blockRange(K=this,Y){if(K.pos<this.pos)return K.blockRange(this);for(let he=this.depth-(this.parent.inlineContent||this.pos==K.pos?1:0);he>=0;he--)if(K.pos<=this.end(he)&&(!Y||Y(this.node(he))))return new Q(this,K,he);return null}sameParent(K){return this.pos-this.parentOffset==K.pos-K.parentOffset}max(K){return K.pos>this.pos?K:this}min(K){return K.pos<this.pos?K:this}toString(){let K="";for(let Y=1;Y<=this.depth;Y++)K+=(K?"/":"")+this.node(Y).type.name+"_"+this.index(Y-1);return K+":"+this.parentOffset}static resolve(K,Y){if(!(Y>=0&&Y<=K.content.size))throw new RangeError("Position "+Y+" out of range");let he=[],Te=0,He=Y;for(let Qe=K;;){let{index:ht,offset:ct}=Qe.content.findIndex(He),Pt=He-ct;if(he.push(Qe,ht,Te+ct),!Pt||(Qe=Qe.child(ht),Qe.isText))break;He=Pt-1,Te+=ct+1}return new W(Y,he,He)}static resolveCached(K,Y){for(let Te=0;Te<j.length;Te++){let He=j[Te];if(He.pos==Y&&He.doc==K)return He}let he=j[Z]=W.resolve(K,Y);return Z=(Z+1)%J,he}}let j=[],Z=0,J=12;class Q{constructor(K,Y,he){this.$from=K,this.$to=Y,this.depth=he}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ne=Object.create(null);class te{constructor(K,Y,he,Te=b.none){this.type=K,this.attrs=Y,this.marks=Te,this.content=he||g.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(K){return this.content.child(K)}maybeChild(K){return this.content.maybeChild(K)}forEach(K){this.content.forEach(K)}nodesBetween(K,Y,he,Te=0){this.content.nodesBetween(K,Y,he,Te,this)}descendants(K){this.nodesBetween(0,this.content.size,K)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(K,Y,he,Te){return this.content.textBetween(K,Y,he,Te)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(K){return this==K||this.sameMarkup(K)&&this.content.eq(K.content)}sameMarkup(K){return this.hasMarkup(K.type,K.attrs,K.marks)}hasMarkup(K,Y,he){return this.type==K&&v(this.attrs,Y||K.defaultAttrs||ne)&&b.sameSet(this.marks,he||b.none)}copy(K=null){return K==this.content?this:new te(this.type,this.attrs,K,this.marks)}mark(K){return K==this.marks?this:new te(this.type,this.attrs,this.content,K)}cut(K,Y=this.content.size){return K==0&&Y==this.content.size?this:this.copy(this.content.cut(K,Y))}slice(K,Y=this.content.size,he=!1){if(K==Y)return E.empty;let Te=this.resolve(K),He=this.resolve(Y),Qe=he?0:Te.sharedDepth(Y),ht=Te.start(Qe),Pt=Te.node(Qe).content.cut(Te.pos-ht,He.pos-ht);return new E(Pt,Te.depth-Qe,He.depth-Qe)}replace(K,Y,he){return _(this.resolve(K),this.resolve(Y),he)}nodeAt(K){for(let Y=this;;){let{index:he,offset:Te}=Y.content.findIndex(K);if(Y=Y.maybeChild(he),!Y)return null;if(Te==K||Y.isText)return Y;K-=Te+1}}childAfter(K){let{index:Y,offset:he}=this.content.findIndex(K);return{node:this.content.maybeChild(Y),index:Y,offset:he}}childBefore(K){if(K==0)return{node:null,index:0,offset:0};let{index:Y,offset:he}=this.content.findIndex(K);if(he<K)return{node:this.content.child(Y),index:Y,offset:he};let Te=this.content.child(Y-1);return{node:Te,index:Y-1,offset:he-Te.nodeSize}}resolve(K){return W.resolveCached(this,K)}resolveNoCache(K){return W.resolve(this,K)}rangeHasMark(K,Y,he){let Te=!1;return Y>K&&this.nodesBetween(K,Y,He=>(he.isInSet(He.marks)&&(Te=!0),!Te)),Te}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let K=this.type.name;return this.content.size&&(K+="("+this.content.toStringInner()+")"),V(this.marks,K)}contentMatchAt(K){let Y=this.type.contentMatch.matchFragment(this.content,0,K);if(!Y)throw new Error("Called contentMatchAt on a node with invalid content");return Y}canReplace(K,Y,he=g.empty,Te=0,He=he.childCount){let Qe=this.contentMatchAt(K).matchFragment(he,Te,He),ht=Qe&&Qe.matchFragment(this.content,Y);if(!ht||!ht.validEnd)return!1;for(let ct=Te;ct<He;ct++)if(!this.type.allowsMarks(he.child(ct).marks))return!1;return!0}canReplaceWith(K,Y,he,Te){if(Te&&!this.type.allowsMarks(Te))return!1;let He=this.contentMatchAt(K).matchType(he),Qe=He&&He.matchFragment(this.content,Y);return Qe?Qe.validEnd:!1}canAppend(K){return K.content.size?this.canReplace(this.childCount,this.childCount,K.content):this.type.compatibleContent(K.type)}check(){this.type.checkContent(this.content);let K=b.none;for(let Y=0;Y<this.marks.length;Y++)K=this.marks[Y].addToSet(K);if(!b.sameSet(K,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(Y=>Y.type.name)}`);this.content.forEach(Y=>Y.check())}toJSON(){let K={type:this.type.name};for(let Y in this.attrs){K.attrs=this.attrs;break}return this.content.size&&(K.content=this.content.toJSON()),this.marks.length&&(K.marks=this.marks.map(Y=>Y.toJSON())),K}static fromJSON(K,Y){if(!Y)throw new RangeError("Invalid input for Node.fromJSON");let he=null;if(Y.marks){if(!Array.isArray(Y.marks))throw new RangeError("Invalid mark data for Node.fromJSON");he=Y.marks.map(K.markFromJSON)}if(Y.type=="text"){if(typeof Y.text!="string")throw new RangeError("Invalid text node in JSON");return K.text(Y.text,he)}let Te=g.fromJSON(K,Y.content);return K.nodeType(Y.type).create(Y.attrs,Te,he)}}te.prototype.text=void 0;class B extends te{constructor(K,Y,he,Te){if(super(K,Y,null,Te),!he)throw new RangeError("Empty text nodes are not allowed");this.text=he}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):V(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(K,Y){return this.text.slice(K,Y)}get nodeSize(){return this.text.length}mark(K){return K==this.marks?this:new B(this.type,this.attrs,this.text,K)}withText(K){return K==this.text?this:new B(this.type,this.attrs,K,this.marks)}cut(K=0,Y=this.text.length){return K==0&&Y==this.text.length?this:this.withText(this.text.slice(K,Y))}eq(K){return this.sameMarkup(K)&&this.text==K.text}toJSON(){let K=super.toJSON();return K.text=this.text,K}}function V(Oe,K){for(let Y=Oe.length-1;Y>=0;Y--)K=Oe[Y].type.name+"("+K+")";return K}class re{constructor(K){this.validEnd=K,this.next=[],this.wrapCache=[]}static parse(K,Y){let he=new le(K,Y);if(he.next==null)return re.empty;let Te=ae(he);he.next&&he.err("Unexpected trailing text");let He=we(fe(Te));return Me(He,he),He}matchType(K){for(let Y=0;Y<this.next.length;Y++)if(this.next[Y].type==K)return this.next[Y].next;return null}matchFragment(K,Y=0,he=K.childCount){let Te=this;for(let He=Y;Te&&He<he;He++)Te=Te.matchType(K.child(He).type);return Te}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let K=0;K<this.next.length;K++){let{type:Y}=this.next[K];if(!(Y.isText||Y.hasRequiredAttrs()))return Y}return null}compatible(K){for(let Y=0;Y<this.next.length;Y++)for(let he=0;he<K.next.length;he++)if(this.next[Y].type==K.next[he].type)return!0;return!1}fillBefore(K,Y=!1,he=0){let Te=[this];function He(Qe,ht){let ct=Qe.matchFragment(K,he);if(ct&&(!Y||ct.validEnd))return g.from(ht.map(Pt=>Pt.createAndFill()));for(let Pt=0;Pt<Qe.next.length;Pt++){let{type:Nt,next:sn}=Qe.next[Pt];if(!(Nt.isText||Nt.hasRequiredAttrs())&&Te.indexOf(sn)==-1){Te.push(sn);let Et=He(sn,ht.concat(Nt));if(Et)return Et}}return null}return He(this,[])}findWrapping(K){for(let he=0;he<this.wrapCache.length;he+=2)if(this.wrapCache[he]==K)return this.wrapCache[he+1];let Y=this.computeWrapping(K);return this.wrapCache.push(K,Y),Y}computeWrapping(K){let Y=Object.create(null),he=[{match:this,type:null,via:null}];for(;he.length;){let Te=he.shift(),He=Te.match;if(He.matchType(K)){let Qe=[];for(let ht=Te;ht.type;ht=ht.via)Qe.push(ht.type);return Qe.reverse()}for(let Qe=0;Qe<He.next.length;Qe++){let{type:ht,next:ct}=He.next[Qe];!ht.isLeaf&&!ht.hasRequiredAttrs()&&!(ht.name in Y)&&(!Te.type||ct.validEnd)&&(he.push({match:ht.contentMatch,type:ht,via:Te}),Y[ht.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(K){if(K>=this.next.length)throw new RangeError(`There's no ${K}th edge in this content match`);return this.next[K]}toString(){let K=[];function Y(he){K.push(he);for(let Te=0;Te<he.next.length;Te++)K.indexOf(he.next[Te].next)==-1&&Y(he.next[Te].next)}return Y(this),K.map((he,Te)=>{let He=Te+(he.validEnd?"*":" ")+" ";for(let Qe=0;Qe<he.next.length;Qe++)He+=(Qe?", ":"")+he.next[Qe].type.name+"->"+K.indexOf(he.next[Qe].next);return He}).join(`
`)}}re.empty=new re(!0);class le{constructor(K,Y){this.string=K,this.nodeTypes=Y,this.inline=null,this.pos=0,this.tokens=K.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(K){return this.next==K&&(this.pos++||!0)}err(K){throw new SyntaxError(K+" (in content expression '"+this.string+"')")}}function ae(Oe){let K=[];do K.push(q(Oe));while(Oe.eat("|"));return K.length==1?K[0]:{type:"choice",exprs:K}}function q(Oe){let K=[];do K.push(oe(Oe));while(Oe.next&&Oe.next!=")"&&Oe.next!="|");return K.length==1?K[0]:{type:"seq",exprs:K}}function oe(Oe){let K=de(Oe);for(;;)if(Oe.eat("+"))K={type:"plus",expr:K};else if(Oe.eat("*"))K={type:"star",expr:K};else if(Oe.eat("?"))K={type:"opt",expr:K};else if(Oe.eat("{"))K=ie(Oe,K);else break;return K}function z(Oe){/\D/.test(Oe.next)&&Oe.err("Expected number, got '"+Oe.next+"'");let K=Number(Oe.next);return Oe.pos++,K}function ie(Oe,K){let Y=z(Oe),he=Y;return Oe.eat(",")&&(Oe.next!="}"?he=z(Oe):he=-1),Oe.eat("}")||Oe.err("Unclosed braced range"),{type:"range",min:Y,max:he,expr:K}}function ue(Oe,K){let Y=Oe.nodeTypes,he=Y[K];if(he)return[he];let Te=[];for(let He in Y){let Qe=Y[He];Qe.groups.indexOf(K)>-1&&Te.push(Qe)}return Te.length==0&&Oe.err("No node type or group '"+K+"' found"),Te}function de(Oe){if(Oe.eat("(")){let K=ae(Oe);return Oe.eat(")")||Oe.err("Missing closing paren"),K}else if(/\W/.test(Oe.next))Oe.err("Unexpected token '"+Oe.next+"'");else{let K=ue(Oe,Oe.next).map(Y=>(Oe.inline==null?Oe.inline=Y.isInline:Oe.inline!=Y.isInline&&Oe.err("Mixing inline and block content"),{type:"name",value:Y}));return Oe.pos++,K.length==1?K[0]:{type:"choice",exprs:K}}}function fe(Oe){let K=[[]];return Te(He(Oe,0),Y()),K;function Y(){return K.push([])-1}function he(Qe,ht,ct){let Pt={term:ct,to:ht};return K[Qe].push(Pt),Pt}function Te(Qe,ht){Qe.forEach(ct=>ct.to=ht)}function He(Qe,ht){if(Qe.type=="choice")return Qe.exprs.reduce((ct,Pt)=>ct.concat(He(Pt,ht)),[]);if(Qe.type=="seq")for(let ct=0;;ct++){let Pt=He(Qe.exprs[ct],ht);if(ct==Qe.exprs.length-1)return Pt;Te(Pt,ht=Y())}else if(Qe.type=="star"){let ct=Y();return he(ht,ct),Te(He(Qe.expr,ct),ct),[he(ct)]}else if(Qe.type=="plus"){let ct=Y();return Te(He(Qe.expr,ht),ct),Te(He(Qe.expr,ct),ct),[he(ct)]}else{if(Qe.type=="opt")return[he(ht)].concat(He(Qe.expr,ht));if(Qe.type=="range"){let ct=ht;for(let Pt=0;Pt<Qe.min;Pt++){let Nt=Y();Te(He(Qe.expr,ct),Nt),ct=Nt}if(Qe.max==-1)Te(He(Qe.expr,ct),ct);else for(let Pt=Qe.min;Pt<Qe.max;Pt++){let Nt=Y();he(ct,Nt),Te(He(Qe.expr,ct),Nt),ct=Nt}return[he(ct)]}else{if(Qe.type=="name")return[he(ht,void 0,Qe.value)];throw new Error("Unknown expr type")}}}}function ye(Oe,K){return K-Oe}function pe(Oe,K){let Y=[];return he(K),Y.sort(ye);function he(Te){let He=Oe[Te];if(He.length==1&&!He[0].term)return he(He[0].to);Y.push(Te);for(let Qe=0;Qe<He.length;Qe++){let{term:ht,to:ct}=He[Qe];!ht&&Y.indexOf(ct)==-1&&he(ct)}}}function we(Oe){let K=Object.create(null);return Y(pe(Oe,0));function Y(he){let Te=[];he.forEach(Qe=>{Oe[Qe].forEach(({term:ht,to:ct})=>{if(!ht)return;let Pt;for(let Nt=0;Nt<Te.length;Nt++)Te[Nt][0]==ht&&(Pt=Te[Nt][1]);pe(Oe,ct).forEach(Nt=>{Pt||Te.push([ht,Pt=[]]),Pt.indexOf(Nt)==-1&&Pt.push(Nt)})})});let He=K[he.join(",")]=new re(he.indexOf(Oe.length-1)>-1);for(let Qe=0;Qe<Te.length;Qe++){let ht=Te[Qe][1].sort(ye);He.next.push({type:Te[Qe][0],next:K[ht.join(",")]||Y(ht)})}return He}}function Me(Oe,K){for(let Y=0,he=[Oe];Y<he.length;Y++){let Te=he[Y],He=!Te.validEnd,Qe=[];for(let ht=0;ht<Te.next.length;ht++){let{type:ct,next:Pt}=Te.next[ht];Qe.push(ct.name),He&&!(ct.isText||ct.hasRequiredAttrs())&&(He=!1),he.indexOf(Pt)==-1&&he.push(Pt)}He&&K.err("Only non-generatable nodes ("+Qe.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function je(Oe){let K=Object.create(null);for(let Y in Oe){let he=Oe[Y];if(!he.hasDefault)return null;K[Y]=he.default}return K}function De(Oe,K){let Y=Object.create(null);for(let he in Oe){let Te=K&&K[he];if(Te===void 0){let He=Oe[he];if(He.hasDefault)Te=He.default;else throw new RangeError("No value supplied for attribute "+he)}Y[he]=Te}return Y}function me(Oe){let K=Object.create(null);if(Oe)for(let Y in Oe)K[Y]=new ge(Oe[Y]);return K}class ce{constructor(K,Y,he){this.name=K,this.schema=Y,this.spec=he,this.markSet=null,this.groups=he.group?he.group.split(" "):[],this.attrs=me(he.attrs),this.defaultAttrs=je(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(he.inline||K=="text"),this.isText=K=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==re.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let K in this.attrs)if(this.attrs[K].isRequired)return!0;return!1}compatibleContent(K){return this==K||this.contentMatch.compatible(K.contentMatch)}computeAttrs(K){return!K&&this.defaultAttrs?this.defaultAttrs:De(this.attrs,K)}create(K=null,Y,he){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new te(this,this.computeAttrs(K),g.from(Y),b.setFrom(he))}createChecked(K=null,Y,he){return Y=g.from(Y),this.checkContent(Y),new te(this,this.computeAttrs(K),Y,b.setFrom(he))}createAndFill(K=null,Y,he){if(K=this.computeAttrs(K),Y=g.from(Y),Y.size){let Qe=this.contentMatch.fillBefore(Y);if(!Qe)return null;Y=Qe.append(Y)}let Te=this.contentMatch.matchFragment(Y),He=Te&&Te.fillBefore(g.empty,!0);return He?new te(this,K,Y.append(He),b.setFrom(he)):null}validContent(K){let Y=this.contentMatch.matchFragment(K);if(!Y||!Y.validEnd)return!1;for(let he=0;he<K.childCount;he++)if(!this.allowsMarks(K.child(he).marks))return!1;return!0}checkContent(K){if(!this.validContent(K))throw new RangeError(`Invalid content for node ${this.name}: ${K.toString().slice(0,50)}`)}allowsMarkType(K){return this.markSet==null||this.markSet.indexOf(K)>-1}allowsMarks(K){if(this.markSet==null)return!0;for(let Y=0;Y<K.length;Y++)if(!this.allowsMarkType(K[Y].type))return!1;return!0}allowedMarks(K){if(this.markSet==null)return K;let Y;for(let he=0;he<K.length;he++)this.allowsMarkType(K[he].type)?Y&&Y.push(K[he]):Y||(Y=K.slice(0,he));return Y?Y.length?Y:b.none:K}static compile(K,Y){let he=Object.create(null);K.forEach((He,Qe)=>he[He]=new ce(He,Y,Qe));let Te=Y.spec.topNode||"doc";if(!he[Te])throw new RangeError("Schema is missing its top node type ('"+Te+"')");if(!he.text)throw new RangeError("Every schema needs a 'text' type");for(let He in he.text.attrs)throw new RangeError("The text node type should not have attributes");return he}}class ge{constructor(K){this.hasDefault=Object.prototype.hasOwnProperty.call(K,"default"),this.default=K.default}get isRequired(){return!this.hasDefault}}class Ie{constructor(K,Y,he,Te){this.name=K,this.rank=Y,this.schema=he,this.spec=Te,this.attrs=me(Te.attrs),this.excluded=null;let He=je(this.attrs);this.instance=He?new b(this,He):null}create(K=null){return!K&&this.instance?this.instance:new b(this,De(this.attrs,K))}static compile(K,Y){let he=Object.create(null),Te=0;return K.forEach((He,Qe)=>he[He]=new Ie(He,Te++,Y,Qe)),he}removeFromSet(K){for(var Y=0;Y<K.length;Y++)K[Y].type==this&&(K=K.slice(0,Y).concat(K.slice(Y+1)),Y--);return K}isInSet(K){for(let Y=0;Y<K.length;Y++)if(K[Y].type==this)return K[Y]}excludes(K){return this.excluded.indexOf(K)>-1}}class Re{constructor(K){this.cached=Object.create(null);let Y=this.spec={};for(let Te in K)Y[Te]=K[Te];Y.nodes=m.from(K.nodes),Y.marks=m.from(K.marks||{}),this.nodes=ce.compile(this.spec.nodes,this),this.marks=Ie.compile(this.spec.marks,this);let he=Object.create(null);for(let Te in this.nodes){if(Te in this.marks)throw new RangeError(Te+" can not be both a node and a mark");let He=this.nodes[Te],Qe=He.spec.content||"",ht=He.spec.marks;He.contentMatch=he[Qe]||(he[Qe]=re.parse(Qe,this.nodes)),He.inlineContent=He.contentMatch.inlineContent,He.markSet=ht=="_"?null:ht?Ke(this,ht.split(" ")):ht==""||!He.inlineContent?[]:null}for(let Te in this.marks){let He=this.marks[Te],Qe=He.spec.excludes;He.excluded=Qe==null?[He]:Qe==""?[]:Ke(this,Qe.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(K,Y=null,he,Te){if(typeof K=="string")K=this.nodeType(K);else if(K instanceof ce){if(K.schema!=this)throw new RangeError("Node type from different schema used ("+K.name+")")}else throw new RangeError("Invalid node type: "+K);return K.createChecked(Y,he,Te)}text(K,Y){let he=this.nodes.text;return new B(he,he.defaultAttrs,K,b.setFrom(Y))}mark(K,Y){return typeof K=="string"&&(K=this.marks[K]),K.create(Y)}nodeFromJSON(K){return te.fromJSON(this,K)}markFromJSON(K){return b.fromJSON(this,K)}nodeType(K){let Y=this.nodes[K];if(!Y)throw new RangeError("Unknown node type: "+K);return Y}}function Ke(Oe,K){let Y=[];for(let he=0;he<K.length;he++){let Te=K[he],He=Oe.marks[Te],Qe=He;if(He)Y.push(He);else for(let ht in Oe.marks){let ct=Oe.marks[ht];(Te=="_"||ct.spec.group&&ct.spec.group.split(" ").indexOf(Te)>-1)&&Y.push(Qe=ct)}if(!Qe)throw new SyntaxError("Unknown mark type: '"+K[he]+"'")}return Y}class ut{constructor(K,Y){this.schema=K,this.rules=Y,this.tags=[],this.styles=[],Y.forEach(he=>{he.tag?this.tags.push(he):he.style&&this.styles.push(he)}),this.normalizeLists=!this.tags.some(he=>{if(!/^(ul|ol)\b/.test(he.tag)||!he.node)return!1;let Te=K.nodes[he.node];return Te.contentMatch.matchType(Te)})}parse(K,Y={}){let he=new an(this,Y,!1);return he.addAll(K,Y.from,Y.to),he.finish()}parseSlice(K,Y={}){let he=new an(this,Y,!0);return he.addAll(K,Y.from,Y.to),E.maxOpen(he.finish())}matchTag(K,Y,he){for(let Te=he?this.tags.indexOf(he)+1:0;Te<this.tags.length;Te++){let He=this.tags[Te];if(ke(K,He.tag)&&(He.namespace===void 0||K.namespaceURI==He.namespace)&&(!He.context||Y.matchesContext(He.context))){if(He.getAttrs){let Qe=He.getAttrs(K);if(Qe===!1)continue;He.attrs=Qe||void 0}return He}}}matchStyle(K,Y,he,Te){for(let He=Te?this.styles.indexOf(Te)+1:0;He<this.styles.length;He++){let Qe=this.styles[He],ht=Qe.style;if(!(ht.indexOf(K)!=0||Qe.context&&!he.matchesContext(Qe.context)||ht.length>K.length&&(ht.charCodeAt(K.length)!=61||ht.slice(K.length+1)!=Y))){if(Qe.getAttrs){let ct=Qe.getAttrs(Y);if(ct===!1)continue;Qe.attrs=ct||void 0}return Qe}}}static schemaRules(K){let Y=[];function he(Te){let He=Te.priority==null?50:Te.priority,Qe=0;for(;Qe<Y.length;Qe++){let ht=Y[Qe];if((ht.priority==null?50:ht.priority)<He)break}Y.splice(Qe,0,Te)}for(let Te in K.marks){let He=K.marks[Te].spec.parseDOM;He&&He.forEach(Qe=>{he(Qe=Ne(Qe)),Qe.mark||Qe.ignore||Qe.clearMark||(Qe.mark=Te)})}for(let Te in K.nodes){let He=K.nodes[Te].spec.parseDOM;He&&He.forEach(Qe=>{he(Qe=Ne(Qe)),Qe.node||Qe.ignore||Qe.mark||(Qe.node=Te)})}return Y}static fromSchema(K){return K.cached.domParser||(K.cached.domParser=new ut(K,ut.schemaRules(K)))}}const _t={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ft={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},We={ol:!0,ul:!0},Be=1,lt=2,Tt=4;function xt(Oe,K,Y){return K!=null?(K?Be:0)|(K==="full"?lt:0):Oe&&Oe.whitespace=="pre"?Be|lt:Y&~Tt}class Gt{constructor(K,Y,he,Te,He,Qe,ht){this.type=K,this.attrs=Y,this.marks=he,this.pendingMarks=Te,this.solid=He,this.options=ht,this.content=[],this.activeMarks=b.none,this.stashMarks=[],this.match=Qe||(ht&Tt?null:K.contentMatch)}findWrapping(K){if(!this.match){if(!this.type)return[];let Y=this.type.contentMatch.fillBefore(g.from(K));if(Y)this.match=this.type.contentMatch.matchFragment(Y);else{let he=this.type.contentMatch,Te;return(Te=he.findWrapping(K.type))?(this.match=he,Te):null}}return this.match.findWrapping(K.type)}finish(K){if(!(this.options&Be)){let he=this.content[this.content.length-1],Te;if(he&&he.isText&&(Te=/[ \t\r\n\u000c]+$/.exec(he.text))){let He=he;he.text.length==Te[0].length?this.content.pop():this.content[this.content.length-1]=He.withText(He.text.slice(0,He.text.length-Te[0].length))}}let Y=g.from(this.content);return!K&&this.match&&(Y=Y.append(this.match.fillBefore(g.empty,!0))),this.type?this.type.create(this.attrs,Y,this.marks):Y}popFromStashMark(K){for(let Y=this.stashMarks.length-1;Y>=0;Y--)if(K.eq(this.stashMarks[Y]))return this.stashMarks.splice(Y,1)[0]}applyPending(K){for(let Y=0,he=this.pendingMarks;Y<he.length;Y++){let Te=he[Y];(this.type?this.type.allowsMarkType(Te.type):Fe(Te.type,K))&&!Te.isInSet(this.activeMarks)&&(this.activeMarks=Te.addToSet(this.activeMarks),this.pendingMarks=Te.removeFromSet(this.pendingMarks))}}inlineContext(K){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:K.parentNode&&!_t.hasOwnProperty(K.parentNode.nodeName.toLowerCase())}}class an{constructor(K,Y,he){this.parser=K,this.options=Y,this.isOpen=he,this.open=0;let Te=Y.topNode,He,Qe=xt(null,Y.preserveWhitespace,0)|(he?Tt:0);Te?He=new Gt(Te.type,Te.attrs,b.none,b.none,!0,Y.topMatch||Te.type.contentMatch,Qe):he?He=new Gt(null,null,b.none,b.none,!0,null,Qe):He=new Gt(K.schema.topNodeType,null,b.none,b.none,!0,null,Qe),this.nodes=[He],this.find=Y.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(K){if(K.nodeType==3)this.addTextNode(K);else if(K.nodeType==1){let Y=K.getAttribute("style");if(!Y)this.addElement(K);else{let he=this.readStyles(Ve(Y));if(!he)return;let[Te,He]=he,Qe=this.top;for(let ht=0;ht<He.length;ht++)this.removePendingMark(He[ht],Qe);for(let ht=0;ht<Te.length;ht++)this.addPendingMark(Te[ht]);this.addElement(K);for(let ht=0;ht<Te.length;ht++)this.removePendingMark(Te[ht],Qe);for(let ht=0;ht<He.length;ht++)this.addPendingMark(He[ht])}}}addTextNode(K){let Y=K.nodeValue,he=this.top;if(he.options&lt||he.inlineContext(K)||/[^ \t\r\n\u000c]/.test(Y)){if(he.options&Be)he.options&lt?Y=Y.replace(/\r\n?/g,`
`):Y=Y.replace(/\r?\n|\r/g," ");else if(Y=Y.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(Y)&&this.open==this.nodes.length-1){let Te=he.content[he.content.length-1],He=K.previousSibling;(!Te||He&&He.nodeName=="BR"||Te.isText&&/[ \t\r\n\u000c]$/.test(Te.text))&&(Y=Y.slice(1))}Y&&this.insertNode(this.parser.schema.text(Y)),this.findInText(K)}else this.findInside(K)}addElement(K,Y){let he=K.nodeName.toLowerCase(),Te;We.hasOwnProperty(he)&&this.parser.normalizeLists&&yt(K);let He=this.options.ruleFromNode&&this.options.ruleFromNode(K)||(Te=this.parser.matchTag(K,this,Y));if(He?He.ignore:ft.hasOwnProperty(he))this.findInside(K),this.ignoreFallback(K);else if(!He||He.skip||He.closeParent){He&&He.closeParent?this.open=Math.max(0,this.open-1):He&&He.skip.nodeType&&(K=He.skip);let Qe,ht=this.top,ct=this.needsBlock;if(_t.hasOwnProperty(he))ht.content.length&&ht.content[0].isInline&&this.open&&(this.open--,ht=this.top),Qe=!0,ht.type||(this.needsBlock=!0);else if(!K.firstChild){this.leafFallback(K);return}this.addAll(K),Qe&&this.sync(ht),this.needsBlock=ct}else this.addElementByRule(K,He,He.consuming===!1?Te:void 0)}leafFallback(K){K.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(K.ownerDocument.createTextNode(`
`))}ignoreFallback(K){K.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(K){let Y=b.none,he=b.none;e:for(let Te=0;Te<K.length;Te+=2)for(let He=void 0;;){let Qe=this.parser.matchStyle(K[Te],K[Te+1],this,He);if(!Qe)continue e;if(Qe.ignore)return null;if(Qe.clearMark?this.top.pendingMarks.forEach(ht=>{Qe.clearMark(ht)&&(he=ht.addToSet(he))}):Y=this.parser.schema.marks[Qe.mark].create(Qe.attrs).addToSet(Y),Qe.consuming===!1)He=Qe;else break}return[Y,he]}addElementByRule(K,Y,he){let Te,He,Qe;Y.node?(He=this.parser.schema.nodes[Y.node],He.isLeaf?this.insertNode(He.create(Y.attrs))||this.leafFallback(K):Te=this.enter(He,Y.attrs||null,Y.preserveWhitespace)):(Qe=this.parser.schema.marks[Y.mark].create(Y.attrs),this.addPendingMark(Qe));let ht=this.top;if(He&&He.isLeaf)this.findInside(K);else if(he)this.addElement(K,he);else if(Y.getContent)this.findInside(K),Y.getContent(K,this.parser.schema).forEach(ct=>this.insertNode(ct));else{let ct=K;typeof Y.contentElement=="string"?ct=K.querySelector(Y.contentElement):typeof Y.contentElement=="function"?ct=Y.contentElement(K):Y.contentElement&&(ct=Y.contentElement),this.findAround(K,ct,!0),this.addAll(ct)}Te&&this.sync(ht)&&this.open--,Qe&&this.removePendingMark(Qe,ht)}addAll(K,Y,he){let Te=Y||0;for(let He=Y?K.childNodes[Y]:K.firstChild,Qe=he==null?null:K.childNodes[he];He!=Qe;He=He.nextSibling,++Te)this.findAtPoint(K,Te),this.addDOM(He);this.findAtPoint(K,Te)}findPlace(K){let Y,he;for(let Te=this.open;Te>=0;Te--){let He=this.nodes[Te],Qe=He.findWrapping(K);if(Qe&&(!Y||Y.length>Qe.length)&&(Y=Qe,he=He,!Qe.length)||He.solid)break}if(!Y)return!1;this.sync(he);for(let Te=0;Te<Y.length;Te++)this.enterInner(Y[Te],null,!1);return!0}insertNode(K){if(K.isInline&&this.needsBlock&&!this.top.type){let Y=this.textblockFromContext();Y&&this.enterInner(Y)}if(this.findPlace(K)){this.closeExtra();let Y=this.top;Y.applyPending(K.type),Y.match&&(Y.match=Y.match.matchType(K.type));let he=Y.activeMarks;for(let Te=0;Te<K.marks.length;Te++)(!Y.type||Y.type.allowsMarkType(K.marks[Te].type))&&(he=K.marks[Te].addToSet(he));return Y.content.push(K.mark(he)),!0}return!1}enter(K,Y,he){let Te=this.findPlace(K.create(Y));return Te&&this.enterInner(K,Y,!0,he),Te}enterInner(K,Y=null,he=!1,Te){this.closeExtra();let He=this.top;He.applyPending(K),He.match=He.match&&He.match.matchType(K);let Qe=xt(K,Te,He.options);He.options&Tt&&He.content.length==0&&(Qe|=Tt),this.nodes.push(new Gt(K,Y,He.activeMarks,He.pendingMarks,he,null,Qe)),this.open++}closeExtra(K=!1){let Y=this.nodes.length-1;if(Y>this.open){for(;Y>this.open;Y--)this.nodes[Y-1].content.push(this.nodes[Y].finish(K));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(K){for(let Y=this.open;Y>=0;Y--)if(this.nodes[Y]==K)return this.open=Y,!0;return!1}get currentPos(){this.closeExtra();let K=0;for(let Y=this.open;Y>=0;Y--){let he=this.nodes[Y].content;for(let Te=he.length-1;Te>=0;Te--)K+=he[Te].nodeSize;Y&&K++}return K}findAtPoint(K,Y){if(this.find)for(let he=0;he<this.find.length;he++)this.find[he].node==K&&this.find[he].offset==Y&&(this.find[he].pos=this.currentPos)}findInside(K){if(this.find)for(let Y=0;Y<this.find.length;Y++)this.find[Y].pos==null&&K.nodeType==1&&K.contains(this.find[Y].node)&&(this.find[Y].pos=this.currentPos)}findAround(K,Y,he){if(K!=Y&&this.find)for(let Te=0;Te<this.find.length;Te++)this.find[Te].pos==null&&K.nodeType==1&&K.contains(this.find[Te].node)&&Y.compareDocumentPosition(this.find[Te].node)&(he?2:4)&&(this.find[Te].pos=this.currentPos)}findInText(K){if(this.find)for(let Y=0;Y<this.find.length;Y++)this.find[Y].node==K&&(this.find[Y].pos=this.currentPos-(K.nodeValue.length-this.find[Y].offset))}matchesContext(K){if(K.indexOf("|")>-1)return K.split(/\s*\|\s*/).some(this.matchesContext,this);let Y=K.split("/"),he=this.options.context,Te=!this.isOpen&&(!he||he.parent.type==this.nodes[0].type),He=-(he?he.depth+1:0)+(Te?0:1),Qe=(ht,ct)=>{for(;ht>=0;ht--){let Pt=Y[ht];if(Pt==""){if(ht==Y.length-1||ht==0)continue;for(;ct>=He;ct--)if(Qe(ht-1,ct))return!0;return!1}else{let Nt=ct>0||ct==0&&Te?this.nodes[ct].type:he&&ct>=He?he.node(ct-He).type:null;if(!Nt||Nt.name!=Pt&&Nt.groups.indexOf(Pt)==-1)return!1;ct--}}return!0};return Qe(Y.length-1,this.open)}textblockFromContext(){let K=this.options.context;if(K)for(let Y=K.depth;Y>=0;Y--){let he=K.node(Y).contentMatchAt(K.indexAfter(Y)).defaultType;if(he&&he.isTextblock&&he.defaultAttrs)return he}for(let Y in this.parser.schema.nodes){let he=this.parser.schema.nodes[Y];if(he.isTextblock&&he.defaultAttrs)return he}}addPendingMark(K){let Y=Ue(K,this.top.pendingMarks);Y&&this.top.stashMarks.push(Y),this.top.pendingMarks=K.addToSet(this.top.pendingMarks)}removePendingMark(K,Y){for(let he=this.open;he>=0;he--){let Te=this.nodes[he];if(Te.pendingMarks.lastIndexOf(K)>-1)Te.pendingMarks=K.removeFromSet(Te.pendingMarks);else{Te.activeMarks=K.removeFromSet(Te.activeMarks);let Qe=Te.popFromStashMark(K);Qe&&Te.type&&Te.type.allowsMarkType(Qe.type)&&(Te.activeMarks=Qe.addToSet(Te.activeMarks))}if(Te==Y)break}}}function yt(Oe){for(let K=Oe.firstChild,Y=null;K;K=K.nextSibling){let he=K.nodeType==1?K.nodeName.toLowerCase():null;he&&We.hasOwnProperty(he)&&Y?(Y.appendChild(K),K=Y):he=="li"?Y=K:he&&(Y=null)}}function ke(Oe,K){return(Oe.matches||Oe.msMatchesSelector||Oe.webkitMatchesSelector||Oe.mozMatchesSelector).call(Oe,K)}function Ve(Oe){let K=/\s*([\w-]+)\s*:\s*([^;]+)/g,Y,he=[];for(;Y=K.exec(Oe);)he.push(Y[1],Y[2].trim());return he}function Ne(Oe){let K={};for(let Y in Oe)K[Y]=Oe[Y];return K}function Fe(Oe,K){let Y=K.schema.nodes;for(let he in Y){let Te=Y[he];if(!Te.allowsMarkType(Oe))continue;let He=[],Qe=ht=>{He.push(ht);for(let ct=0;ct<ht.edgeCount;ct++){let{type:Pt,next:Nt}=ht.edge(ct);if(Pt==K||He.indexOf(Nt)<0&&Qe(Nt))return!0}};if(Qe(Te.contentMatch))return!0}}function Ue(Oe,K){for(let Y=0;Y<K.length;Y++)if(Oe.eq(K[Y]))return K[Y]}class be{constructor(K,Y){this.nodes=K,this.marks=Y}serializeFragment(K,Y={},he){he||(he=nt(Y).createDocumentFragment());let Te=he,He=[];return K.forEach(Qe=>{if(He.length||Qe.marks.length){let ht=0,ct=0;for(;ht<He.length&&ct<Qe.marks.length;){let Pt=Qe.marks[ct];if(!this.marks[Pt.type.name]){ct++;continue}if(!Pt.eq(He[ht][0])||Pt.type.spec.spanning===!1)break;ht++,ct++}for(;ht<He.length;)Te=He.pop()[1];for(;ct<Qe.marks.length;){let Pt=Qe.marks[ct++],Nt=this.serializeMark(Pt,Qe.isInline,Y);Nt&&(He.push([Pt,Te]),Te.appendChild(Nt.dom),Te=Nt.contentDOM||Nt.dom)}}Te.appendChild(this.serializeNodeInner(Qe,Y))}),he}serializeNodeInner(K,Y){let{dom:he,contentDOM:Te}=be.renderSpec(nt(Y),this.nodes[K.type.name](K));if(Te){if(K.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(K.content,Y,Te)}return he}serializeNode(K,Y={}){let he=this.serializeNodeInner(K,Y);for(let Te=K.marks.length-1;Te>=0;Te--){let He=this.serializeMark(K.marks[Te],K.isInline,Y);He&&((He.contentDOM||He.dom).appendChild(he),he=He.dom)}return he}serializeMark(K,Y,he={}){let Te=this.marks[K.type.name];return Te&&be.renderSpec(nt(he),Te(K,Y))}static renderSpec(K,Y,he=null){if(typeof Y=="string")return{dom:K.createTextNode(Y)};if(Y.nodeType!=null)return{dom:Y};if(Y.dom&&Y.dom.nodeType!=null)return Y;let Te=Y[0],He=Te.indexOf(" ");He>0&&(he=Te.slice(0,He),Te=Te.slice(He+1));let Qe,ht=he?K.createElementNS(he,Te):K.createElement(Te),ct=Y[1],Pt=1;if(ct&&typeof ct=="object"&&ct.nodeType==null&&!Array.isArray(ct)){Pt=2;for(let Nt in ct)if(ct[Nt]!=null){let sn=Nt.indexOf(" ");sn>0?ht.setAttributeNS(Nt.slice(0,sn),Nt.slice(sn+1),ct[Nt]):ht.setAttribute(Nt,ct[Nt])}}for(let Nt=Pt;Nt<Y.length;Nt++){let sn=Y[Nt];if(sn===0){if(Nt<Y.length-1||Nt>Pt)throw new RangeError("Content hole must be the only child of its parent node");return{dom:ht,contentDOM:ht}}else{let{dom:Et,contentDOM:Ot}=be.renderSpec(K,sn,he);if(ht.appendChild(Et),Ot){if(Qe)throw new RangeError("Multiple content holes");Qe=Ot}}}return{dom:ht,contentDOM:Qe}}static fromSchema(K){return K.cached.domSerializer||(K.cached.domSerializer=new be(this.nodesFromSchema(K),this.marksFromSchema(K)))}static nodesFromSchema(K){let Y=Ge(K.nodes);return Y.text||(Y.text=he=>he.text),Y}static marksFromSchema(K){return Ge(K.marks)}}function Ge(Oe){let K={};for(let Y in Oe){let he=Oe[Y].spec.toDOM;he&&(K[Y]=he)}return K}function nt(Oe){return Oe.document||window.document}},53833:(G,s,e)=>{"use strict";e.d(s,{IB:()=>_,KI:()=>E,bw:()=>P});var o=e(16560),m=e(87823);const f=["ol",0],d=["ul",0],g=["li",0],y={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(S){return{order:S.hasAttribute("start")?+S.getAttribute("start"):1}}}],toDOM(S){return S.attrs.order==1?f:["ol",{start:S.attrs.order},0]}},C={parseDOM:[{tag:"ul"}],toDOM(){return d}},v={parseDOM:[{tag:"li"}],toDOM(){return g},defining:!0};function b(S,M){let R={};for(let N in S)R[N]=S[N];for(let N in M)R[N]=M[N];return R}function x(S,M,R){return S.append({ordered_list:b(y,{content:"list_item+",group:R}),bullet_list:b(C,{content:"list_item+",group:R}),list_item:b(v,{content:M})})}function E(S,M=null){return function(R,N){let{$from:T,$to:A}=R.selection,W=T.blockRange(A),j=!1,Z=W;if(!W)return!1;if(W.depth>=2&&T.node(W.depth-1).type.compatibleContent(S)&&W.startIndex==0){if(T.index(W.depth-1)==0)return!1;let Q=R.doc.resolve(W.start-2);Z=new m.Ts(Q,Q,W.depth),W.endIndex<W.parent.childCount&&(W=new m.Ts(T,R.doc.resolve(A.end(W.depth)),W.depth)),j=!0}let J=(0,o.nd)(Z,S,M,W);return J?(N&&N(O(R.tr,W,J,j,S).scrollIntoView()),!0):!1}}function O(S,M,R,N,T){let A=m.HY.empty;for(let Q=R.length-1;Q>=0;Q--)A=m.HY.from(R[Q].type.create(R[Q].attrs,A));S.step(new o.FC(M.start-(N?2:0),M.end,M.start,M.end,new m.p2(A,0,0),R.length,!0));let W=0;for(let Q=0;Q<R.length;Q++)R[Q].type==T&&(W=Q+1);let j=R.length-W,Z=M.start+R.length-(N?2:0),J=M.parent;for(let Q=M.startIndex,ne=M.endIndex,te=!0;Q<ne;Q++,te=!1)!te&&(0,o.Ax)(S.doc,Z,j)&&(S.split(Z,j),Z+=2*j),Z+=J.child(Q).nodeSize;return S}function w(S){return function(M,R){let{$from:N,$to:T,node:A}=M.selection;if(A&&A.isBlock||N.depth<2||!N.sameParent(T))return!1;let W=N.node(-1);if(W.type!=S)return!1;if(N.parent.content.size==0&&N.node(-1).childCount==N.indexAfter(-1)){if(N.depth==3||N.node(-3).type!=S||N.index(-2)!=N.node(-2).childCount-1)return!1;if(R){let Q=Fragment.empty,ne=N.index(-1)?1:N.index(-2)?2:3;for(let le=N.depth-ne;le>=N.depth-3;le--)Q=Fragment.from(N.node(le).copy(Q));let te=N.indexAfter(-1)<N.node(-2).childCount?1:N.indexAfter(-2)<N.node(-3).childCount?2:3;Q=Q.append(Fragment.from(S.createAndFill()));let B=N.before(N.depth-(ne-1)),V=M.tr.replace(B,N.after(-te),new Slice(Q,4-ne,0)),re=-1;V.doc.nodesBetween(B,V.doc.content.size,(le,ae)=>{if(re>-1)return!1;le.isTextblock&&le.content.size==0&&(re=ae+1)}),re>-1&&V.setSelection(Selection.near(V.doc.resolve(re))),R(V.scrollIntoView())}return!0}let j=T.pos==N.end()?W.contentMatchAt(0).defaultType:null,Z=M.tr.delete(N.pos,T.pos),J=j?[null,{type:j}]:void 0;return canSplit(Z.doc,N.pos,2,J)?(R&&R(Z.split(N.pos,2,J).scrollIntoView()),!0):!1}}function _(S){return function(M,R){let{$from:N,$to:T}=M.selection,A=N.blockRange(T,W=>W.childCount>0&&W.firstChild.type==S);return A?R?N.node(A.depth-1).type==S?a(M,R,S,A):l(M,R,A):!0:!1}}function a(S,M,R,N){let T=S.tr,A=N.end,W=N.$to.end(N.depth);A<W&&(T.step(new o.FC(A-1,W,A,W,new m.p2(m.HY.from(R.create(null,N.parent.copy())),1,0),1,!0)),N=new m.Ts(T.doc.resolve(N.$from.pos),T.doc.resolve(W),N.depth));const j=(0,o.k9)(N);if(j==null)return!1;T.lift(N,j);let Z=T.mapping.map(A,-1)-1;return(0,o.Mn)(T.doc,Z)&&T.join(Z),M(T.scrollIntoView()),!0}function l(S,M,R){let N=S.tr,T=R.parent;for(let B=R.end,V=R.endIndex-1,re=R.startIndex;V>re;V--)B-=T.child(V).nodeSize,N.delete(B-1,B+1);let A=N.doc.resolve(R.start),W=A.nodeAfter;if(N.mapping.map(R.end)!=R.start+A.nodeAfter.nodeSize)return!1;let j=R.startIndex==0,Z=R.endIndex==T.childCount,J=A.node(-1),Q=A.index(-1);if(!J.canReplace(Q+(j?0:1),Q+1,W.content.append(Z?m.HY.empty:m.HY.from(T))))return!1;let ne=A.pos,te=ne+W.nodeSize;return N.step(new o.FC(ne-(j?1:0),te+(Z?1:0),ne+1,te-1,new m.p2((j?m.HY.empty:m.HY.from(T.copy(m.HY.empty))).append(Z?m.HY.empty:m.HY.from(T.copy(m.HY.empty))),j?0:1,Z?0:1),j?0:1)),M(N.scrollIntoView()),!0}function P(S){return function(M,R){let{$from:N,$to:T}=M.selection,A=N.blockRange(T,J=>J.childCount>0&&J.firstChild.type==S);if(!A)return!1;let W=A.startIndex;if(W==0)return!1;let j=A.parent,Z=j.child(W-1);if(Z.type!=S)return!1;if(R){let J=Z.lastChild&&Z.lastChild.type==j.type,Q=m.HY.from(J?S.create():null),ne=new m.p2(m.HY.from(S.create(null,m.HY.from(j.type.create(null,Q)))),J?3:1,0),te=A.start,B=A.end;R(M.tr.step(new o.FC(te-(J?3:1),B,te,B,ne,1,!0)).scrollIntoView())}return!0}}},2376:(G,s,e)=>{"use strict";e.d(s,{Bs:()=>v,C1:()=>O,H$:()=>ne,Sy:()=>Z,Y1:()=>d,qv:()=>x,yy:()=>W});var o=e(87823),m=e(16560);const f=Object.create(null);class d{constructor(B,V,re){this.$anchor=B,this.$head=V,this.ranges=re||[new g(B.min(V),B.max(V))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let B=this.ranges;for(let V=0;V<B.length;V++)if(B[V].$from.pos!=B[V].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(B,V=o.p2.empty){let re=V.content.lastChild,le=null;for(let oe=0;oe<V.openEnd;oe++)le=re,re=re.lastChild;let ae=B.steps.length,q=this.ranges;for(let oe=0;oe<q.length;oe++){let{$from:z,$to:ie}=q[oe],ue=B.mapping.slice(ae);B.replaceRange(ue.map(z.pos),ue.map(ie.pos),oe?o.p2.empty:V),oe==0&&a(B,ae,(re?re.isInline:le&&le.isTextblock)?-1:1)}}replaceWith(B,V){let re=B.steps.length,le=this.ranges;for(let ae=0;ae<le.length;ae++){let{$from:q,$to:oe}=le[ae],z=B.mapping.slice(re),ie=z.map(q.pos),ue=z.map(oe.pos);ae?B.deleteRange(ie,ue):(B.replaceRangeWith(ie,ue,V),a(B,re,V.isInline?-1:1))}}static findFrom(B,V,re=!1){let le=B.parent.inlineContent?new v(B):_(B.node(0),B.parent,B.pos,B.index(),V,re);if(le)return le;for(let ae=B.depth-1;ae>=0;ae--){let q=V<0?_(B.node(0),B.node(ae),B.before(ae+1),B.index(ae),V,re):_(B.node(0),B.node(ae),B.after(ae+1),B.index(ae)+1,V,re);if(q)return q}return null}static near(B,V=1){return this.findFrom(B,V)||this.findFrom(B,-V)||new O(B.node(0))}static atStart(B){return _(B,B,0,0,1)||new O(B)}static atEnd(B){return _(B,B,B.content.size,B.childCount,-1)||new O(B)}static fromJSON(B,V){if(!V||!V.type)throw new RangeError("Invalid input for Selection.fromJSON");let re=f[V.type];if(!re)throw new RangeError(`No selection type ${V.type} defined`);return re.fromJSON(B,V)}static jsonID(B,V){if(B in f)throw new RangeError("Duplicate use of selection JSON ID "+B);return f[B]=V,V.prototype.jsonID=B,V}getBookmark(){return v.between(this.$anchor,this.$head).getBookmark()}}d.prototype.visible=!0;class g{constructor(B,V){this.$from=B,this.$to=V}}let y=!1;function C(te){!y&&!te.parent.inlineContent&&(y=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+te.parent.type.name+")"))}class v extends d{constructor(B,V=B){C(B),C(V),super(B,V)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(B,V){let re=B.resolve(V.map(this.head));if(!re.parent.inlineContent)return d.near(re);let le=B.resolve(V.map(this.anchor));return new v(le.parent.inlineContent?le:re,re)}replace(B,V=o.p2.empty){if(super.replace(B,V),V==o.p2.empty){let re=this.$from.marksAcross(this.$to);re&&B.ensureMarks(re)}}eq(B){return B instanceof v&&B.anchor==this.anchor&&B.head==this.head}getBookmark(){return new b(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(B,V){if(typeof V.anchor!="number"||typeof V.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new v(B.resolve(V.anchor),B.resolve(V.head))}static create(B,V,re=V){let le=B.resolve(V);return new this(le,re==V?le:B.resolve(re))}static between(B,V,re){let le=B.pos-V.pos;if((!re||le)&&(re=le>=0?1:-1),!V.parent.inlineContent){let ae=d.findFrom(V,re,!0)||d.findFrom(V,-re,!0);if(ae)V=ae.$head;else return d.near(V,re)}return B.parent.inlineContent||(le==0?B=V:(B=(d.findFrom(B,-re,!0)||d.findFrom(B,re,!0)).$anchor,B.pos<V.pos!=le<0&&(B=V))),new v(B,V)}}d.jsonID("text",v);class b{constructor(B,V){this.anchor=B,this.head=V}map(B){return new b(B.map(this.anchor),B.map(this.head))}resolve(B){return v.between(B.resolve(this.anchor),B.resolve(this.head))}}class x extends d{constructor(B){let V=B.nodeAfter,re=B.node(0).resolve(B.pos+V.nodeSize);super(B,re),this.node=V}map(B,V){let{deleted:re,pos:le}=V.mapResult(this.anchor),ae=B.resolve(le);return re?d.near(ae):new x(ae)}content(){return new o.p2(o.HY.from(this.node),0,0)}eq(B){return B instanceof x&&B.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new E(this.anchor)}static fromJSON(B,V){if(typeof V.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new x(B.resolve(V.anchor))}static create(B,V){return new x(B.resolve(V))}static isSelectable(B){return!B.isText&&B.type.spec.selectable!==!1}}x.prototype.visible=!1,d.jsonID("node",x);class E{constructor(B){this.anchor=B}map(B){let{deleted:V,pos:re}=B.mapResult(this.anchor);return V?new b(re,re):new E(re)}resolve(B){let V=B.resolve(this.anchor),re=V.nodeAfter;return re&&x.isSelectable(re)?new x(V):d.near(V)}}class O extends d{constructor(B){super(B.resolve(0),B.resolve(B.content.size))}replace(B,V=o.p2.empty){if(V==o.p2.empty){B.delete(0,B.doc.content.size);let re=d.atStart(B.doc);re.eq(B.selection)||B.setSelection(re)}else super.replace(B,V)}toJSON(){return{type:"all"}}static fromJSON(B){return new O(B)}map(B){return new O(B)}eq(B){return B instanceof O}getBookmark(){return w}}d.jsonID("all",O);const w={map(){return this},resolve(te){return new O(te)}};function _(te,B,V,re,le,ae=!1){if(B.inlineContent)return v.create(te,V);for(let q=re-(le>0?0:1);le>0?q<B.childCount:q>=0;q+=le){let oe=B.child(q);if(oe.isAtom){if(!ae&&x.isSelectable(oe))return x.create(te,V-(le<0?oe.nodeSize:0))}else{let z=_(te,oe,V+le,le<0?oe.childCount:0,le,ae);if(z)return z}V+=oe.nodeSize*le}return null}function a(te,B,V){let re=te.steps.length-1;if(re<B)return;let le=te.steps[re];if(!(le instanceof m.Pu||le instanceof m.FC))return;let ae=te.mapping.maps[re],q;ae.forEach((oe,z,ie,ue)=>{q==null&&(q=ue)}),te.setSelection(d.near(te.doc.resolve(q),V))}const l=1,P=2,S=4;class M extends m.wx{constructor(B){super(B.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=B.selection,this.storedMarks=B.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(B){if(B.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=B,this.curSelectionFor=this.steps.length,this.updated=(this.updated|l)&~P,this.storedMarks=null,this}get selectionSet(){return(this.updated&l)>0}setStoredMarks(B){return this.storedMarks=B,this.updated|=P,this}ensureMarks(B){return o.vc.sameSet(this.storedMarks||this.selection.$from.marks(),B)||this.setStoredMarks(B),this}addStoredMark(B){return this.ensureMarks(B.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(B){return this.ensureMarks(B.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&P)>0}addStep(B,V){super.addStep(B,V),this.updated=this.updated&~P,this.storedMarks=null}setTime(B){return this.time=B,this}replaceSelection(B){return this.selection.replace(this,B),this}replaceSelectionWith(B,V=!0){let re=this.selection;return V&&(B=B.mark(this.storedMarks||(re.empty?re.$from.marks():re.$from.marksAcross(re.$to)||o.vc.none))),re.replaceWith(this,B),this}deleteSelection(){return this.selection.replace(this),this}insertText(B,V,re){let le=this.doc.type.schema;if(V==null)return B?this.replaceSelectionWith(le.text(B),!0):this.deleteSelection();{if(re==null&&(re=V),re=re==null?V:re,!B)return this.deleteRange(V,re);let ae=this.storedMarks;if(!ae){let q=this.doc.resolve(V);ae=re==V?q.marks():q.marksAcross(this.doc.resolve(re))}return this.replaceRangeWith(V,re,le.text(B,ae)),this.selection.empty||this.setSelection(d.near(this.selection.$to)),this}}setMeta(B,V){return this.meta[typeof B=="string"?B:B.key]=V,this}getMeta(B){return this.meta[typeof B=="string"?B:B.key]}get isGeneric(){for(let B in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=S,this}get scrolledIntoView(){return(this.updated&S)>0}}function R(te,B){return!B||!te?te:te.bind(B)}class N{constructor(B,V,re){this.name=B,this.init=R(V.init,re),this.apply=R(V.apply,re)}}const T=[new N("doc",{init(te){return te.doc||te.schema.topNodeType.createAndFill()},apply(te){return te.doc}}),new N("selection",{init(te,B){return te.selection||d.atStart(B.doc)},apply(te){return te.selection}}),new N("storedMarks",{init(te){return te.storedMarks||null},apply(te,B,V,re){return re.selection.$cursor?te.storedMarks:null}}),new N("scrollToSelection",{init(){return 0},apply(te,B){return te.scrolledIntoView?B+1:B}})];class A{constructor(B,V){this.schema=B,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=T.slice(),V&&V.forEach(re=>{if(this.pluginsByKey[re.key])throw new RangeError("Adding different instances of a keyed plugin ("+re.key+")");this.plugins.push(re),this.pluginsByKey[re.key]=re,re.spec.state&&this.fields.push(new N(re.key,re.spec.state,re))})}}class W{constructor(B){this.config=B}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(B){return this.applyTransaction(B).state}filterTransaction(B,V=-1){for(let re=0;re<this.config.plugins.length;re++)if(re!=V){let le=this.config.plugins[re];if(le.spec.filterTransaction&&!le.spec.filterTransaction.call(le,B,this))return!1}return!0}applyTransaction(B){if(!this.filterTransaction(B))return{state:this,transactions:[]};let V=[B],re=this.applyInner(B),le=null;for(;;){let ae=!1;for(let q=0;q<this.config.plugins.length;q++){let oe=this.config.plugins[q];if(oe.spec.appendTransaction){let z=le?le[q].n:0,ie=le?le[q].state:this,ue=z<V.length&&oe.spec.appendTransaction.call(oe,z?V.slice(z):V,ie,re);if(ue&&re.filterTransaction(ue,q)){if(ue.setMeta("appendedTransaction",B),!le){le=[];for(let de=0;de<this.config.plugins.length;de++)le.push(de<q?{state:re,n:V.length}:{state:this,n:0})}V.push(ue),re=re.applyInner(ue),ae=!0}le&&(le[q]={state:re,n:V.length})}}if(!ae)return{state:re,transactions:V}}}applyInner(B){if(!B.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let V=new W(this.config),re=this.config.fields;for(let le=0;le<re.length;le++){let ae=re[le];V[ae.name]=ae.apply(B,this[ae.name],this,V)}return V}get tr(){return new M(this)}static create(B){let V=new A(B.doc?B.doc.type.schema:B.schema,B.plugins),re=new W(V);for(let le=0;le<V.fields.length;le++)re[V.fields[le].name]=V.fields[le].init(B,re);return re}reconfigure(B){let V=new A(this.schema,B.plugins),re=V.fields,le=new W(V);for(let ae=0;ae<re.length;ae++){let q=re[ae].name;le[q]=this.hasOwnProperty(q)?this[q]:re[ae].init(B,le)}return le}toJSON(B){let V={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(V.storedMarks=this.storedMarks.map(re=>re.toJSON())),B&&typeof B=="object")for(let re in B){if(re=="doc"||re=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let le=B[re],ae=le.spec.state;ae&&ae.toJSON&&(V[re]=ae.toJSON.call(le,this[le.key]))}return V}static fromJSON(B,V,re){if(!V)throw new RangeError("Invalid input for EditorState.fromJSON");if(!B.schema)throw new RangeError("Required config field 'schema' missing");let le=new A(B.schema,B.plugins),ae=new W(le);return le.fields.forEach(q=>{if(q.name=="doc")ae.doc=o.NB.fromJSON(B.schema,V.doc);else if(q.name=="selection")ae.selection=d.fromJSON(ae.doc,V.selection);else if(q.name=="storedMarks")V.storedMarks&&(ae.storedMarks=V.storedMarks.map(B.schema.markFromJSON));else{if(re)for(let oe in re){let z=re[oe],ie=z.spec.state;if(z.key==q.name&&ie&&ie.fromJSON&&Object.prototype.hasOwnProperty.call(V,oe)){ae[q.name]=ie.fromJSON.call(z,B,V[oe],ae);return}}ae[q.name]=q.init(B,ae)}}),ae}}function j(te,B,V){for(let re in te){let le=te[re];le instanceof Function?le=le.bind(B):re=="handleDOMEvents"&&(le=j(le,B,{})),V[re]=le}return V}class Z{constructor(B){this.spec=B,this.props={},B.props&&j(B.props,this,this.props),this.key=B.key?B.key.key:Q("plugin")}getState(B){return B[this.key]}}const J=Object.create(null);function Q(te){return te in J?te+"$"+ ++J[te]:(J[te]=0,te+"$")}class ne{constructor(B="key"){this.key=Q(B)}get(B){return B.config.pluginsByKey[this.key]}getState(B){return B[this.key]}}},16560:(G,s,e)=>{"use strict";e.d(s,{Ax:()=>ie,FC:()=>A,GJ:()=>ye,Mn:()=>de,Pu:()=>T,dR:()=>je,k9:()=>ne,nd:()=>B,nj:()=>Me,vs:()=>w,wx:()=>an});var o=e(87823);const m=65535,f=Math.pow(2,16);function d(yt,ke){return yt+ke*f}function g(yt){return yt&m}function y(yt){return(yt-(yt&m))/f}const C=1,v=2,b=4,x=8;class E{constructor(ke,Ve,Ne){this.pos=ke,this.delInfo=Ve,this.recover=Ne}get deleted(){return(this.delInfo&x)>0}get deletedBefore(){return(this.delInfo&(C|b))>0}get deletedAfter(){return(this.delInfo&(v|b))>0}get deletedAcross(){return(this.delInfo&b)>0}}class O{constructor(ke,Ve=!1){if(this.ranges=ke,this.inverted=Ve,!ke.length&&O.empty)return O.empty}recover(ke){let Ve=0,Ne=g(ke);if(!this.inverted)for(let Fe=0;Fe<Ne;Fe++)Ve+=this.ranges[Fe*3+2]-this.ranges[Fe*3+1];return this.ranges[Ne*3]+Ve+y(ke)}mapResult(ke,Ve=1){return this._map(ke,Ve,!1)}map(ke,Ve=1){return this._map(ke,Ve,!0)}_map(ke,Ve,Ne){let Fe=0,Ue=this.inverted?2:1,be=this.inverted?1:2;for(let Ge=0;Ge<this.ranges.length;Ge+=3){let nt=this.ranges[Ge]-(this.inverted?Fe:0);if(nt>ke)break;let Oe=this.ranges[Ge+Ue],K=this.ranges[Ge+be],Y=nt+Oe;if(ke<=Y){let he=Oe?ke==nt?-1:ke==Y?1:Ve:Ve,Te=nt+Fe+(he<0?0:K);if(Ne)return Te;let He=ke==(Ve<0?nt:Y)?null:d(Ge/3,ke-nt),Qe=ke==nt?v:ke==Y?C:b;return(Ve<0?ke!=nt:ke!=Y)&&(Qe|=x),new E(Te,Qe,He)}Fe+=K-Oe}return Ne?ke+Fe:new E(ke+Fe,0,null)}touches(ke,Ve){let Ne=0,Fe=g(Ve),Ue=this.inverted?2:1,be=this.inverted?1:2;for(let Ge=0;Ge<this.ranges.length;Ge+=3){let nt=this.ranges[Ge]-(this.inverted?Ne:0);if(nt>ke)break;let Oe=this.ranges[Ge+Ue],K=nt+Oe;if(ke<=K&&Ge==Fe*3)return!0;Ne+=this.ranges[Ge+be]-Oe}return!1}forEach(ke){let Ve=this.inverted?2:1,Ne=this.inverted?1:2;for(let Fe=0,Ue=0;Fe<this.ranges.length;Fe+=3){let be=this.ranges[Fe],Ge=be-(this.inverted?Ue:0),nt=be+(this.inverted?0:Ue),Oe=this.ranges[Fe+Ve],K=this.ranges[Fe+Ne];ke(Ge,Ge+Oe,nt,nt+K),Ue+=K-Oe}}invert(){return new O(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(ke){return ke==0?O.empty:new O(ke<0?[0,-ke,0]:[0,0,ke])}}O.empty=new O([]);class w{constructor(ke=[],Ve,Ne=0,Fe=ke.length){this.maps=ke,this.mirror=Ve,this.from=Ne,this.to=Fe}slice(ke=0,Ve=this.maps.length){return new w(this.maps,this.mirror,ke,Ve)}copy(){return new w(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(ke,Ve){this.to=this.maps.push(ke),Ve!=null&&this.setMirror(this.maps.length-1,Ve)}appendMapping(ke){for(let Ve=0,Ne=this.maps.length;Ve<ke.maps.length;Ve++){let Fe=ke.getMirror(Ve);this.appendMap(ke.maps[Ve],Fe!=null&&Fe<Ve?Ne+Fe:void 0)}}getMirror(ke){if(this.mirror){for(let Ve=0;Ve<this.mirror.length;Ve++)if(this.mirror[Ve]==ke)return this.mirror[Ve+(Ve%2?-1:1)]}}setMirror(ke,Ve){this.mirror||(this.mirror=[]),this.mirror.push(ke,Ve)}appendMappingInverted(ke){for(let Ve=ke.maps.length-1,Ne=this.maps.length+ke.maps.length;Ve>=0;Ve--){let Fe=ke.getMirror(Ve);this.appendMap(ke.maps[Ve].invert(),Fe!=null&&Fe>Ve?Ne-Fe-1:void 0)}}invert(){let ke=new w;return ke.appendMappingInverted(this),ke}map(ke,Ve=1){if(this.mirror)return this._map(ke,Ve,!0);for(let Ne=this.from;Ne<this.to;Ne++)ke=this.maps[Ne].map(ke,Ve);return ke}mapResult(ke,Ve=1){return this._map(ke,Ve,!1)}_map(ke,Ve,Ne){let Fe=0;for(let Ue=this.from;Ue<this.to;Ue++){let be=this.maps[Ue],Ge=be.mapResult(ke,Ve);if(Ge.recover!=null){let nt=this.getMirror(Ue);if(nt!=null&&nt>Ue&&nt<this.to){Ue=nt,ke=this.maps[nt].recover(Ge.recover);continue}}Fe|=Ge.delInfo,ke=Ge.pos}return Ne?ke:new E(ke,Fe,null)}}const _=Object.create(null);class a{getMap(){return O.empty}merge(ke){return null}static fromJSON(ke,Ve){if(!Ve||!Ve.stepType)throw new RangeError("Invalid input for Step.fromJSON");let Ne=_[Ve.stepType];if(!Ne)throw new RangeError(`No step type ${Ve.stepType} defined`);return Ne.fromJSON(ke,Ve)}static jsonID(ke,Ve){if(ke in _)throw new RangeError("Duplicate use of step JSON ID "+ke);return _[ke]=Ve,Ve.prototype.jsonID=ke,Ve}}class l{constructor(ke,Ve){this.doc=ke,this.failed=Ve}static ok(ke){return new l(ke,null)}static fail(ke){return new l(null,ke)}static fromReplace(ke,Ve,Ne,Fe){try{return l.ok(ke.replace(Ve,Ne,Fe))}catch(Ue){if(Ue instanceof o.e4)return l.fail(Ue.message);throw Ue}}}function P(yt,ke,Ve){let Ne=[];for(let Fe=0;Fe<yt.childCount;Fe++){let Ue=yt.child(Fe);Ue.content.size&&(Ue=Ue.copy(P(Ue.content,ke,Ue))),Ue.isInline&&(Ue=ke(Ue,Ve,Fe)),Ne.push(Ue)}return o.HY.fromArray(Ne)}class S extends a{constructor(ke,Ve,Ne){super(),this.from=ke,this.to=Ve,this.mark=Ne}apply(ke){let Ve=ke.slice(this.from,this.to),Ne=ke.resolve(this.from),Fe=Ne.node(Ne.sharedDepth(this.to)),Ue=new o.p2(P(Ve.content,(be,Ge)=>!be.isAtom||!Ge.type.allowsMarkType(this.mark.type)?be:be.mark(this.mark.addToSet(be.marks)),Fe),Ve.openStart,Ve.openEnd);return l.fromReplace(ke,this.from,this.to,Ue)}invert(){return new M(this.from,this.to,this.mark)}map(ke){let Ve=ke.mapResult(this.from,1),Ne=ke.mapResult(this.to,-1);return Ve.deleted&&Ne.deleted||Ve.pos>=Ne.pos?null:new S(Ve.pos,Ne.pos,this.mark)}merge(ke){return ke instanceof S&&ke.mark.eq(this.mark)&&this.from<=ke.to&&this.to>=ke.from?new S(Math.min(this.from,ke.from),Math.max(this.to,ke.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(ke,Ve){if(typeof Ve.from!="number"||typeof Ve.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new S(Ve.from,Ve.to,ke.markFromJSON(Ve.mark))}}a.jsonID("addMark",S);class M extends a{constructor(ke,Ve,Ne){super(),this.from=ke,this.to=Ve,this.mark=Ne}apply(ke){let Ve=ke.slice(this.from,this.to),Ne=new o.p2(P(Ve.content,Fe=>Fe.mark(this.mark.removeFromSet(Fe.marks)),ke),Ve.openStart,Ve.openEnd);return l.fromReplace(ke,this.from,this.to,Ne)}invert(){return new S(this.from,this.to,this.mark)}map(ke){let Ve=ke.mapResult(this.from,1),Ne=ke.mapResult(this.to,-1);return Ve.deleted&&Ne.deleted||Ve.pos>=Ne.pos?null:new M(Ve.pos,Ne.pos,this.mark)}merge(ke){return ke instanceof M&&ke.mark.eq(this.mark)&&this.from<=ke.to&&this.to>=ke.from?new M(Math.min(this.from,ke.from),Math.max(this.to,ke.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(ke,Ve){if(typeof Ve.from!="number"||typeof Ve.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new M(Ve.from,Ve.to,ke.markFromJSON(Ve.mark))}}a.jsonID("removeMark",M);class R extends a{constructor(ke,Ve){super(),this.pos=ke,this.mark=Ve}apply(ke){let Ve=ke.nodeAt(this.pos);if(!Ve)return l.fail("No node at mark step's position");let Ne=Ve.type.create(Ve.attrs,null,this.mark.addToSet(Ve.marks));return l.fromReplace(ke,this.pos,this.pos+1,new o.p2(o.HY.from(Ne),0,Ve.isLeaf?0:1))}invert(ke){let Ve=ke.nodeAt(this.pos);if(Ve){let Ne=this.mark.addToSet(Ve.marks);if(Ne.length==Ve.marks.length){for(let Fe=0;Fe<Ve.marks.length;Fe++)if(!Ve.marks[Fe].isInSet(Ne))return new R(this.pos,Ve.marks[Fe]);return new R(this.pos,this.mark)}}return new N(this.pos,this.mark)}map(ke){let Ve=ke.mapResult(this.pos,1);return Ve.deletedAfter?null:new R(Ve.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(ke,Ve){if(typeof Ve.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new R(Ve.pos,ke.markFromJSON(Ve.mark))}}a.jsonID("addNodeMark",R);class N extends a{constructor(ke,Ve){super(),this.pos=ke,this.mark=Ve}apply(ke){let Ve=ke.nodeAt(this.pos);if(!Ve)return l.fail("No node at mark step's position");let Ne=Ve.type.create(Ve.attrs,null,this.mark.removeFromSet(Ve.marks));return l.fromReplace(ke,this.pos,this.pos+1,new o.p2(o.HY.from(Ne),0,Ve.isLeaf?0:1))}invert(ke){let Ve=ke.nodeAt(this.pos);return!Ve||!this.mark.isInSet(Ve.marks)?this:new R(this.pos,this.mark)}map(ke){let Ve=ke.mapResult(this.pos,1);return Ve.deletedAfter?null:new N(Ve.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(ke,Ve){if(typeof Ve.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new N(Ve.pos,ke.markFromJSON(Ve.mark))}}a.jsonID("removeNodeMark",N);class T extends a{constructor(ke,Ve,Ne,Fe=!1){super(),this.from=ke,this.to=Ve,this.slice=Ne,this.structure=Fe}apply(ke){return this.structure&&W(ke,this.from,this.to)?l.fail("Structure replace would overwrite content"):l.fromReplace(ke,this.from,this.to,this.slice)}getMap(){return new O([this.from,this.to-this.from,this.slice.size])}invert(ke){return new T(this.from,this.from+this.slice.size,ke.slice(this.from,this.to))}map(ke){let Ve=ke.mapResult(this.from,1),Ne=ke.mapResult(this.to,-1);return Ve.deletedAcross&&Ne.deletedAcross?null:new T(Ve.pos,Math.max(Ve.pos,Ne.pos),this.slice)}merge(ke){if(!(ke instanceof T)||ke.structure||this.structure)return null;if(this.from+this.slice.size==ke.from&&!this.slice.openEnd&&!ke.slice.openStart){let Ve=this.slice.size+ke.slice.size==0?o.p2.empty:new o.p2(this.slice.content.append(ke.slice.content),this.slice.openStart,ke.slice.openEnd);return new T(this.from,this.to+(ke.to-ke.from),Ve,this.structure)}else if(ke.to==this.from&&!this.slice.openStart&&!ke.slice.openEnd){let Ve=this.slice.size+ke.slice.size==0?o.p2.empty:new o.p2(ke.slice.content.append(this.slice.content),ke.slice.openStart,this.slice.openEnd);return new T(ke.from,this.to,Ve,this.structure)}else return null}toJSON(){let ke={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(ke.slice=this.slice.toJSON()),this.structure&&(ke.structure=!0),ke}static fromJSON(ke,Ve){if(typeof Ve.from!="number"||typeof Ve.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new T(Ve.from,Ve.to,o.p2.fromJSON(ke,Ve.slice),!!Ve.structure)}}a.jsonID("replace",T);class A extends a{constructor(ke,Ve,Ne,Fe,Ue,be,Ge=!1){super(),this.from=ke,this.to=Ve,this.gapFrom=Ne,this.gapTo=Fe,this.slice=Ue,this.insert=be,this.structure=Ge}apply(ke){if(this.structure&&(W(ke,this.from,this.gapFrom)||W(ke,this.gapTo,this.to)))return l.fail("Structure gap-replace would overwrite content");let Ve=ke.slice(this.gapFrom,this.gapTo);if(Ve.openStart||Ve.openEnd)return l.fail("Gap is not a flat range");let Ne=this.slice.insertAt(this.insert,Ve.content);return Ne?l.fromReplace(ke,this.from,this.to,Ne):l.fail("Content does not fit in gap")}getMap(){return new O([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(ke){let Ve=this.gapTo-this.gapFrom;return new A(this.from,this.from+this.slice.size+Ve,this.from+this.insert,this.from+this.insert+Ve,ke.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(ke){let Ve=ke.mapResult(this.from,1),Ne=ke.mapResult(this.to,-1),Fe=ke.map(this.gapFrom,-1),Ue=ke.map(this.gapTo,1);return Ve.deletedAcross&&Ne.deletedAcross||Fe<Ve.pos||Ue>Ne.pos?null:new A(Ve.pos,Ne.pos,Fe,Ue,this.slice,this.insert,this.structure)}toJSON(){let ke={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(ke.slice=this.slice.toJSON()),this.structure&&(ke.structure=!0),ke}static fromJSON(ke,Ve){if(typeof Ve.from!="number"||typeof Ve.to!="number"||typeof Ve.gapFrom!="number"||typeof Ve.gapTo!="number"||typeof Ve.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new A(Ve.from,Ve.to,Ve.gapFrom,Ve.gapTo,o.p2.fromJSON(ke,Ve.slice),Ve.insert,!!Ve.structure)}}a.jsonID("replaceAround",A);function W(yt,ke,Ve){let Ne=yt.resolve(ke),Fe=Ve-ke,Ue=Ne.depth;for(;Fe>0&&Ue>0&&Ne.indexAfter(Ue)==Ne.node(Ue).childCount;)Ue--,Fe--;if(Fe>0){let be=Ne.node(Ue).maybeChild(Ne.indexAfter(Ue));for(;Fe>0;){if(!be||be.isLeaf)return!0;be=be.firstChild,Fe--}}return!1}function j(yt,ke,Ve,Ne){let Fe=[],Ue=[],be,Ge;yt.doc.nodesBetween(ke,Ve,(nt,Oe,K)=>{if(!nt.isInline)return;let Y=nt.marks;if(!Ne.isInSet(Y)&&K.type.allowsMarkType(Ne.type)){let he=Math.max(Oe,ke),Te=Math.min(Oe+nt.nodeSize,Ve),He=Ne.addToSet(Y);for(let Qe=0;Qe<Y.length;Qe++)Y[Qe].isInSet(He)||(be&&be.to==he&&be.mark.eq(Y[Qe])?be.to=Te:Fe.push(be=new M(he,Te,Y[Qe])));Ge&&Ge.to==he?Ge.to=Te:Ue.push(Ge=new S(he,Te,Ne))}}),Fe.forEach(nt=>yt.step(nt)),Ue.forEach(nt=>yt.step(nt))}function Z(yt,ke,Ve,Ne){let Fe=[],Ue=0;yt.doc.nodesBetween(ke,Ve,(be,Ge)=>{if(!be.isInline)return;Ue++;let nt=null;if(Ne instanceof o.ZU){let Oe=be.marks,K;for(;K=Ne.isInSet(Oe);)(nt||(nt=[])).push(K),Oe=K.removeFromSet(Oe)}else Ne?Ne.isInSet(be.marks)&&(nt=[Ne]):nt=be.marks;if(nt&&nt.length){let Oe=Math.min(Ge+be.nodeSize,Ve);for(let K=0;K<nt.length;K++){let Y=nt[K],he;for(let Te=0;Te<Fe.length;Te++){let He=Fe[Te];He.step==Ue-1&&Y.eq(Fe[Te].style)&&(he=He)}he?(he.to=Oe,he.step=Ue):Fe.push({style:Y,from:Math.max(Ge,ke),to:Oe,step:Ue})}}}),Fe.forEach(be=>yt.step(new M(be.from,be.to,be.style)))}function J(yt,ke,Ve,Ne=Ve.contentMatch){let Fe=yt.doc.nodeAt(ke),Ue=[],be=ke+1;for(let Ge=0;Ge<Fe.childCount;Ge++){let nt=Fe.child(Ge),Oe=be+nt.nodeSize,K=Ne.matchType(nt.type);if(!K)Ue.push(new T(be,Oe,o.p2.empty));else{Ne=K;for(let Y=0;Y<nt.marks.length;Y++)Ve.allowsMarkType(nt.marks[Y].type)||yt.step(new M(be,Oe,nt.marks[Y]))}be=Oe}if(!Ne.validEnd){let Ge=Ne.fillBefore(o.HY.empty,!0);yt.replace(be,be,new o.p2(Ge,0,0))}for(let Ge=Ue.length-1;Ge>=0;Ge--)yt.step(Ue[Ge])}function Q(yt,ke,Ve){return(ke==0||yt.canReplace(ke,yt.childCount))&&(Ve==yt.childCount||yt.canReplace(0,Ve))}function ne(yt){let Ve=yt.parent.content.cutByIndex(yt.startIndex,yt.endIndex);for(let Ne=yt.depth;;--Ne){let Fe=yt.$from.node(Ne),Ue=yt.$from.index(Ne),be=yt.$to.indexAfter(Ne);if(Ne<yt.depth&&Fe.canReplace(Ue,be,Ve))return Ne;if(Ne==0||Fe.type.spec.isolating||!Q(Fe,Ue,be))break}return null}function te(yt,ke,Ve){let{$from:Ne,$to:Fe,depth:Ue}=ke,be=Ne.before(Ue+1),Ge=Fe.after(Ue+1),nt=be,Oe=Ge,K=o.HY.empty,Y=0;for(let He=Ue,Qe=!1;He>Ve;He--)Qe||Ne.index(He)>0?(Qe=!0,K=o.HY.from(Ne.node(He).copy(K)),Y++):nt--;let he=o.HY.empty,Te=0;for(let He=Ue,Qe=!1;He>Ve;He--)Qe||Fe.after(He+1)<Fe.end(He)?(Qe=!0,he=o.HY.from(Fe.node(He).copy(he)),Te++):Oe++;yt.step(new A(nt,Oe,be,Ge,new o.p2(K.append(he),Y,Te),K.size-Y,!0))}function B(yt,ke,Ve=null,Ne=yt){let Fe=re(yt,ke),Ue=Fe&&le(Ne,ke);return Ue?Fe.map(V).concat({type:ke,attrs:Ve}).concat(Ue.map(V)):null}function V(yt){return{type:yt,attrs:null}}function re(yt,ke){let{parent:Ve,startIndex:Ne,endIndex:Fe}=yt,Ue=Ve.contentMatchAt(Ne).findWrapping(ke);if(!Ue)return null;let be=Ue.length?Ue[0]:ke;return Ve.canReplaceWith(Ne,Fe,be)?Ue:null}function le(yt,ke){let{parent:Ve,startIndex:Ne,endIndex:Fe}=yt,Ue=Ve.child(Ne),be=ke.contentMatch.findWrapping(Ue.type);if(!be)return null;let nt=(be.length?be[be.length-1]:ke).contentMatch;for(let Oe=Ne;nt&&Oe<Fe;Oe++)nt=nt.matchType(Ve.child(Oe).type);return!nt||!nt.validEnd?null:be}function ae(yt,ke,Ve){let Ne=o.HY.empty;for(let be=Ve.length-1;be>=0;be--){if(Ne.size){let Ge=Ve[be].type.contentMatch.matchFragment(Ne);if(!Ge||!Ge.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}Ne=o.HY.from(Ve[be].type.create(Ve[be].attrs,Ne))}let Fe=ke.start,Ue=ke.end;yt.step(new A(Fe,Ue,Fe,Ue,new o.p2(Ne,0,0),Ve.length,!0))}function q(yt,ke,Ve,Ne,Fe){if(!Ne.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let Ue=yt.steps.length;yt.doc.nodesBetween(ke,Ve,(be,Ge)=>{if(be.isTextblock&&!be.hasMarkup(Ne,Fe)&&oe(yt.doc,yt.mapping.slice(Ue).map(Ge),Ne)){yt.clearIncompatible(yt.mapping.slice(Ue).map(Ge,1),Ne);let nt=yt.mapping.slice(Ue),Oe=nt.map(Ge,1),K=nt.map(Ge+be.nodeSize,1);return yt.step(new A(Oe,K,Oe+1,K-1,new o.p2(o.HY.from(Ne.create(Fe,null,be.marks)),0,0),1,!0)),!1}})}function oe(yt,ke,Ve){let Ne=yt.resolve(ke),Fe=Ne.index();return Ne.parent.canReplaceWith(Fe,Fe+1,Ve)}function z(yt,ke,Ve,Ne,Fe){let Ue=yt.doc.nodeAt(ke);if(!Ue)throw new RangeError("No node at given position");Ve||(Ve=Ue.type);let be=Ve.create(Ne,null,Fe||Ue.marks);if(Ue.isLeaf)return yt.replaceWith(ke,ke+Ue.nodeSize,be);if(!Ve.validContent(Ue.content))throw new RangeError("Invalid content for node type "+Ve.name);yt.step(new A(ke,ke+Ue.nodeSize,ke+1,ke+Ue.nodeSize-1,new o.p2(o.HY.from(be),0,0),1,!0))}function ie(yt,ke,Ve=1,Ne){let Fe=yt.resolve(ke),Ue=Fe.depth-Ve,be=Ne&&Ne[Ne.length-1]||Fe.parent;if(Ue<0||Fe.parent.type.spec.isolating||!Fe.parent.canReplace(Fe.index(),Fe.parent.childCount)||!be.type.validContent(Fe.parent.content.cutByIndex(Fe.index(),Fe.parent.childCount)))return!1;for(let Oe=Fe.depth-1,K=Ve-2;Oe>Ue;Oe--,K--){let Y=Fe.node(Oe),he=Fe.index(Oe);if(Y.type.spec.isolating)return!1;let Te=Y.content.cutByIndex(he,Y.childCount),He=Ne&&Ne[K]||Y;if(He!=Y&&(Te=Te.replaceChild(0,He.type.create(He.attrs))),!Y.canReplace(he+1,Y.childCount)||!He.type.validContent(Te))return!1}let Ge=Fe.indexAfter(Ue),nt=Ne&&Ne[0];return Fe.node(Ue).canReplaceWith(Ge,Ge,nt?nt.type:Fe.node(Ue+1).type)}function ue(yt,ke,Ve=1,Ne){let Fe=yt.doc.resolve(ke),Ue=o.HY.empty,be=o.HY.empty;for(let Ge=Fe.depth,nt=Fe.depth-Ve,Oe=Ve-1;Ge>nt;Ge--,Oe--){Ue=o.HY.from(Fe.node(Ge).copy(Ue));let K=Ne&&Ne[Oe];be=o.HY.from(K?K.type.create(K.attrs,be):Fe.node(Ge).copy(be))}yt.step(new T(ke,ke,new o.p2(Ue.append(be),Ve,Ve),!0))}function de(yt,ke){let Ve=yt.resolve(ke),Ne=Ve.index();return fe(Ve.nodeBefore,Ve.nodeAfter)&&Ve.parent.canReplace(Ne,Ne+1)}function fe(yt,ke){return!!(yt&&ke&&!yt.isLeaf&&yt.canAppend(ke))}function ye(yt,ke,Ve=-1){let Ne=yt.resolve(ke);for(let Fe=Ne.depth;;Fe--){let Ue,be,Ge=Ne.index(Fe);if(Fe==Ne.depth?(Ue=Ne.nodeBefore,be=Ne.nodeAfter):Ve>0?(Ue=Ne.node(Fe+1),Ge++,be=Ne.node(Fe).maybeChild(Ge)):(Ue=Ne.node(Fe).maybeChild(Ge-1),be=Ne.node(Fe+1)),Ue&&!Ue.isTextblock&&fe(Ue,be)&&Ne.node(Fe).canReplace(Ge,Ge+1))return ke;if(Fe==0)break;ke=Ve<0?Ne.before(Fe):Ne.after(Fe)}}function pe(yt,ke,Ve){let Ne=new T(ke-Ve,ke+Ve,o.p2.empty,!0);yt.step(Ne)}function we(yt,ke,Ve){let Ne=yt.resolve(ke);if(Ne.parent.canReplaceWith(Ne.index(),Ne.index(),Ve))return ke;if(Ne.parentOffset==0)for(let Fe=Ne.depth-1;Fe>=0;Fe--){let Ue=Ne.index(Fe);if(Ne.node(Fe).canReplaceWith(Ue,Ue,Ve))return Ne.before(Fe+1);if(Ue>0)return null}if(Ne.parentOffset==Ne.parent.content.size)for(let Fe=Ne.depth-1;Fe>=0;Fe--){let Ue=Ne.indexAfter(Fe);if(Ne.node(Fe).canReplaceWith(Ue,Ue,Ve))return Ne.after(Fe+1);if(Ue<Ne.node(Fe).childCount)return null}return null}function Me(yt,ke,Ve){let Ne=yt.resolve(ke);if(!Ve.content.size)return ke;let Fe=Ve.content;for(let Ue=0;Ue<Ve.openStart;Ue++)Fe=Fe.firstChild.content;for(let Ue=1;Ue<=(Ve.openStart==0&&Ve.size?2:1);Ue++)for(let be=Ne.depth;be>=0;be--){let Ge=be==Ne.depth?0:Ne.pos<=(Ne.start(be+1)+Ne.end(be+1))/2?-1:1,nt=Ne.index(be)+(Ge>0?1:0),Oe=Ne.node(be),K=!1;if(Ue==1)K=Oe.canReplace(nt,nt,Fe);else{let Y=Oe.contentMatchAt(nt).findWrapping(Fe.firstChild.type);K=Y&&Oe.canReplaceWith(nt,nt,Y[0])}if(K)return Ge==0?Ne.pos:Ge<0?Ne.before(be+1):Ne.after(be+1)}return null}function je(yt,ke,Ve=ke,Ne=o.p2.empty){if(ke==Ve&&!Ne.size)return null;let Fe=yt.resolve(ke),Ue=yt.resolve(Ve);return De(Fe,Ue,Ne)?new T(ke,Ve,Ne):new me(Fe,Ue,Ne).fit()}function De(yt,ke,Ve){return!Ve.openStart&&!Ve.openEnd&&yt.start()==ke.start()&&yt.parent.canReplace(yt.index(),ke.index(),Ve.content)}class me{constructor(ke,Ve,Ne){this.$from=ke,this.$to=Ve,this.unplaced=Ne,this.frontier=[],this.placed=o.HY.empty;for(let Fe=0;Fe<=ke.depth;Fe++){let Ue=ke.node(Fe);this.frontier.push({type:Ue.type,match:Ue.contentMatchAt(ke.indexAfter(Fe))})}for(let Fe=ke.depth;Fe>0;Fe--)this.placed=o.HY.from(ke.node(Fe).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let Oe=this.findFittable();Oe?this.placeNodes(Oe):this.openMore()||this.dropNode()}let ke=this.mustMoveInline(),Ve=this.placed.size-this.depth-this.$from.depth,Ne=this.$from,Fe=this.close(ke<0?this.$to:Ne.doc.resolve(ke));if(!Fe)return null;let Ue=this.placed,be=Ne.depth,Ge=Fe.depth;for(;be&&Ge&&Ue.childCount==1;)Ue=Ue.firstChild.content,be--,Ge--;let nt=new o.p2(Ue,be,Ge);return ke>-1?new A(Ne.pos,ke,this.$to.pos,this.$to.end(),nt,Ve):nt.size||Ne.pos!=this.$to.pos?new T(Ne.pos,Fe.pos,nt):null}findFittable(){let ke=this.unplaced.openStart;for(let Ve=this.unplaced.content,Ne=0,Fe=this.unplaced.openEnd;Ne<ke;Ne++){let Ue=Ve.firstChild;if(Ve.childCount>1&&(Fe=0),Ue.type.spec.isolating&&Fe<=Ne){ke=Ne;break}Ve=Ue.content}for(let Ve=1;Ve<=2;Ve++)for(let Ne=Ve==1?ke:this.unplaced.openStart;Ne>=0;Ne--){let Fe,Ue=null;Ne?(Ue=Ie(this.unplaced.content,Ne-1).firstChild,Fe=Ue.content):Fe=this.unplaced.content;let be=Fe.firstChild;for(let Ge=this.depth;Ge>=0;Ge--){let{type:nt,match:Oe}=this.frontier[Ge],K,Y=null;if(Ve==1&&(be?Oe.matchType(be.type)||(Y=Oe.fillBefore(o.HY.from(be),!1)):Ue&&nt.compatibleContent(Ue.type)))return{sliceDepth:Ne,frontierDepth:Ge,parent:Ue,inject:Y};if(Ve==2&&be&&(K=Oe.findWrapping(be.type)))return{sliceDepth:Ne,frontierDepth:Ge,parent:Ue,wrap:K};if(Ue&&Oe.matchType(Ue.type))break}}}openMore(){let{content:ke,openStart:Ve,openEnd:Ne}=this.unplaced,Fe=Ie(ke,Ve);return!Fe.childCount||Fe.firstChild.isLeaf?!1:(this.unplaced=new o.p2(ke,Ve+1,Math.max(Ne,Fe.size+Ve>=ke.size-Ne?Ve+1:0)),!0)}dropNode(){let{content:ke,openStart:Ve,openEnd:Ne}=this.unplaced,Fe=Ie(ke,Ve);if(Fe.childCount<=1&&Ve>0){let Ue=ke.size-Ve<=Ve+Fe.size;this.unplaced=new o.p2(ce(ke,Ve-1,1),Ve-1,Ue?Ve-1:Ne)}else this.unplaced=new o.p2(ce(ke,Ve,1),Ve,Ne)}placeNodes({sliceDepth:ke,frontierDepth:Ve,parent:Ne,inject:Fe,wrap:Ue}){for(;this.depth>Ve;)this.closeFrontierNode();if(Ue)for(let Qe=0;Qe<Ue.length;Qe++)this.openFrontierNode(Ue[Qe]);let be=this.unplaced,Ge=Ne?Ne.content:be.content,nt=be.openStart-ke,Oe=0,K=[],{match:Y,type:he}=this.frontier[Ve];if(Fe){for(let Qe=0;Qe<Fe.childCount;Qe++)K.push(Fe.child(Qe));Y=Y.matchFragment(Fe)}let Te=Ge.size+ke-(be.content.size-be.openEnd);for(;Oe<Ge.childCount;){let Qe=Ge.child(Oe),ht=Y.matchType(Qe.type);if(!ht)break;Oe++,(Oe>1||nt==0||Qe.content.size)&&(Y=ht,K.push(Re(Qe.mark(he.allowedMarks(Qe.marks)),Oe==1?nt:0,Oe==Ge.childCount?Te:-1)))}let He=Oe==Ge.childCount;He||(Te=-1),this.placed=ge(this.placed,Ve,o.HY.from(K)),this.frontier[Ve].match=Y,He&&Te<0&&Ne&&Ne.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let Qe=0,ht=Ge;Qe<Te;Qe++){let ct=ht.lastChild;this.frontier.push({type:ct.type,match:ct.contentMatchAt(ct.childCount)}),ht=ct.content}this.unplaced=He?ke==0?o.p2.empty:new o.p2(ce(be.content,ke-1,1),ke-1,Te<0?be.openEnd:ke-1):new o.p2(ce(be.content,ke,Oe),be.openStart,be.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let ke=this.frontier[this.depth],Ve;if(!ke.type.isTextblock||!Ke(this.$to,this.$to.depth,ke.type,ke.match,!1)||this.$to.depth==this.depth&&(Ve=this.findCloseLevel(this.$to))&&Ve.depth==this.depth)return-1;let{depth:Ne}=this.$to,Fe=this.$to.after(Ne);for(;Ne>1&&Fe==this.$to.end(--Ne);)++Fe;return Fe}findCloseLevel(ke){e:for(let Ve=Math.min(this.depth,ke.depth);Ve>=0;Ve--){let{match:Ne,type:Fe}=this.frontier[Ve],Ue=Ve<ke.depth&&ke.end(Ve+1)==ke.pos+(ke.depth-(Ve+1)),be=Ke(ke,Ve,Fe,Ne,Ue);if(be){for(let Ge=Ve-1;Ge>=0;Ge--){let{match:nt,type:Oe}=this.frontier[Ge],K=Ke(ke,Ge,Oe,nt,!0);if(!K||K.childCount)continue e}return{depth:Ve,fit:be,move:Ue?ke.doc.resolve(ke.after(Ve+1)):ke}}}}close(ke){let Ve=this.findCloseLevel(ke);if(!Ve)return null;for(;this.depth>Ve.depth;)this.closeFrontierNode();Ve.fit.childCount&&(this.placed=ge(this.placed,Ve.depth,Ve.fit)),ke=Ve.move;for(let Ne=Ve.depth+1;Ne<=ke.depth;Ne++){let Fe=ke.node(Ne),Ue=Fe.type.contentMatch.fillBefore(Fe.content,!0,ke.index(Ne));this.openFrontierNode(Fe.type,Fe.attrs,Ue)}return ke}openFrontierNode(ke,Ve=null,Ne){let Fe=this.frontier[this.depth];Fe.match=Fe.match.matchType(ke),this.placed=ge(this.placed,this.depth,o.HY.from(ke.create(Ve,Ne))),this.frontier.push({type:ke,match:ke.contentMatch})}closeFrontierNode(){let Ve=this.frontier.pop().match.fillBefore(o.HY.empty,!0);Ve.childCount&&(this.placed=ge(this.placed,this.frontier.length,Ve))}}function ce(yt,ke,Ve){return ke==0?yt.cutByIndex(Ve,yt.childCount):yt.replaceChild(0,yt.firstChild.copy(ce(yt.firstChild.content,ke-1,Ve)))}function ge(yt,ke,Ve){return ke==0?yt.append(Ve):yt.replaceChild(yt.childCount-1,yt.lastChild.copy(ge(yt.lastChild.content,ke-1,Ve)))}function Ie(yt,ke){for(let Ve=0;Ve<ke;Ve++)yt=yt.firstChild.content;return yt}function Re(yt,ke,Ve){if(ke<=0)return yt;let Ne=yt.content;return ke>1&&(Ne=Ne.replaceChild(0,Re(Ne.firstChild,ke-1,Ne.childCount==1?Ve-1:0))),ke>0&&(Ne=yt.type.contentMatch.fillBefore(Ne).append(Ne),Ve<=0&&(Ne=Ne.append(yt.type.contentMatch.matchFragment(Ne).fillBefore(o.HY.empty,!0)))),yt.copy(Ne)}function Ke(yt,ke,Ve,Ne,Fe){let Ue=yt.node(ke),be=Fe?yt.indexAfter(ke):yt.index(ke);if(be==Ue.childCount&&!Ve.compatibleContent(Ue.type))return null;let Ge=Ne.fillBefore(Ue.content,!0,be);return Ge&&!ut(Ve,Ue.content,be)?Ge:null}function ut(yt,ke,Ve){for(let Ne=Ve;Ne<ke.childCount;Ne++)if(!yt.allowsMarks(ke.child(Ne).marks))return!0;return!1}function _t(yt){return yt.spec.defining||yt.spec.definingForContent}function ft(yt,ke,Ve,Ne){if(!Ne.size)return yt.deleteRange(ke,Ve);let Fe=yt.doc.resolve(ke),Ue=yt.doc.resolve(Ve);if(De(Fe,Ue,Ne))return yt.step(new T(ke,Ve,Ne));let be=Tt(Fe,yt.doc.resolve(Ve));be[be.length-1]==0&&be.pop();let Ge=-(Fe.depth+1);be.unshift(Ge);for(let he=Fe.depth,Te=Fe.pos-1;he>0;he--,Te--){let He=Fe.node(he).type.spec;if(He.defining||He.definingAsContext||He.isolating)break;be.indexOf(he)>-1?Ge=he:Fe.before(he)==Te&&be.splice(1,0,-he)}let nt=be.indexOf(Ge),Oe=[],K=Ne.openStart;for(let he=Ne.content,Te=0;;Te++){let He=he.firstChild;if(Oe.push(He),Te==Ne.openStart)break;he=He.content}for(let he=K-1;he>=0;he--){let Te=Oe[he].type,He=_t(Te);if(He&&Fe.node(nt).type!=Te)K=he;else if(He||!Te.isTextblock)break}for(let he=Ne.openStart;he>=0;he--){let Te=(he+K+1)%(Ne.openStart+1),He=Oe[Te];if(He)for(let Qe=0;Qe<be.length;Qe++){let ht=be[(Qe+nt)%be.length],ct=!0;ht<0&&(ct=!1,ht=-ht);let Pt=Fe.node(ht-1),Nt=Fe.index(ht-1);if(Pt.canReplaceWith(Nt,Nt,He.type,He.marks))return yt.replace(Fe.before(ht),ct?Ue.after(ht):Ve,new o.p2(We(Ne.content,0,Ne.openStart,Te),Te,Ne.openEnd))}}let Y=yt.steps.length;for(let he=be.length-1;he>=0&&(yt.replace(ke,Ve,Ne),!(yt.steps.length>Y));he--){let Te=be[he];Te<0||(ke=Fe.before(Te),Ve=Ue.after(Te))}}function We(yt,ke,Ve,Ne,Fe){if(ke<Ve){let Ue=yt.firstChild;yt=yt.replaceChild(0,Ue.copy(We(Ue.content,ke+1,Ve,Ne,Ue)))}if(ke>Ne){let Ue=Fe.contentMatchAt(0),be=Ue.fillBefore(yt).append(yt);yt=be.append(Ue.matchFragment(be).fillBefore(o.HY.empty,!0))}return yt}function Be(yt,ke,Ve,Ne){if(!Ne.isInline&&ke==Ve&&yt.doc.resolve(ke).parent.content.size){let Fe=we(yt.doc,ke,Ne.type);Fe!=null&&(ke=Ve=Fe)}yt.replaceRange(ke,Ve,new o.p2(o.HY.from(Ne),0,0))}function lt(yt,ke,Ve){let Ne=yt.doc.resolve(ke),Fe=yt.doc.resolve(Ve),Ue=Tt(Ne,Fe);for(let be=0;be<Ue.length;be++){let Ge=Ue[be],nt=be==Ue.length-1;if(nt&&Ge==0||Ne.node(Ge).type.contentMatch.validEnd)return yt.delete(Ne.start(Ge),Fe.end(Ge));if(Ge>0&&(nt||Ne.node(Ge-1).canReplace(Ne.index(Ge-1),Fe.indexAfter(Ge-1))))return yt.delete(Ne.before(Ge),Fe.after(Ge))}for(let be=1;be<=Ne.depth&&be<=Fe.depth;be++)if(ke-Ne.start(be)==Ne.depth-be&&Ve>Ne.end(be)&&Fe.end(be)-Ve!=Fe.depth-be)return yt.delete(Ne.before(be),Ve);yt.delete(ke,Ve)}function Tt(yt,ke){let Ve=[],Ne=Math.min(yt.depth,ke.depth);for(let Fe=Ne;Fe>=0;Fe--){let Ue=yt.start(Fe);if(Ue<yt.pos-(yt.depth-Fe)||ke.end(Fe)>ke.pos+(ke.depth-Fe)||yt.node(Fe).type.spec.isolating||ke.node(Fe).type.spec.isolating)break;(Ue==ke.start(Fe)||Fe==yt.depth&&Fe==ke.depth&&yt.parent.inlineContent&&ke.parent.inlineContent&&Fe&&ke.start(Fe-1)==Ue-1)&&Ve.push(Fe)}return Ve}class xt extends a{constructor(ke,Ve,Ne){super(),this.pos=ke,this.attr=Ve,this.value=Ne}apply(ke){let Ve=ke.nodeAt(this.pos);if(!Ve)return l.fail("No node at attribute step's position");let Ne=Object.create(null);for(let Ue in Ve.attrs)Ne[Ue]=Ve.attrs[Ue];Ne[this.attr]=this.value;let Fe=Ve.type.create(Ne,null,Ve.marks);return l.fromReplace(ke,this.pos,this.pos+1,new o.p2(o.HY.from(Fe),0,Ve.isLeaf?0:1))}getMap(){return O.empty}invert(ke){return new xt(this.pos,this.attr,ke.nodeAt(this.pos).attrs[this.attr])}map(ke){let Ve=ke.mapResult(this.pos,1);return Ve.deletedAfter?null:new xt(Ve.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(ke,Ve){if(typeof Ve.pos!="number"||typeof Ve.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new xt(Ve.pos,Ve.attr,Ve.value)}}a.jsonID("attr",xt);let Gt=class extends Error{};Gt=function yt(ke){let Ve=Error.call(this,ke);return Ve.__proto__=yt.prototype,Ve},Gt.prototype=Object.create(Error.prototype),Gt.prototype.constructor=Gt,Gt.prototype.name="TransformError";class an{constructor(ke){this.doc=ke,this.steps=[],this.docs=[],this.mapping=new w}get before(){return this.docs.length?this.docs[0]:this.doc}step(ke){let Ve=this.maybeStep(ke);if(Ve.failed)throw new Gt(Ve.failed);return this}maybeStep(ke){let Ve=ke.apply(this.doc);return Ve.failed||this.addStep(ke,Ve.doc),Ve}get docChanged(){return this.steps.length>0}addStep(ke,Ve){this.docs.push(this.doc),this.steps.push(ke),this.mapping.appendMap(ke.getMap()),this.doc=Ve}replace(ke,Ve=ke,Ne=o.p2.empty){let Fe=je(this.doc,ke,Ve,Ne);return Fe&&this.step(Fe),this}replaceWith(ke,Ve,Ne){return this.replace(ke,Ve,new o.p2(o.HY.from(Ne),0,0))}delete(ke,Ve){return this.replace(ke,Ve,o.p2.empty)}insert(ke,Ve){return this.replaceWith(ke,ke,Ve)}replaceRange(ke,Ve,Ne){return ft(this,ke,Ve,Ne),this}replaceRangeWith(ke,Ve,Ne){return Be(this,ke,Ve,Ne),this}deleteRange(ke,Ve){return lt(this,ke,Ve),this}lift(ke,Ve){return te(this,ke,Ve),this}join(ke,Ve=1){return pe(this,ke,Ve),this}wrap(ke,Ve){return ae(this,ke,Ve),this}setBlockType(ke,Ve=ke,Ne,Fe=null){return q(this,ke,Ve,Ne,Fe),this}setNodeMarkup(ke,Ve,Ne=null,Fe){return z(this,ke,Ve,Ne,Fe),this}setNodeAttribute(ke,Ve,Ne){return this.step(new xt(ke,Ve,Ne)),this}addNodeMark(ke,Ve){return this.step(new R(ke,Ve)),this}removeNodeMark(ke,Ve){if(!(Ve instanceof o.vc)){let Ne=this.doc.nodeAt(ke);if(!Ne)throw new RangeError("No node at position "+ke);if(Ve=Ve.isInSet(Ne.marks),!Ve)return this}return this.step(new N(ke,Ve)),this}split(ke,Ve=1,Ne){return ue(this,ke,Ve,Ne),this}addMark(ke,Ve,Ne){return j(this,ke,Ve,Ne),this}removeMark(ke,Ve,Ne){return Z(this,ke,Ve,Ne),this}clearIncompatible(ke,Ve,Ne){return J(this,ke,Ve,Ne),this}}},84348:(G,s,e)=>{"use strict";e.d(s,{EH:()=>dn,p:()=>Vt,tk:()=>Wr});var o=e(2376),m=e(87823),f=e(16560);const d=function(L){for(var F=0;;F++)if(L=L.previousSibling,!L)return F},g=function(L){let F=L.assignedSlot||L.parentNode;return F&&F.nodeType==11?F.host:F};let y=null;const C=function(L,F,$){let se=y||(y=document.createRange());return se.setEnd(L,$==null?L.nodeValue.length:$),se.setStart(L,F||0),se},v=function(L,F,$,se){return $&&(x(L,F,$,se,-1)||x(L,F,$,se,1))},b=/^(img|br|input|textarea|hr)$/i;function x(L,F,$,se,Ee){for(;;){if(L==$&&F==se)return!0;if(F==(Ee<0?0:E(L))){let Ae=L.parentNode;if(!Ae||Ae.nodeType!=1||w(L)||b.test(L.nodeName)||L.contentEditable=="false")return!1;F=d(L)+(Ee<0?0:1),L=Ae}else if(L.nodeType==1){if(L=L.childNodes[F+(Ee<0?-1:0)],L.contentEditable=="false")return!1;F=Ee<0?E(L):0}else return!1}}function E(L){return L.nodeType==3?L.nodeValue.length:L.childNodes.length}function O(L,F,$){for(let se=F==0,Ee=F==E(L);se||Ee;){if(L==$)return!0;let Ae=d(L);if(L=L.parentNode,!L)return!1;se=se&&Ae==0,Ee=Ee&&Ae==E(L)}}function w(L){let F;for(let $=L;$&&!(F=$.pmViewDesc);$=$.parentNode);return F&&F.node&&F.node.isBlock&&(F.dom==L||F.contentDOM==L)}const _=function(L){return L.focusNode&&v(L.focusNode,L.focusOffset,L.anchorNode,L.anchorOffset)};function a(L,F){let $=document.createEvent("Event");return $.initEvent("keydown",!0,!0),$.keyCode=L,$.key=$.code=F,$}function l(L){let F=L.activeElement;for(;F&&F.shadowRoot;)F=F.shadowRoot.activeElement;return F}const P=typeof navigator!="undefined"?navigator:null,S=typeof document!="undefined"?document:null,M=P&&P.userAgent||"",R=/Edge\/(\d+)/.exec(M),N=/MSIE \d/.exec(M),T=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(M),A=!!(N||T||R),W=N?document.documentMode:T?+T[1]:R?+R[1]:0,j=!A&&/gecko\/(\d+)/i.test(M);j&&+(/Firefox\/(\d+)/.exec(M)||[0,0])[1];const Z=!A&&/Chrome\/(\d+)/.exec(M),J=!!Z,Q=Z?+Z[1]:0,ne=!A&&!!P&&/Apple Computer/.test(P.vendor),te=ne&&(/Mobile\/\w+/.test(M)||!!P&&P.maxTouchPoints>2),B=te||(P?/Mac/.test(P.platform):!1),V=/Android \d/.test(M),re=!!S&&"webkitFontSmoothing"in S.documentElement.style,le=re?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ae(L){return{left:0,right:L.documentElement.clientWidth,top:0,bottom:L.documentElement.clientHeight}}function q(L,F){return typeof L=="number"?L:L[F]}function oe(L){let F=L.getBoundingClientRect(),$=F.width/L.offsetWidth||1,se=F.height/L.offsetHeight||1;return{left:F.left,right:F.left+L.clientWidth*$,top:F.top,bottom:F.top+L.clientHeight*se}}function z(L,F,$){let se=L.someProp("scrollThreshold")||0,Ee=L.someProp("scrollMargin")||5,Ae=L.dom.ownerDocument;for(let Ze=$||L.dom;Ze;Ze=g(Ze)){if(Ze.nodeType!=1)continue;let rt=Ze,dt=rt==Ae.body,Lt=dt?ae(Ae):oe(rt),Kt=0,wn=0;if(F.top<Lt.top+q(se,"top")?wn=-(Lt.top-F.top+q(Ee,"top")):F.bottom>Lt.bottom-q(se,"bottom")&&(wn=F.bottom-Lt.bottom+q(Ee,"bottom")),F.left<Lt.left+q(se,"left")?Kt=-(Lt.left-F.left+q(Ee,"left")):F.right>Lt.right-q(se,"right")&&(Kt=F.right-Lt.right+q(Ee,"right")),Kt||wn)if(dt)Ae.defaultView.scrollBy(Kt,wn);else{let Tn=rt.scrollLeft,jt=rt.scrollTop;wn&&(rt.scrollTop+=wn),Kt&&(rt.scrollLeft+=Kt);let Kn=rt.scrollLeft-Tn,Rr=rt.scrollTop-jt;F={left:F.left-Kn,top:F.top-Rr,right:F.right-Kn,bottom:F.bottom-Rr}}if(dt)break}}function ie(L){let F=L.dom.getBoundingClientRect(),$=Math.max(0,F.top),se,Ee;for(let Ae=(F.left+F.right)/2,Ze=$+1;Ze<Math.min(innerHeight,F.bottom);Ze+=5){let rt=L.root.elementFromPoint(Ae,Ze);if(!rt||rt==L.dom||!L.dom.contains(rt))continue;let dt=rt.getBoundingClientRect();if(dt.top>=$-20){se=rt,Ee=dt.top;break}}return{refDOM:se,refTop:Ee,stack:ue(L.dom)}}function ue(L){let F=[],$=L.ownerDocument;for(let se=L;se&&(F.push({dom:se,top:se.scrollTop,left:se.scrollLeft}),L!=$);se=g(se));return F}function de({refDOM:L,refTop:F,stack:$}){let se=L?L.getBoundingClientRect().top:0;fe($,se==0?0:se-F)}function fe(L,F){for(let $=0;$<L.length;$++){let{dom:se,top:Ee,left:Ae}=L[$];se.scrollTop!=Ee+F&&(se.scrollTop=Ee+F),se.scrollLeft!=Ae&&(se.scrollLeft=Ae)}}let ye=null;function pe(L){if(L.setActive)return L.setActive();if(ye)return L.focus(ye);let F=ue(L);L.focus(ye==null?{get preventScroll(){return ye={preventScroll:!0},!0}}:void 0),ye||(ye=!1,fe(F,0))}function we(L,F){let $,se=2e8,Ee,Ae=0,Ze=F.top,rt=F.top;for(let dt=L.firstChild,Lt=0;dt;dt=dt.nextSibling,Lt++){let Kt;if(dt.nodeType==1)Kt=dt.getClientRects();else if(dt.nodeType==3)Kt=C(dt).getClientRects();else continue;for(let wn=0;wn<Kt.length;wn++){let Tn=Kt[wn];if(Tn.top<=Ze&&Tn.bottom>=rt){Ze=Math.max(Tn.bottom,Ze),rt=Math.min(Tn.top,rt);let jt=Tn.left>F.left?Tn.left-F.left:Tn.right<F.left?F.left-Tn.right:0;if(jt<se){$=dt,se=jt,Ee=jt&&$.nodeType==3?{left:Tn.right<F.left?Tn.right:Tn.left,top:F.top}:F,dt.nodeType==1&&jt&&(Ae=Lt+(F.left>=(Tn.left+Tn.right)/2?1:0));continue}}!$&&(F.left>=Tn.right&&F.top>=Tn.top||F.left>=Tn.left&&F.top>=Tn.bottom)&&(Ae=Lt+1)}}return $&&$.nodeType==3?Me($,Ee):!$||se&&$.nodeType==1?{node:L,offset:Ae}:we($,Ee)}function Me(L,F){let $=L.nodeValue.length,se=document.createRange();for(let Ee=0;Ee<$;Ee++){se.setEnd(L,Ee+1),se.setStart(L,Ee);let Ae=Re(se,1);if(Ae.top!=Ae.bottom&&je(F,Ae))return{node:L,offset:Ee+(F.left>=(Ae.left+Ae.right)/2?1:0)}}return{node:L,offset:0}}function je(L,F){return L.left>=F.left-1&&L.left<=F.right+1&&L.top>=F.top-1&&L.top<=F.bottom+1}function De(L,F){let $=L.parentNode;return $&&/^li$/i.test($.nodeName)&&F.left<L.getBoundingClientRect().left?$:L}function me(L,F,$){let{node:se,offset:Ee}=we(F,$),Ae=-1;if(se.nodeType==1&&!se.firstChild){let Ze=se.getBoundingClientRect();Ae=Ze.left!=Ze.right&&$.left>(Ze.left+Ze.right)/2?1:-1}return L.docView.posFromDOM(se,Ee,Ae)}function ce(L,F,$,se){let Ee=-1;for(let Ae=F;Ae!=L.dom;){let Ze=L.docView.nearestDesc(Ae,!0);if(!Ze)return null;if(Ze.dom.nodeType==1&&(Ze.node.isBlock&&Ze.parent||!Ze.contentDOM)){let rt=Ze.dom.getBoundingClientRect();if(Ze.node.isBlock&&Ze.parent&&(rt.left>se.left||rt.top>se.top?Ee=Ze.posBefore:(rt.right<se.left||rt.bottom<se.top)&&(Ee=Ze.posAfter)),!Ze.contentDOM&&Ee<0)return(Ze.node.isBlock?se.top<(rt.top+rt.bottom)/2:se.left<(rt.left+rt.right)/2)?Ze.posBefore:Ze.posAfter}Ae=Ze.dom.parentNode}return Ee>-1?Ee:L.docView.posFromDOM(F,$,-1)}function ge(L,F,$){let se=L.childNodes.length;if(se&&$.top<$.bottom)for(let Ee=Math.max(0,Math.min(se-1,Math.floor(se*(F.top-$.top)/($.bottom-$.top))-2)),Ae=Ee;;){let Ze=L.childNodes[Ae];if(Ze.nodeType==1){let rt=Ze.getClientRects();for(let dt=0;dt<rt.length;dt++){let Lt=rt[dt];if(je(F,Lt))return ge(Ze,F,Lt)}}if((Ae=(Ae+1)%se)==Ee)break}return L}function Ie(L,F){let $=L.dom.ownerDocument,se,Ee=0;if($.caretPositionFromPoint)try{let dt=$.caretPositionFromPoint(F.left,F.top);dt&&({offsetNode:se,offset:Ee}=dt)}catch(dt){}if(!se&&$.caretRangeFromPoint){let dt=$.caretRangeFromPoint(F.left,F.top);dt&&({startContainer:se,startOffset:Ee}=dt)}let Ae=(L.root.elementFromPoint?L.root:$).elementFromPoint(F.left,F.top),Ze;if(!Ae||!L.dom.contains(Ae.nodeType!=1?Ae.parentNode:Ae)){let dt=L.dom.getBoundingClientRect();if(!je(F,dt)||(Ae=ge(L.dom,F,dt),!Ae))return null}if(ne)for(let dt=Ae;se&&dt;dt=g(dt))dt.draggable&&(se=void 0);if(Ae=De(Ae,F),se){if(j&&se.nodeType==1&&(Ee=Math.min(Ee,se.childNodes.length),Ee<se.childNodes.length)){let dt=se.childNodes[Ee],Lt;dt.nodeName=="IMG"&&(Lt=dt.getBoundingClientRect()).right<=F.left&&Lt.bottom>F.top&&Ee++}se==L.dom&&Ee==se.childNodes.length-1&&se.lastChild.nodeType==1&&F.top>se.lastChild.getBoundingClientRect().bottom?Ze=L.state.doc.content.size:(Ee==0||se.nodeType!=1||se.childNodes[Ee-1].nodeName!="BR")&&(Ze=ce(L,se,Ee,F))}Ze==null&&(Ze=me(L,Ae,F));let rt=L.docView.nearestDesc(Ae,!0);return{pos:Ze,inside:rt?rt.posAtStart-rt.border:-1}}function Re(L,F){let $=L.getClientRects();return $.length?$[F<0?0:$.length-1]:L.getBoundingClientRect()}const Ke=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ut(L,F,$){let{node:se,offset:Ee,atom:Ae}=L.docView.domFromPos(F,$<0?-1:1),Ze=re||j;if(se.nodeType==3)if(Ze&&(Ke.test(se.nodeValue)||($<0?!Ee:Ee==se.nodeValue.length))){let dt=Re(C(se,Ee,Ee),$);if(j&&Ee&&/\s/.test(se.nodeValue[Ee-1])&&Ee<se.nodeValue.length){let Lt=Re(C(se,Ee-1,Ee-1),-1);if(Lt.top==dt.top){let Kt=Re(C(se,Ee,Ee+1),-1);if(Kt.top!=dt.top)return _t(Kt,Kt.left<Lt.left)}}return dt}else{let dt=Ee,Lt=Ee,Kt=$<0?1:-1;return $<0&&!Ee?(Lt++,Kt=-1):$>=0&&Ee==se.nodeValue.length?(dt--,Kt=1):$<0?dt--:Lt++,_t(Re(C(se,dt,Lt),1),Kt<0)}if(!L.state.doc.resolve(F-(Ae||0)).parent.inlineContent){if(Ae==null&&Ee&&($<0||Ee==E(se))){let dt=se.childNodes[Ee-1];if(dt.nodeType==1)return ft(dt.getBoundingClientRect(),!1)}if(Ae==null&&Ee<E(se)){let dt=se.childNodes[Ee];if(dt.nodeType==1)return ft(dt.getBoundingClientRect(),!0)}return ft(se.getBoundingClientRect(),$>=0)}if(Ae==null&&Ee&&($<0||Ee==E(se))){let dt=se.childNodes[Ee-1],Lt=dt.nodeType==3?C(dt,E(dt)-(Ze?0:1)):dt.nodeType==1&&(dt.nodeName!="BR"||!dt.nextSibling)?dt:null;if(Lt)return _t(Re(Lt,1),!1)}if(Ae==null&&Ee<E(se)){let dt=se.childNodes[Ee];for(;dt.pmViewDesc&&dt.pmViewDesc.ignoreForCoords;)dt=dt.nextSibling;let Lt=dt?dt.nodeType==3?C(dt,0,Ze?0:1):dt.nodeType==1?dt:null:null;if(Lt)return _t(Re(Lt,-1),!0)}return _t(Re(se.nodeType==3?C(se):se,-$),$>=0)}function _t(L,F){if(L.width==0)return L;let $=F?L.left:L.right;return{top:L.top,bottom:L.bottom,left:$,right:$}}function ft(L,F){if(L.height==0)return L;let $=F?L.top:L.bottom;return{top:$,bottom:$,left:L.left,right:L.right}}function We(L,F,$){let se=L.state,Ee=L.root.activeElement;se!=F&&L.updateState(F),Ee!=L.dom&&L.focus();try{return $()}finally{se!=F&&L.updateState(se),Ee!=L.dom&&Ee&&Ee.focus()}}function Be(L,F,$){let se=F.selection,Ee=$=="up"?se.$from:se.$to;return We(L,F,()=>{let{node:Ae}=L.docView.domFromPos(Ee.pos,$=="up"?-1:1);for(;;){let rt=L.docView.nearestDesc(Ae,!0);if(!rt)break;if(rt.node.isBlock){Ae=rt.contentDOM||rt.dom;break}Ae=rt.dom.parentNode}let Ze=ut(L,Ee.pos,1);for(let rt=Ae.firstChild;rt;rt=rt.nextSibling){let dt;if(rt.nodeType==1)dt=rt.getClientRects();else if(rt.nodeType==3)dt=C(rt,0,rt.nodeValue.length).getClientRects();else continue;for(let Lt=0;Lt<dt.length;Lt++){let Kt=dt[Lt];if(Kt.bottom>Kt.top+1&&($=="up"?Ze.top-Kt.top>(Kt.bottom-Ze.top)*2:Kt.bottom-Ze.bottom>(Ze.bottom-Kt.top)*2))return!1}}return!0})}const lt=/[\u0590-\u08ac]/;function Tt(L,F,$){let{$head:se}=F.selection;if(!se.parent.isTextblock)return!1;let Ee=se.parentOffset,Ae=!Ee,Ze=Ee==se.parent.content.size,rt=L.domSelection();return!lt.test(se.parent.textContent)||!rt.modify?$=="left"||$=="backward"?Ae:Ze:We(L,F,()=>{let{focusNode:dt,focusOffset:Lt,anchorNode:Kt,anchorOffset:wn}=L.domSelectionRange(),Tn=rt.caretBidiLevel;rt.modify("move",$,"character");let jt=se.depth?L.docView.domAfterPos(se.before()):L.dom,{focusNode:Kn,focusOffset:Rr}=L.domSelectionRange(),Jr=Kn&&!jt.contains(Kn.nodeType==1?Kn:Kn.parentNode)||dt==Kn&&Lt==Rr;try{rt.collapse(Kt,wn),dt&&(dt!=Kt||Lt!=wn)&&rt.extend&&rt.extend(dt,Lt)}catch(go){}return Tn!=null&&(rt.caretBidiLevel=Tn),Jr})}let xt=null,Gt=null,an=!1;function yt(L,F,$){return xt==F&&Gt==$?an:(xt=F,Gt=$,an=$=="up"||$=="down"?Be(L,F,$):Tt(L,F,$))}const ke=0,Ve=1,Ne=2,Fe=3;class Ue{constructor(F,$,se,Ee){this.parent=F,this.children=$,this.dom=se,this.contentDOM=Ee,this.dirty=ke,se.pmViewDesc=this}matchesWidget(F){return!1}matchesMark(F){return!1}matchesNode(F,$,se){return!1}matchesHack(F){return!1}parseRule(){return null}stopEvent(F){return!1}get size(){let F=0;for(let $=0;$<this.children.length;$++)F+=this.children[$].size;return F}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let F=0;F<this.children.length;F++)this.children[F].destroy()}posBeforeChild(F){for(let $=0,se=this.posAtStart;;$++){let Ee=this.children[$];if(Ee==F)return se;se+=Ee.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(F,$,se){if(this.contentDOM&&this.contentDOM.contains(F.nodeType==1?F:F.parentNode))if(se<0){let Ae,Ze;if(F==this.contentDOM)Ae=F.childNodes[$-1];else{for(;F.parentNode!=this.contentDOM;)F=F.parentNode;Ae=F.previousSibling}for(;Ae&&!((Ze=Ae.pmViewDesc)&&Ze.parent==this);)Ae=Ae.previousSibling;return Ae?this.posBeforeChild(Ze)+Ze.size:this.posAtStart}else{let Ae,Ze;if(F==this.contentDOM)Ae=F.childNodes[$];else{for(;F.parentNode!=this.contentDOM;)F=F.parentNode;Ae=F.nextSibling}for(;Ae&&!((Ze=Ae.pmViewDesc)&&Ze.parent==this);)Ae=Ae.nextSibling;return Ae?this.posBeforeChild(Ze):this.posAtEnd}let Ee;if(F==this.dom&&this.contentDOM)Ee=$>d(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))Ee=F.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if($==0)for(let Ae=F;;Ae=Ae.parentNode){if(Ae==this.dom){Ee=!1;break}if(Ae.previousSibling)break}if(Ee==null&&$==F.childNodes.length)for(let Ae=F;;Ae=Ae.parentNode){if(Ae==this.dom){Ee=!0;break}if(Ae.nextSibling)break}}return(Ee==null?se>0:Ee)?this.posAtEnd:this.posAtStart}nearestDesc(F,$=!1){for(let se=!0,Ee=F;Ee;Ee=Ee.parentNode){let Ae=this.getDesc(Ee),Ze;if(Ae&&(!$||Ae.node))if(se&&(Ze=Ae.nodeDOM)&&!(Ze.nodeType==1?Ze.contains(F.nodeType==1?F:F.parentNode):Ze==F))se=!1;else return Ae}}getDesc(F){let $=F.pmViewDesc;for(let se=$;se;se=se.parent)if(se==this)return $}posFromDOM(F,$,se){for(let Ee=F;Ee;Ee=Ee.parentNode){let Ae=this.getDesc(Ee);if(Ae)return Ae.localPosFromDOM(F,$,se)}return-1}descAt(F){for(let $=0,se=0;$<this.children.length;$++){let Ee=this.children[$],Ae=se+Ee.size;if(se==F&&Ae!=se){for(;!Ee.border&&Ee.children.length;)Ee=Ee.children[0];return Ee}if(F<Ae)return Ee.descAt(F-se-Ee.border);se=Ae}}domFromPos(F,$){if(!this.contentDOM)return{node:this.dom,offset:0,atom:F+1};let se=0,Ee=0;for(let Ae=0;se<this.children.length;se++){let Ze=this.children[se],rt=Ae+Ze.size;if(rt>F||Ze instanceof he){Ee=F-Ae;break}Ae=rt}if(Ee)return this.children[se].domFromPos(Ee-this.children[se].border,$);for(let Ae;se&&!(Ae=this.children[se-1]).size&&Ae instanceof be&&Ae.side>=0;se--);if($<=0){let Ae,Ze=!0;for(;Ae=se?this.children[se-1]:null,!(!Ae||Ae.dom.parentNode==this.contentDOM);se--,Ze=!1);return Ae&&$&&Ze&&!Ae.border&&!Ae.domAtom?Ae.domFromPos(Ae.size,$):{node:this.contentDOM,offset:Ae?d(Ae.dom)+1:0}}else{let Ae,Ze=!0;for(;Ae=se<this.children.length?this.children[se]:null,!(!Ae||Ae.dom.parentNode==this.contentDOM);se++,Ze=!1);return Ae&&Ze&&!Ae.border&&!Ae.domAtom?Ae.domFromPos(0,$):{node:this.contentDOM,offset:Ae?d(Ae.dom):this.contentDOM.childNodes.length}}}parseRange(F,$,se=0){if(this.children.length==0)return{node:this.contentDOM,from:F,to:$,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let Ee=-1,Ae=-1;for(let Ze=se,rt=0;;rt++){let dt=this.children[rt],Lt=Ze+dt.size;if(Ee==-1&&F<=Lt){let Kt=Ze+dt.border;if(F>=Kt&&$<=Lt-dt.border&&dt.node&&dt.contentDOM&&this.contentDOM.contains(dt.contentDOM))return dt.parseRange(F,$,Kt);F=Ze;for(let wn=rt;wn>0;wn--){let Tn=this.children[wn-1];if(Tn.size&&Tn.dom.parentNode==this.contentDOM&&!Tn.emptyChildAt(1)){Ee=d(Tn.dom)+1;break}F-=Tn.size}Ee==-1&&(Ee=0)}if(Ee>-1&&(Lt>$||rt==this.children.length-1)){$=Lt;for(let Kt=rt+1;Kt<this.children.length;Kt++){let wn=this.children[Kt];if(wn.size&&wn.dom.parentNode==this.contentDOM&&!wn.emptyChildAt(-1)){Ae=d(wn.dom);break}$+=wn.size}Ae==-1&&(Ae=this.contentDOM.childNodes.length);break}Ze=Lt}return{node:this.contentDOM,from:F,to:$,fromOffset:Ee,toOffset:Ae}}emptyChildAt(F){if(this.border||!this.contentDOM||!this.children.length)return!1;let $=this.children[F<0?0:this.children.length-1];return $.size==0||$.emptyChildAt(F)}domAfterPos(F){let{node:$,offset:se}=this.domFromPos(F,0);if($.nodeType!=1||se==$.childNodes.length)throw new RangeError("No node after pos "+F);return $.childNodes[se]}setSelection(F,$,se,Ee=!1){let Ae=Math.min(F,$),Ze=Math.max(F,$);for(let Tn=0,jt=0;Tn<this.children.length;Tn++){let Kn=this.children[Tn],Rr=jt+Kn.size;if(Ae>jt&&Ze<Rr)return Kn.setSelection(F-jt-Kn.border,$-jt-Kn.border,se,Ee);jt=Rr}let rt=this.domFromPos(F,F?-1:1),dt=$==F?rt:this.domFromPos($,$?-1:1),Lt=se.getSelection(),Kt=!1;if((j||ne)&&F==$){let{node:Tn,offset:jt}=rt;if(Tn.nodeType==3){if(Kt=!!(jt&&Tn.nodeValue[jt-1]==`
`),Kt&&jt==Tn.nodeValue.length)for(let Kn=Tn,Rr;Kn;Kn=Kn.parentNode){if(Rr=Kn.nextSibling){Rr.nodeName=="BR"&&(rt=dt={node:Rr.parentNode,offset:d(Rr)+1});break}let Jr=Kn.pmViewDesc;if(Jr&&Jr.node&&Jr.node.isBlock)break}}else{let Kn=Tn.childNodes[jt-1];Kt=Kn&&(Kn.nodeName=="BR"||Kn.contentEditable=="false")}}if(j&&Lt.focusNode&&Lt.focusNode!=dt.node&&Lt.focusNode.nodeType==1){let Tn=Lt.focusNode.childNodes[Lt.focusOffset];Tn&&Tn.contentEditable=="false"&&(Ee=!0)}if(!(Ee||Kt&&ne)&&v(rt.node,rt.offset,Lt.anchorNode,Lt.anchorOffset)&&v(dt.node,dt.offset,Lt.focusNode,Lt.focusOffset))return;let wn=!1;if((Lt.extend||F==$)&&!Kt){Lt.collapse(rt.node,rt.offset);try{F!=$&&Lt.extend(dt.node,dt.offset),wn=!0}catch(Tn){}}if(!wn){if(F>$){let jt=rt;rt=dt,dt=jt}let Tn=document.createRange();Tn.setEnd(dt.node,dt.offset),Tn.setStart(rt.node,rt.offset),Lt.removeAllRanges(),Lt.addRange(Tn)}}ignoreMutation(F){return!this.contentDOM&&F.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(F,$){for(let se=0,Ee=0;Ee<this.children.length;Ee++){let Ae=this.children[Ee],Ze=se+Ae.size;if(se==Ze?F<=Ze&&$>=se:F<Ze&&$>se){let rt=se+Ae.border,dt=Ze-Ae.border;if(F>=rt&&$<=dt){this.dirty=F==se||$==Ze?Ne:Ve,F==rt&&$==dt&&(Ae.contentLost||Ae.dom.parentNode!=this.contentDOM)?Ae.dirty=Fe:Ae.markDirty(F-rt,$-rt);return}else Ae.dirty=Ae.dom==Ae.contentDOM&&Ae.dom.parentNode==this.contentDOM&&!Ae.children.length?Ne:Fe}se=Ze}this.dirty=Ne}markParentsDirty(){let F=1;for(let $=this.parent;$;$=$.parent,F++){let se=F==1?Ne:Ve;$.dirty<se&&($.dirty=se)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class be extends Ue{constructor(F,$,se,Ee){let Ae,Ze=$.type.toDOM;if(typeof Ze=="function"&&(Ze=Ze(se,()=>{if(!Ae)return Ee;if(Ae.parent)return Ae.parent.posBeforeChild(Ae)})),!$.type.spec.raw){if(Ze.nodeType!=1){let rt=document.createElement("span");rt.appendChild(Ze),Ze=rt}Ze.contentEditable="false",Ze.classList.add("ProseMirror-widget")}super(F,[],Ze,null),this.widget=$,this.widget=$,Ae=this}matchesWidget(F){return this.dirty==ke&&F.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(F){let $=this.widget.spec.stopEvent;return $?$(F):!1}ignoreMutation(F){return F.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Ge extends Ue{constructor(F,$,se,Ee){super(F,[],$,null),this.textDOM=se,this.text=Ee}get size(){return this.text.length}localPosFromDOM(F,$){return F!=this.textDOM?this.posAtStart+($?this.size:0):this.posAtStart+$}domFromPos(F){return{node:this.textDOM,offset:F}}ignoreMutation(F){return F.type==="characterData"&&F.target.nodeValue==F.oldValue}}class nt extends Ue{constructor(F,$,se,Ee){super(F,[],se,Ee),this.mark=$}static create(F,$,se,Ee){let Ae=Ee.nodeViews[$.type.name],Ze=Ae&&Ae($,Ee,se);return(!Ze||!Ze.dom)&&(Ze=m.PW.renderSpec(document,$.type.spec.toDOM($,se))),new nt(F,$,Ze.dom,Ze.contentDOM||Ze.dom)}parseRule(){return this.dirty&Fe||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(F){return this.dirty!=Fe&&this.mark.eq(F)}markDirty(F,$){if(super.markDirty(F,$),this.dirty!=ke){let se=this.parent;for(;!se.node;)se=se.parent;se.dirty<this.dirty&&(se.dirty=this.dirty),this.dirty=ke}}slice(F,$,se){let Ee=nt.create(this.parent,this.mark,!0,se),Ae=this.children,Ze=this.size;$<Ze&&(Ae=Un(Ae,$,Ze,se)),F>0&&(Ae=Un(Ae,0,F,se));for(let rt=0;rt<Ae.length;rt++)Ae[rt].parent=Ee;return Ee.children=Ae,Ee}}class Oe extends Ue{constructor(F,$,se,Ee,Ae,Ze,rt,dt,Lt){super(F,[],Ae,Ze),this.node=$,this.outerDeco=se,this.innerDeco=Ee,this.nodeDOM=rt,Ze&&this.updateChildren(dt,Lt)}static create(F,$,se,Ee,Ae,Ze){let rt=Ae.nodeViews[$.type.name],dt,Lt=rt&&rt($,Ae,()=>{if(!dt)return Ze;if(dt.parent)return dt.parent.posBeforeChild(dt)},se,Ee),Kt=Lt&&Lt.dom,wn=Lt&&Lt.contentDOM;if($.isText){if(!Kt)Kt=document.createTextNode($.text);else if(Kt.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else Kt||({dom:Kt,contentDOM:wn}=m.PW.renderSpec(document,$.type.spec.toDOM($)));!wn&&!$.isText&&Kt.nodeName!="BR"&&(Kt.hasAttribute("contenteditable")||(Kt.contentEditable="false"),$.type.spec.draggable&&(Kt.draggable=!0));let Tn=Kt;return Kt=sn(Kt,se,$),Lt?dt=new Te(F,$,se,Ee,Kt,wn||null,Tn,Lt,Ae,Ze+1):$.isText?new Y(F,$,se,Ee,Kt,Tn,Ae):new Oe(F,$,se,Ee,Kt,wn||null,Tn,Ae,Ze+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let F={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(F.preserveWhitespace="full"),!this.contentDOM)F.getContent=()=>this.node.content;else if(!this.contentLost)F.contentElement=this.contentDOM;else{for(let $=this.children.length-1;$>=0;$--){let se=this.children[$];if(this.dom.contains(se.dom.parentNode)){F.contentElement=se.dom.parentNode;break}}F.contentElement||(F.getContent=()=>m.HY.empty)}return F}matchesNode(F,$,se){return this.dirty==ke&&F.eq(this.node)&&Et($,this.outerDeco)&&se.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(F,$){let se=this.node.inlineContent,Ee=$,Ae=F.composing?this.localCompositionInfo(F,$):null,Ze=Ae&&Ae.pos>-1?Ae:null,rt=Ae&&Ae.pos<0,dt=new at(this,Ze&&Ze.node,F);on(this.node,this.innerDeco,(Lt,Kt,wn)=>{Lt.spec.marks?dt.syncToMarks(Lt.spec.marks,se,F):Lt.type.side>=0&&!wn&&dt.syncToMarks(Kt==this.node.childCount?m.vc.none:this.node.child(Kt).marks,se,F),dt.placeWidget(Lt,F,Ee)},(Lt,Kt,wn,Tn)=>{dt.syncToMarks(Lt.marks,se,F);let jt;dt.findNodeMatch(Lt,Kt,wn,Tn)||rt&&F.state.selection.from>Ee&&F.state.selection.to<Ee+Lt.nodeSize&&(jt=dt.findIndexWithChild(Ae.node))>-1&&dt.updateNodeAt(Lt,Kt,wn,jt,F)||dt.updateNextNode(Lt,Kt,wn,F,Tn)||dt.addNode(Lt,Kt,wn,F,Ee),Ee+=Lt.nodeSize}),dt.syncToMarks([],se,F),this.node.isTextblock&&dt.addTextblockHacks(),dt.destroyRest(),(dt.changed||this.dirty==Ne)&&(Ze&&this.protectLocalComposition(F,Ze),He(this.contentDOM,this.children,F),te&&hn(this.dom))}localCompositionInfo(F,$){let{from:se,to:Ee}=F.state.selection;if(!(F.state.selection instanceof o.Bs)||se<$||Ee>$+this.node.content.size)return null;let Ae=F.domSelectionRange(),Ze=gn(Ae.focusNode,Ae.focusOffset);if(!Ze||!this.dom.contains(Ze.parentNode))return null;if(this.node.inlineContent){let rt=Ze.nodeValue,dt=bn(this.node.content,rt,se-$,Ee-$);return dt<0?null:{node:Ze,pos:dt,text:rt}}else return{node:Ze,pos:-1,text:""}}protectLocalComposition(F,{node:$,pos:se,text:Ee}){if(this.getDesc($))return;let Ae=$;for(;Ae.parentNode!=this.contentDOM;Ae=Ae.parentNode){for(;Ae.previousSibling;)Ae.parentNode.removeChild(Ae.previousSibling);for(;Ae.nextSibling;)Ae.parentNode.removeChild(Ae.nextSibling);Ae.pmViewDesc&&(Ae.pmViewDesc=void 0)}let Ze=new Ge(this,Ae,$,Ee);F.input.compositionNodes.push(Ze),this.children=Un(this.children,se,se+Ee.length,F,Ze)}update(F,$,se,Ee){return this.dirty==Fe||!F.sameMarkup(this.node)?!1:(this.updateInner(F,$,se,Ee),!0)}updateInner(F,$,se,Ee){this.updateOuterDeco($),this.node=F,this.innerDeco=se,this.contentDOM&&this.updateChildren(Ee,this.posAtStart),this.dirty=ke}updateOuterDeco(F){if(Et(F,this.outerDeco))return;let $=this.nodeDOM.nodeType!=1,se=this.dom;this.dom=Pt(this.dom,this.nodeDOM,ct(this.outerDeco,this.node,$),ct(F,this.node,$)),this.dom!=se&&(se.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=F}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function K(L,F,$,se,Ee){return sn(se,F,L),new Oe(void 0,L,F,$,se,se,se,Ee,0)}class Y extends Oe{constructor(F,$,se,Ee,Ae,Ze,rt){super(F,$,se,Ee,Ae,null,Ze,rt,0)}parseRule(){let F=this.nodeDOM.parentNode;for(;F&&F!=this.dom&&!F.pmIsDeco;)F=F.parentNode;return{skip:F||!0}}update(F,$,se,Ee){return this.dirty==Fe||this.dirty!=ke&&!this.inParent()||!F.sameMarkup(this.node)?!1:(this.updateOuterDeco($),(this.dirty!=ke||F.text!=this.node.text)&&F.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=F.text,Ee.trackWrites==this.nodeDOM&&(Ee.trackWrites=null)),this.node=F,this.dirty=ke,!0)}inParent(){let F=this.parent.contentDOM;for(let $=this.nodeDOM;$;$=$.parentNode)if($==F)return!0;return!1}domFromPos(F){return{node:this.nodeDOM,offset:F}}localPosFromDOM(F,$,se){return F==this.nodeDOM?this.posAtStart+Math.min($,this.node.text.length):super.localPosFromDOM(F,$,se)}ignoreMutation(F){return F.type!="characterData"&&F.type!="selection"}slice(F,$,se){let Ee=this.node.cut(F,$),Ae=document.createTextNode(Ee.text);return new Y(this.parent,Ee,this.outerDeco,this.innerDeco,Ae,Ae,se)}markDirty(F,$){super.markDirty(F,$),this.dom!=this.nodeDOM&&(F==0||$==this.nodeDOM.nodeValue.length)&&(this.dirty=Fe)}get domAtom(){return!1}}class he extends Ue{parseRule(){return{ignore:!0}}matchesHack(F){return this.dirty==ke&&this.dom.nodeName==F}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Te extends Oe{constructor(F,$,se,Ee,Ae,Ze,rt,dt,Lt,Kt){super(F,$,se,Ee,Ae,Ze,rt,Lt,Kt),this.spec=dt}update(F,$,se,Ee){if(this.dirty==Fe)return!1;if(this.spec.update){let Ae=this.spec.update(F,$,se);return Ae&&this.updateInner(F,$,se,Ee),Ae}else return!this.contentDOM&&!F.isLeaf?!1:super.update(F,$,se,Ee)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(F,$,se,Ee){this.spec.setSelection?this.spec.setSelection(F,$,se):super.setSelection(F,$,se,Ee)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(F){return this.spec.stopEvent?this.spec.stopEvent(F):!1}ignoreMutation(F){return this.spec.ignoreMutation?this.spec.ignoreMutation(F):super.ignoreMutation(F)}}function He(L,F,$){let se=L.firstChild,Ee=!1;for(let Ae=0;Ae<F.length;Ae++){let Ze=F[Ae],rt=Ze.dom;if(rt.parentNode==L){for(;rt!=se;)se=Ot(se),Ee=!0;se=se.nextSibling}else Ee=!0,L.insertBefore(rt,se);if(Ze instanceof nt){let dt=se?se.previousSibling:L.lastChild;He(Ze.contentDOM,Ze.children,$),se=dt?dt.nextSibling:L.firstChild}}for(;se;)se=Ot(se),Ee=!0;Ee&&$.trackWrites==L&&($.trackWrites=null)}const Qe=function(L){L&&(this.nodeName=L)};Qe.prototype=Object.create(null);const ht=[new Qe];function ct(L,F,$){if(L.length==0)return ht;let se=$?ht[0]:new Qe,Ee=[se];for(let Ae=0;Ae<L.length;Ae++){let Ze=L[Ae].type.attrs;if(Ze){Ze.nodeName&&Ee.push(se=new Qe(Ze.nodeName));for(let rt in Ze){let dt=Ze[rt];dt!=null&&($&&Ee.length==1&&Ee.push(se=new Qe(F.isInline?"span":"div")),rt=="class"?se.class=(se.class?se.class+" ":"")+dt:rt=="style"?se.style=(se.style?se.style+";":"")+dt:rt!="nodeName"&&(se[rt]=dt))}}}return Ee}function Pt(L,F,$,se){if($==ht&&se==ht)return F;let Ee=F;for(let Ae=0;Ae<se.length;Ae++){let Ze=se[Ae],rt=$[Ae];if(Ae){let dt;rt&&rt.nodeName==Ze.nodeName&&Ee!=L&&(dt=Ee.parentNode)&&dt.nodeName.toLowerCase()==Ze.nodeName||(dt=document.createElement(Ze.nodeName),dt.pmIsDeco=!0,dt.appendChild(Ee),rt=ht[0]),Ee=dt}Nt(Ee,rt||ht[0],Ze)}return Ee}function Nt(L,F,$){for(let se in F)se!="class"&&se!="style"&&se!="nodeName"&&!(se in $)&&L.removeAttribute(se);for(let se in $)se!="class"&&se!="style"&&se!="nodeName"&&$[se]!=F[se]&&L.setAttribute(se,$[se]);if(F.class!=$.class){let se=F.class?F.class.split(" ").filter(Boolean):[],Ee=$.class?$.class.split(" ").filter(Boolean):[];for(let Ae=0;Ae<se.length;Ae++)Ee.indexOf(se[Ae])==-1&&L.classList.remove(se[Ae]);for(let Ae=0;Ae<Ee.length;Ae++)se.indexOf(Ee[Ae])==-1&&L.classList.add(Ee[Ae]);L.classList.length==0&&L.removeAttribute("class")}if(F.style!=$.style){if(F.style){let se=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,Ee;for(;Ee=se.exec(F.style);)L.style.removeProperty(Ee[1])}$.style&&(L.style.cssText+=$.style)}}function sn(L,F,$){return Pt(L,L,ht,ct(F,$,L.nodeType!=1))}function Et(L,F){if(L.length!=F.length)return!1;for(let $=0;$<L.length;$++)if(!L[$].type.eq(F[$].type))return!1;return!0}function Ot(L){let F=L.nextSibling;return L.parentNode.removeChild(L),F}class at{constructor(F,$,se){this.lock=$,this.view=se,this.index=0,this.stack=[],this.changed=!1,this.top=F,this.preMatch=Ht(F.node.content,F)}destroyBetween(F,$){if(F!=$){for(let se=F;se<$;se++)this.top.children[se].destroy();this.top.children.splice(F,$-F),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(F,$,se){let Ee=0,Ae=this.stack.length>>1,Ze=Math.min(Ae,F.length);for(;Ee<Ze&&(Ee==Ae-1?this.top:this.stack[Ee+1<<1]).matchesMark(F[Ee])&&F[Ee].type.spec.spanning!==!1;)Ee++;for(;Ee<Ae;)this.destroyRest(),this.top.dirty=ke,this.index=this.stack.pop(),this.top=this.stack.pop(),Ae--;for(;Ae<F.length;){this.stack.push(this.top,this.index+1);let rt=-1;for(let dt=this.index;dt<Math.min(this.index+3,this.top.children.length);dt++){let Lt=this.top.children[dt];if(Lt.matchesMark(F[Ae])&&!this.isLocked(Lt.dom)){rt=dt;break}}if(rt>-1)rt>this.index&&(this.changed=!0,this.destroyBetween(this.index,rt)),this.top=this.top.children[this.index];else{let dt=nt.create(this.top,F[Ae],$,se);this.top.children.splice(this.index,0,dt),this.top=dt,this.changed=!0}this.index=0,Ae++}}findNodeMatch(F,$,se,Ee){let Ae=-1,Ze;if(Ee>=this.preMatch.index&&(Ze=this.preMatch.matches[Ee-this.preMatch.index]).parent==this.top&&Ze.matchesNode(F,$,se))Ae=this.top.children.indexOf(Ze,this.index);else for(let rt=this.index,dt=Math.min(this.top.children.length,rt+5);rt<dt;rt++){let Lt=this.top.children[rt];if(Lt.matchesNode(F,$,se)&&!this.preMatch.matched.has(Lt)){Ae=rt;break}}return Ae<0?!1:(this.destroyBetween(this.index,Ae),this.index++,!0)}updateNodeAt(F,$,se,Ee,Ae){let Ze=this.top.children[Ee];return Ze.dirty==Fe&&Ze.dom==Ze.contentDOM&&(Ze.dirty=Ne),Ze.update(F,$,se,Ae)?(this.destroyBetween(this.index,Ee),this.index++,!0):!1}findIndexWithChild(F){for(;;){let $=F.parentNode;if(!$)return-1;if($==this.top.contentDOM){let se=F.pmViewDesc;if(se){for(let Ee=this.index;Ee<this.top.children.length;Ee++)if(this.top.children[Ee]==se)return Ee}return-1}F=$}}updateNextNode(F,$,se,Ee,Ae){for(let Ze=this.index;Ze<this.top.children.length;Ze++){let rt=this.top.children[Ze];if(rt instanceof Oe){let dt=this.preMatch.matched.get(rt);if(dt!=null&&dt!=Ae)return!1;let Lt=rt.dom;if(!(this.isLocked(Lt)&&!(F.isText&&rt.node&&rt.node.isText&&rt.nodeDOM.nodeValue==F.text&&rt.dirty!=Fe&&Et($,rt.outerDeco)))&&rt.update(F,$,se,Ee))return this.destroyBetween(this.index,Ze),rt.dom!=Lt&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(F,$,se,Ee,Ae){this.top.children.splice(this.index++,0,Oe.create(this.top,F,$,se,Ee,Ae)),this.changed=!0}placeWidget(F,$,se){let Ee=this.index<this.top.children.length?this.top.children[this.index]:null;if(Ee&&Ee.matchesWidget(F)&&(F==Ee.widget||!Ee.widget.type.toDOM.parentNode))this.index++;else{let Ae=new be(this.top,F,$,se);this.top.children.splice(this.index++,0,Ae),this.changed=!0}}addTextblockHacks(){let F=this.top.children[this.index-1],$=this.top;for(;F instanceof nt;)$=F,F=$.children[$.children.length-1];(!F||!(F instanceof Y)||/\n$/.test(F.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(F.node.text))&&((ne||J)&&F&&F.dom.contentEditable=="false"&&this.addHackNode("IMG",$),this.addHackNode("BR",this.top))}addHackNode(F,$){if($==this.top&&this.index<$.children.length&&$.children[this.index].matchesHack(F))this.index++;else{let se=document.createElement(F);F=="IMG"&&(se.className="ProseMirror-separator",se.alt=""),F=="BR"&&(se.className="ProseMirror-trailingBreak");let Ee=new he(this.top,[],se,null);$!=this.top?$.children.push(Ee):$.children.splice(this.index++,0,Ee),this.changed=!0}}isLocked(F){return this.lock&&(F==this.lock||F.nodeType==1&&F.contains(this.lock.parentNode))}}function Ht(L,F){let $=F,se=$.children.length,Ee=L.childCount,Ae=new Map,Ze=[];e:for(;Ee>0;){let rt;for(;;)if(se){let Lt=$.children[se-1];if(Lt instanceof nt)$=Lt,se=Lt.children.length;else{rt=Lt,se--;break}}else{if($==F)break e;se=$.parent.children.indexOf($),$=$.parent}let dt=rt.node;if(dt){if(dt!=L.child(Ee-1))break;--Ee,Ae.set(rt,Ee),Ze.push(rt)}}return{index:Ee,matched:Ae,matches:Ze.reverse()}}function zt(L,F){return L.type.side-F.type.side}function on(L,F,$,se){let Ee=F.locals(L),Ae=0;if(Ee.length==0){for(let Lt=0;Lt<L.childCount;Lt++){let Kt=L.child(Lt);se(Kt,Ee,F.forChild(Ae,Kt),Lt),Ae+=Kt.nodeSize}return}let Ze=0,rt=[],dt=null;for(let Lt=0;;){if(Ze<Ee.length&&Ee[Ze].to==Ae){let Kn=Ee[Ze++],Rr;for(;Ze<Ee.length&&Ee[Ze].to==Ae;)(Rr||(Rr=[Kn])).push(Ee[Ze++]);if(Rr){Rr.sort(zt);for(let Jr=0;Jr<Rr.length;Jr++)$(Rr[Jr],Lt,!!dt)}else $(Kn,Lt,!!dt)}let Kt,wn;if(dt)wn=-1,Kt=dt,dt=null;else if(Lt<L.childCount)wn=Lt,Kt=L.child(Lt++);else break;for(let Kn=0;Kn<rt.length;Kn++)rt[Kn].to<=Ae&&rt.splice(Kn--,1);for(;Ze<Ee.length&&Ee[Ze].from<=Ae&&Ee[Ze].to>Ae;)rt.push(Ee[Ze++]);let Tn=Ae+Kt.nodeSize;if(Kt.isText){let Kn=Tn;Ze<Ee.length&&Ee[Ze].from<Kn&&(Kn=Ee[Ze].from);for(let Rr=0;Rr<rt.length;Rr++)rt[Rr].to<Kn&&(Kn=rt[Rr].to);Kn<Tn&&(dt=Kt.cut(Kn-Ae),Kt=Kt.cut(0,Kn-Ae),Tn=Kn,wn=-1)}let jt=Kt.isInline&&!Kt.isLeaf?rt.filter(Kn=>!Kn.inline):rt.slice();se(Kt,jt,F.forChild(Ae,Kt),wn),Ae=Tn}}function hn(L){if(L.nodeName=="UL"||L.nodeName=="OL"){let F=L.style.cssText;L.style.cssText=F+"; list-style: square !important",window.getComputedStyle(L).listStyle,L.style.cssText=F}}function gn(L,F){for(;;){if(L.nodeType==3)return L;if(L.nodeType==1&&F>0){if(L.childNodes.length>F&&L.childNodes[F].nodeType==3)return L.childNodes[F];L=L.childNodes[F-1],F=E(L)}else if(L.nodeType==1&&F<L.childNodes.length)L=L.childNodes[F],F=0;else return null}}function bn(L,F,$,se){for(let Ee=0,Ae=0;Ee<L.childCount&&Ae<=se;){let Ze=L.child(Ee++),rt=Ae;if(Ae+=Ze.nodeSize,!Ze.isText)continue;let dt=Ze.text;for(;Ee<L.childCount;){let Lt=L.child(Ee++);if(Ae+=Lt.nodeSize,!Lt.isText)break;dt+=Lt.text}if(Ae>=$){let Lt=rt<se?dt.lastIndexOf(F,se-rt-1):-1;if(Lt>=0&&Lt+F.length+rt>=$)return rt+Lt;if($==se&&dt.length>=se+F.length-rt&&dt.slice(se-rt,se-rt+F.length)==F)return se}}return-1}function Un(L,F,$,se,Ee){let Ae=[];for(let Ze=0,rt=0;Ze<L.length;Ze++){let dt=L[Ze],Lt=rt,Kt=rt+=dt.size;Lt>=$||Kt<=F?Ae.push(dt):(Lt<F&&Ae.push(dt.slice(0,F-Lt,se)),Ee&&(Ae.push(Ee),Ee=void 0),Kt>$&&Ae.push(dt.slice($-Lt,dt.size,se)))}return Ae}function qn(L,F=null){let $=L.domSelectionRange(),se=L.state.doc;if(!$.focusNode)return null;let Ee=L.docView.nearestDesc($.focusNode),Ae=Ee&&Ee.size==0,Ze=L.docView.posFromDOM($.focusNode,$.focusOffset,1);if(Ze<0)return null;let rt=se.resolve(Ze),dt,Lt;if(_($)){for(dt=rt;Ee&&!Ee.node;)Ee=Ee.parent;let Kt=Ee.node;if(Ee&&Kt.isAtom&&o.qv.isSelectable(Kt)&&Ee.parent&&!(Kt.isInline&&O($.focusNode,$.focusOffset,Ee.dom))){let wn=Ee.posBefore;Lt=new o.qv(Ze==wn?rt:se.resolve(wn))}}else{let Kt=L.docView.posFromDOM($.anchorNode,$.anchorOffset,1);if(Kt<0)return null;dt=se.resolve(Kt)}if(!Lt){let Kt=F=="pointer"||L.state.selection.head<rt.pos&&!Ae?1:-1;Lt=Hr(L,dt,rt,Kt)}return Lt}function cr(L){return L.editable?L.hasFocus():uo(L)&&document.activeElement&&document.activeElement.contains(L.dom)}function hr(L,F=!1){let $=L.state.selection;if(dr(L,$),!!cr(L)){if(!F&&L.input.mouseDown&&L.input.mouseDown.allowDefault&&J){let se=L.domSelectionRange(),Ee=L.domObserver.currentSelection;if(se.anchorNode&&Ee.anchorNode&&v(se.anchorNode,se.anchorOffset,Ee.anchorNode,Ee.anchorOffset)){L.input.mouseDown.delayedSelectionSync=!0,L.domObserver.setCurSelection();return}}if(L.domObserver.disconnectSelection(),L.cursorWrapper)lo(L);else{let{anchor:se,head:Ee}=$,Ae,Ze;pr&&!($ instanceof o.Bs)&&($.$from.parent.inlineContent||(Ae=Lr(L,$.from)),!$.empty&&!$.$from.parent.inlineContent&&(Ze=Lr(L,$.to))),L.docView.setSelection(se,Ee,L.root,F),pr&&(Ae&&Kr(Ae),Ze&&Kr(Ze)),$.visible?L.dom.classList.remove("ProseMirror-hideselection"):(L.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&co(L))}L.domObserver.setCurSelection(),L.domObserver.connectSelection()}}const pr=ne||J&&Q<63;function Lr(L,F){let{node:$,offset:se}=L.docView.domFromPos(F,0),Ee=se<$.childNodes.length?$.childNodes[se]:null,Ae=se?$.childNodes[se-1]:null;if(ne&&Ee&&Ee.contentEditable=="false")return oo(Ee);if((!Ee||Ee.contentEditable=="false")&&(!Ae||Ae.contentEditable=="false")){if(Ee)return oo(Ee);if(Ae)return oo(Ae)}}function oo(L){return L.contentEditable="true",ne&&L.draggable&&(L.draggable=!1,L.wasDraggable=!0),L}function Kr(L){L.contentEditable="false",L.wasDraggable&&(L.draggable=!0,L.wasDraggable=null)}function co(L){let F=L.dom.ownerDocument;F.removeEventListener("selectionchange",L.input.hideSelectionGuard);let $=L.domSelectionRange(),se=$.anchorNode,Ee=$.anchorOffset;F.addEventListener("selectionchange",L.input.hideSelectionGuard=()=>{($.anchorNode!=se||$.anchorOffset!=Ee)&&(F.removeEventListener("selectionchange",L.input.hideSelectionGuard),setTimeout(()=>{(!cr(L)||L.state.selection.visible)&&L.dom.classList.remove("ProseMirror-hideselection")},20))})}function lo(L){let F=L.domSelection(),$=document.createRange(),se=L.cursorWrapper.dom,Ee=se.nodeName=="IMG";Ee?$.setEnd(se.parentNode,d(se)+1):$.setEnd(se,0),$.collapse(!1),F.removeAllRanges(),F.addRange($),!Ee&&!L.state.selection.visible&&A&&W<=11&&(se.disabled=!0,se.disabled=!1)}function dr(L,F){if(F instanceof o.qv){let $=L.docView.descAt(F.from);$!=L.lastSelectedViewDesc&&(Nr(L),$&&$.selectNode(),L.lastSelectedViewDesc=$)}else Nr(L)}function Nr(L){L.lastSelectedViewDesc&&(L.lastSelectedViewDesc.parent&&L.lastSelectedViewDesc.deselectNode(),L.lastSelectedViewDesc=void 0)}function Hr(L,F,$,se){return L.someProp("createSelectionBetween",Ee=>Ee(L,F,$))||o.Bs.between(F,$,se)}function Ur(L){return L.editable&&!L.hasFocus()?!1:uo(L)}function uo(L){let F=L.domSelectionRange();if(!F.anchorNode)return!1;try{return L.dom.contains(F.anchorNode.nodeType==3?F.anchorNode.parentNode:F.anchorNode)&&(L.editable||L.dom.contains(F.focusNode.nodeType==3?F.focusNode.parentNode:F.focusNode))}catch($){return!1}}function mo(L){let F=L.docView.domFromPos(L.state.selection.anchor,0),$=L.domSelectionRange();return v(F.node,F.offset,$.anchorNode,$.anchorOffset)}function yo(L,F){let{$anchor:$,$head:se}=L.selection,Ee=F>0?$.max(se):$.min(se),Ae=Ee.parent.inlineContent?Ee.depth?L.doc.resolve(F>0?Ee.after():Ee.before()):null:Ee;return Ae&&o.Y1.findFrom(Ae,F)}function Oo(L,F){return L.dispatch(L.state.tr.setSelection(F).scrollIntoView()),!0}function Xo(L,F,$){let se=L.state.selection;if(se instanceof o.Bs){if(!se.empty||$.indexOf("s")>-1)return!1;if(L.endOfTextblock(F>0?"right":"left")){let Ee=yo(L.state,F);return Ee&&Ee instanceof o.qv?Oo(L,Ee):!1}else if(!(B&&$.indexOf("m")>-1)){let Ee=se.$head,Ae=Ee.textOffset?null:F<0?Ee.nodeBefore:Ee.nodeAfter,Ze;if(!Ae||Ae.isText)return!1;let rt=F<0?Ee.pos-Ae.nodeSize:Ee.pos;return Ae.isAtom||(Ze=L.docView.descAt(rt))&&!Ze.contentDOM?o.qv.isSelectable(Ae)?Oo(L,new o.qv(F<0?L.state.doc.resolve(Ee.pos-Ae.nodeSize):Ee)):re?Oo(L,new o.Bs(L.state.doc.resolve(F<0?rt:rt+Ae.nodeSize))):!1:!1}}else{if(se instanceof o.qv&&se.node.isInline)return Oo(L,new o.Bs(F>0?se.$to:se.$from));{let Ee=yo(L.state,F);return Ee?Oo(L,Ee):!1}}}function Go(L){return L.nodeType==3?L.nodeValue.length:L.childNodes.length}function Mo(L){let F=L.pmViewDesc;return F&&F.size==0&&(L.nextSibling||L.nodeName!="BR")}function Lo(L){let F=L.domSelectionRange(),$=F.focusNode,se=F.focusOffset;if(!$)return;let Ee,Ae,Ze=!1;for(j&&$.nodeType==1&&se<Go($)&&Mo($.childNodes[se])&&(Ze=!0);;)if(se>0){if($.nodeType!=1)break;{let rt=$.childNodes[se-1];if(Mo(rt))Ee=$,Ae=--se;else if(rt.nodeType==3)$=rt,se=$.nodeValue.length;else break}}else{if(Qr($))break;{let rt=$.previousSibling;for(;rt&&Mo(rt);)Ee=$.parentNode,Ae=d(rt),rt=rt.previousSibling;if(rt)$=rt,se=Go($);else{if($=$.parentNode,$==L.dom)break;se=0}}}Ze?Yr(L,$,se):Ee&&Yr(L,Ee,Ae)}function Bo(L){let F=L.domSelectionRange(),$=F.focusNode,se=F.focusOffset;if(!$)return;let Ee=Go($),Ae,Ze;for(;;)if(se<Ee){if($.nodeType!=1)break;let rt=$.childNodes[se];if(Mo(rt))Ae=$,Ze=++se;else break}else{if(Qr($))break;{let rt=$.nextSibling;for(;rt&&Mo(rt);)Ae=rt.parentNode,Ze=d(rt)+1,rt=rt.nextSibling;if(rt)$=rt,se=0,Ee=Go($);else{if($=$.parentNode,$==L.dom)break;se=Ee=0}}}Ae&&Yr(L,Ae,Ze)}function Qr(L){let F=L.pmViewDesc;return F&&F.node&&F.node.isBlock}function Yr(L,F,$){let se=L.domSelection();if(_(se)){let Ae=document.createRange();Ae.setEnd(F,$),Ae.setStart(F,$),se.removeAllRanges(),se.addRange(Ae)}else se.extend&&se.extend(F,$);L.domObserver.setCurSelection();let{state:Ee}=L;setTimeout(()=>{L.state==Ee&&hr(L)},50)}function $r(L,F,$){let se=L.state.selection;if(se instanceof o.Bs&&!se.empty||$.indexOf("s")>-1||B&&$.indexOf("m")>-1)return!1;let{$from:Ee,$to:Ae}=se;if(!Ee.parent.inlineContent||L.endOfTextblock(F<0?"up":"down")){let Ze=yo(L.state,F);if(Ze&&Ze instanceof o.qv)return Oo(L,Ze)}if(!Ee.parent.inlineContent){let Ze=F<0?Ee:Ae,rt=se instanceof o.C1?o.Y1.near(Ze,F):o.Y1.findFrom(Ze,F);return rt?Oo(L,rt):!1}return!1}function xr(L,F){if(!(L.state.selection instanceof o.Bs))return!0;let{$head:$,$anchor:se,empty:Ee}=L.state.selection;if(!$.sameParent(se))return!0;if(!Ee)return!1;if(L.endOfTextblock(F>0?"forward":"backward"))return!0;let Ae=!$.textOffset&&(F<0?$.nodeBefore:$.nodeAfter);if(Ae&&!Ae.isText){let Ze=L.state.tr;return F<0?Ze.delete($.pos-Ae.nodeSize,$.pos):Ze.delete($.pos,$.pos+Ae.nodeSize),L.dispatch(Ze),!0}return!1}function $t(L,F,$){L.domObserver.stop(),F.contentEditable=$,L.domObserver.start()}function en(L){if(!ne||L.state.selection.$head.parentOffset>0)return!1;let{focusNode:F,focusOffset:$}=L.domSelectionRange();if(F&&F.nodeType==1&&$==0&&F.firstChild&&F.firstChild.contentEditable=="false"){let se=F.firstChild;$t(L,se,"true"),setTimeout(()=>$t(L,se,"false"),20)}return!1}function nn(L){let F="";return L.ctrlKey&&(F+="c"),L.metaKey&&(F+="m"),L.altKey&&(F+="a"),L.shiftKey&&(F+="s"),F}function Rn(L,F){let $=F.keyCode,se=nn(F);return $==8||B&&$==72&&se=="c"?xr(L,-1)||Lo(L):$==46||B&&$==68&&se=="c"?xr(L,1)||Bo(L):$==13||$==27?!0:$==37||B&&$==66&&se=="c"?Xo(L,-1,se)||Lo(L):$==39||B&&$==70&&se=="c"?Xo(L,1,se)||Bo(L):$==38||B&&$==80&&se=="c"?$r(L,-1,se)||Lo(L):$==40||B&&$==78&&se=="c"?en(L)||$r(L,1,se)||Bo(L):se==(B?"m":"c")&&($==66||$==73||$==89||$==90)}function At(L,F){L.someProp("transformCopied",jt=>{F=jt(F,L)});let $=[],{content:se,openStart:Ee,openEnd:Ae}=F;for(;Ee>1&&Ae>1&&se.childCount==1&&se.firstChild.childCount==1;){Ee--,Ae--;let jt=se.firstChild;$.push(jt.type.name,jt.attrs!=jt.type.defaultAttrs?jt.attrs:null),se=jt.content}let Ze=L.someProp("clipboardSerializer")||m.PW.fromSchema(L.state.schema),rt=Er(),dt=rt.createElement("div");dt.appendChild(Ze.serializeFragment(se,{document:rt}));let Lt=dt.firstChild,Kt,wn=0;for(;Lt&&Lt.nodeType==1&&(Kt=Nn[Lt.nodeName.toLowerCase()]);){for(let jt=Kt.length-1;jt>=0;jt--){let Kn=rt.createElement(Kt[jt]);for(;dt.firstChild;)Kn.appendChild(dt.firstChild);dt.appendChild(Kn),wn++}Lt=dt.firstChild}Lt&&Lt.nodeType==1&&Lt.setAttribute("data-pm-slice",`${Ee} ${Ae}${wn?` -${wn}`:""} ${JSON.stringify($)}`);let Tn=L.someProp("clipboardTextSerializer",jt=>jt(F,L))||F.content.textBetween(0,F.content.size,`

`);return{dom:dt,text:Tn}}function Yt(L,F,$,se,Ee){let Ae=Ee.parent.type.spec.code,Ze,rt;if(!$&&!F)return null;let dt=F&&(se||Ae||!$);if(dt){if(L.someProp("transformPastedText",Tn=>{F=Tn(F,Ae||se,L)}),Ae)return F?new m.p2(m.HY.from(L.state.schema.text(F.replace(/\r\n?/g,`
`))),0,0):m.p2.empty;let wn=L.someProp("clipboardTextParser",Tn=>Tn(F,Ee,se,L));if(wn)rt=wn;else{let Tn=Ee.marks(),{schema:jt}=L.state,Kn=m.PW.fromSchema(jt);Ze=document.createElement("div"),F.split(/(?:\r\n?|\n)+/).forEach(Rr=>{let Jr=Ze.appendChild(document.createElement("p"));Rr&&Jr.appendChild(Kn.serializeNode(jt.text(Rr,Tn)))})}}else L.someProp("transformPastedHTML",wn=>{$=wn($,L)}),Ze=yr($),re&&Br(Ze);let Lt=Ze&&Ze.querySelector("[data-pm-slice]"),Kt=Lt&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Lt.getAttribute("data-pm-slice")||"");if(Kt&&Kt[3])for(let wn=+Kt[3];wn>0;wn--){let Tn=Ze.firstChild;for(;Tn&&Tn.nodeType!=1;)Tn=Tn.nextSibling;if(!Tn)break;Ze=Tn}if(rt||(rt=(L.someProp("clipboardParser")||L.someProp("domParser")||m.aw.fromSchema(L.state.schema)).parseSlice(Ze,{preserveWhitespace:!!(dt||Kt),context:Ee,ruleFromNode(Tn){return Tn.nodeName=="BR"&&!Tn.nextSibling&&Tn.parentNode&&!Wt.test(Tn.parentNode.nodeName)?{ignore:!0}:null}})),Kt)rt=ao(Jn(rt,+Kt[1],+Kt[2]),Kt[4]);else if(rt=m.p2.maxOpen(rn(rt.content,Ee),!0),rt.openStart||rt.openEnd){let wn=0,Tn=0;for(let jt=rt.content.firstChild;wn<rt.openStart&&!jt.type.spec.isolating;wn++,jt=jt.firstChild);for(let jt=rt.content.lastChild;Tn<rt.openEnd&&!jt.type.spec.isolating;Tn++,jt=jt.lastChild);rt=Jn(rt,wn,Tn)}return L.someProp("transformPasted",wn=>{rt=wn(rt,L)}),rt}const Wt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function rn(L,F){if(L.childCount<2)return L;for(let $=F.depth;$>=0;$--){let Ee=F.node($).contentMatchAt(F.index($)),Ae,Ze=[];if(L.forEach(rt=>{if(!Ze)return;let dt=Ee.findWrapping(rt.type),Lt;if(!dt)return Ze=null;if(Lt=Ze.length&&Ae.length&&An(dt,Ae,rt,Ze[Ze.length-1],0))Ze[Ze.length-1]=Lt;else{Ze.length&&(Ze[Ze.length-1]=zn(Ze[Ze.length-1],Ae.length));let Kt=vn(rt,dt);Ze.push(Kt),Ee=Ee.matchType(Kt.type),Ae=dt}}),Ze)return m.HY.from(Ze)}return L}function vn(L,F,$=0){for(let se=F.length-1;se>=$;se--)L=F[se].create(null,m.HY.from(L));return L}function An(L,F,$,se,Ee){if(Ee<L.length&&Ee<F.length&&L[Ee]==F[Ee]){let Ae=An(L,F,$,se.lastChild,Ee+1);if(Ae)return se.copy(se.content.replaceChild(se.childCount-1,Ae));if(se.contentMatchAt(se.childCount).matchType(Ee==L.length-1?$.type:L[Ee+1]))return se.copy(se.content.append(m.HY.from(vn($,L,Ee+1))))}}function zn(L,F){if(F==0)return L;let $=L.content.replaceChild(L.childCount-1,zn(L.lastChild,F-1)),se=L.contentMatchAt(L.childCount).fillBefore(m.HY.empty,!0);return L.copy($.append(se))}function er(L,F,$,se,Ee,Ae){let Ze=F<0?L.firstChild:L.lastChild,rt=Ze.content;return Ee<se-1&&(rt=er(rt,F,$,se,Ee+1,Ae)),Ee>=$&&(rt=F<0?Ze.contentMatchAt(0).fillBefore(rt,L.childCount>1||Ae<=Ee).append(rt):rt.append(Ze.contentMatchAt(Ze.childCount).fillBefore(m.HY.empty,!0))),L.replaceChild(F<0?0:L.childCount-1,Ze.copy(rt))}function Jn(L,F,$){return F<L.openStart&&(L=new m.p2(er(L.content,-1,F,L.openStart,0,L.openEnd),F,L.openEnd)),$<L.openEnd&&(L=new m.p2(er(L.content,1,$,L.openEnd,0,0),L.openStart,$)),L}const Nn={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Pr=null;function Er(){return Pr||(Pr=document.implementation.createHTMLDocument("title"))}function yr(L){let F=/^(\s*<meta [^>]*>)*/.exec(L);F&&(L=L.slice(F[0].length));let $=Er().createElement("div"),se=/<([a-z][^>\s]+)/i.exec(L),Ee;if((Ee=se&&Nn[se[1].toLowerCase()])&&(L=Ee.map(Ae=>"<"+Ae+">").join("")+L+Ee.map(Ae=>"</"+Ae+">").reverse().join("")),$.innerHTML=L,Ee)for(let Ae=0;Ae<Ee.length;Ae++)$=$.querySelector(Ee[Ae])||$;return $}function Br(L){let F=L.querySelectorAll(J?"span:not([class]):not([style])":"span.Apple-converted-space");for(let $=0;$<F.length;$++){let se=F[$];se.childNodes.length==1&&se.textContent=="\xA0"&&se.parentNode&&se.parentNode.replaceChild(L.ownerDocument.createTextNode(" "),se)}}function ao(L,F){if(!L.size)return L;let $=L.content.firstChild.type.schema,se;try{se=JSON.parse(F)}catch(rt){return L}let{content:Ee,openStart:Ae,openEnd:Ze}=L;for(let rt=se.length-2;rt>=0;rt-=2){let dt=$.nodes[se[rt]];if(!dt||dt.hasRequiredAttrs())break;Ee=m.HY.from(dt.create(se[rt+1],Ee)),Ae++,Ze++}return new m.p2(Ee,Ae,Ze)}const to={},Sr={},Ao={touchstart:!0,touchmove:!0};class fo{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ho(L){for(let F in to){let $=to[F];L.dom.addEventListener(F,L.input.eventHandlers[F]=se=>{_i(L,se)&&!bo(L,se)&&(L.editable||!(se.type in Sr))&&$(L,se)},Ao[F]?{passive:!0}:void 0)}ne&&L.dom.addEventListener("input",()=>null),Vo(L)}function Po(L,F){L.input.lastSelectionOrigin=F,L.input.lastSelectionTime=Date.now()}function No(L){L.domObserver.stop();for(let F in L.input.eventHandlers)L.dom.removeEventListener(F,L.input.eventHandlers[F]);clearTimeout(L.input.composingTimeout),clearTimeout(L.input.lastIOSEnterFallbackTimeout)}function Vo(L){L.someProp("handleDOMEvents",F=>{for(let $ in F)L.input.eventHandlers[$]||L.dom.addEventListener($,L.input.eventHandlers[$]=se=>bo(L,se))})}function bo(L,F){return L.someProp("handleDOMEvents",$=>{let se=$[F.type];return se?se(L,F)||F.defaultPrevented:!1})}function _i(L,F){if(!F.bubbles)return!0;if(F.defaultPrevented)return!1;for(let $=F.target;$!=L.dom;$=$.parentNode)if(!$||$.nodeType==11||$.pmViewDesc&&$.pmViewDesc.stopEvent(F))return!1;return!0}function si(L,F){!bo(L,F)&&to[F.type]&&(L.editable||!(F.type in Sr))&&to[F.type](L,F)}Sr.keydown=(L,F)=>{let $=F;if(L.input.shiftKey=$.keyCode==16||$.shiftKey,!Di(L,$)&&(L.input.lastKeyCode=$.keyCode,L.input.lastKeyCodeTime=Date.now(),!(V&&J&&$.keyCode==13)))if($.keyCode!=229&&L.domObserver.forceFlush(),te&&$.keyCode==13&&!$.ctrlKey&&!$.altKey&&!$.metaKey){let se=Date.now();L.input.lastIOSEnter=se,L.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{L.input.lastIOSEnter==se&&(L.someProp("handleKeyDown",Ee=>Ee(L,a(13,"Enter"))),L.input.lastIOSEnter=0)},200)}else L.someProp("handleKeyDown",se=>se(L,$))||Rn(L,$)?$.preventDefault():Po(L,"key")},Sr.keyup=(L,F)=>{F.keyCode==16&&(L.input.shiftKey=!1)},Sr.keypress=(L,F)=>{let $=F;if(Di(L,$)||!$.charCode||$.ctrlKey&&!$.altKey||B&&$.metaKey)return;if(L.someProp("handleKeyPress",Ee=>Ee(L,$))){$.preventDefault();return}let se=L.state.selection;if(!(se instanceof o.Bs)||!se.$from.sameParent(se.$to)){let Ee=String.fromCharCode($.charCode);!/[\r\n]/.test(Ee)&&!L.someProp("handleTextInput",Ae=>Ae(L,se.$from.pos,se.$to.pos,Ee))&&L.dispatch(L.state.tr.insertText(Ee).scrollIntoView()),$.preventDefault()}};function oi(L){return{left:L.clientX,top:L.clientY}}function ci(L,F){let $=F.x-L.clientX,se=F.y-L.clientY;return $*$+se*se<100}function gi(L,F,$,se,Ee){if(se==-1)return!1;let Ae=L.state.doc.resolve(se);for(let Ze=Ae.depth+1;Ze>0;Ze--)if(L.someProp(F,rt=>Ze>Ae.depth?rt(L,$,Ae.nodeAfter,Ae.before(Ze),Ee,!0):rt(L,$,Ae.node(Ze),Ae.before(Ze),Ee,!1)))return!0;return!1}function vi(L,F,$){L.focused||L.focus();let se=L.state.tr.setSelection(F);$=="pointer"&&se.setMeta("pointer",!0),L.dispatch(se)}function oa(L,F){if(F==-1)return!1;let $=L.state.doc.resolve(F),se=$.nodeAfter;return se&&se.isAtom&&o.qv.isSelectable(se)?(vi(L,new o.qv($),"pointer"),!0):!1}function _o(L,F){if(F==-1)return!1;let $=L.state.selection,se,Ee;$ instanceof o.qv&&(se=$.node);let Ae=L.state.doc.resolve(F);for(let Ze=Ae.depth+1;Ze>0;Ze--){let rt=Ze>Ae.depth?Ae.nodeAfter:Ae.node(Ze);if(o.qv.isSelectable(rt)){se&&$.$from.depth>0&&Ze>=$.$from.depth&&Ae.before($.$from.depth+1)==$.$from.pos?Ee=Ae.before($.$from.depth):Ee=Ae.before(Ze);break}}return Ee!=null?(vi(L,o.qv.create(L.state.doc,Ee),"pointer"),!0):!1}function xi(L,F,$,se,Ee){return gi(L,"handleClickOn",F,$,se)||L.someProp("handleClick",Ae=>Ae(L,F,se))||(Ee?_o(L,$):oa(L,$))}function Bi(L,F,$,se){return gi(L,"handleDoubleClickOn",F,$,se)||L.someProp("handleDoubleClick",Ee=>Ee(L,F,se))}function ki(L,F,$,se){return gi(L,"handleTripleClickOn",F,$,se)||L.someProp("handleTripleClick",Ee=>Ee(L,F,se))||di(L,$,se)}function di(L,F,$){if($.button!=0)return!1;let se=L.state.doc;if(F==-1)return se.inlineContent?(vi(L,o.Bs.create(se,0,se.content.size),"pointer"),!0):!1;let Ee=se.resolve(F);for(let Ae=Ee.depth+1;Ae>0;Ae--){let Ze=Ae>Ee.depth?Ee.nodeAfter:Ee.node(Ae),rt=Ee.before(Ae);if(Ze.inlineContent)vi(L,o.Bs.create(se,rt+1,rt+1+Ze.content.size),"pointer");else if(o.qv.isSelectable(Ze))vi(L,o.qv.create(se,rt),"pointer");else continue;return!0}}function So(L){return gt(L)}const ti=B?"metaKey":"ctrlKey";to.mousedown=(L,F)=>{let $=F;L.input.shiftKey=$.shiftKey;let se=So(L),Ee=Date.now(),Ae="singleClick";Ee-L.input.lastClick.time<500&&ci($,L.input.lastClick)&&!$[ti]&&(L.input.lastClick.type=="singleClick"?Ae="doubleClick":L.input.lastClick.type=="doubleClick"&&(Ae="tripleClick")),L.input.lastClick={time:Ee,x:$.clientX,y:$.clientY,type:Ae};let Ze=L.posAtCoords(oi($));Ze&&(Ae=="singleClick"?(L.input.mouseDown&&L.input.mouseDown.done(),L.input.mouseDown=new li(L,Ze,$,!!se)):(Ae=="doubleClick"?Bi:ki)(L,Ze.pos,Ze.inside,$)?$.preventDefault():Po(L,"pointer"))};class li{constructor(F,$,se,Ee){this.view=F,this.pos=$,this.event=se,this.flushed=Ee,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=F.state.doc,this.selectNode=!!se[ti],this.allowDefault=se.shiftKey;let Ae,Ze;if($.inside>-1)Ae=F.state.doc.nodeAt($.inside),Ze=$.inside;else{let Kt=F.state.doc.resolve($.pos);Ae=Kt.parent,Ze=Kt.depth?Kt.before():0}const rt=Ee?null:se.target,dt=rt?F.docView.nearestDesc(rt,!0):null;this.target=dt?dt.dom:null;let{selection:Lt}=F.state;(se.button==0&&Ae.type.spec.draggable&&Ae.type.spec.selectable!==!1||Lt instanceof o.qv&&Lt.from<=Ze&&Lt.to>Ze)&&(this.mightDrag={node:Ae,pos:Ze,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&j&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),F.root.addEventListener("mouseup",this.up=this.up.bind(this)),F.root.addEventListener("mousemove",this.move=this.move.bind(this)),Po(F,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>hr(this.view)),this.view.input.mouseDown=null}up(F){if(this.done(),!this.view.dom.contains(F.target))return;let $=this.pos;this.view.state.doc!=this.startDoc&&($=this.view.posAtCoords(oi(F))),this.updateAllowDefault(F),this.allowDefault||!$?Po(this.view,"pointer"):xi(this.view,$.pos,$.inside,F,this.selectNode)?F.preventDefault():F.button==0&&(this.flushed||ne&&this.mightDrag&&!this.mightDrag.node.isAtom||J&&!this.view.state.selection.visible&&Math.min(Math.abs($.pos-this.view.state.selection.from),Math.abs($.pos-this.view.state.selection.to))<=2)?(vi(this.view,o.Y1.near(this.view.state.doc.resolve($.pos)),"pointer"),F.preventDefault()):Po(this.view,"pointer")}move(F){this.updateAllowDefault(F),Po(this.view,"pointer"),F.buttons==0&&this.done()}updateAllowDefault(F){!this.allowDefault&&(Math.abs(this.event.x-F.clientX)>4||Math.abs(this.event.y-F.clientY)>4)&&(this.allowDefault=!0)}}to.touchstart=L=>{L.input.lastTouch=Date.now(),So(L),Po(L,"pointer")},to.touchmove=L=>{L.input.lastTouch=Date.now(),Po(L,"pointer")},to.contextmenu=L=>So(L);function Di(L,F){return L.composing?!0:ne&&Math.abs(F.timeStamp-L.input.compositionEndedAt)<500?(L.input.compositionEndedAt=-2e8,!0):!1}const et=V?5e3:-1;Sr.compositionstart=Sr.compositionupdate=L=>{if(!L.composing){L.domObserver.flush();let{state:F}=L,$=F.selection.$from;if(F.selection.empty&&(F.storedMarks||!$.textOffset&&$.parentOffset&&$.nodeBefore.marks.some(se=>se.type.spec.inclusive===!1)))L.markCursor=L.state.storedMarks||$.marks(),gt(L,!0),L.markCursor=null;else if(gt(L),j&&F.selection.empty&&$.parentOffset&&!$.textOffset&&$.nodeBefore.marks.length){let se=L.domSelectionRange();for(let Ee=se.focusNode,Ae=se.focusOffset;Ee&&Ee.nodeType==1&&Ae!=0;){let Ze=Ae<0?Ee.lastChild:Ee.childNodes[Ae-1];if(!Ze)break;if(Ze.nodeType==3){L.domSelection().collapse(Ze,Ze.nodeValue.length);break}else Ee=Ze,Ae=-1}}L.input.composing=!0}Ye(L,et)},Sr.compositionend=(L,F)=>{L.composing&&(L.input.composing=!1,L.input.compositionEndedAt=F.timeStamp,Ye(L,20))};function Ye(L,F){clearTimeout(L.input.composingTimeout),F>-1&&(L.input.composingTimeout=setTimeout(()=>gt(L),F))}function Xe(L){for(L.composing&&(L.input.composing=!1,L.input.compositionEndedAt=pt());L.input.compositionNodes.length>0;)L.input.compositionNodes.pop().markParentsDirty()}function pt(){let L=document.createEvent("Event");return L.initEvent("event",!0,!0),L.timeStamp}function gt(L,F=!1){if(!(V&&L.domObserver.flushingSoon>=0)){if(L.domObserver.forceFlush(),Xe(L),F||L.docView&&L.docView.dirty){let $=qn(L);return $&&!$.eq(L.state.selection)?L.dispatch(L.state.tr.setSelection($)):L.updateState(L.state),!0}return!1}}function kt(L,F){if(!L.dom.parentNode)return;let $=L.dom.parentNode.appendChild(document.createElement("div"));$.appendChild(F),$.style.cssText="position: fixed; left: -10000px; top: 10px";let se=getSelection(),Ee=document.createRange();Ee.selectNodeContents(F),L.dom.blur(),se.removeAllRanges(),se.addRange(Ee),setTimeout(()=>{$.parentNode&&$.parentNode.removeChild($),L.focus()},50)}const Bt=A&&W<15||te&&le<604;to.copy=Sr.cut=(L,F)=>{let $=F,se=L.state.selection,Ee=$.type=="cut";if(se.empty)return;let Ae=Bt?null:$.clipboardData,Ze=se.content(),{dom:rt,text:dt}=At(L,Ze);Ae?($.preventDefault(),Ae.clearData(),Ae.setData("text/html",rt.innerHTML),Ae.setData("text/plain",dt)):kt(L,rt),Ee&&L.dispatch(L.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Se(L){return L.openStart==0&&L.openEnd==0&&L.content.childCount==1?L.content.firstChild:null}function _e(L,F){if(!L.dom.parentNode)return;let $=L.input.shiftKey||L.state.selection.$from.parent.type.spec.code,se=L.dom.parentNode.appendChild(document.createElement($?"textarea":"div"));$||(se.contentEditable="true"),se.style.cssText="position: fixed; left: -10000px; top: 10px",se.focus(),setTimeout(()=>{L.focus(),se.parentNode&&se.parentNode.removeChild(se),$?Pe(L,se.value,null,L.input.shiftKey,F):Pe(L,se.textContent,se.innerHTML,L.input.shiftKey,F)},50)}function Pe(L,F,$,se,Ee){let Ae=Yt(L,F,$,se,L.state.selection.$from);if(L.someProp("handlePaste",dt=>dt(L,Ee,Ae||m.p2.empty)))return!0;if(!Ae)return!1;let Ze=Se(Ae),rt=Ze?L.state.tr.replaceSelectionWith(Ze,L.input.shiftKey):L.state.tr.replaceSelection(Ae);return L.dispatch(rt.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Sr.paste=(L,F)=>{let $=F;if(L.composing&&!V)return;let se=Bt?null:$.clipboardData;se&&Pe(L,se.getData("text/plain"),se.getData("text/html"),L.input.shiftKey,$)?$.preventDefault():_e(L,$)};class $e{constructor(F,$){this.slice=F,this.move=$}}const mt=B?"altKey":"ctrlKey";to.dragstart=(L,F)=>{let $=F,se=L.input.mouseDown;if(se&&se.done(),!$.dataTransfer)return;let Ee=L.state.selection,Ae=Ee.empty?null:L.posAtCoords(oi($));if(!(Ae&&Ae.pos>=Ee.from&&Ae.pos<=(Ee instanceof o.qv?Ee.to-1:Ee.to))){if(se&&se.mightDrag)L.dispatch(L.state.tr.setSelection(o.qv.create(L.state.doc,se.mightDrag.pos)));else if($.target&&$.target.nodeType==1){let Lt=L.docView.nearestDesc($.target,!0);Lt&&Lt.node.type.spec.draggable&&Lt!=L.docView&&L.dispatch(L.state.tr.setSelection(o.qv.create(L.state.doc,Lt.posBefore)))}}let Ze=L.state.selection.content(),{dom:rt,text:dt}=At(L,Ze);$.dataTransfer.clearData(),$.dataTransfer.setData(Bt?"Text":"text/html",rt.innerHTML),$.dataTransfer.effectAllowed="copyMove",Bt||$.dataTransfer.setData("text/plain",dt),L.dragging=new $e(Ze,!$[mt])},to.dragend=L=>{let F=L.dragging;window.setTimeout(()=>{L.dragging==F&&(L.dragging=null)},50)},Sr.dragover=Sr.dragenter=(L,F)=>F.preventDefault(),Sr.drop=(L,F)=>{let $=F,se=L.dragging;if(L.dragging=null,!$.dataTransfer)return;let Ee=L.posAtCoords(oi($));if(!Ee)return;let Ae=L.state.doc.resolve(Ee.pos),Ze=se&&se.slice;Ze?L.someProp("transformPasted",Kn=>{Ze=Kn(Ze,L)}):Ze=Yt(L,$.dataTransfer.getData(Bt?"Text":"text/plain"),Bt?null:$.dataTransfer.getData("text/html"),!1,Ae);let rt=!!(se&&!$[mt]);if(L.someProp("handleDrop",Kn=>Kn(L,$,Ze||m.p2.empty,rt))){$.preventDefault();return}if(!Ze)return;$.preventDefault();let dt=Ze?(0,f.nj)(L.state.doc,Ae.pos,Ze):Ae.pos;dt==null&&(dt=Ae.pos);let Lt=L.state.tr;rt&&Lt.deleteSelection();let Kt=Lt.mapping.map(dt),wn=Ze.openStart==0&&Ze.openEnd==0&&Ze.content.childCount==1,Tn=Lt.doc;if(wn?Lt.replaceRangeWith(Kt,Kt,Ze.content.firstChild):Lt.replaceRange(Kt,Kt,Ze),Lt.doc.eq(Tn))return;let jt=Lt.doc.resolve(Kt);if(wn&&o.qv.isSelectable(Ze.content.firstChild)&&jt.nodeAfter&&jt.nodeAfter.sameMarkup(Ze.content.firstChild))Lt.setSelection(new o.qv(jt));else{let Kn=Lt.mapping.map(dt);Lt.mapping.maps[Lt.mapping.maps.length-1].forEach((Rr,Jr,go,Zo)=>Kn=Zo),Lt.setSelection(Hr(L,jt,Lt.doc.resolve(Kn)))}L.focus(),L.dispatch(Lt.setMeta("uiEvent","drop"))},to.focus=L=>{L.input.lastFocus=Date.now(),L.focused||(L.domObserver.stop(),L.dom.classList.add("ProseMirror-focused"),L.domObserver.start(),L.focused=!0,setTimeout(()=>{L.docView&&L.hasFocus()&&!L.domObserver.currentSelection.eq(L.domSelectionRange())&&hr(L)},20))},to.blur=(L,F)=>{let $=F;L.focused&&(L.domObserver.stop(),L.dom.classList.remove("ProseMirror-focused"),L.domObserver.start(),$.relatedTarget&&L.dom.contains($.relatedTarget)&&L.domObserver.currentSelection.clear(),L.focused=!1)},to.beforeinput=(L,F)=>{if(J&&V&&F.inputType=="deleteContentBackward"){L.domObserver.flushSoon();let{domChangeCount:se}=L.input;setTimeout(()=>{if(L.input.domChangeCount!=se||(L.dom.blur(),L.focus(),L.someProp("handleKeyDown",Ae=>Ae(L,a(8,"Backspace")))))return;let{$cursor:Ee}=L.state.selection;Ee&&Ee.pos>0&&L.dispatch(L.state.tr.delete(Ee.pos-1,Ee.pos).scrollIntoView())},50)}};for(let L in Sr)to[L]=Sr[L];function vt(L,F){if(L==F)return!0;for(let $ in L)if(L[$]!==F[$])return!1;for(let $ in F)if(!($ in L))return!1;return!0}class St{constructor(F,$){this.toDOM=F,this.spec=$||tn,this.side=this.spec.side||0}map(F,$,se,Ee){let{pos:Ae,deleted:Ze}=F.mapResult($.from+Ee,this.side<0?-1:1);return Ze?null:new Vt(Ae-se,Ae-se,this)}valid(){return!0}eq(F){return this==F||F instanceof St&&(this.spec.key&&this.spec.key==F.spec.key||this.toDOM==F.toDOM&&vt(this.spec,F.spec))}destroy(F){this.spec.destroy&&this.spec.destroy(F)}}class Mt{constructor(F,$){this.attrs=F,this.spec=$||tn}map(F,$,se,Ee){let Ae=F.map($.from+Ee,this.spec.inclusiveStart?-1:1)-se,Ze=F.map($.to+Ee,this.spec.inclusiveEnd?1:-1)-se;return Ae>=Ze?null:new Vt(Ae,Ze,this)}valid(F,$){return $.from<$.to}eq(F){return this==F||F instanceof Mt&&vt(this.attrs,F.attrs)&&vt(this.spec,F.spec)}static is(F){return F.type instanceof Mt}destroy(){}}class Ft{constructor(F,$){this.attrs=F,this.spec=$||tn}map(F,$,se,Ee){let Ae=F.mapResult($.from+Ee,1);if(Ae.deleted)return null;let Ze=F.mapResult($.to+Ee,-1);return Ze.deleted||Ze.pos<=Ae.pos?null:new Vt(Ae.pos-se,Ze.pos-se,this)}valid(F,$){let{index:se,offset:Ee}=F.content.findIndex($.from),Ae;return Ee==$.from&&!(Ae=F.child(se)).isText&&Ee+Ae.nodeSize==$.to}eq(F){return this==F||F instanceof Ft&&vt(this.attrs,F.attrs)&&vt(this.spec,F.spec)}destroy(){}}class Vt{constructor(F,$,se){this.from=F,this.to=$,this.type=se}copy(F,$){return new Vt(F,$,this.type)}eq(F,$=0){return this.type.eq(F.type)&&this.from+$==F.from&&this.to+$==F.to}map(F,$,se){return this.type.map(F,this,$,se)}static widget(F,$,se){return new Vt(F,F,new St($,se))}static inline(F,$,se,Ee){return new Vt(F,$,new Mt(se,Ee))}static node(F,$,se,Ee){return new Vt(F,$,new Ft(se,Ee))}get spec(){return this.type.spec}get inline(){return this.type instanceof Mt}}const un=[],tn={};class dn{constructor(F,$){this.local=F.length?F:un,this.children=$.length?$:un}static create(F,$){return $.length?wr($,F,0,tn):xn}find(F,$,se){let Ee=[];return this.findInner(F==null?0:F,$==null?1e9:$,Ee,0,se),Ee}findInner(F,$,se,Ee,Ae){for(let Ze=0;Ze<this.local.length;Ze++){let rt=this.local[Ze];rt.from<=$&&rt.to>=F&&(!Ae||Ae(rt.spec))&&se.push(rt.copy(rt.from+Ee,rt.to+Ee))}for(let Ze=0;Ze<this.children.length;Ze+=3)if(this.children[Ze]<$&&this.children[Ze+1]>F){let rt=this.children[Ze]+1;this.children[Ze+2].findInner(F-rt,$-rt,se,Ee+rt,Ae)}}map(F,$,se){return this==xn||F.maps.length==0?this:this.mapInner(F,$,0,0,se||tn)}mapInner(F,$,se,Ee,Ae){let Ze;for(let rt=0;rt<this.local.length;rt++){let dt=this.local[rt].map(F,se,Ee);dt&&dt.type.valid($,dt)?(Ze||(Ze=[])).push(dt):Ae.onRemove&&Ae.onRemove(this.local[rt].spec)}return this.children.length?ur(this.children,Ze||[],F,$,se,Ee,Ae):Ze?new dn(Ze.sort(Cr),un):xn}add(F,$){return $.length?this==xn?dn.create(F,$):this.addInner(F,$,0):this}addInner(F,$,se){let Ee,Ae=0;F.forEach((rt,dt)=>{let Lt=dt+se,Kt;if(Kt=fr($,rt,Lt)){for(Ee||(Ee=this.children.slice());Ae<Ee.length&&Ee[Ae]<dt;)Ae+=3;Ee[Ae]==dt?Ee[Ae+2]=Ee[Ae+2].addInner(rt,Kt,Lt+1):Ee.splice(Ae,0,dt,dt+rt.nodeSize,wr(Kt,rt,Lt+1,tn)),Ae+=3}});let Ze=tr(Ae?rr($):$,-se);for(let rt=0;rt<Ze.length;rt++)Ze[rt].type.valid(F,Ze[rt])||Ze.splice(rt--,1);return new dn(Ze.length?this.local.concat(Ze).sort(Cr):this.local,Ee||this.children)}remove(F){return F.length==0||this==xn?this:this.removeInner(F,0)}removeInner(F,$){let se=this.children,Ee=this.local;for(let Ae=0;Ae<se.length;Ae+=3){let Ze,rt=se[Ae]+$,dt=se[Ae+1]+$;for(let Kt=0,wn;Kt<F.length;Kt++)(wn=F[Kt])&&wn.from>rt&&wn.to<dt&&(F[Kt]=null,(Ze||(Ze=[])).push(wn));if(!Ze)continue;se==this.children&&(se=this.children.slice());let Lt=se[Ae+2].removeInner(Ze,rt+1);Lt!=xn?se[Ae+2]=Lt:(se.splice(Ae,3),Ae-=3)}if(Ee.length){for(let Ae=0,Ze;Ae<F.length;Ae++)if(Ze=F[Ae])for(let rt=0;rt<Ee.length;rt++)Ee[rt].eq(Ze,$)&&(Ee==this.local&&(Ee=this.local.slice()),Ee.splice(rt--,1))}return se==this.children&&Ee==this.local?this:Ee.length||se.length?new dn(Ee,se):xn}forChild(F,$){if(this==xn)return this;if($.isLeaf)return dn.empty;let se,Ee;for(let rt=0;rt<this.children.length;rt+=3)if(this.children[rt]>=F){this.children[rt]==F&&(se=this.children[rt+2]);break}let Ae=F+1,Ze=Ae+$.content.size;for(let rt=0;rt<this.local.length;rt++){let dt=this.local[rt];if(dt.from<Ze&&dt.to>Ae&&dt.type instanceof Mt){let Lt=Math.max(Ae,dt.from)-Ae,Kt=Math.min(Ze,dt.to)-Ae;Lt<Kt&&(Ee||(Ee=[])).push(dt.copy(Lt,Kt))}}if(Ee){let rt=new dn(Ee.sort(Cr),un);return se?new Wn([rt,se]):rt}return se||xn}eq(F){if(this==F)return!0;if(!(F instanceof dn)||this.local.length!=F.local.length||this.children.length!=F.children.length)return!1;for(let $=0;$<this.local.length;$++)if(!this.local[$].eq(F.local[$]))return!1;for(let $=0;$<this.children.length;$+=3)if(this.children[$]!=F.children[$]||this.children[$+1]!=F.children[$+1]||!this.children[$+2].eq(F.children[$+2]))return!1;return!0}locals(F){return no(this.localsInner(F))}localsInner(F){if(this==xn)return un;if(F.inlineContent||!this.local.some(Mt.is))return this.local;let $=[];for(let se=0;se<this.local.length;se++)this.local[se].type instanceof Mt||$.push(this.local[se]);return $}}dn.empty=new dn([],[]),dn.removeOverlap=no;const xn=dn.empty;class Wn{constructor(F){this.members=F}map(F,$){const se=this.members.map(Ee=>Ee.map(F,$,tn));return Wn.from(se)}forChild(F,$){if($.isLeaf)return dn.empty;let se=[];for(let Ee=0;Ee<this.members.length;Ee++){let Ae=this.members[Ee].forChild(F,$);Ae!=xn&&(Ae instanceof Wn?se=se.concat(Ae.members):se.push(Ae))}return Wn.from(se)}eq(F){if(!(F instanceof Wn)||F.members.length!=this.members.length)return!1;for(let $=0;$<this.members.length;$++)if(!this.members[$].eq(F.members[$]))return!1;return!0}locals(F){let $,se=!0;for(let Ee=0;Ee<this.members.length;Ee++){let Ae=this.members[Ee].localsInner(F);if(Ae.length)if(!$)$=Ae;else{se&&($=$.slice(),se=!1);for(let Ze=0;Ze<Ae.length;Ze++)$.push(Ae[Ze])}}return $?no(se?$:$.sort(Cr)):un}static from(F){switch(F.length){case 0:return xn;case 1:return F[0];default:return new Wn(F.every($=>$ instanceof dn)?F:F.reduce(($,se)=>$.concat(se instanceof dn?se:se.members),[]))}}}function ur(L,F,$,se,Ee,Ae,Ze){let rt=L.slice();for(let Lt=0,Kt=Ae;Lt<$.maps.length;Lt++){let wn=0;$.maps[Lt].forEach((Tn,jt,Kn,Rr)=>{let Jr=Rr-Kn-(jt-Tn);for(let go=0;go<rt.length;go+=3){let Zo=rt[go+1];if(Zo<0||Tn>Zo+Kt-wn)continue;let ii=rt[go]+Kt-wn;jt>=ii?rt[go+1]=Tn<=ii?-2:-1:Kn>=Ee&&Jr&&(rt[go]+=Jr,rt[go+1]+=Jr)}wn+=Jr}),Kt=$.maps[Lt].map(Kt,-1)}let dt=!1;for(let Lt=0;Lt<rt.length;Lt+=3)if(rt[Lt+1]<0){if(rt[Lt+1]==-2){dt=!0,rt[Lt+1]=-1;continue}let Kt=$.map(L[Lt]+Ae),wn=Kt-Ee;if(wn<0||wn>=se.content.size){dt=!0;continue}let Tn=$.map(L[Lt+1]+Ae,-1),jt=Tn-Ee,{index:Kn,offset:Rr}=se.content.findIndex(wn),Jr=se.maybeChild(Kn);if(Jr&&Rr==wn&&Rr+Jr.nodeSize==jt){let go=rt[Lt+2].mapInner($,Jr,Kt+1,L[Lt]+Ae+1,Ze);go!=xn?(rt[Lt]=wn,rt[Lt+1]=jt,rt[Lt+2]=go):(rt[Lt+1]=-2,dt=!0)}else dt=!0}if(dt){let Lt=Sn(rt,L,F,$,Ee,Ae,Ze),Kt=wr(Lt,se,0,Ze);F=Kt.local;for(let wn=0;wn<rt.length;wn+=3)rt[wn+1]<0&&(rt.splice(wn,3),wn-=3);for(let wn=0,Tn=0;wn<Kt.children.length;wn+=3){let jt=Kt.children[wn];for(;Tn<rt.length&&rt[Tn]<jt;)Tn+=3;rt.splice(Tn,0,Kt.children[wn],Kt.children[wn+1],Kt.children[wn+2])}}return new dn(F.sort(Cr),rt)}function tr(L,F){if(!F||!L.length)return L;let $=[];for(let se=0;se<L.length;se++){let Ee=L[se];$.push(new Vt(Ee.from+F,Ee.to+F,Ee.type))}return $}function Sn(L,F,$,se,Ee,Ae,Ze){function rt(dt,Lt){for(let Kt=0;Kt<dt.local.length;Kt++){let wn=dt.local[Kt].map(se,Ee,Lt);wn?$.push(wn):Ze.onRemove&&Ze.onRemove(dt.local[Kt].spec)}for(let Kt=0;Kt<dt.children.length;Kt+=3)rt(dt.children[Kt+2],dt.children[Kt]+Lt+1)}for(let dt=0;dt<L.length;dt+=3)L[dt+1]==-1&&rt(L[dt+2],F[dt]+Ae+1);return $}function fr(L,F,$){if(F.isLeaf)return null;let se=$+F.nodeSize,Ee=null;for(let Ae=0,Ze;Ae<L.length;Ae++)(Ze=L[Ae])&&Ze.from>$&&Ze.to<se&&((Ee||(Ee=[])).push(Ze),L[Ae]=null);return Ee}function rr(L){let F=[];for(let $=0;$<L.length;$++)L[$]!=null&&F.push(L[$]);return F}function wr(L,F,$,se){let Ee=[],Ae=!1;F.forEach((rt,dt)=>{let Lt=fr(L,rt,dt+$);if(Lt){Ae=!0;let Kt=wr(Lt,rt,$+dt+1,se);Kt!=xn&&Ee.push(dt,dt+rt.nodeSize,Kt)}});let Ze=tr(Ae?rr(L):L,-$).sort(Cr);for(let rt=0;rt<Ze.length;rt++)Ze[rt].type.valid(F,Ze[rt])||(se.onRemove&&se.onRemove(Ze[rt].spec),Ze.splice(rt--,1));return Ze.length||Ee.length?new dn(Ze,Ee):xn}function Cr(L,F){return L.from-F.from||L.to-F.to}function no(L){let F=L;for(let $=0;$<F.length-1;$++){let se=F[$];if(se.from!=se.to)for(let Ee=$+1;Ee<F.length;Ee++){let Ae=F[Ee];if(Ae.from==se.from){Ae.to!=se.to&&(F==L&&(F=L.slice()),F[Ee]=Ae.copy(Ae.from,se.to),po(F,Ee+1,Ae.copy(se.to,Ae.to)));continue}else{Ae.from<se.to&&(F==L&&(F=L.slice()),F[$]=se.copy(se.from,Ae.from),po(F,Ee,se.copy(Ae.from,se.to)));break}}}return F}function po(L,F,$){for(;F<L.length&&Cr($,L[F])>0;)F++;L.splice(F,0,$)}function kr(L){let F=[];return L.someProp("decorations",$=>{let se=$(L.state);se&&se!=xn&&F.push(se)}),L.cursorWrapper&&F.push(dn.create(L.state.doc,[L.cursorWrapper.deco])),Wn.from(F)}const qo={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Uo=A&&W<=11;class To{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(F){this.anchorNode=F.anchorNode,this.anchorOffset=F.anchorOffset,this.focusNode=F.focusNode,this.focusOffset=F.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(F){return F.anchorNode==this.anchorNode&&F.anchorOffset==this.anchorOffset&&F.focusNode==this.focusNode&&F.focusOffset==this.focusOffset}}class Oi{constructor(F,$){this.view=F,this.handleDOMChange=$,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new To,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(se=>{for(let Ee=0;Ee<se.length;Ee++)this.queue.push(se[Ee]);A&&W<=11&&se.some(Ee=>Ee.type=="childList"&&Ee.removedNodes.length||Ee.type=="characterData"&&Ee.oldValue.length>Ee.target.nodeValue.length)?this.flushSoon():this.flush()}),Uo&&(this.onCharData=se=>{this.queue.push({target:se.target,type:"characterData",oldValue:se.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qo)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let F=this.observer.takeRecords();if(F.length){for(let $=0;$<F.length;$++)this.queue.push(F[$]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ur(this.view)){if(this.suppressingSelectionUpdates)return hr(this.view);if(A&&W<=11&&!this.view.state.selection.empty){let F=this.view.domSelectionRange();if(F.focusNode&&v(F.focusNode,F.focusOffset,F.anchorNode,F.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(F){if(!F.focusNode)return!0;let $=new Set,se;for(let Ae=F.focusNode;Ae;Ae=g(Ae))$.add(Ae);for(let Ae=F.anchorNode;Ae;Ae=g(Ae))if($.has(Ae)){se=Ae;break}let Ee=se&&this.view.docView.nearestDesc(se);if(Ee&&Ee.ignoreMutation({type:"selection",target:se.nodeType==3?se.parentNode:se}))return this.setCurSelection(),!0}flush(){let{view:F}=this;if(!F.docView||this.flushingSoon>-1)return;let $=this.observer?this.observer.takeRecords():[];this.queue.length&&($=this.queue.concat($),this.queue.length=0);let se=F.domSelectionRange(),Ee=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(se)&&Ur(F)&&!this.ignoreSelectionChange(se),Ae=-1,Ze=-1,rt=!1,dt=[];if(F.editable)for(let Kt=0;Kt<$.length;Kt++){let wn=this.registerMutation($[Kt],dt);wn&&(Ae=Ae<0?wn.from:Math.min(wn.from,Ae),Ze=Ze<0?wn.to:Math.max(wn.to,Ze),wn.typeOver&&(rt=!0))}if(j&&dt.length>1){let Kt=dt.filter(wn=>wn.nodeName=="BR");if(Kt.length==2){let wn=Kt[0],Tn=Kt[1];wn.parentNode&&wn.parentNode.parentNode==Tn.parentNode?Tn.remove():wn.remove()}}let Lt=null;Ae<0&&Ee&&F.input.lastFocus>Date.now()-200&&Math.max(F.input.lastTouch,F.input.lastClick.time)<Date.now()-300&&_(se)&&(Lt=qn(F))&&Lt.eq(o.Y1.near(F.state.doc.resolve(0),1))?(F.input.lastFocus=0,hr(F),this.currentSelection.set(se),F.scrollToSelection()):(Ae>-1||Ee)&&(Ae>-1&&(F.docView.markDirty(Ae,Ze),ko(F)),this.handleDOMChange(Ae,Ze,rt,dt),F.docView&&F.docView.dirty?F.updateState(F.state):this.currentSelection.eq(se)||hr(F),this.currentSelection.set(se))}registerMutation(F,$){if($.indexOf(F.target)>-1)return null;let se=this.view.docView.nearestDesc(F.target);if(F.type=="attributes"&&(se==this.view.docView||F.attributeName=="contenteditable"||F.attributeName=="style"&&!F.oldValue&&!F.target.getAttribute("style"))||!se||se.ignoreMutation(F))return null;if(F.type=="childList"){for(let Kt=0;Kt<F.addedNodes.length;Kt++)$.push(F.addedNodes[Kt]);if(se.contentDOM&&se.contentDOM!=se.dom&&!se.contentDOM.contains(F.target))return{from:se.posBefore,to:se.posAfter};let Ee=F.previousSibling,Ae=F.nextSibling;if(A&&W<=11&&F.addedNodes.length)for(let Kt=0;Kt<F.addedNodes.length;Kt++){let{previousSibling:wn,nextSibling:Tn}=F.addedNodes[Kt];(!wn||Array.prototype.indexOf.call(F.addedNodes,wn)<0)&&(Ee=wn),(!Tn||Array.prototype.indexOf.call(F.addedNodes,Tn)<0)&&(Ae=Tn)}let Ze=Ee&&Ee.parentNode==F.target?d(Ee)+1:0,rt=se.localPosFromDOM(F.target,Ze,-1),dt=Ae&&Ae.parentNode==F.target?d(Ae):F.target.childNodes.length,Lt=se.localPosFromDOM(F.target,dt,1);return{from:rt,to:Lt}}else return F.type=="attributes"?{from:se.posAtStart-se.border,to:se.posAtEnd+se.border}:{from:se.posAtStart,to:se.posAtEnd,typeOver:F.target.nodeValue==F.oldValue}}}let Ji=new WeakMap,yi=!1;function ko(L){if(!Ji.has(L)&&(Ji.set(L,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(L.dom).whiteSpace)!==-1)){if(L.requiresGeckoHackNode=j,yi)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yi=!0}}function tt(L){let F;function $(dt){dt.preventDefault(),dt.stopImmediatePropagation(),F=dt.getTargetRanges()[0]}L.dom.addEventListener("beforeinput",$,!0),document.execCommand("indent"),L.dom.removeEventListener("beforeinput",$,!0);let se=F.startContainer,Ee=F.startOffset,Ae=F.endContainer,Ze=F.endOffset,rt=L.domAtPos(L.state.selection.anchor);return v(rt.node,rt.offset,Ae,Ze)&&([se,Ee,Ae,Ze]=[Ae,Ze,se,Ee]),{anchorNode:se,anchorOffset:Ee,focusNode:Ae,focusOffset:Ze}}function ot(L,F,$){let{node:se,fromOffset:Ee,toOffset:Ae,from:Ze,to:rt}=L.docView.parseRange(F,$),dt=L.domSelectionRange(),Lt,Kt=dt.anchorNode;if(Kt&&L.dom.contains(Kt.nodeType==1?Kt:Kt.parentNode)&&(Lt=[{node:Kt,offset:dt.anchorOffset}],_(dt)||Lt.push({node:dt.focusNode,offset:dt.focusOffset})),J&&L.input.lastKeyCode===8)for(let Jr=Ae;Jr>Ee;Jr--){let go=se.childNodes[Jr-1],Zo=go.pmViewDesc;if(go.nodeName=="BR"&&!Zo){Ae=Jr;break}if(!Zo||Zo.size)break}let wn=L.state.doc,Tn=L.someProp("domParser")||m.aw.fromSchema(L.state.schema),jt=wn.resolve(Ze),Kn=null,Rr=Tn.parse(se,{topNode:jt.parent,topMatch:jt.parent.contentMatchAt(jt.index()),topOpen:!0,from:Ee,to:Ae,preserveWhitespace:jt.parent.type.whitespace=="pre"?"full":!0,findPositions:Lt,ruleFromNode:wt,context:jt});if(Lt&&Lt[0].pos!=null){let Jr=Lt[0].pos,go=Lt[1]&&Lt[1].pos;go==null&&(go=Jr),Kn={anchor:Jr+Ze,head:go+Ze}}return{doc:Rr,sel:Kn,from:Ze,to:rt}}function wt(L){let F=L.pmViewDesc;if(F)return F.parseRule();if(L.nodeName=="BR"&&L.parentNode){if(ne&&/^(ul|ol)$/i.test(L.parentNode.nodeName)){let $=document.createElement("div");return $.appendChild(document.createElement("li")),{skip:$}}else if(L.parentNode.lastChild==L||ne&&/^(tr|table)$/i.test(L.parentNode.nodeName))return{ignore:!0}}else if(L.nodeName=="IMG"&&L.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Zt(L,F,$,se,Ee){if(F<0){let zr=L.input.lastSelectionTime>Date.now()-50?L.input.lastSelectionOrigin:null,Mi=qn(L,zr);if(Mi&&!L.state.selection.eq(Mi)){if(J&&V&&L.input.lastKeyCode===13&&Date.now()-100<L.input.lastKeyCodeTime&&L.someProp("handleKeyDown",da=>da(L,a(13,"Enter"))))return;let Ui=L.state.tr.setSelection(Mi);zr=="pointer"?Ui.setMeta("pointer",!0):zr=="key"&&Ui.scrollIntoView(),L.dispatch(Ui)}return}let Ae=L.state.doc.resolve(F),Ze=Ae.sharedDepth($);F=Ae.before(Ze+1),$=L.state.doc.resolve($).after(Ze+1);let rt=L.state.selection,dt=ot(L,F,$),Lt=L.state.doc,Kt=Lt.slice(dt.from,dt.to),wn,Tn;L.input.lastKeyCode===8&&Date.now()-100<L.input.lastKeyCodeTime?(wn=L.state.selection.to,Tn="end"):(wn=L.state.selection.from,Tn="start"),L.input.lastKeyCode=null;let jt=Fn(Kt.content,dt.doc.content,dt.from,wn,Tn);if((te&&L.input.lastIOSEnter>Date.now()-225||V)&&Ee.some(zr=>zr.nodeName=="DIV"||zr.nodeName=="P"||zr.nodeName=="LI")&&(!jt||jt.endA>=jt.endB)&&L.someProp("handleKeyDown",zr=>zr(L,a(13,"Enter")))){L.input.lastIOSEnter=0;return}if(!jt)if(se&&rt instanceof o.Bs&&!rt.empty&&rt.$head.sameParent(rt.$anchor)&&!L.composing&&!(dt.sel&&dt.sel.anchor!=dt.sel.head))jt={start:rt.from,endA:rt.to,endB:rt.to};else{if(dt.sel){let zr=ln(L,L.state.doc,dt.sel);zr&&!zr.eq(L.state.selection)&&L.dispatch(L.state.tr.setSelection(zr))}return}if(J&&L.cursorWrapper&&dt.sel&&dt.sel.anchor==L.cursorWrapper.deco.from&&dt.sel.head==dt.sel.anchor){let zr=jt.endB-jt.start;dt.sel={anchor:dt.sel.anchor+zr,head:dt.sel.anchor+zr}}L.input.domChangeCount++,L.state.selection.from<L.state.selection.to&&jt.start==jt.endB&&L.state.selection instanceof o.Bs&&(jt.start>L.state.selection.from&&jt.start<=L.state.selection.from+2&&L.state.selection.from>=dt.from?jt.start=L.state.selection.from:jt.endA<L.state.selection.to&&jt.endA>=L.state.selection.to-2&&L.state.selection.to<=dt.to&&(jt.endB+=L.state.selection.to-jt.endA,jt.endA=L.state.selection.to)),A&&W<=11&&jt.endB==jt.start+1&&jt.endA==jt.start&&jt.start>dt.from&&dt.doc.textBetween(jt.start-dt.from-1,jt.start-dt.from+1)==" \xA0"&&(jt.start--,jt.endA--,jt.endB--);let Kn=dt.doc.resolveNoCache(jt.start-dt.from),Rr=dt.doc.resolveNoCache(jt.endB-dt.from),Jr=Lt.resolve(jt.start),go=Kn.sameParent(Rr)&&Kn.parent.inlineContent&&Jr.end()>=jt.endA,Zo;if((te&&L.input.lastIOSEnter>Date.now()-225&&(!go||Ee.some(zr=>zr.nodeName=="DIV"||zr.nodeName=="P"))||!go&&Kn.pos<dt.doc.content.size&&(Zo=o.Y1.findFrom(dt.doc.resolve(Kn.pos+1),1,!0))&&Zo.head==Rr.pos)&&L.someProp("handleKeyDown",zr=>zr(L,a(13,"Enter")))){L.input.lastIOSEnter=0;return}if(L.state.selection.anchor>jt.start&&Pn(Lt,jt.start,jt.endA,Kn,Rr)&&L.someProp("handleKeyDown",zr=>zr(L,a(8,"Backspace")))){V&&J&&L.domObserver.suppressSelectionUpdates();return}J&&V&&jt.endB==jt.start&&(L.input.lastAndroidDelete=Date.now()),V&&!go&&Kn.start()!=Rr.start()&&Rr.parentOffset==0&&Kn.depth==Rr.depth&&dt.sel&&dt.sel.anchor==dt.sel.head&&dt.sel.head==jt.endA&&(jt.endB-=2,Rr=dt.doc.resolveNoCache(jt.endB-dt.from),setTimeout(()=>{L.someProp("handleKeyDown",function(zr){return zr(L,a(13,"Enter"))})},20));let ii=jt.start,ui=jt.endA,Fo,fi,Xi;if(go){if(Kn.pos==Rr.pos)A&&W<=11&&Kn.parentOffset==0&&(L.domObserver.suppressSelectionUpdates(),setTimeout(()=>hr(L),20)),Fo=L.state.tr.delete(ii,ui),fi=Lt.resolve(jt.start).marksAcross(Lt.resolve(jt.endA));else if(jt.endA==jt.endB&&(Xi=mn(Kn.parent.content.cut(Kn.parentOffset,Rr.parentOffset),Jr.parent.content.cut(Jr.parentOffset,jt.endA-Jr.start()))))Fo=L.state.tr,Xi.type=="add"?Fo.addMark(ii,ui,Xi.mark):Fo.removeMark(ii,ui,Xi.mark);else if(Kn.parent.child(Kn.index()).isText&&Kn.index()==Rr.index()-(Rr.textOffset?0:1)){let zr=Kn.parent.textBetween(Kn.parentOffset,Rr.parentOffset);if(L.someProp("handleTextInput",Mi=>Mi(L,ii,ui,zr)))return;Fo=L.state.tr.insertText(zr,ii,ui)}}if(Fo||(Fo=L.state.tr.replace(ii,ui,dt.doc.slice(jt.start-dt.from,jt.endB-dt.from))),dt.sel){let zr=ln(L,Fo.doc,dt.sel);zr&&!(J&&V&&L.composing&&zr.empty&&(jt.start!=jt.endB||L.input.lastAndroidDelete<Date.now()-100)&&(zr.head==ii||zr.head==Fo.mapping.map(ui)-1)||A&&zr.empty&&zr.head==ii)&&Fo.setSelection(zr)}fi&&Fo.ensureMarks(fi),L.dispatch(Fo.scrollIntoView())}function ln(L,F,$){return Math.max($.anchor,$.head)>F.content.size?null:Hr(L,F.resolve($.anchor),F.resolve($.head))}function mn(L,F){let $=L.firstChild.marks,se=F.firstChild.marks,Ee=$,Ae=se,Ze,rt,dt;for(let Kt=0;Kt<se.length;Kt++)Ee=se[Kt].removeFromSet(Ee);for(let Kt=0;Kt<$.length;Kt++)Ae=$[Kt].removeFromSet(Ae);if(Ee.length==1&&Ae.length==0)rt=Ee[0],Ze="add",dt=Kt=>Kt.mark(rt.addToSet(Kt.marks));else if(Ee.length==0&&Ae.length==1)rt=Ae[0],Ze="remove",dt=Kt=>Kt.mark(rt.removeFromSet(Kt.marks));else return null;let Lt=[];for(let Kt=0;Kt<F.childCount;Kt++)Lt.push(dt(F.child(Kt)));if(m.HY.from(Lt).eq(L))return{mark:rt,type:Ze}}function Pn(L,F,$,se,Ee){if(!se.parent.isTextblock||$-F<=Ee.pos-se.pos||Dn(se,!0,!1)<Ee.pos)return!1;let Ae=L.resolve(F);if(Ae.parentOffset<Ae.parent.content.size||!Ae.parent.isTextblock)return!1;let Ze=L.resolve(Dn(Ae,!0,!0));return!Ze.parent.isTextblock||Ze.pos>$||Dn(Ze,!0,!1)<$?!1:se.parent.content.cut(se.parentOffset).eq(Ze.parent.content)}function Dn(L,F,$){let se=L.depth,Ee=F?L.end():L.pos;for(;se>0&&(F||L.indexAfter(se)==L.node(se).childCount);)se--,Ee++,F=!1;if($){let Ae=L.node(se).maybeChild(L.indexAfter(se));for(;Ae&&!Ae.isLeaf;)Ae=Ae.firstChild,Ee++}return Ee}function Fn(L,F,$,se,Ee){let Ae=L.findDiffStart(F,$);if(Ae==null)return null;let{a:Ze,b:rt}=L.findDiffEnd(F,$+L.size,$+F.size);if(Ee=="end"){let dt=Math.max(0,Ae-Math.min(Ze,rt));se-=Ze+dt-Ae}if(Ze<Ae&&L.size<F.size){let dt=se<=Ae&&se>=Ze?Ae-se:0;Ae-=dt,rt=Ae+(rt-Ze),Ze=Ae}else if(rt<Ae){let dt=se<=Ae&&se>=rt?Ae-se:0;Ae-=dt,Ze=Ae+(Ze-rt),rt=Ae}return{start:Ae,endA:Ze,endB:rt}}const or=null,jn=null,jr=null;class Wr{constructor(F,$){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new fo,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=$,this.state=$.state,this.directPlugins=$.plugins||[],this.directPlugins.forEach(it),this.dispatch=this.dispatch.bind(this),this.dom=F&&F.mount||document.createElement("div"),F&&(F.appendChild?F.appendChild(this.dom):typeof F=="function"?F(this.dom):F.mount&&(this.mounted=!0)),this.editable=gr(this),Ir(this),this.nodeViews=sr(this),this.docView=K(this.state.doc,Tr(this),kr(this),this.dom,this),this.domObserver=new Oi(this,(se,Ee,Ae,Ze)=>Zt(this,se,Ee,Ae,Ze)),this.domObserver.start(),Ho(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let F=this._props;this._props={};for(let $ in F)this._props[$]=F[$];this._props.state=this.state}return this._props}update(F){F.handleDOMEvents!=this._props.handleDOMEvents&&Vo(this);let $=this._props;this._props=F,F.plugins&&(F.plugins.forEach(it),this.directPlugins=F.plugins),this.updateStateInner(F.state,$)}setProps(F){let $={};for(let se in this._props)$[se]=this._props[se];$.state=this.state;for(let se in F)$[se]=F[se];this.update($)}updateState(F){this.updateStateInner(F,this._props)}updateStateInner(F,$){let se=this.state,Ee=!1,Ae=!1;F.storedMarks&&this.composing&&(Xe(this),Ae=!0),this.state=F;let Ze=se.plugins!=F.plugins||this._props.plugins!=$.plugins;if(Ze||this._props.plugins!=$.plugins||this._props.nodeViews!=$.nodeViews){let Tn=sr(this);Ce(Tn,this.nodeViews)&&(this.nodeViews=Tn,Ee=!0)}(Ze||$.handleDOMEvents!=this._props.handleDOMEvents)&&Vo(this),this.editable=gr(this),Ir(this);let rt=kr(this),dt=Tr(this),Lt=se.plugins!=F.plugins&&!se.doc.eq(F.doc)?"reset":F.scrollToSelection>se.scrollToSelection?"to selection":"preserve",Kt=Ee||!this.docView.matchesNode(F.doc,dt,rt);(Kt||!F.selection.eq(se.selection))&&(Ae=!0);let wn=Lt=="preserve"&&Ae&&this.dom.style.overflowAnchor==null&&ie(this);if(Ae){this.domObserver.stop();let Tn=Kt&&(A||J)&&!this.composing&&!se.selection.empty&&!F.selection.empty&&vr(se.selection,F.selection);if(Kt){let jt=J?this.trackWrites=this.domSelectionRange().focusNode:null;(Ee||!this.docView.update(F.doc,dt,rt,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=K(F.doc,dt,rt,this.dom,this)),jt&&!this.trackWrites&&(Tn=!0)}Tn||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&mo(this))?hr(this,Tn):(dr(this,F.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(se),Lt=="reset"?this.dom.scrollTop=0:Lt=="to selection"?this.scrollToSelection():wn&&de(wn)}scrollToSelection(){let F=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",$=>$(this)))if(this.state.selection instanceof o.qv){let $=this.docView.domAfterPos(this.state.selection.from);$.nodeType==1&&z(this,$.getBoundingClientRect(),F)}else z(this,this.coordsAtPos(this.state.selection.head,1),F)}destroyPluginViews(){let F;for(;F=this.pluginViews.pop();)F.destroy&&F.destroy()}updatePluginViews(F){if(!F||F.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let $=0;$<this.directPlugins.length;$++){let se=this.directPlugins[$];se.spec.view&&this.pluginViews.push(se.spec.view(this))}for(let $=0;$<this.state.plugins.length;$++){let se=this.state.plugins[$];se.spec.view&&this.pluginViews.push(se.spec.view(this))}}else for(let $=0;$<this.pluginViews.length;$++){let se=this.pluginViews[$];se.update&&se.update(this,F)}}someProp(F,$){let se=this._props&&this._props[F],Ee;if(se!=null&&(Ee=$?$(se):se))return Ee;for(let Ze=0;Ze<this.directPlugins.length;Ze++){let rt=this.directPlugins[Ze].props[F];if(rt!=null&&(Ee=$?$(rt):rt))return Ee}let Ae=this.state.plugins;if(Ae)for(let Ze=0;Ze<Ae.length;Ze++){let rt=Ae[Ze].props[F];if(rt!=null&&(Ee=$?$(rt):rt))return Ee}}hasFocus(){if(A){let F=this.root.activeElement;if(F==this.dom)return!0;if(!F||!this.dom.contains(F))return!1;for(;F&&this.dom!=F&&this.dom.contains(F);){if(F.contentEditable=="false")return!1;F=F.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&pe(this.dom),hr(this),this.domObserver.start()}get root(){let F=this._root;if(F==null){for(let $=this.dom.parentNode;$;$=$.parentNode)if($.nodeType==9||$.nodeType==11&&$.host)return $.getSelection||(Object.getPrototypeOf($).getSelection=()=>$.ownerDocument.getSelection()),this._root=$}return F||document}posAtCoords(F){return Ie(this,F)}coordsAtPos(F,$=1){return ut(this,F,$)}domAtPos(F,$=0){return this.docView.domFromPos(F,$)}nodeDOM(F){let $=this.docView.descAt(F);return $?$.nodeDOM:null}posAtDOM(F,$,se=-1){let Ee=this.docView.posFromDOM(F,$,se);if(Ee==null)throw new RangeError("DOM position not inside the editor");return Ee}endOfTextblock(F,$){return yt(this,$||this.state,F)}pasteHTML(F,$){return Pe(this,"",F,!1,$||new ClipboardEvent("paste"))}pasteText(F,$){return Pe(this,F,null,!0,$||new ClipboardEvent("paste"))}destroy(){this.docView&&(No(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],kr(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(F){return si(this,F)}dispatch(F){let $=this._props.dispatchTransaction;$?$.call(this,F):this.updateState(this.state.apply(F))}domSelectionRange(){return ne&&this.root.nodeType===11&&l(this.dom.ownerDocument)==this.dom?tt(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Tr(L){let F=Object.create(null);return F.class="ProseMirror",F.contenteditable=String(L.editable),F.translate="no",L.someProp("attributes",$=>{if(typeof $=="function"&&($=$(L.state)),$)for(let se in $)se=="class"&&(F.class+=" "+$[se]),se=="style"?F.style=(F.style?F.style+";":"")+$[se]:!F[se]&&se!="contenteditable"&&se!="nodeName"&&(F[se]=String($[se]))}),[Vt.node(0,L.state.doc.content.size,F)]}function Ir(L){if(L.markCursor){let F=document.createElement("img");F.className="ProseMirror-separator",F.setAttribute("mark-placeholder","true"),F.setAttribute("alt",""),L.cursorWrapper={dom:F,deco:Vt.widget(L.state.selection.head,F,{raw:!0,marks:L.markCursor})}}else L.cursorWrapper=null}function gr(L){return!L.someProp("editable",F=>F(L.state)===!1)}function vr(L,F){let $=Math.min(L.$anchor.sharedDepth(L.head),F.$anchor.sharedDepth(F.head));return L.$anchor.start($)!=F.$anchor.start($)}function sr(L){let F=Object.create(null);function $(se){for(let Ee in se)Object.prototype.hasOwnProperty.call(F,Ee)||(F[Ee]=se[Ee])}return L.someProp("nodeViews",$),L.someProp("markViews",$),F}function Ce(L,F){let $=0,se=0;for(let Ee in L){if(L[Ee]!=F[Ee])return!0;$++}for(let Ee in F)se++;return $!=se}function it(L){if(L.spec.state||L.spec.filterTransaction||L.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},83757:(G,s,e)=>{"use strict";e.d(s,{ZP:()=>Ue});var o=e(98661),m=e(61688);const f=new WeakMap,d={},g={},y=()=>{},C=y(),v=Object,b=be=>be===C,x=be=>typeof be=="function",E=(be,Ge)=>nr(nr({},be),Ge),O="undefined",w=typeof window!=O,_=typeof document!=O,a=()=>w&&typeof window.requestAnimationFrame!=O,l=(be,Ge)=>{const nt=f.get(be);return[()=>!b(Ge)&&be.get(Ge)||d,Oe=>{if(!b(Ge)){const K=be.get(Ge);Ge in g||(g[Ge]=K),nt[5](Ge,E(K,Oe),K||d)}},nt[6],()=>!b(Ge)&&Ge in g?g[Ge]:!b(Ge)&&be.get(Ge)||d]},P=new WeakMap;let S=0;const M=be=>{const Ge=typeof be,nt=be&&be.constructor,Oe=nt==Date;let K,Y;if(v(be)===be&&!Oe&&nt!=RegExp){if(K=P.get(be),K)return K;if(K=++S+"~",P.set(be,K),nt==Array){for(K="@",Y=0;Y<be.length;Y++)K+=M(be[Y])+",";P.set(be,K)}if(nt==v){K="#";const he=v.keys(be).sort();for(;!b(Y=he.pop());)b(be[Y])||(K+=Y+":"+M(be[Y])+",");P.set(be,K)}}else K=Oe?be.toJSON():Ge=="symbol"?be.toString():Ge=="string"?JSON.stringify(be):""+be;return K};let R=!0;const N=()=>R,[T,A]=w&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[y,y],W=()=>{const be=_&&document.visibilityState;return b(be)||be!=="hidden"},j=be=>(_&&document.addEventListener("visibilitychange",be),T("focus",be),()=>{_&&document.removeEventListener("visibilitychange",be),A("focus",be)}),Z=be=>{const Ge=()=>{R=!0,be()},nt=()=>{R=!1};return T("online",Ge),T("offline",nt),()=>{A("online",Ge),A("offline",nt)}},J={isOnline:N,isVisible:W},Q={initFocus:j,initReconnect:Z},ne=!o.default.useId,te=!w||"Deno"in window,B=be=>a()?window.requestAnimationFrame(be):setTimeout(be,1),V=te?o.useEffect:o.useLayoutEffect,re=typeof navigator!="undefined"&&navigator.connection,le=!te&&re&&(["slow-2g","2g"].includes(re.effectiveType)||re.saveData),ae=be=>{if(x(be))try{be=be()}catch(nt){be=""}const Ge=be;return be=typeof be=="string"?be:(Array.isArray(be)?be.length:be)?M(be):"",[be,Ge]};let q=0;const oe=()=>++q,z=0,ie=1,ue=2;var fe={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:z,MUTATE_EVENT:ue,RECONNECT_EVENT:ie};function ye(...be){return rl(this,null,function*(){const[Ge,nt,Oe,K]=be,Y=E({populateCache:!0,throwOnError:!0},typeof K=="boolean"?{revalidate:K}:K||{});let he=Y.populateCache;const Te=Y.rollbackOnError;let He=Y.optimisticData;const Qe=Y.revalidate!==!1,ht=Nt=>typeof Te=="function"?Te(Nt):Te!==!1,ct=Y.throwOnError;if(x(nt)){const Nt=nt,sn=[],Et=Ge.keys();for(let Ot=Et.next();!Ot.done;Ot=Et.next()){const at=Ot.value;!/^\$(inf|sub)\$/.test(at)&&Nt(Ge.get(at)._k)&&sn.push(at)}return Promise.all(sn.map(Pt))}return Pt(nt);function Pt(Nt){return rl(this,null,function*(){const[sn]=ae(Nt);if(!sn)return;const[Et,Ot]=l(Ge,sn),[at,Ht,zt]=f.get(Ge),on=at[sn],hn=()=>Qe&&(delete zt[sn],on&&on[0])?on[0](ue).then(()=>Et().data):Et().data;if(be.length<3)return hn();let gn=Oe,bn;const Un=oe();Ht[sn]=[Un,0];const qn=!b(He),cr=Et(),hr=cr.data,pr=cr._c,Lr=b(pr)?hr:pr;if(qn&&(He=x(He)?He(Lr):He,Ot({data:He,_c:Lr})),x(gn))try{gn=gn(Lr)}catch(Kr){bn=Kr}if(gn&&x(gn.then))if(gn=yield gn.catch(Kr=>{bn=Kr}),Un!==Ht[sn][0]){if(bn)throw bn;return gn}else bn&&qn&&ht(bn)&&(he=!0,gn=Lr,Ot({data:gn,_c:C}));he&&(bn||(x(he)&&(gn=he(gn,Lr)),Ot({data:gn,_c:C}))),Ht[sn][1]=oe();const oo=yield hn();if(Ot({_c:C}),bn){if(ct)throw bn;return}return he?oo:gn})}})}const pe=(be,Ge)=>{for(const nt in be)be[nt][0]&&be[nt][0](Ge)},we=(be,Ge)=>{if(!f.has(be)){const nt=E(Q,Ge),Oe={},K=ye.bind(C,be);let Y=y;const he={},Te=(ht,ct)=>{const Pt=he[ht]||[];return he[ht]=Pt,Pt.push(ct),()=>Pt.splice(Pt.indexOf(ct),1)},He=(ht,ct,Pt)=>{be.set(ht,ct);const Nt=he[ht];if(Nt)for(const sn of Nt)sn(ct,Pt)},Qe=()=>{if(!f.has(be)&&(f.set(be,[Oe,{},{},{},K,He,Te]),!te)){const ht=nt.initFocus(setTimeout.bind(C,pe.bind(C,Oe,z))),ct=nt.initReconnect(setTimeout.bind(C,pe.bind(C,Oe,ie)));Y=()=>{ht&&ht(),ct&&ct(),f.delete(be)}}};return Qe(),[be,K,Qe,Y]}return[be,f.get(be)[4]]},Me=(be,Ge,nt,Oe,K)=>{const Y=nt.errorRetryCount,he=K.retryCount,Te=~~((Math.random()+.5)*(1<<(he<8?he:8)))*nt.errorRetryInterval;!b(Y)&&he>Y||setTimeout(Oe,Te,K)},je=(be,Ge)=>M(be)==M(Ge),[De,me]=we(new Map),ce=E({onLoadingSlow:y,onSuccess:y,onError:y,onErrorRetry:Me,onDiscarded:y,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:le?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:le?5e3:3e3,compare:je,isPaused:()=>!1,cache:De,mutate:me,fallback:{}},J),ge=(be,Ge)=>{const nt=E(be,Ge);if(Ge){const{use:Oe,fallback:K}=be,{use:Y,fallback:he}=Ge;Oe&&Y&&(nt.use=Oe.concat(Y)),K&&he&&(nt.fallback=E(K,he))}return nt},Ie=(0,o.createContext)({}),Re=be=>{const{value:Ge}=be,nt=(0,o.useContext)(Ie),Oe=x(Ge),K=(0,o.useMemo)(()=>Oe?Ge(nt):Ge,[Oe,nt,Ge]),Y=(0,o.useMemo)(()=>Oe?K:ge(nt,K),[Oe,nt,K]),he=K&&K.provider,Te=(0,o.useRef)(C);he&&!Te.current&&(Te.current=we(he(Y.cache||De),K));const He=Te.current;return He&&(Y.cache=He[0],Y.mutate=He[1]),V(()=>{if(He)return He[2]&&He[2](),He[3]},[]),(0,o.createElement)(Ie.Provider,E(be,{value:Y}))},Ke=w&&window.__SWR_DEVTOOLS_USE__,ut=Ke?window.__SWR_DEVTOOLS_USE__:[],_t=()=>{Ke&&(window.__SWR_DEVTOOLS_REACT__=o.default)},ft=be=>x(be[1])?[be[0],be[1],be[2]||{}]:[be[0],null,(be[1]===null?be[2]:be[1])||{}],We=()=>E(ce,(0,o.useContext)(Ie)),Be=(be,Ge)=>{const[nt,Oe]=ae(be),[,,,K]=f.get(De);if(K[nt])return K[nt];const Y=Ge(Oe);return K[nt]=Y,Y},lt=be=>(Ge,nt,Oe)=>be(Ge,nt&&((...Y)=>{const[he]=ae(Ge),[,,,Te]=f.get(De),He=Te[he];return He?(delete Te[he],He):nt(...Y)}),Oe),Tt=ut.concat(lt),xt=be=>function(...nt){const Oe=We(),[K,Y,he]=ft(nt),Te=ge(Oe,he);let He=be;const{use:Qe}=Te,ht=(Qe||[]).concat(Tt);for(let ct=ht.length;ct--;)He=ht[ct](He);return He(K,Y||Te.fetcher||null,Te)},Gt=be=>{const Ge=useState({})[1],nt=useRef(!1),Oe=useRef(be),K=useRef({data:!1,error:!1,isValidating:!1}),Y=useCallback(he=>{let Te=!1;const He=Oe.current;for(const Qe in he){const ht=Qe;He[ht]!==he[ht]&&(He[ht]=he[ht],K.current[ht]&&(Te=!0))}Te&&!nt.current&&(ne?Ge({}):React.startTransition(()=>Ge({})))},[]);return V(()=>(nt.current=!1,()=>{nt.current=!0})),[Oe,K.current,Y]},an=(be,Ge,nt)=>{const Oe=Ge[be]||(Ge[be]=[]);return Oe.push(nt),()=>{const K=Oe.indexOf(nt);K>=0&&(Oe[K]=Oe[Oe.length-1],Oe.pop())}},yt=(be,Ge)=>(...nt)=>{const[Oe,K,Y]=ft(nt),he=(Y.use||[]).concat(Ge);return be(Oe,K,Wo(nr({},Y),{use:he}))};_t();const ke={dedupe:!0},Ve=(be,Ge,nt)=>{const{cache:Oe,compare:K,suspense:Y,fallbackData:he,revalidateOnMount:Te,revalidateIfStale:He,refreshInterval:Qe,refreshWhenHidden:ht,refreshWhenOffline:ct,keepPreviousData:Pt}=nt,[Nt,sn,Et]=f.get(Oe),[Ot,at]=ae(be),Ht=(0,o.useRef)(!1),zt=(0,o.useRef)(!1),on=(0,o.useRef)(Ot),hn=(0,o.useRef)(Ge),gn=(0,o.useRef)(nt),bn=()=>gn.current,Un=()=>bn().isVisible()&&bn().isOnline(),[qn,cr,hr,pr]=l(Oe,Ot),Lr=(0,o.useRef)({}).current,oo=b(he)?nt.fallback[Ot]:he,Kr=(Qr,Yr)=>{for(const $r in Lr){const xr=$r;if(xr==="data"){if(!K(Qr[xr],Yr[xr])&&(!b(Qr[xr])||!K(yo,Yr[xr])))return!1}else if(Yr[xr]!==Qr[xr])return!1}return!0},co=(0,o.useMemo)(()=>{const Qr=(()=>!Ot||!Ge?!1:b(Te)?bn().isPaused()||Y?!1:b(He)?!0:He:Te)(),Yr=Rn=>{const At=E(Rn);return delete At._k,Qr?nr({isValidating:!0,isLoading:!0},At):At},$r=qn(),xr=pr(),$t=Yr($r),en=$r===xr?$t:Yr(xr);let nn=$t;return[()=>{const Rn=Yr(qn());return Kr(Rn,nn)?(nn.data=Rn.data,nn.isLoading=Rn.isLoading,nn.isValidating=Rn.isValidating,nn.error=Rn.error,nn):(nn=Rn,Rn)},()=>en]},[Oe,Ot]),lo=(0,m.useSyncExternalStore)((0,o.useCallback)(Qr=>hr(Ot,(Yr,$r)=>{Kr($r,Yr)||Qr()}),[Oe,Ot]),co[0],co[1]),dr=!Ht.current,Nr=Nt[Ot]&&Nt[Ot].length>0,Hr=lo.data,Ur=b(Hr)?oo:Hr,uo=lo.error,mo=(0,o.useRef)(Ur),yo=Pt?b(Hr)?mo.current:Hr:Ur,Oo=(()=>Nr&&!b(uo)?!1:dr&&!b(Te)?Te:bn().isPaused()?!1:Y?b(Ur)?!1:He:b(Ur)||He)(),Xo=!!(Ot&&Ge&&dr&&Oo),Go=b(lo.isValidating)?Xo:lo.isValidating,Mo=b(lo.isLoading)?Xo:lo.isLoading,Lo=(0,o.useCallback)(Qr=>rl(wp,null,function*(){const Yr=hn.current;if(!Ot||!Yr||zt.current||bn().isPaused())return!1;let $r,xr,$t=!0;const en=Qr||{},nn=!Et[Ot]||!en.dedupe,Rn=()=>ne?!zt.current&&Ot===on.current&&Ht.current:Ot===on.current,At={isValidating:!1,isLoading:!1},Yt=()=>{cr(At)},Wt=()=>{const vn=Et[Ot];vn&&vn[1]===xr&&delete Et[Ot]},rn={isValidating:!0};b(qn().data)&&(rn.isLoading=!0);try{if(nn&&(cr(rn),nt.loadingTimeout&&b(qn().data)&&setTimeout(()=>{$t&&Rn()&&bn().onLoadingSlow(Ot,nt)},nt.loadingTimeout),Et[Ot]=[Yr(at),oe()]),[$r,xr]=Et[Ot],$r=yield $r,nn&&setTimeout(Wt,nt.dedupingInterval),!Et[Ot]||Et[Ot][1]!==xr)return nn&&Rn()&&bn().onDiscarded(Ot),!1;At.error=C;const vn=sn[Ot];if(!b(vn)&&(xr<=vn[0]||xr<=vn[1]||vn[1]===0))return Yt(),nn&&Rn()&&bn().onDiscarded(Ot),!1;const An=qn().data;At.data=K(An,$r)?An:$r,nn&&Rn()&&bn().onSuccess($r,Ot,nt)}catch(vn){Wt();const An=bn(),{shouldRetryOnError:zn}=An;An.isPaused()||(At.error=vn,nn&&Rn()&&(An.onError(vn,Ot,An),(zn===!0||x(zn)&&zn(vn))&&Un()&&An.onErrorRetry(vn,Ot,An,er=>{const Jn=Nt[Ot];Jn&&Jn[0]&&Jn[0](fe.ERROR_REVALIDATE_EVENT,er)},{retryCount:(en.retryCount||0)+1,dedupe:!0})))}return $t=!1,Yt(),!0}),[Ot,Oe]),Bo=(0,o.useCallback)((...Qr)=>ye(Oe,on.current,...Qr),[]);if(V(()=>{hn.current=Ge,gn.current=nt,b(Hr)||(mo.current=Hr)}),V(()=>{if(!Ot)return;const Qr=Lo.bind(C,ke);let Yr=0;const xr=an(Ot,Nt,($t,en={})=>{if($t==fe.FOCUS_EVENT){const nn=Date.now();bn().revalidateOnFocus&&nn>Yr&&Un()&&(Yr=nn+bn().focusThrottleInterval,Qr())}else if($t==fe.RECONNECT_EVENT)bn().revalidateOnReconnect&&Un()&&Qr();else{if($t==fe.MUTATE_EVENT)return Lo();if($t==fe.ERROR_REVALIDATE_EVENT)return Lo(en)}});return zt.current=!1,on.current=Ot,Ht.current=!0,cr({_k:at}),Oo&&(b(Ur)||te?Qr():B(Qr)),()=>{zt.current=!0,xr()}},[Ot]),V(()=>{let Qr;function Yr(){const xr=x(Qe)?Qe(qn().data):Qe;xr&&Qr!==-1&&(Qr=setTimeout($r,xr))}function $r(){!qn().error&&(ht||bn().isVisible())&&(ct||bn().isOnline())?Lo(ke).then(Yr):Yr()}return Yr(),()=>{Qr&&(clearTimeout(Qr),Qr=-1)}},[Qe,ht,ct,Ot]),(0,o.useDebugValue)(yo),Y&&b(Ur)&&Ot)throw!ne&&te?new Error("Fallback data is required when using suspense in SSR."):(hn.current=Ge,gn.current=nt,zt.current=!1,b(uo)?Lo(ke):uo);return{mutate:Bo,get data(){return Lr.data=!0,yo},get error(){return Lr.error=!0,uo},get isValidating(){return Lr.isValidating=!0,Go},get isLoading(){return Lr.isLoading=!0,Mo}}},Ne=v.defineProperty(Re,"defaultValue",{value:ce}),Fe=be=>serialize(be)[0],Ue=xt(Ve)},33952:(G,s,e)=>{"use strict";e.d(s,{YG:()=>E,ue:()=>o});for(var o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},m={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},f=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),d=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),g=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),y=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),C=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),v=f&&(y||+f[1]<57)||g&&y,b=0;b<10;b++)o[48+b]=o[96+b]=String(b);for(var b=1;b<=24;b++)o[b+111]="F"+b;for(var b=65;b<=90;b++)o[b]=String.fromCharCode(b+32),m[b]=String.fromCharCode(b);for(var x in o)m.hasOwnProperty(x)||(m[x]=o[x]);function E(O){var w=v&&(O.ctrlKey||O.altKey||O.metaKey)||(d||C)&&O.shiftKey&&O.key&&O.key.length==1,_=!w&&O.key||(O.shiftKey?m:o)[O.keyCode]||O.key||"Unidentified";return _=="Esc"&&(_="Escape"),_=="Del"&&(_="Delete"),_=="Left"&&(_="ArrowLeft"),_=="Up"&&(_="ArrowUp"),_=="Right"&&(_="ArrowRight"),_=="Down"&&(_="ArrowDown"),_}},70709:G=>{"use strict";G.exports=JSON.parse(`{"Subscribe":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Subscribe now":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Join":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Upgrade":{"ca":"Canvia","de":"Umsteigen","es":"Cambiar","fr":"Mise \xE0 niveau","it":"Aggiornamento","pt":"Atualizar"},"Upgrade to paid":{"ca":"Canvia a la subscripci\xF3 de pagament","de":"Auf die bezahlte Abonnement umsteigen","es":"Cambiar a la suscripci\xF3n paga","fr":"Mise \xE0 niveau vers payant","it":"Passa all'abbonamento a pagamento","pt":"Mudar para a assinatura paga"}," now":{"ca":" ara","de":" jetzt","es":" ahora","fr":" maintenant","it":" adesso","pt":" agora"},"Continue":{"ca":"Continuar","de":"Fortsetzen","es":"Continuar","fr":"Continuer","it":"Continua","pt":"Continuar"},"Done":{"ca":"Fet","de":"Fertig","es":"Hecho","fr":"Terminer","it":"Fatto","pt":"Feito"},"Learn more":{"ca":"Saber m\xE9s","de":"Mehr erfahren","es":"Saber m\xE1s","fr":"En savoir plus","it":"Saperne di pi\xF9","pt":"Mais detalhes"},"Maybe later":{"ca":"Potser despr\xE9s","de":"Vielleicht sp\xE4ter","es":"Quiz\xE1s m\xE1s tarde","fr":"Peut-\xEAtre plus tard","it":"Forse pi\xF9 tardi","pt":"Talvez mais tarde"},"Give another gift":{"ca":"Fer un altre regal","de":"Machen Sie noch ein Geschenk","es":"Dar otro regalo","fr":"Donnez un autre cadeau","it":"Fai un altro regalo","pt":"D\xEA outro presente"},"Success!":{"ca":"\xC8xit!","de":"Erfolg!","es":"\xA1\xC9xito!","fr":"Succ\xE8s!","it":"Successo!","pt":"Sucesso!"},"Thank you!":{"ca":"Gr\xE0cies!","de":"Danke!","es":"Gracias!","fr":"Merci!","it":"Grazie!","pt":"Obrigado!"},"Spread the word":{"ca":"Escampa la veu","de":"Danke f\xFCr Ihr Abonnement","es":"Difundir la palabra","fr":"Faites passer le mot","it":"Spargi la voce","pt":"Fale sobre n\xF3s"},"change email":{"ca":"canviar e-mail","de":"E-Mail \xE4ndern","es":"cambiar e-mail","fr":"changez l'adresse email","it":"cambia email","pt":"mude o e-mail"},"No thanks":{"ca":"No gr\xE0cies","de":"Nein danke","es":"No gracias","fr":"Non merci","it":"No grazie","pt":"N\xE3o obrigado"},"Let me read it first":{"ca":"Deixin-m'ho llegir primer","de":"Lass es mich zuerst lesen","es":"D\xE9jame leerlo primero","fr":"Permettez-moi de le lire d'abord","it":"Fammi leggere prima","pt":"Deixe-me ler primeiro"},"Let me hear it first":{"ca":"Deixin-m'ho escoltar primer","de":"Lass es mich zuerst h\xF6ren","es":"D\xE9jame escucharlo primero","fr":"Permettez-moi de l'\xE9couter d'abord","it":"Fammi sentire prima","pt":"Deixe-me ouvir primeiro"},"Top posts":{"ca":"Millors posts","de":"Beste Posts","es":"Mejores posts","fr":"Meilleurs posts","it":"Migliori posti","pt":"Melhores posts"},"Authors":{"ca":"Autors","de":"Autoren","es":"Autores","fr":"Auteurs","it":"Autori","pt":"Autores"},"A Substack newsletter":{"ca":"Un newsletter de Substack","de":"Ein Substack-Newsletter","es":"Un newsletter de Substack","fr":"Une newsletter de Substack","it":"Una newsletter di Substack","pt":"Um newsletter da Substack"},"A Substack newsletter by":{"ca":"Un newsletter de Substack de","de":"Ein Substack-Newsletter von","es":"Un newsletter de Substack de","fr":"Une newsletter de Substack par","it":"Una newsletter da Substack di","pt":"Um newsletter da Substack de"},"You\u2019ve subscribed to public posts from":{"ca":"T'has registrat a publicacions p\xFAbliques de","de":"Sie haben sich f\xFCr \xF6ffentliche Beitr\xE4ge angemeldet von","es":"Te has registrado para publicaciones p\xFAblicas de","fr":"Vous vous \xEAtes inscrit(e) \xE0 des publications publiques de","it":"Ti sei iscritto a post pubblici da","pt":"Voc\xEA se inscreveu para receber posts p\xFAblicos do"},"You\u2019re on the free list":{"ca":"Ets a la llista gratu\xEFta","de":"Sie sind auf der freien Liste","es":"Est\xE1s en la lista gratuita","fr":"Vous \xEAtes sur la liste gratuite","it":"Sei nella lista libera","pt":"Voc\xEA est\xE1 na lista gr\xE1tis"},"Your gift was sent to ":{"ca":"El teu regal es va enviar a ","de":"Ihr Geschenk wurde gesendet an ","es":"Tu regalo fue enviado a ","fr":"Votre cadeau a \xE9t\xE9 envoy\xE9 \xE0 ","it":"Il tuo regalo \xE8 stato inviato a","pt":"Seu presente foi enviado para "},"Your gift was sent":{"ca":"El teu regal es va enviar","de":"Ihr Geschenk wurde gesendet","es":"Tu regalo fue enviado","fr":"Votre cadeau a \xE9t\xE9 envoy\xE9","it":"Il tuo regalo \xE8 stato inviato","pt":"Seu presente foi enviado"},"Your group will be administered by ":{"ca":"El teu grup ser\xE0 administrat per ","de":"Ihre Gruppe wird verwaltet von ","es":"Tu grupo ser\xE1 administrado por ","fr":"Votre groupe sera administr\xE9 par ","it":"Il tuo regalo sar\xE0 amministrato da","pt":"Seu grupo ser\xE1 administrado por "},"Your donation matters.":{"ca":"La teva donaci\xF3 importa.","de":"Ihre Spende ist wichtig.","es":"Tu donaci\xF3n importa.","fr":"Votre don est important.","it":"La tua donazione conta.","pt":"Sua doa\xE7\xE3o \xE9 importante."},"You\u2019re subscribed as ":{"ca":"Est\xE0s subscrit com a","de":"Sie sind abonniert als ","es":"Est\xE1s suscrito como ","fr":"Vous \xEAtes abonn\xE9(e) en tant que ","it":"Sei iscritto come","pt":"Voc\xEA est\xE1 inscrito como "},"Login":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Log in":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Sign in":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Not you?":{"ca":"No ets tu?","de":"Das sind Sie nicht?","es":"\xBFNo eres t\xFA?","fr":"Pas toi?","it":"Non sei tu?","pt":"N\xE3o \xE9 voc\xEA?"},"Type your email\u2026":{"ca":"Escriu el teu correu electr\xF2nic\u2026","de":"Geben Sie Ihre E-Mail-Adresse ein\u2026","es":"Escribe tu correo\u2026","fr":"Tapez votre email\u2026","it":"Digita la tua email\u2026","pt":"Digite seu email\u2026"},"What\u2019s your email?":{"ca":"Quin \xE9s el teu email?","de":"Was ist Ihre E-Mail-Adresse?","es":"\xBFCu\xE1l es tu correo electr\xF3nico?","fr":"Quelle est votre adresse email?","it":"Qual \xE8 la tua email?","pt":"Qual \xE9 o seu email?"},"Buying for a group?":{"ca":"Comprant per a un grup?","de":"F\xFCr eine Gruppe kaufen?","es":"\xBFComprando para un grupo?","fr":"Acheter pour un groupe?","it":"Acquistare per un gruppo?","pt":"Comprando para um grupo?"},"If you enjoy":{"ca":"Si us agrada","de":"Wenn Ihnen es gef\xE4llt","es":"Si te gusta","fr":"Si vous aimez","it":"Se ti piace","pt":"Se voc\xEA gosta de"},"consider becoming a paid subscriber":{"ca":"considera convertir-te en un subscriptor de pagament","de":"sollten Sie ein zahlender Abonnent werden","es":"considera convertirte en un suscriptor de pago","fr":"envisagez de devenir un(e) abonn\xE9(e) payant(e)","it":"considera di diventare un abbonato pagante","pt":"considere tornar-se um assinante pago"},"If you want to help \${0}":{"ca":"Si vols ajudar \${0}","de":"M\xF6chten Sie \${0} unterst\xFCtzen","es":"Si quieres ayudar a \${0}","fr":"Si vous voulez aider \${0}","it":"Se vuoi aiutare \${0}","pt":"Se voc\xEA quiser ajudar \${0}"},"If you want to help \${0} even more":{"ca":"Si vols ajudar \${0} encara m\xE9s","de":"M\xF6chten Sie \${0} noch mehr unterst\xFCtzen","es":"Si quieres ayudar a \${0} a\xFAn m\xE1s","fr":"Si vous voulez aider \${0} encore plus","it":"Se vuoi aiutare \${0} ancora di pi\xF9","pt":"Se voc\xEA quiser ajudar \${0} ainda mais"},"share your reason for signing up":{"ca":"comparteix la ra\xF3 per registrar-te","de":"dann teilen Sie ihn mit Ihren Freunden","es":"comparte tu raz\xF3n para registrarte","fr":"partagez votre raison de vous inscrire","it":"condividi il motivo della tua iscrizione","pt":"compartilhe seu motivo para se inscrever"},"share your reason for subscribing":{"ca":"comparteix la ra\xF3 per subscriure't","de":"dann teilen Sie ihn mit Ihren Freunden","es":"comparte tu raz\xF3n para suscribirte","fr":"partagez votre raison de vous abonner","it":"condividi il motivo del tuo abbonamento","pt":"compartilhe seu motivo para se inscrever"},"show full post":{"ca":"mostra la publicaci\xF3 completa","de":"Vollst\xE4ndigen Beitrag anzeigen","es":"mostrar publicaci\xF3n completa","fr":"afficher le post complet","it":"mostra post completo","pt":"mostrar post completo"},"Community":{"ca":"Comunitat","de":"Gemeinschaft","es":"Comunidad","fr":"Communaut\xE9","it":"Comunit\xE0","pt":"Comunidade"},"About":{"ca":"Sobre","de":"\xDCber","es":"Sobre","fr":"\xC0 propos de","it":"Soggetto","pt":"Sobre"},"Archive":{"ca":"Arxiu","de":"Archiv","es":"Archivo","fr":"Archives","it":"Archivio","pt":"Arquivo"},"Account":{"ca":"Compte","de":"Konto","es":"Cuenta","fr":"Compte","it":"Account","pt":"Conta"},"My Account":{"ca":"El meu compte","de":"Mein Konto","es":"Mi cuenta","fr":"Mon compte","it":"Il mio account","pt":"Minha conta"},"By submitting, you agree to":{"ca":"En enviar-ho, acceptes","de":"Mit dem Absenden, stimmen Sie zu","es":"Al enviar, aceptas","fr":"En soumettant, vous acceptez","it":"Inviando, accetti","pt":"Ao enviar, voc\xEA concorda com"},"By registering you agree to":{"ca":"Registrant-te, acceptes","de":"Mit Ihrer Registrierung, stimmen Sie zu","es":"Al registrarte, aceptas","fr":"En vous inscrivant, vous acceptez","it":"Registrandoti, accetti","pt":"Ao se registrar, voc\xEA concorda com"},"Terms":{"ca":"Termes","de":"Bedingungen","es":"Condiciones","fr":"Termes","it":"Condizioni","pt":"Termos"},"Privacy":{"ca":"Privadesa","de":"Datenschutz","es":"Privacidad","fr":"Confidentialit\xE9","it":"Privacy","pt":"Privacidade"},"Substack's Terms of Use":{"ca":"els Termes de serveis de Substack","de":"Substacks Nutzungsbedingungen","es":"los T\xE9rminos de servicio de Substack","fr":"les Conditions d'utilisation de Substack","it":"le Condizioni di utilizzo di Substack","pt":"os Termos de Servi\xE7o da Substack"},"our Privacy Policy":{"ca":"la nostra Pol\xEDtica de Privacitat","de":"unseren Datenschutzbestimmungen","es":"nuestra Pol\xEDtca de Privacidad","fr":"notre Politique de Confidentialit\xE9","it":"la nostra Politica sulla privacy","pt":"a nossa Pol\xEDtica de Privacidade"},"our Information collection notice":{"ca":"el nostre av\xEDs de recollida d'informaci\xF3","de":"unsere Informationserhebungsmitteilung","es":"nuestro aviso de recopilaci\xF3n de informaci\xF3n","fr":"notre avis de collecte d'informations","it":"il nostro avviso di raccolta delle informazioni","pt":"nosso aviso de coleta de informa\xE7\xF5es"},"and":{"ca":"i","de":"und","es":"y","fr":"et","it":"e","pt":"e"},"Help":{"ca":"Ajuda","de":"Hilfe","es":"Ayuda","fr":"Aide","it":"Aiuto","pt":"Ajuda"},"Get started":{"ca":"Comen\xE7ar","de":"Loslegen","es":"Empezar","fr":"Commencer","it":"Iniziare","pt":"Iniciar"},"Start writing":{"ca":"Comen\xE7a a escriure","de":"Anfangen zu schreiben","es":"Empieza a escribir","fr":"Commencez \xE0 \xE9crire","it":"Inizia a scrivere","pt":"Comece a escrever"},"Start reading":{"ca":"Comen\xE7a a llegir","de":"Anfangen zu lesen","es":"Empieza a leer","fr":"Commencez \xE0 lire","it":"Inizia a leggere","pt":"Comece a ler"},"Get the app":{"ca":"Descarrega l'aplicaci\xF3","de":"Laden Sie die App herunter","es":"Descarga la aplicaci\xF3n","fr":"T\xE9l\xE9chargez l'app","it":"Scarica l'app","pt":"Baixe o aplicativo"},"Play video":{"ca":"Reprodueix el v\xEDdeo","de":"Video abspielen","es":"Reproduce el video","fr":"Lire la vid\xE9o","it":"Riproduci video","pt":"Reproduzir v\xEDdeo"},"The home for great writing.":{"ca":"La casa de la gran escriptura.","de":"Das Haus des gro\xDFen Schreibens.","es":"La casa de la gran escritura.","fr":"La maison de grande \xE9criture.","it":"La casa della grande scrittura.","pt":"A casa da grande escrita."},"The home for great":{"ca":"La llar dels grans","de":"Das Zuhause f\xFCr gro\xDFe","es":"El hogar de grandes","fr":"La maison des grands","it":"La casa di grandi","pt":"A casa de grandes"},"writers":{"ca":"escriptors","de":"Autoren","es":"escritores","fr":"\xE9crivains","it":"scrittori","pt":"escritores"},"readers":{"ca":"lectors","de":"Leser","es":"lectores","fr":"lecteurs","it":"lettori","pt":"leitores"},"subscribers":{"ca":"subscriptors","de":"Abonnenten","es":"suscriptores","fr":"abonn\xE9s","it":"iscritti","pt":"assinantes"},"month":{"ca":"mes","de":"Monat","es":"mes","fr":"mois","it":"mese","pt":"m\xEAs"},"We believe that what you read matters and great writing is valuable. We\u2019re building a future where writers can flourish by being paid directly by readers.":{"ca":"Creiem que el que llegeix \xE9s important i una bona escriptura \xE9s valuosa. Estem construint un futur on els escriptors puguin prosperar amb el pagament directament dels lectors.","de":"Wir glauben, dass das, was Sie lesen, wichtig ist und gro\xDFartiges Schreiben wertvoll ist. Wir bauen eine Zukunft auf, in der Autoren gedeihen k\xF6nnen, indem sie direkt von Lesern bezahlt werden.","es":"Creemos que lo que lees importa y que escribir bien es valioso. Estamos construyendo un futuro en el que los escritores puedan prosperar si los lectores les pagan directamente.","fr":"Nous pensons que ce que vous lisez est important et qu'une bonne \xE9criture est pr\xE9cieuse. Nous construisons un avenir o\xF9 les \xE9crivains peuvent s'\xE9panouir en \xE9tant pay\xE9s directement par les lecteurs.","it":"Crediamo che ci\xF2 che leggi sia importante e che scrivi in modo eccellente sia prezioso. Stiamo costruendo un futuro in cui gli scrittori possono prosperare essendo pagati direttamente dai lettori.","pt":"Acreditamos que o que voc\xEA l\xEA \xE9 importante e uma \xF3tima escrita \xE9 valiosa. Estamos construindo um futuro onde os escritores podem florescer sendo pagos diretamente pelos leitores."},"A new model for writing.":{"ca":"Un nou model per escriure.","de":"Ein neues Schreibmodell.","es":"Un nuevo model de escritura.","fr":"Un nouveau mod\xE8le d'\xE9criture.","it":"Un nuovo modello di scrittura.","pt":"Um novo modelo de escrita."},"The subscription model rewards you for doing great work that you believe in. You don\u2019t need to play by the rules of social media to succeed.":{"ca":"El model de subscripci\xF3 us recompensa per fer un gran treball en el qual creieu. No cal que us seguiu les regles de les xarxes socials per tenir \xE8xit.","de":"Das Abonnementmodell belohnt Sie f\xFCr gro\xDFartige Arbeit, an die Sie glauben. Sie m\xFCssen sich nicht an die Regeln der sozialen Medien halten, um erfolgreich zu sein.","es":"El modelo de suscripci\xF3n lo recompensa por hacer un gran trabajo en el que cree. No necesita seguir las reglas de las redes sociales para tener \xE9xito.","fr":"Le mod\xE8le d'abonnement vous r\xE9compense pour l'excellent travail auquel vous croyez. Vous n'avez pas besoin de respecter les r\xE8gles des m\xE9dias sociaux pour r\xE9ussir.","it":"Il modello di abbonamento ti premia per aver svolto un ottimo lavoro in cui credi. Non \xE8 necessario rispettare le regole dei social media per avere successo.","pt":"O modelo de assinatura recompensa voc\xEA por fazer um \xF3timo trabalho no qual acredita. Voc\xEA n\xE3o precisa seguir as regras das m\xEDdias sociais para ter sucesso."},"Simple but powerful publishing.":{"ca":"Publicaci\xF3 senzilla per\xF2 potent.","de":"Einfaches, aber leistungsstarkes Publishing.","es":"Publicaci\xF3n simple pero poderosa.","fr":"Publication simple mais puissante.","it":"Editoria semplice ma potente.","pt":"Publica\xE7\xE3o simples, mas poderosa."},"Spend all your time and energy focused on the work that really matters: the writing itself. Substack takes care of everything else.":{"ca":"Dedica tot el teu temps i energia centrat en el treball que realment importa: l'escriptura en si. Substack s'encarrega de tota la resta.","de":"Konzentrieren Sie sich all Ihre Zeit und Energie auf die Arbeit, die wirklich z\xE4hlt: das Schreiben selbst. Substack k\xFCmmert sich um alles andere.","es":"Dedique todo su tiempo y energ\xEDa a concentrarse en el trabajo que realmente importa: la escritura en s\xED. Substack se encarga de todo lo dem\xE1s.","fr":"Passez tout votre temps et votre \xE9nergie \xE0 vous concentrer sur le travail qui compte vraiment : l'\xE9criture elle-m\xEAme. Substack s'occupe de tout le reste.","it":"Trascorri tutto il tuo tempo e le tue energie concentrati sul lavoro che conta davvero: la scrittura stessa. Substack si occupa di tutto il resto.","pt":"Gaste todo o seu tempo e energia focado no trabalho que realmente importa: a escrita em si. Substack cuida de todo o resto."},"Own your work.":{"ca":"Ser propietari del teu treball.","de":"Besitze deine Arbeit.","es":"Sea due\xF1o de su trabajo.","fr":"Poss\xE9dez votre travail.","it":"Possiedi il tuo lavoro.","pt":"Seja dono do seu trabalho."},"On Substack, you own your content, your IP, and your mailing list \u2013 forever. You can leave and take it all with you at any time.":{"ca":"A Substack, sou el propietari del vostre contingut, de la vostra propietat intel\xB7lectual i de la vostra llista de correu, per sempre. Pots marxar i portar-ho tot amb tu en qualsevol moment.","de":"Auf Substack besitzen Sie Ihre Inhalte, Ihr geistiges Eigentum und Ihre Mailingliste \u2013 f\xFCr immer. Sie k\xF6nnen jederzeit alles verlassen und mitnehmen.","es":"En Substack, eres due\xF1o de tu contenido, tu propriedad intelectual y tu lista de correo, para siempre. Puedes irte y llev\xE1rtelo todo contigo en cualquier momento.","fr":"Sur Substack, vous \xEAtes propri\xE9taire de votre contenu, de votre propri\xE9t\xE9 intellectuelle et de votre liste de diffusion - pour toujours. Vous pouvez partir et tout emporter avec vous \xE0 tout moment.","it":"Su Substack, possiedi i tuoi contenuti, la tua propriet\xE0 intellecttuale e la tua mailing list, per sempre. Puoi partire e portare tutto con te in qualsiasi momento.","pt":"No Substack, voc\xEA possui seu conte\xFAdo, sua propriedade intelectual e sua lista de e-mails \u2013 para sempre. Voc\xEA pode sair e levar tudo com voc\xEA a qualquer momento."},"A media business in minutes.":{"ca":"Un negoci de mitjans en q\xFCesti\xF3 de minuts.","de":"Ein Mediengesch\xE4ft in wenigen Minuten.","es":"Un negocio de medios en cuesti\xF3n de minutos.","fr":"Une entreprise de m\xE9dias en quelques minutes.","it":"Un business dei media in pochi minuti.","pt":"Um neg\xF3cio de m\xEDdia em quest\xE3o de minutos."},"We make subscription publishing simple. Start your Substack at breakfast; start bringing in revenue by lunchtime.":{"ca":"Facilitem la publicaci\xF3 per subscripci\xF3. Comen\xE7a la teva Substack a l'esmorzar; comen\xE7a a generar ingressos a l'hora de dinar.","de":"Wir machen die Abonnementver\xF6ffentlichung einfach. Starten Sie Ihren Substack beim Fr\xFChst\xFCck; Beginnen Sie bis zur Mittagszeit damit, Einnahmen zu erzielen.","es":"Simplificamos la publicaci\xF3n por suscripci\xF3n. Comience su Substack en el desayuno; comience a generar ingresos a la hora del almuerzo.","fr":"Nous simplifions la publication par abonnement. Commencez votre Substack au petit-d\xE9jeuner; commencer \xE0 g\xE9n\xE9rer des revenus \xE0 l'heure du d\xE9jeuner.","it":"Semplifichiamo la pubblicazione degli abbonamenti. Inizia il tuo Substack a colazione; iniziare a guadagnare entro l'ora di pranzo.","pt":"Tornamos a publica\xE7\xE3o de assinatura simples. Comece seu Substack no caf\xE9 da manh\xE3; comece a gerar receita na hora do almo\xE7o."},"For the soon-to-be discovered and the already-well-known.":{"ca":"Pels propers a ser descoberts i els ja coneguts.","de":"F\xFCr Neuentdeckte und Altbekannte.","es":"Para los que pronto se descubrir\xE1n y los ya conocidos.","fr":"Pour ceux qui seront bient\xF4t d\xE9couverts et ceux qui sont d\xE9j\xE0 connus.","it":"Per chi \xE8 presto scoperto e per chi \xE8 gi\xE0 noto.","pt":"Para os que logo ser\xE3o descobertos e os j\xE1 conhecidos."},"Substack\u2019s simple product, business model, and creator-friendly terms has triggered an explosion of new creative work.":{"ca":"El producte senzill, el model de negoci i els termes senzills de Substack han provocat una explosi\xF3 de nous treballs creatius.","de":"Das einfache Produkt, das Gesch\xE4ftsmodell und die sch\xF6pferfreundlichen Bedingungen von Substack haben eine Explosion neuer kreativer Arbeiten ausgel\xF6st.","es":"El producto simple, el modelo comercial y los t\xE9rminos amigables para los creadores de Substack han desencadenado una explosi\xF3n de nuevos trabajos creativos.","fr":"Le produit simple, le mod\xE8le commercial et les termes conviviaux pour les cr\xE9ateurs de Substack ont d\xE9clench\xE9 une explosion de nouveaux travaux cr\xE9atifs.","it":"Il prodotto semplice, il modello di business e i termini adatti ai creatori di Substack hanno innescato un'esplosione di nuovo lavoro creativo.","pt":"O produto simples, o modelo de neg\xF3cios e os termos amig\xE1veis do criador da Substack desencadearam uma explos\xE3o de novos trabalhos criativos."},"Podcasting on Substack":{"ca":"Podcasting a Substack","de":"Podcasting auf Substack","es":"Podcasting en Substack","fr":"Podcasting sur Substack","it":"Podcasting su Substack","pt":"Podcasting no Substack"},"Pioneering subscription-backed audio":{"ca":"\xC0udio de subscripci\xF3 innovador","de":"Innovatives Abonnement-Audio","es":"Audio de suscripci\xF3n innovador","fr":"Audio d'abonnement novateur","it":"Audio in abbonamento innovativo","pt":"\xC1udio de assinatura inovador"},"Bloggers on Substack":{"ca":"Bloggers a Substack","de":"Blogger auf Substack","es":"Blogueros en Substack","fr":"Blogueurs sur Substack","it":"Blogger su Substack","pt":"Blogueiros no Substack"},"Transfer blogs to Substack & unlock subscriptions":{"ca":"Transfereix blogs a Substack i desbloqueja subscripcions","de":"\xDCbertragen Sie Blogs auf Substack und entsperren Sie Abonnements","es":"Transferir blogs a Substack y desbloquear suscripciones","fr":"Transf\xE9rer des blogs vers Substack et d\xE9bloquer des abonnements","it":"Trasferisci i blog in Substack e sblocca gli abbonamenti","pt":"Transfira blogs para Substack e desbloqueie assinaturas"},"Investing and business writing":{"ca":"Escriptura sobre inversions i negocis","de":"Schreiben \xFCber Investitionen und Unternehmen","es":"Escritura de inversiones y negocios","fr":"\xC9criture sur l'investissement et les affaires","it":"Scrittura di investimenti e affari","pt":"Escrita sobre investimentos e neg\xF3cios"},"An obvious match for the subscription model":{"ca":"Una coincid\xE8ncia evident per al model de subscripci\xF3","de":"Eine offensichtliche \xDCbereinstimmung f\xFCr das Abonnementmodell","es":"Una combinaci\xF3n obvia para el modelo de suscripci\xF3n","fr":"Une correspondance \xE9vidente pour le mod\xE8le d'abonnement","it":"Una corrispondenza ovvia per il modello di abbonamento","pt":"Uma correspond\xEAncia \xF3bvia para o modelo de assinatura"},"Comic books":{"ca":"Els c\xF2mics","de":"Die Comics","es":"Los c\xF3mics","fr":"Les bandes dessin\xE9es","it":"I fumetti","pt":"Os quadrinhos"},"Join the world\u2019s best comic book creators":{"ca":"Uneix-te als millors creadors de c\xF2mics del m\xF3n","de":"Schlie\xDFen Sie sich den weltbesten Comic-Autoren an","es":"\xDAnete a los mejores creadores de c\xF3mics del mundo.","fr":"Rejoignez les meilleurs cr\xE9ateurs de bandes dessin\xE9es au monde","it":"Unisciti ai migliori creatori di fumetti del mondo","pt":"Junte-se aos melhores criadores de quadrinhos do mundo"},"Local news reporting":{"ca":"Not\xEDcies locals","de":"Lokale Nachrichtenberichterstattung","es":"Informes de noticias locales","fr":"Reportage sur l'actualit\xE9 locale","it":"Segnalazione di notizie locali","pt":"Relat\xF3rio de not\xEDcias locais"},"A sustainable model for local journalism":{"ca":"Un model sostenible per al periodisme local","de":"Ein nachhaltiges Modell f\xFCr Lokaljournalismus","es":"Un modelo sostenible para el periodismo local","fr":"Un mod\xE8le durable pour le journalisme local","it":"Un modello sostenibile per il giornalismo locale","pt":"Um modelo sustent\xE1vel para o jornalismo local"},"Food writing":{"ca":"Escriptura d'aliments","de":"Schreiben \xFCber Essen","es":"Escritura de comida","fr":"\xC9criture culinaire","it":"Scrittura di cibo","pt":"Escrita de comida"},"Food publishing made simple":{"ca":"Publicaci\xF3 culin\xE0ria simplificada","de":"Kulinarisches Publishing leicht gemacht","es":"Publicaci\xF3n culinaria simplificada","fr":"L'\xE9dition culinaire simplifi\xE9e","it":"L'editoria culinaria resa semplice","pt":"Publica\xE7\xE3o culin\xE1ria simplificada"},"Join the new wave of writers and creators.":{"ca":"Uneix-te a la nova onada d'escriptors i creadors.","de":"Schlie\xDFen Sie sich der neuen Welle von Autoren und Sch\xF6pfern an.","es":"\xDAnete a la nueva ola de escritores y creadores.","fr":"Rejoignez la nouvelle vague d'\xE9crivains et de cr\xE9ateurs.","it":"Unisciti alla nuova ondata di scrittori e creatori.","pt":"Junte-se \xE0 nova onda de escritores e criadores."},"Estimate what you could make on Substack":{"ca":"Estima el que pots guanyar a Substack","de":"Sch\xE4tzen Sie, was Sie auf Substack verdienen k\xF6nnten","es":"Estima lo que podr\xEDas ganar en Substack","fr":"Estimez ce que vous pourriez gagner sur Substack","it":"Stima cosa potresti guadagnare su Substack","pt":"Estime o que voc\xEA pode ganhar no Substack"},"Earnings estimate calculated for \${0} paid subscribers, priced \${1}/month. It is net of Substack and credit card fees. Actual subscriber counts and earnings may vary.":{"ca":"Guanys estimats calculats per a \${0} subscriptors de pagament, amb preu \${1}/mes. Est\xE0 net de les comissions de Substack i targetes de cr\xE8dit. El nombre real de subscriptors i els guanys poden variar.","de":"Gesch\xE4tzte Einnahmen berechnet f\xFCr \${0} zahlende Abonnenten mit Preis \${1}/Monat. Es versteht sich ohne Substack- und Kreditkartengeb\xFChren. Die tats\xE4chlichen Abonnentenzahlen und Einnahmen k\xF6nnen variieren.","es":"Estimaci\xF3n de ganancias calculada para \${0} suscriptores pagos, precio \${1}/mes. Es neto de tarifas de Substack y de tarjeta de cr\xE9dito. Los recuentos reales de suscriptores y las ganancias pueden variar.","fr":"Estimation des revenus calcul\xE9e pour \${0} abonn\xE9s payants, prix \${1} / mois. Il est net des frais de Substack et de carte de cr\xE9dit. Le nombre r\xE9el d'abonn\xE9s et les revenus peuvent varier.","it":"Guadagno stimato calcolato per \${0} abbonati pagati, con prezzo \${1}/mese. \xC8 al netto delle commissioni Substack e delle carte di credito. I conteggi e le entrate effettivi degli abbonati possono variare.","pt":"Estimativa de ganhos calculada para \${0} assinantes pagos, com pre\xE7o \${1}/m\xEAs. \xC9 l\xEDquido de taxas do Substack e de cart\xE3o de cr\xE9dito. As contagens reais de assinantes e os ganhos podem variar."},"How many subscribers could I get?":{"ca":"Quants subscriptors podria aconseguir?","de":"Wie viele Abonnenten k\xF6nnte ich gewinnen?","es":"\xBFCu\xE1ntos suscriptores podr\xEDa conseguir?","fr":"Combien d'abonn\xE9s puis-je obtenir?","it":"Quanti iscritti potrei ottenere?","pt":"Quantos inscritos eu poderia obter?"},"It depends on how many people find value in what you\u2019re making. If you have a highly engaged email list, aim for 10% to become paid subscribers over time.":{"ca":"Dep\xE8n de quantes persones troben valor en el que est\xE0s fent. Si teniu una llista de correu electr\xF2nic molt compromesa, apunteu que el 10% es converteixin en subscriptors de pagament al llarg del temps.","de":"Es h\xE4ngt davon ab, wie viele Menschen das, was Sie machen, wertsch\xE4tzen. Wenn Sie eine sehr engagierte E-Mail-Liste haben, streben Sie an, dass 10 % im Laufe der Zeit zahlende Abonnenten werden.","es":"Depende de cu\xE1ntas personas encuentren valor en lo que est\xE1s haciendo. Si tiene una lista de correo electr\xF3nico altamente comprometida, apunte a que el 10% se convierta en suscriptores pagos con el tiempo.","fr":"Cela d\xE9pend du nombre de personnes qui trouvent de la valeur dans ce que vous faites. Si vous avez une liste de diffusion tr\xE8s engag\xE9e, visez 10 % pour devenir des abonn\xE9s payants au fil du temps.","it":"Dipende da quante persone trovano valore in ci\xF2 che stai facendo. Se disponi di una lista e-mail molto coinvolta, punta al 10% per diventare abbonati a pagamento nel tempo.","pt":"Depende de quantas pessoas encontram valor no que voc\xEA est\xE1 fazendo. Se voc\xEA tem uma lista de e-mail altamente engajada, procure 10% para se tornar assinante pago ao longo do tempo."},"How much could I charge?":{"ca":"Quant podria cobrar?","de":"Wie viel k\xF6nnte ich verlangen?","es":"\xBFCu\xE1nto podr\xEDa cobrar?","fr":"Combien pourrais-je facturer?","it":"Quanto potrei addebitare?","pt":"Quanto eu poderia cobrar?"},"Usually more than you think! In general, for personal interest, try $5 to $10 per month. For professional interest, you can often go substantially higher.":{"ca":"Normalment m\xE9s del que penses! En general, per inter\xE8s personal, proveu de 5 a 10\u20AC al mes. Per inter\xE8s professional, sovint podeu anar molt m\xE9s alt.","de":"Meist mehr als Sie denken! Versuchen Sie es im Allgemeinen aus pers\xF6nlichem Interesse mit 5 bis 10 \u20AC pro Monat. Bei beruflichem Interesse kann man oft deutlich h\xF6her gehen.","es":"\xA1Por lo general, m\xE1s de lo que piensas! En general, por inter\xE9s personal, prueba de 5 a 10 \u20AC al mes. Por inter\xE9s profesional, a menudo puede ir mucho m\xE1s alto.","fr":"G\xE9n\xE9ralement plus que vous ne le pensez ! En g\xE9n\xE9ral, par int\xE9r\xEAt personnel, essayez 5 \xE0 10 \u20AC par mois. Pour un int\xE9r\xEAt professionnel, vous pouvez souvent aller beaucoup plus haut.","it":"Di solito pi\xF9 di quanto pensi! In generale, per interesse personale, prova da \u20AC 5 a \u20AC 10 al mese. Per interesse professionale, puoi spesso andare molto pi\xF9 in alto.","pt":"Geralmente mais do que voc\xEA pensa! Em geral, por interesse pessoal, tente de 25 a 50 R$ por m\xEAs. Por interesse profissional, muitas vezes voc\xEA pode ir substancialmente mais alto."},"See some real-world examples":{"ca":"Mireu alguns exemples concrets","de":"Schauen Sie sich einige konkrete Beispiele an","es":"Mira algunos ejemplos concretos","fr":"Regardez quelques exemples concrets","it":"Guarda alcuni esempi concreti","pt":"Veja alguns exemplos concretos"},"Writers keep 90% of their revenue minus credit card fees.":{"ca":"Els escriptors es conserven el 90% dels seus ingressos menys les tarifes de la targeta de cr\xE8dit.","de":"Autoren behalten 90 % ihrer Einnahmen abz\xFCglich Kreditkartengeb\xFChren.","es":"Los escritores se quedan con el 90% de sus ingresos menos las tarifas de las tarjetas de cr\xE9dito.","fr":"Les auteurs conservent 90 % de leurs revenus moins les frais de carte de cr\xE9dit.","it":"Gli scrittori trattengono il 90% delle loro entrate meno le commissioni sulle carte di credito.","pt":"Os escritores mant\xEAm 90% de sua receita menos as taxas de cart\xE3o de cr\xE9dito."},"Listen now":{"ca":"Escolta ara","de":"Jetzt anh\xF6ren","es":"Escucha ahora","fr":"\xC9coutez maintenant","it":"Ascolta ora","pt":"Ou\xE7a agora"},"Watch now":{"ca":"Veure ara","de":"Jetzt ansehen","es":"Ver ahora","fr":"Regardez maintenant","it":"Guarda ora","pt":"Assista agora"}}`)},33600:G=>{"use strict";G.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:G=>{"use strict";G.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},29591:G=>{"use strict";G.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:G=>{"use strict";G.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},zo={};function It(G){var s=zo[G];if(s!==void 0)return s.exports;var e=zo[G]={id:G,loaded:!1,exports:{}};return Jo[G].call(e.exports,e,e.exports,It),e.loaded=!0,e.exports}It.m=Jo,It.n=G=>{var s=G&&G.__esModule?()=>G.default:()=>G;return It.d(s,{a:s}),s},(()=>{var G=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s;It.t=function(e,o){if(o&1&&(e=this(e)),o&8||typeof e=="object"&&e&&(o&4&&e.__esModule||o&16&&typeof e.then=="function"))return e;var m=Object.create(null);It.r(m);var f={};s=s||[null,G({}),G([]),G(G)];for(var d=o&2&&e;typeof d=="object"&&!~s.indexOf(d);d=G(d))Object.getOwnPropertyNames(d).forEach(g=>f[g]=()=>e[g]);return f.default=()=>e,It.d(m,f),m}})(),It.d=(G,s)=>{for(var e in s)It.o(s,e)&&!It.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:s[e]})},It.f={},It.e=G=>Promise.all(Object.keys(It.f).reduce((s,e)=>(It.f[e](G,s),s),[])),It.u=G=>""+G+"."+{27:"ab144993a6a3905c0e07",28:"dff3324134e09566c99b",156:"305ba929800c9962e7c4",171:"0fe78dce0c6901f651a0",313:"60d8de7a0137e6adfef9",486:"018b4da4fabc81e6906e",492:"5af5d0377b3d3c98f55a",563:"5212c3358fd796a52660",630:"3a81ae2c38ff7938c732",631:"6d414d498aad420940cb",661:"c7cd3e45d29d02cad82a",679:"dae08da004e777d78453",695:"83163b70ce19f4bade00",733:"a6eda8d0ad5f4078dc87",783:"119b2403595bfe3ae07e",829:"4622de2a5ce86d91859e",853:"cf335435b38c9b5adffe",934:"0a64a14909181c8a71a5",968:"8b2bea9335349bf80b93"}[G]+".chunk.js",It.miniCssF=G=>""+(G===179?"main":G)+"."+{27:"f1e7c1358f6e09279abb",156:"e3e75bfaa18f41e4db10",179:"70796e4a07437691d758",630:"7a38d2eafd3887c1e970",661:"fca3185657494623fde3",733:"5206d24a7f974cd47959",829:"ac7086a1ebf094f0ced2",853:"7f17ef46759c5d91e115",934:"d69a5609d893a64574ce"}[G]+".css",It.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(G){if(typeof window=="object")return window}}(),It.hmd=G=>(G=Object.create(G),G.children||(G.children=[]),Object.defineProperty(G,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+G.id)}}),G),It.o=(G,s)=>Object.prototype.hasOwnProperty.call(G,s),(()=>{var G={},s="substack:";It.l=(e,o,m,f)=>{if(G[e]){G[e].push(o);return}var d,g;if(m!==void 0)for(var y=document.getElementsByTagName("script"),C=0;C<y.length;C++){var v=y[C];if(v.getAttribute("src")==e||v.getAttribute("data-webpack")==s+m){d=v;break}}d||(g=!0,d=document.createElement("script"),d.charset="utf-8",d.timeout=120,It.nc&&d.setAttribute("nonce",It.nc),d.setAttribute("data-webpack",s+m),d.src=e),G[e]=[o];var b=(E,O)=>{d.onerror=d.onload=null,clearTimeout(x);var w=G[e];if(delete G[e],d.parentNode&&d.parentNode.removeChild(d),w&&w.forEach(_=>_(O)),E)return E(O)},x=setTimeout(b.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=b.bind(null,d.onerror),d.onload=b.bind(null,d.onload),g&&document.head.appendChild(d)}})(),It.r=G=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},It.nmd=G=>(G.paths=[],G.children||(G.children=[]),G),It.j=179,It.p="https://substackcdn.com/bundle/",(()=>{var G=(m,f,d,g)=>{var y=document.createElement("link");y.rel="stylesheet",y.type="text/css";var C=v=>{if(y.onerror=y.onload=null,v.type==="load")d();else{var b=v&&(v.type==="load"?"missing":v.type),x=v&&v.target&&v.target.href||f,E=new Error("Loading CSS chunk "+m+` failed.
(`+x+")");E.code="CSS_CHUNK_LOAD_FAILED",E.type=b,E.request=x,y.parentNode.removeChild(y),g(E)}};return y.onerror=y.onload=C,y.href=f,document.head.appendChild(y),y},s=(m,f)=>{for(var d=document.getElementsByTagName("link"),g=0;g<d.length;g++){var y=d[g],C=y.getAttribute("data-href")||y.getAttribute("href");if(y.rel==="stylesheet"&&(C===m||C===f))return y}for(var v=document.getElementsByTagName("style"),g=0;g<v.length;g++){var y=v[g],C=y.getAttribute("data-href");if(C===m||C===f)return y}},e=m=>new Promise((f,d)=>{var g=It.miniCssF(m),y=It.p+g;if(s(g,y))return f();G(m,y,f,d)}),o={179:0,661:0,934:0,313:0,28:0};It.f.miniCss=(m,f)=>{var d={27:1,156:1,630:1,661:1,733:1,829:1,853:1,934:1};o[m]?f.push(o[m]):o[m]!==0&&d[m]&&f.push(o[m]=e(m).then(()=>{o[m]=0},g=>{throw delete o[m],g}))}})(),(()=>{var G={179:0,661:0,934:0,313:0,28:0};It.f.j=(o,m)=>{var f=It.o(G,o)?G[o]:void 0;if(f!==0)if(f)m.push(f[2]);else if(o!=27){var d=new Promise((v,b)=>f=G[o]=[v,b]);m.push(f[2]=d);var g=It.p+It.u(o),y=new Error,C=v=>{if(It.o(G,o)&&(f=G[o],f!==0&&(G[o]=void 0),f)){var b=v&&(v.type==="load"?"missing":v.type),x=v&&v.target&&v.target.src;y.message="Loading chunk "+o+` failed.
(`+b+": "+x+")",y.name="ChunkLoadError",y.type=b,y.request=x,f[1](y)}};It.l(g,C,"chunk-"+o,o)}else G[o]=0};var s=(o,m)=>{var[f,d,g]=m,y,C,v=0;if(f.some(x=>G[x]!==0)){for(y in d)It.o(d,y)&&(It.m[y]=d[y]);if(g)var b=g(It)}for(o&&o(m);v<f.length;v++)C=f[v],It.o(G,C)&&G[C]&&G[C][0](),G[C]=0},e=self.webpackChunksubstack=self.webpackChunksubstack||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))})();var ra={};(()=>{"use strict";var G=It(1824),s=It(72496),e=It(6400),o=It(30396),m=It(94184),f=It.n(m),d=It(1469),g=It.n(d),y=It(20042),C=It(56232),v=It(15045),b=It(39419),x=It(26059),E=It(81243);const O=[["global_admin","Global Admin"],["owner","Owner"],["founding_sub","Founding Sub"],["paid_sub","Paid Sub"],["free_sub","Free Sub"],["non_sub","Non Sub"]];function w(n,t,r){return!t||!n?!1:r==="owner"?n.author_id===t.id:t.email===`${r}_for_${n.subdomain}@example.com`}const _=({setExpanded:n})=>(0,e.h)("div",{style:{cursor:"pointer",width:"30px",height:"30px",opacity:.5,color:"var(--background_pop)"},onClick:()=>n(!0)},(0,e.h)(E.Z,{height:30,stroke:"var(--background_pop)",fill:"var(--background_pop)"})),a=({pub:n,user:t,setExpanded:r})=>{const[i,u]=(0,o.eJ)("");return(0,e.h)("div",{style:{padding:"10px 20px",position:"relative",backgroundColor:"var(--web_bg_color)"}},(0,e.h)("div",null,"Sign in as",(0,e.h)("div",{style:{position:"absolute",top:7,right:7,cursor:"pointer"},onClick:()=>r(!1)},(0,e.h)(x.Z,{height:20}))),O.map(([D,k])=>(0,e.h)("div",null,(0,e.h)("a",{className:f()("button",w(n,t,D)?"primary":"outline"),style:{width:"100%",marginTop:3},onClick:()=>{window.location.href=(0,v.pathWithQuery)("/api/v1/debug/log-in-as",{user_type:D,orig_url:window.location.href})}},k))),(0,e.h)("div",null,(0,e.h)("input",{value:i,onChange:D=>{var k;u((k=D.target)==null?void 0:k.value)}}),(0,e.h)("button",{onClick:()=>{window.location.href=(0,v.pathWithQuery)("/api/v1/debug/log-in-as",{custom_user:i,orig_url:window.location.href})}},"Log in as")))};class l extends e.Component{constructor(t,r){super(t,r),this.onDocumentMouseUp=i=>{!(0,b.isRootOrChild)(i.target,this.base)&&this.state.expanded&&this.setState({expanded:!1})},this.state={expanded:!1}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}render({pub:t,user:r},{expanded:i}){var u;return null}}var P=It(76193),S=It(18597),M=It(3258),R=It(89018),N=It(34755),T=Object.defineProperty,A=Object.defineProperties,W=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Q=(n,t,r)=>t in n?T(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ne=(n,t)=>{for(var r in t||(t={}))Z.call(t,r)&&Q(n,r,t[r]);if(j)for(var r of j(t))J.call(t,r)&&Q(n,r,t[r]);return n},te=(n,t)=>A(n,W(t)),B=(n,t)=>{var r={};for(var i in n)Z.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&j)for(var i of j(n))t.indexOf(i)<0&&J.call(n,i)&&(r[i]=n[i]);return r};const re=n=>{var t=n,{svgParams:r}=t,i=B(t,["svgParams"]);return(0,e.h)(N.l,te(ne({},i),{name:"SubstackIcon",svgParams:ne({height:1e3,width:1e3,fill:R.substack_color,stroke:"none"},r)}),(0,e.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,e.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,e.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))};var le=It(33705),ae=It(20501),q=It(65919);function oe(n,t){return[...Array(2*n.length-1)].map((r,i)=>i%2?t:n[i/2])}const z=({publication:n})=>{switch(n==null?void 0:n.subdomain){case"activisionblizzard":return(0,e.h)(de,null);default:return(0,e.h)(ue,null)}},ie=({publication:n})=>{const t=[(0,e.h)("a",{href:(0,v.getPrivacyUrl)({pub:n,utm_source:""}),target:"__blank"},"Privacy"),(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms"),(0,e.h)("a",{href:`${(0,ae.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"__blank"},"Collection notice")];return(n==null?void 0:n.subdomain)==="activisionblizzard"&&t.push((0,e.h)(e.Fragment,null,"Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy"))),(0,e.h)(e.Fragment,null,oe(t,(0,e.h)("span",null," \u2219 ")))},ue=()=>(0,e.h)(q.xv,{size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),de=()=>(0,e.h)(q.xv,{size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),", and Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy"));var fe=Object.defineProperty,ye=(n,t,r)=>t in n?fe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pe=(n,t,r)=>(ye(n,typeof t!="symbol"?t+"":t,r),r),we=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class Me extends e.Component{constructor(){super(...arguments),pe(this,"checkVisibility",()=>{if(!this.ref)return;const t=this.ref.getBoundingClientRect(),r=this.props.threshold||0,i=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),u=!(t.bottom<0-r||t.top>=i+r);(0,b.stateTransaction)(this,(D,k)=>we(this,null,function*(){if(D.isVisible!==u)this.setState({isVisible:u});else if(!k.noDedupe)return;const U=u?"hadFirstVisible":"hadFirstInvisible",ee=!D[U];ee&&this.setState({[U]:!0}),(yield Promise.all([u&&k.onVisible&&k.onVisible(),u&&k.onFirstVisible&&ee&&k.onFirstVisible(),!u&&k.onInvisible&&k.onInvisible(),!u&&k.onFirstInvisible&&ee&&k.onFirstInvisible()])).reduce((xe,Le)=>Le===!0||xe)&&this.checkVisibility()}))})}componentDidMount(){return we(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(t=>setTimeout(t,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:t,children:r}){return(0,e.h)("div",{ref:i=>this.ref=i,className:f()("visibility-check",t)},r)}}const je={modalTitle:"frontend-components-app_install_modal-module__modalTitle--HauTj",qrCode:"frontend-components-app_install_modal-module__qrCode--ri0e5",divider:"frontend-components-app_install_modal-module__divider--LMfZC",dividerLine:"frontend-components-app_install_modal-module__dividerLine--czFeZ",appBadge:"frontend-components-app_install_modal-module__appBadge--aBeVu"},De=({publication:n,user:t,path:r,hideTerms:i,showIntrinioAttrib:u})=>{typeof i=="undefined"&&(i=!1);const D=(0,S.Tf)(),k="Start Writing",H=(0,P.isMobile)(),U=(0,P.isIos)(),ee=(0,P.isAndroid)(),ve=H&&(U||ee),xe=t&&!t.reader_installed_at,Le=ve&&xe;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(Me,{onVisible:()=>{(0,M.j)(M.FP.PUBLICATION_FOOTER_SEEN,{publication_id:n==null?void 0:n.id,user_id:t==null?void 0:t.id,source:me(r)})}}),(0,e.h)("div",{className:f()("footer",{"themed-background":D})},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",n&&n.copyright||"Substack Inc"),u&&(0,e.h)("div",{className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),!i&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(ie,{publication:n}))),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:f()("footer-substack-cta","start-publishing",Le&&"app-upsell"),native:!0,href:t!=null&&t.has_publication?`${(0,v.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,v.getSubstackUrl)()}/signup?${(0,v.serializeQuery)({utm_source:"substack",utm_medium:"web",utm_content:"footer"})}`},(0,e.h)(re,null)," ",k),!Le&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,v.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button"})},"Get the app"),Le&&U&&(0,e.h)("a",{className:je.appBadge,href:(0,v.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,v.imginary)("/img/app_page/app-store.png",160*2)})),Le&&ee&&(0,e.h)("a",{className:je.appBadge,href:(0,v.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,v.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)("div",{className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,v.getSubstackUrl)()}`,native:!0},"Substack"),"\xA0is the home for great writing"))))};function me(n){return n?n==="/"?"pub-homepage":n.startsWith("/p")?"pub-post":n:"unknown"}const ce=()=>h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,"Read"),h("a",{href:"/discover?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Discover"),h("a",{href:"/app?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get the app"),h("a",{href:"https://on.substack.com/s/stories?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Featured"),h("a",{href:"https://reader.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Substack Reader"),h("a",{href:"/discover/category/culture/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in culture"),h("a",{href:"/discover/category/podcast/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top podcasts"),h("a",{href:"/discover/category/food/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in food & drink"),h("a",{href:"/discover/category/finance/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in finance"),h("a",{href:"/discover/category/sports/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in sports"),h("a",{href:"/discover/category/politics/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in politics"),h("a",{href:"/discover/category/technology/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in technology"),h("a",{href:"/discover/category/faith/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in faith"),h("a",{href:"/discover/category/business/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in business"),h("a",{href:"/sitemap",native:!0},"Sitemap")),h("div",{className:"footer-info-col"},h("h3",null,"Writers"),h("a",{href:"/switch-to-substack?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch to Substack"),h("a",{href:"/ghost?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch from Ghost"),h("a",{href:"https://on.substack.com/p/start-a-substack-newsletter?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get started"),h("a",{href:"/going-paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Go paid"),h("a",{href:"/podcasts?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For podcasts"),h("a",{href:"/for-bloggers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For bloggers"),h("a",{href:"/investing-and-business?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For finance writers"),h("a",{href:"/comic-book-creators?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For comic creators"),h("a",{href:"/food-writers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For food writers"),h("a",{href:"/local-news?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For local news")),h("div",{className:"footer-info-col"},h("h3",null,"Company"),h("a",{href:getAboutUrl(null,{params:{utm_source:"substack",utm_medium:"web",utm_content:"footer"}}),native:!0},"About"),h("a",{href:getSupportUrl()},"Help"),h("a",{href:"/jobs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Jobs"),h("a",{href:"https://on.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Blog"),h("a",{href:"/vulnerability-disclosure?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Vulnerability Policy"),h("a",{href:"/contact?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Contact")),h("div",{className:"footer-info-col"},h("h3",null,"Resources"),h("a",{href:"/resources?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Resource center"),h("a",{href:"/going-paid-guide?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Guide to going paid"),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},"Help center"),h("a",{href:"/community-and-programs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Community and programs"),h("a",{href:"/brand?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Brand assets"))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},"Substack is the home for great writing")))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getPrivacyUrl(),native:!0},"Privacy"),h("a",{className:"bottom-item",href:"/tos",native:!0},"Terms"),h("a",{className:"bottom-item",href:`${getSubstackUrl()}/ccpa#personal-data-collected`,native:!0},"Collection notice"))));class ge extends e.Component{render({html:t,children:r,metadata:i}){return(0,e.h)("div",{className:"container-border"},(0,b.setMetaData)(i),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},r,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:t}}))))}}var Ie=It(36808),Re=It(6385),Ke=It(4190),ut=It(32076),_t=It(80569),ft=It.n(_t),We=It(94930),Be=It(83322),lt=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Tt={};function xt(n,t,r,i,u){return lt(this,arguments,function*(D,k,H,{required:U=!1,group:ee=!1,gift:ve=!1},xe){if(!H){xe(null);return}H in Tt||(xe({id:H,required:U,loading:!0}),Tt[H]=yield an(H));const Le=Tt[H],ze=Le&&Le.type==="FREE_TRIAL"&&k&&(yield yt(H));ze&&ze.length&&U?xe({id:Le&&Le.id||H,code:Le&&Le.code,name:Le&&Le.name,required:U,error:!0,message:"This coupon has already been redeemed by this user."}):(0,We.isCouponValid)(Le,{is_group:ee,is_gift:ve,paywallFreeTrialEnabled:D.paywall_free_trial_enabled})&&(D.plans||[]).filter(qe=>(0,We.isCouponValidForPlan)(Le,qe)).length>0?xe(Object.assign({required:U},Le)):xe(U?{id:Le&&Le.id||H,code:Le&&Le.code,name:Le&&Le.name,required:U,error:!0,message:"The coupon is not valid or has expired."}:null)})}function Gt(n){return lt(this,null,function*(){let t;try{if(t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,t&&t.length&&n){const i=yield yt(t[0].id);if(i&&i.length)throw new AppError("User has already redeemed this free trial coupon")}}catch(r){return console.error("Failed to fetch coupons:",r),null}return t.length>0?t[0]:null})}function an(n){return lt(this,null,function*(){try{return(yield ft().get(`/api/v1/coupon/${n}`)).body}catch(t){return console.error("Failed to fetch coupon:",t),null}})}function yt(n){return lt(this,null,function*(){try{return(yield ft().get(`/api/v1/coupon_redemption/${n}`).query()).body}catch(t){return console.error("Failed to fetch coupon redemptions:",t),null}})}function ke(n){return lt(this,null,function*(){try{const r=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!r||r.length===0){const i={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield request.post("/api/v1/coupon").send(i)}else r[0].valid===!1?yield request.put(`/api/v1/coupon/${r[0].id}`).send(Object.assign({},r[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${r[0].id} already enabled but attempted to be enabled`);return 0}catch(t){return console.error("Failed to create free trial coupon:",t),1}})}function Ve(){return lt(this,null,function*(){try{const t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!t||t.length===0?console.error("No free trial coupon exists to disable"):yield request.put(`/api/v1/coupon/${t[0].id}`).send(Object.assign({},t[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(n){return console.error("Failed to disable free trial coupon:",n),null}})}var Ne=It(51126),Fe=It(1852),Ue=It(56242),be=It(7922),Ge=Object.defineProperty,nt=Object.defineProperties,Oe=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,Te=(n,t,r)=>t in n?Ge(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,He=(n,t)=>{for(var r in t||(t={}))Y.call(t,r)&&Te(n,r,t[r]);if(K)for(var r of K(t))he.call(t,r)&&Te(n,r,t[r]);return n},Qe=(n,t)=>nt(n,Oe(t)),ht=(n,t)=>{var r={};for(var i in n)Y.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&K)for(var i of K(n))t.indexOf(i)<0&&he.call(n,i)&&(r[i]=n[i]);return r};const ct=n=>{var t=n,{color:r="#1C110B",strokeWidth:i=1}=t,u=ht(t,["color","strokeWidth"]);return h(SvgIcon,Qe(He({},u),{name:"CaretRightIcon",svgParams:{height:14,width:8,viewBox:"0 0 8 14"}}),h("path",{d:"M1 13L7 7L1 1",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":i}))},Pt=null;var Nt=Object.defineProperty,sn=Object.defineProperties,Et=Object.getOwnPropertyDescriptors,Ot=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,zt=(n,t,r)=>t in n?Nt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,on=(n,t)=>{for(var r in t||(t={}))at.call(t,r)&&zt(n,r,t[r]);if(Ot)for(var r of Ot(t))Ht.call(t,r)&&zt(n,r,t[r]);return n},hn=(n,t)=>sn(n,Et(t));const gn=n=>h(SvgIcon,hn(on({},n),{name:"LargePlusIcon",svgParams:{height:16,width:16,fill:"#78706C",stroke:"none"}}),h("rect",{x:"7",y:"1",width:"2",height:"14",rx:"1"}),h("rect",{x:"15",y:"7",width:"2",height:"14",rx:"1",transform:"rotate(90 15 7)"})),bn=null;var Un=It(59736),qn=It(65726),cr=It(81671),hr=It(85564),pr=It(84753),Lr=It(43174),oo=It(89734),Kr=It.n(oo),co=It(45578),lo=It(85928),dr=It.n(lo),Nr=It(23890),Hr=Object.defineProperty,Ur=Object.defineProperties,uo=Object.getOwnPropertyDescriptors,mo=Object.getOwnPropertySymbols,yo=Object.prototype.hasOwnProperty,Oo=Object.prototype.propertyIsEnumerable,Xo=(n,t,r)=>t in n?Hr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Go=(n,t)=>{for(var r in t||(t={}))yo.call(t,r)&&Xo(n,r,t[r]);if(mo)for(var r of mo(t))Oo.call(t,r)&&Xo(n,r,t[r]);return n},Mo=(n,t)=>Ur(n,uo(t));const Bo=n=>(0,e.h)(N.l,Mo(Go({},n),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"})),Qr=()=>h(Yr,null,h(PodcastIcon,{height:10,stroke:"white"}),"Podcast"),Yr=({children:n,className:t})=>h("div",{className:cn("pill",t)},h("span",null,n)),$r=null,xr=({publication:n,logo_size:t=60,isStatic:r=!1,children:i})=>r?h($t,{publication:n,logo_size:t,children:i}):h("div",{className:"publication card"},t&&h("figure",{className:"logo"},h(PubIcon,{pub:n,logo_url:n.logo_url,size:t})),h("div",{className:"title"},h("div",{className:"name"},n.name),h("div",{className:"description"},n.hero_text),i)),$t=({publication:n,logo_size:t=60,className:r="",children:i})=>h("table",{role:"presentation",className:classnames("publication","card",r,n.logo_url?"has-logo":"no-logo"),width:"auto",cellpadding:0,cellspacing:0,border:"0"},h("tr",{cellpadding:"0",height:"100%"},t&&h("td",{rowspan:"3",className:"logo"},h("figure",{className:"logo"},n.logo_url?h(PubIcon,{pub:n,logo_url:n.logo_url,size:t,isStatic:!0}):h(SubstackIcon,{isStatic:!0,fill:n.theme_var_background_pop||substack_color,width:t,height:t}))),h("td",null,h("table",{cellpadding:"0",cellspacing:"0"},h("tr",null,h("td",{className:"title"},n.name)),h("tr",{cellpadding:"0",height:"80%"},h("td",{className:"description"},n.hero_text)),i)))),en=null;var nn=It(84017),Rn=Object.defineProperty,At=Object.defineProperties,Yt=Object.getOwnPropertyDescriptors,Wt=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,vn=Object.prototype.propertyIsEnumerable,An=(n,t,r)=>t in n?Rn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zn=(n,t)=>{for(var r in t||(t={}))rn.call(t,r)&&An(n,r,t[r]);if(Wt)for(var r of Wt(t))vn.call(t,r)&&An(n,r,t[r]);return n},er=(n,t)=>At(n,Yt(t)),Jn=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Nn=({onClick:n,checked:t})=>h("div",{className:"select-all"},h("input",{name:"all",type:"checkbox",onInput:n,checked:t}),h("label",{for:"all",onClick:n},"Select ",t?"none":"all")),Pr=({disabled:n,onClick:t,children:r})=>h(Button,{type:"submit",className:"primary xl",disabled:n,onClick:t},r),Er=({isStatic:n=!1,extraProps:t={},linkType:r=null,discoverable:i=null,text:u,icon:D=!0,onClick:k=null})=>{const H={};r!==null&&(H.type=r),i!==null&&(H.discoverable=i);const U=getFindTwitterPubsUrl(H);return h("div",zn({className:"twitter-discover"},t),h("a",er(zn({className:"twitter-link",href:U},k&&{onClick:k}),{native:!0}),h("div",{className:"inner"},D&&h(TwitterIcon,{stroke:"white",fill:"white",isStatic:n}),h("span",{className:"twitter-link-text"},u||"Find writers I follow"))))},yr=({pub:n,checked:t,onToggle:r,isSubscribed:i,author:u,screenName:D})=>h("li",{className:"linked-pub"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h("div",{className:"subscribed-status"},h("input",{type:"checkbox",checked:t||i,disabled:i,onInput:()=>r(n.id)})),h(UserProfilePhoto,{size:60,photo_url:u.photo_url}),h("div",{className:"twitter-handle"},h("span",{className:"author"},u==null?void 0:u.name),h("span",{className:"handle"}," @",D))),h("div",{className:"info"},h("div",{className:"publication-row"},h("a",{className:"publication",href:updateQuery(`${getBaseUrl(n)}/`,{utm_source:"substack",utm_medium:"web",utm_content:"discover-twitter"}),target:"_blank",native:!0},h(PubCard,{publication:n,logo_size:30},i?h("div",{className:"subscribed"},h(Pill,null,"Subscribed")):null)))))),Br=({result:n,selectedPubs:t,onToggle:r})=>{var i;const{publicationAuthor:u,screen_name:D,publication_id:k}=n,{name:H,ownedPublications:U}=u,ee=uniqBy(U,Le=>Le.id),ve=sortBy(ee,Le=>Le.latestPost[0]?dayjs(Le.latestPost[0].post_date).toDate():dayjs.unix(1).toDate()).reverse(),xe=u.photo_url||((i=U.find(Le=>Le.id===k))==null?void 0:i.logo_url);return ve.map(Le=>{const ze=Le.subscriptions.length;return h(yr,{author:u,screenName:D,authorName:H,showLogo:xe!==u.photo_url,pub:Le,checked:t.has(Le.id),onToggle:r,isSubscribed:ze})})},ao=({user:n,freeSignupEmail:t,twitterEmail:r,twitterToken:i,onConfirmed:u,onSubscribed:D,formAction:k,pubIds:H,subscribeToken:U,redirect:ee,showDiscover:ve,editable:xe,showLogout:Le})=>{const ze=(n==null?void 0:n.email)||t||r,[qe,Je]=useState(!1),[st,Ct]=useState(!0),[bt,Dt]=useState(ze);H?ee=updateQuery(ee,{pubIds:H,t:i}):ee=updateQuery(ee,{t:i,d:st});const Ut=Rt=>{const{userExists:Qt,subscribed:pn}=Rt.body;pn?D(pn):Qt?Qt&&(window.location.href=pathWithQuery(`${getSubstackUrl()}/sign-in`,{with_password:!1,email:bt,redirect:ee})):u()};return h("div",{className:"twitter-publications container"},h("section",null,h("div",{className:"terms-check"},h(FancyForm,{onSuccess:Rt=>Ut(Rt),method:"post",action:k,loading:!1,autoLock:!0},h("input",{name:"t",type:"hidden",value:i}),H&&h("input",{name:"pubIds",type:"hidden",value:H}),U&&h("input",{name:"subscribeToken",type:"hidden",value:U}),h("input",{name:"email",type:"text",disabled:!xe&&ze,value:bt,onInput:Rt=>Dt(Rt.target.value)}),h("label",null,h("input",{type:"checkbox",checked:qe,onInput:()=>Je(!qe)}),"I accept the"," ",h("a",{href:"/tos",target:"_blank",native:!0},"Terms of Use")),ve&&h("label",null,h("input",{name:"allow_discover",type:"checkbox",checked:st,onInput:()=>Ct(!qe)}),"Allow people to find my publications via Twitter"),Le&&h("label",null,h("a",{className:"login-button",href:getSignoutUrl(),native:!0},"Not you?")),h(Pr,{disabled:!qe},"Next \u2192")))))},to=()=>h("div",{className:"twitter-publications container landing"},h("h2",null,"Thousands of writers and readers are already on Substack"),h("section",null,h("p",null,"Connect with Twitter to find them and subscribe to their publications."," ",h("span",{className:"light"},"(We'll never post to your Twitter without permission or abuse your data.)")),h("div",{className:"banner"},h(Er,null)))),Sr=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:u})=>!u&&!n||t=="connect"?h(to,null):h(Ao,zn({},{user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:u})),Ao=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:u,buttonText:D=null,onSignup:k=null,requireSignup:H=!0,needsEmailConfirm:U=!0,renderIfNoneFound:ee=null,useProfilePrefix:ve=!1})=>{const[xe,Le]=useState(null),[ze,qe]=useState(null),[Je,st]=useState(null),[Ct,bt]=useState(null),[Dt,Ut]=useState(!U),[Rt,Qt]=useState(null),[pn,En]=useState(!1),[_n,fn]=useState(new Set),[Zn,Gn]=useState(null),$n=getQueryItem("subscribed"),yn=ve?"/profile":"";$n?k?k():(st($n.split(",")),route("/discover-twitter/success")):t&&t!=="connect"&&!xe&&!Je&&route("/discover-twitter");const Ln=Xt=>{const On=new Set(_n);_n.has(Xt)?On.delete(Xt):On.add(Xt),fn(On)},br=Xt=>flatten(Xt.map(On=>{var Jt;return((Jt=On.publicationAuthor)==null?void 0:Jt.ownedPublications)||[]}));useEffect(()=>Jn(void 0,null,function*(){if(!pn){En(!0);try{const Xt=yield request.get("/api/v1/twitter/publications"),{results:On,subscribeToken:Jt,needsConnect:Qn,needsTwitterConfirm:Bn}=Xt.body;if(Qn)route("/discover-twitter/connect");else{const Dr=br(On),lr=new Set(Dr.filter(Yn=>Yn.subscriptions.length===0).map(Yn=>Yn.id));let Ar;lr.size<=30?Ar=new Set(lr):Ar=new Set,Le(On),Qt(!1),Gn(Jt),qe(lr),fn(Ar),bt(!Bn)}}catch(Xt){Qt(Xt)}En(!1)}}),[]);let Xn;xe&&(xe.length>0?Ct?Xn=`We found ${xe.length} account${xe.length>1?"s":""} you follow on Twitter`:Xn=`Confirm your email to see ${xe.length} account${xe.length>1?"s":""} you follow on Twitter`:Ct||(Xn="Confirm your email to continue")),t==="confirm"&&(Xn="Confirm your email"),Je&&(Xn="Success!");const Cn=xe?br(xe):null,Mn=()=>{Ut(!0),bt(!0)},ar=()=>Jn(void 0,null,function*(){En(!0);try{const Xt=yield request.post("/api/v1/twitter/subscribe").send({pubIds:[..._n].join(","),t:u,subscribeToken:Zn});if(k)k();else{const{subscribed:On}=Xt.body;st(On),route("/discover-twitter/success")}}catch(Xt){console.error("error subscribing",Xt)}En(!1)}),mr=Xt=>{st(Xt),route("/discover-twitter/success")},Hn=Xt=>{let On;Xt?On=new Set(ze):On=new Set,fn(On)},In=()=>{!U||Dt?ar():route("/discover-twitter/confirm")};return h("div",{className:"twitter-publications pub-list"},h("h2",{className:t},Xn),pn&&h("p",{className:"loading"},"Loading..."),Rt&&h(Fragment,null,h("p",{className:"error"},"Sorry, there was an error getting your results!"),h("div",{className:"banner"},h(Er,null))),h(Router,null,xe&&!Je&&Ct&&!pn&&h(No,{path:`${yn}/discover-twitter`,results:xe,selectedPubs:_n,subscribablePubs:ze,onToggleChecked:Ln,onToggleAll:Hn,onNext:In,loading:pn,buttonText:D,requireSignup:H,renderIfNoneFound:ee}),Ct==!1&&h(ao,{path:`${yn}/discover-twitter`,formAction:"/api/v1/twitter/confirm",redirect:"/api/v1/twitter/continue-confirm",user:n,onConfirmed:Mn,twitterEmail:r,twitterToken:u,freeSignupEmail:i,pubIds:[..._n],showDiscover:!0}),!Dt&&h(ao,{path:`${yn}/discover-twitter/confirm`,redirect:"/api/v1/twitter/continue-subscribe",formAction:"/api/v1/twitter/subscribe",user:n,onSubscribed:mr,twitterEmail:r,twitterToken:u,freeSignupEmail:i,pubIds:[..._n],subscribeToken:Zn,editable:!1,showLogout:!0}),xe&&Je&&h(Ho,{path:`${yn}/discover-twitter/success`,user:n,subscribed:Je,pubs:Cn,results:xe})))},fo=({pub:n,result:t})=>{const{hero_text:r,stripeAccount:i,logo_url:u}=n,{screen_name:D,publicationAuthor:{name:k,photo_url:H}}=t,U=i==null?void 0:i.plans;return h("li",{className:"linked-pub subscribed"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h(UserProfilePhoto,{size:60,photo_url:u||H})),h("div",{className:"info"},h("div",{className:"publication-row"},h("div",{className:"publication"},h("div",{className:"name"},"@",D," - ",k),h("div",{className:"description"},r)),h("div",null,U&&h(LinkButton,{className:"outline small button",href:`${getBaseUrl(n)}/subscribe`,target:"_blank"},"Upgrade"))))))},Ho=({subscribed:n,pubs:t,results:r})=>{const i=uniqBy(t.filter(U=>n.find(ee=>ee===U.subdomain)),U=>U.id),[u,D]=partition(i,U=>{var ee;return(ee=U.stripeAccount)==null?void 0:ee.plans}),k=[...u,...D].length>1,H=u.length>1;return h("ul",null,h("div",{className:"sign-up"},u.length>0?h(Fragment,null,H?`${u.length} of the newsletters`:k?"One of the newsletters":"The newsletter"," ","you subscribed to ",H?"have":"has"," a paid version. You can upgrade"," ",H?"those subscriptions":"that subscription"," now or later."):`You're subscribed to the free version of ${k?"these newsletters":"this newsletter"}.  Happy reading!`),[...u,...D].map(U=>{const ee=r.find(ve=>ve.screen_name===U.twitterAccount.screen_name);return ee?h(fo,{pub:U,result:ee}):null}))},Po=({onNext:n})=>h("div",null,h("ul",null,h("p",null,"It doesn't appear anyone you follow on Twitter has a Substack yet. We'll let you know if that changes."),h(LinkButton,{className:"primary button",onClick:()=>{n()}},"Continue"))),No=({results:n,selectedPubs:t,onNext:r,onToggleChecked:i,onToggleAll:u,subscribablePubs:D,loading:k,buttonText:H,requireSignup:U,renderIfNoneFound:ee})=>{if(n.length===0)return ee||h(Po,{onNext:r});const ve=sortBy(n,Ct=>{var bt;let Dt;return Ct.publicationAuthor.ownedPublications?Dt=maxBy(Ct.publicationAuthor.ownedPublications,Ut=>Ut.latestPost[0]?dayjs(Ut.latestPost[0].post_date).toDate():null):Dt=null,Dt!=null&&Dt.latestPost[0]?dayjs((bt=Dt.latestPost[0])==null?void 0:bt.post_date).toDate():dayjs.unix(1).toDate()}).reverse(),[xe,Le]=partition(ve,Ct=>(Ct.publicationAuthor.ownedPublications||[]).some(bt=>bt.subscriptions.length===0)),ze=D.size===t.size,qe=()=>{u(!ze)},Je=(!U||t.size>0)&&!k,st=!U||D.size>0?h(Pr,{onClick:r,disabled:!Je},H?(t.size>0?"Subscribe and ":"")+H:"Sign up \u2192"):null;return h("div",null,h("section",{className:"sign-up"},"Subscribe to free newsletters from the people you already follow on Twitter"),h("ul",null,(!U||D.size>0)&&h(Fragment,null,(D.size>3||!U)&&st,h("li",null,D.size<30&&h(Nn,{checked:ze,onClick:qe}))),[...xe,...Le].map(Ct=>h(Br,{result:Ct,selectedPubs:t,onToggle:i})),st))};var Vo=Object.defineProperty,bo=Object.getOwnPropertySymbols,_i=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,oi=(n,t,r)=>t in n?Vo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ci=(n,t)=>{for(var r in t||(t={}))_i.call(t,r)&&oi(n,r,t[r]);if(bo)for(var r of bo(t))si.call(t,r)&&oi(n,r,t[r]);return n};const gi=(0,e.createContext)({});gi.displayName="WWWContext";const vi=n=>{const t=r=>{const i=useContext(gi);return h(n,ci(ci({},i),r))};return t.displayName=`withWWWContext(${n.name||n.displayName||"Anonymous"})`,t},oa=()=>useContext(gi);var _o=It(8479),xi=Object.defineProperty,Bi=Object.getOwnPropertySymbols,ki=Object.prototype.hasOwnProperty,di=Object.prototype.propertyIsEnumerable,So=(n,t,r)=>t in n?xi(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ti=(n,t)=>{for(var r in t||(t={}))ki.call(t,r)&&So(n,r,t[r]);if(Bi)for(var r of Bi(t))di.call(t,r)&&So(n,r,t[r]);return n},li=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});function Di(n){const t=useWWWContext(),{categories:r,publications:i=[],categoryId:u,featuredPublications:D=[],communityPicksPublications:k=[],tastemakerPublications:H=[],user:U,categorySlug:ee,rankingSlug:ve,hasMore:xe,updateUrl:Le=!1,maxPublications:ze,showTwitterBanner:qe,readerOnboardingModal:Je}=ti(ti({},t),n),[st,Ct]=useState(r),[bt,Dt]=useState(et(i,ze)),[Ut,Rt]=useState(u),[Qt,pn]=useState(et(D,ze)),[En,_n]=useState(et(k,ze)),[fn,Zn]=useState(et(H,ze)),[Gn,$n]=useState(null),[yn,Ln]=useState("paid"),[br,Xn]=useState(null),[Cn,Mn]=useState(0),[ar,mr]=useState(xe);useEffect(()=>{const Jt=ve||"paid";Ln(Jt),st||Ye().then(({categories:Qn,publications:Bn,featuredPublications:Dr,communityPicksPublications:lr,tastemakerPublications:Ar})=>{Ct(Qn);const Yn=getCategoryIdFromSlug(ee,Qn);return Rt(Yn),pn(et(Dr,ze)),_n(et(lr,ze)),Zn(et(Ar,ze)),Yn==="featured"?Bn:Xe(Yn,Jt,0).then(({publications:Or,more:_r})=>(Mn(0),ze||mr(_r),Or))}).then(Qn=>{Dt(et(Qn,ze))})},[st,ee,ve,ze]);const Hn=useCallback(()=>{const Jt=Cn+1;track(EVENTS.VIEWED_MORE_CATEGORY,{categoryId:Ut,ranking:yn,page:Jt}),Xe(Ut,yn,Jt).then(({publications:Qn,more:Bn})=>{const Dr=new Set(bt.map(lr=>lr.id));Mn(Jt),Dt(bt.concat(Qn.filter(lr=>!Dr.has(lr.id)))),mr(Bn)})},[Ut,yn,Cn,bt,Mn,Dt,mr]),In=({categoryId:Jt,ranking:Qn,categories:Bn})=>{track(EVENTS.CLICKED_CATEGORY,{categoryId:Jt,ranking:Qn}),Le&&route(pt({categoryId:Jt,categories:Bn,ranking:Qn}),!0),On({categoryId:Jt,ranking:Qn})},Xt=Jt=>{Ln(Jt),Le&&route(pt({categoryId:Ut,categories:st,ranking:Jt}),!0),On({categoryId:Ut,ranking:Jt})},On=useCallback(Jt=>li(this,[Jt],function*({categoryId:Qn,ranking:Bn}){if(Rt(Qn),Mn(0),Qn==="featured"||Qn==="twitter"){$n(null),Xn(null),mr(!1),Qn==="featured"&&Dt(et(Qt,ze));return}$n(Qn),Xn(Bn),Dt([]),mr(!1);const{publications:Dr,more:lr}=yield Xe(Qn,Bn,0);Rt(Qn),$n(null),Xn(null),Ln(Bn),Mn(0),ze||mr(lr),Dt(et(Dr,ze))}),[$n,Xn,Rt,Mn,mr,Dt,Qt,ze]);return{categories:st,publications:Ut==="featured"?Qt:bt,categoryId:Ut,ranking:yn,loadingCategoryId:Gn,loadingRanking:br,featuredPublications:Qt,user:U,categorySlug:ee,rankingSlug:ve,hasMore:ar,viewMore:Hn,loadPublications:On,onCategoryClicked:In,getCategoryIdFromSlug,setCategoryId:Rt,setRanking:Ln,onRankingChange:Xt,maxPublications:ze,showTwitterBanner:qe,readerOnboardingModal:Je}}const et=(n,t)=>t?n.slice(0,t):n,Ye=()=>fetchJson("/api/v1/homepage/initial-category-data"),Xe=(n,t="paid",r=0)=>fetchJson(`/api/v1/category/public/${n}/${t}?page=${r}`),pt=({categoryId:n,ranking:t,categories:r})=>{let i="";["twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(n)&&(i=n);const u=r.find(D=>D.id===n);return u!=null&&u.slug&&(i=`${u.slug}/${t}`),i?`/discover/category/${i}`:"/discover"},gt=({children:n,separator:t})=>{const r=[],i=(0,e.toChildArray)(n);return i.forEach((u,D)=>{r.push(u),D!==i.length-1&&r.push(t)}),(0,e.h)(e.Fragment,null,r)};var kt=It(95297),Bt=Object.defineProperty,Se=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,$e=(n,t,r)=>t in n?Bt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mt=(n,t)=>{for(var r in t||(t={}))_e.call(t,r)&&$e(n,r,t[r]);if(Se)for(var r of Se(t))Pe.call(t,r)&&$e(n,r,t[r]);return n},vt=(n,t)=>{var r={};for(var i in n)_e.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Se)for(var i of Se(n))t.indexOf(i)<0&&Pe.call(n,i)&&(r[i]=n[i]);return r};function St(n){const t=!n.disable_monthly_subscriptions&&n.plans&&n.plans.filter(u=>u.interval==="month").sort((u,D)=>u.amount-D.amount)[0],r=n.plans&&n.plans.filter(u=>u.interval==="year").sort((u,D)=>u.amount-D.amount)[0],i=t||r;if(i)return(0,Be.planBasePricing)(i)}const Mt={desktop:15,mobile:6};function Ft(n,{includePrice:t=!0,includeRankingDetail:r=!0,includeByline:i=!0,includeBadge:u=!1,rankingDetailOverrideText:D=null}={}){const k=(0,Be.getByLine)(n);let H=null;return r&&(H=D||n.rankingDetail),(0,e.h)(gt,{separator:" \xB7 "},i&&k&&(0,e.h)(Ne.hs,{inline:!0,gap:4},"By ",k,u&&(0,e.h)(kt.s,{size:"sm",tier:n.author_bestseller_tier,userId:n.author_id})),H,t&&St(n))}const Vt=({className:n,hasFeatured:t,categories:r,categoryId:i,categoryIds:u,loadingCategoryId:D,ranking:k,onCategoryClicked:H,defaultExpanded:U,isReaderOnboarding:ee})=>{const[ve,xe]=useState(U||!1),Le=useMediaQuery({query:"only screen and (max-width: 650px)"}),ze=Mt[Le?"mobile":"desktop"],qe=ve?r:r.slice(0,ze),Je=st=>st.id===i||(u==null?void 0:u.includes(st.id));return h("div",{className:cn("categories",n)},t?h(Button,{className:cn({active:i==="featured"&&(!D||D==="featured"),loading:D==="featured"&&i!=="featured"}),onClick:()=>H({categoryId:"featured",ranking:"all",categories:r})},"Featured"):null,qe.map(st=>h(Button,{key:st.id,className:cn({active:Je(st)&&(!D||D===st.id),loading:D===st.id&&i!==st.id}),onClick:()=>H({categoryId:st.id,ranking:k,categories:r})},st.id==="twitter"&&h(TwitterIcon,{width:Le?12:15,height:Le?12:15,strokeWidth:0}),toTitleCase(st.canonical_name||""))),!ee&&h(Button,{className:cn({active:i===COMMUNITY_PICKS_CATEGORY_NAME&&(!D||D===COMMUNITY_PICKS_CATEGORY_NAME),loading:D===COMMUNITY_PICKS_CATEGORY_NAME&&i!==COMMUNITY_PICKS_CATEGORY_NAME}),onClick:()=>H({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:r})},"Writer favorites"),!ee&&h(Button,{className:cn({active:i===TASTEMAKER_CATEGORY_NAME&&(!D||D===TASTEMAKER_CATEGORY_NAME),loading:D===TASTEMAKER_CATEGORY_NAME&&i!==TASTEMAKER_CATEGORY_NAME}),onClick:()=>H({categoryId:TASTEMAKER_CATEGORY_NAME,ranking:"all",categories:r})},"Featured recommenders"),r.length>ze&&!ve&&h(Button,{className:"show-more",onClick:()=>xe(!0)},h(LargePlusIcon,null)))},un=({publications:n,explanations:t,ranking:r,openInNew:i,startRankAt:u=0,source:D,onPublicationVisited:k=null,user:H,categoryId:U})=>h(Fragment,null,h("div",{className:"publications"},n.map((ee,ve)=>{var xe,Le,ze;let qe=t&&t[ve];if(!ee)return;qe||(qe=[]);const Je=qe.filter(pn=>["posts.title","posts.subtitle"].includes(pn.type)),st=!!((Le=(xe=Je[0])==null?void 0:xe.posts[0][0])!=null&&Le.slug);let Ct;st&&(Ct=(ze=Je[0])==null?void 0:ze.posts[0][0]);const bt=qe.filter(pn=>pn.type==="description")[0],Dt=qe.filter(pn=>["name","subdomain","hero_text","custom_domain","author_name"].includes(pn.type)).length>0||!bt&&!Ct,Ut=qe.filter(pn=>pn.type==="description").map(pn=>pn.keyword),Rt=qe.filter(pn=>["posts.title","posts.subtitle"].includes(pn.type)).map(pn=>pn.keyword),Qt=getPubUrl(ee,{params:{utm_source:D||"discover"},signedIn:!!H});return h("a",{key:ee.id,className:"publication",href:Qt,native:!0,target:i?"_blank":null,onClick:pn=>{trackPublicationVisit(ee,D||"leaderboards",{position:ve+1,category:U}),k&&k(ee)},rel:"noopener"},r==="paid"?h("div",{className:"publication-rank"},ve+1+u):null,h("div",{className:"publication-content"},h(PubIcon,{pub:ee,href:Qt,logo_url:ee.logo_url||ee.author_photo_url,linkify:!1,belowTheFold:!0}),h("div",{className:"publication-text-area"},h("div",{className:"publication-title"},ee.name),(Dt||Ct)&&h("div",{className:"publication-description"},ee.editorial_bio||tn(ee.hero_text,Ut)),!Dt&&bt&&!Ct&&h("div",{className:"publication-description"},tn(bt.sentence,Ut)),!Dt&&Ct&&h("div",{className:"publication-explanation-box"},st&&h("a",{className:"title",href:getPostUrl(ee,Ct)},h("div",{className:"post-preview-content"},h("div",{className:"left-flex"},h("p",{className:"title"},tn(Ct.title,Rt)),h("p",{className:"subtitle"},tn(Ct.subtitle,Rt))),h("div",{className:"right-flex"},h("img",{src:Ct.cover_image,className:Ct.cover_image?"":"no-preview"}))))),h("div",{className:"publication-author"},Ft(ee)))))})));function tn(n,t){if(!n)return"";const r=new RegExp(t.join("|"),"ig"),i=n.split(r),u=[...n.matchAll(r)];return h("span",null,i.map((D,k)=>h(Fragment,null,D,k!==i.length-1&&h("b",null,u[k]))))}const dn=({onCategoryClicked:n,categoryId:t,ranking:r,loadingRanking:i,categories:u})=>["featured","twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(t)?null:h("div",{className:"ranking-toggle"},h(LinkButton,{className:cn({active:r==="paid"&&!i||i==="paid",loading:i==="paid"&&r!=="paid"}),onClick:()=>n({categoryId:t,ranking:"paid",categories:u})},"Top paid"),"  \xB7  ",h(LinkButton,{className:cn({active:r==="all"&&!i||i==="all",loading:i==="all"&&r!=="all"}),onClick:()=>n({categoryId:t,ranking:"all",categories:u})},"All")),xn=n=>{var t=n,{Component:r=Wn}=t,i=vt(t,["Component"]);const u=useLeaderboards(i);return u.categories?h(r,mt({},u)):null};class Wn extends null{componentDidUpdate(t){if(this.props.categorySlug===t.categorySlug&&this.props.rankingSlug===t.rankingSlug)return;const r=getCategoryIdFromSlug(this.props.categorySlug,this.props.categories),i=this.props.rankingSlug||"paid";this.props.loadPublications({categoryId:r,ranking:i})}startReading(t){window.sessionStorage.setItem("initialJoinSubstack","true"),track(EVENTS.HOMEPAGE_READER_LINK_CLICKED,{url:getBaseReaderUrl()}),redirect(getBaseReaderUrl(),{event:t})}render({categories:t,publications:r,categoryId:i,loadingCategoryId:u,ranking:D,loadingRanking:k,onCategoryClicked:H,hasMore:U,viewMore:ee,featuredPublications:ve,underratedPublications:xe,tastemakerPublications:Le,maxPublications:ze,showTwitterBanner:qe,user:Je}){const st=i==="featured",Ct=i===COMMUNITY_PICKS_CATEGORY_NAME,bt=i===TASTEMAKER_CATEGORY_NAME,Dt=i==="twitter",Ut=t.find(Rt=>Rt.id===i);return st&&!ve.length&&typeof window!="undefined"&&H({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:t}),h("div",{className:cn("new-landing-page reader-landing-page page",{"category-featured":st})},h("div",{className:"container"},h("div",{className:"landing-content"},h("div",{className:"landing-section landing-publications"},h("div",{className:"publications-header not-mobile"},h(dn,{categories:t,categoryId:i,ranking:D,onCategoryClicked:H})),h(un,{publications:r,ranking:st||Ct||bt?"all":D,categoryId:i}),D==="all"&&!st&&!Ct&&!bt&&!Dt&&!ze&&U&&h("div",{className:"view-more"},h(Button,{className:"primary top-pad",onClick:ee},"View more")),ze&&i!=="featured"&&h("div",{className:"see-all",style:{paddingLeft:D==="all"?"108px":"146px"}},h("a",{href:st?getDiscoverCategoryUrl():[TASTEMAKER_CATEGORY_NAME,COMMUNITY_PICKS_CATEGORY_NAME].includes(i)?getDiscoverCategoryUrl({slug:i},D):getDiscoverCategoryUrl(Ut,D),native:!0},"See all"," ",h(CaretRightIcon,{width:7,height:11,color:"var(--color-primary-themed)",style:{marginLeft:"3px"}})))),h("div",{className:"landing-section landing-categories"},h("div",{className:"only-mobile"},h("div",{className:"mobile-toggle"},h(dn,{categories:t,categoryId:i,ranking:D,onCategoryClicked:H}))),h(Vt,{hasFeatured:ve&&ve.length>0,hasUnderrated:xe&&xe.length>0,hasTastemakers:Le&&Le.length>0,categories:t,categoryId:i,loadingCategoryId:u,onCategoryClicked:H,ranking:D,loadingRanking:k}))),qe&&i==="featured"&&!(Je!=null&&Je.has_linked_twitter)?h(TwitterBanner,null):null))}}const ur=null,tr="balance-text",Sn=100,fr=10,rr=4;function wr(n){no(n)&&(n.style.maxWidth="",Cr(n,n.clientHeight,0,n.clientWidth)),n.classList.add("visible")}function Cr(n,t,r,i){if(i-r<rr){n.clientHeight>t?n.style.maxWidth=`${i}px`:n.style.maxWidth=`${n.scrollWidth+1}px`;return}if(r>=i){n.style.maxWidth=`${i}px`;return}const u=(r+i)/2;n.style.maxWidth=`${u}px`,n.clientHeight>t?Cr(n,t,u,i):Cr(n,t,r,u)}function no(n){var t;const r=n.innerHTML,i=n.textContent.split(" "),u=document.createElement("span");u.id="element-first-word",u.textContent=i.shift(),n.innerHTML="",n.appendChild(u),n.appendChild(document.createTextNode(` ${i.join(" ")}`));const D=((t=document.getElementById("element-first-word"))==null?void 0:t.offsetHeight)||u.offsetHeight,k=n.offsetHeight;return n.innerHTML=r,k-fr>D}class po extends e.Component{constructor(t,r){super(t,r),this.debouncedRebalance=(0,b.debounce)(()=>this.rebalance(),Sn)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(t){return t.children!==this.props.children}rebalance(){typeof window!="undefined"&&this.base&&wr(this.base)}render({text:t}){return(0,e.h)("span",{className:tr,style:{display:"inline-block"}},t)}}var kr=It(17685);const Uo=({allowAllDay:n,redirect:t,onCancel:r})=>{const[i,u]=(0,o.eJ)(!1);return(0,e.h)(Nr.ZP,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=t||"/",autoLock:!0},(0,e.h)(Ne.tu,{gap:8},(0,e.h)(q.xv.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),(0,e.h)(q.xv.H2,null,"Support Mode"),(0,e.h)(q.xv.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),n&&(0,e.h)("label",null,(0,e.h)(Ne.gq,{gap:8},(0,e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:D=>u(D.target.checked)})," ",(0,e.h)(q.xv.B3,null,"Allow access for the day because I'm doing Customer Support"))),i&&(0,e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),(0,e.h)("input",{type:"hidden",name:"minutes",value:i?10*60:30}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(Ne.gq,{gap:8,paddingTop:8},(0,e.h)(kr.zx,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),r&&(0,e.h)(kr.zx,{priority:"secondary",onClick:r},"Cancel"))))};var To=It(60074),Oi=It(11851),Ji=Object.defineProperty,yi=Object.defineProperties,ko=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,Zt=(n,t,r)=>t in n?Ji(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ln=(n,t)=>{for(var r in t||(t={}))ot.call(t,r)&&Zt(n,r,t[r]);if(tt)for(var r of tt(t))wt.call(t,r)&&Zt(n,r,t[r]);return n},mn=(n,t)=>yi(n,ko(t));const Dn=n=>(0,e.h)(N.l,mn(ln({},n),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),(0,e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function Fn({text:n,maxLines:t,ellipsesText:r="..."}){const i=(0,o.sO)(null),[u,D]=(0,o.eJ)(n);return(0,o.d4)(()=>{(()=>{if(!i.current)return;i.current.innerText="-";const U=(i.current.clientHeight+1)*t+1;let ee=0,ve=0,xe=n.length;for(;ee<=xe;){if(ve=Math.floor((ee+xe)/2),i.current.innerText=n.slice(0,ve),ve===n.length&&i.current.clientHeight<=U){i.current.innerText="",D(n);return}i.current.clientHeight<=U?ee=ve+1:xe=ve-1}const Le=n.slice(0,ve-r.length-2);i.current.innerText="",D(Le+r)})()},[i,n,t,r]),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)("div",null,u),(0,e.h)("div",{ref:i,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var or=It(96789),jn=It(31471),jr=Object.defineProperty,Wr=Object.defineProperties,Tr=Object.getOwnPropertyDescriptors,Ir=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,vr=Object.prototype.propertyIsEnumerable,sr=(n,t,r)=>t in n?jr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ce=(n,t)=>{for(var r in t||(t={}))gr.call(t,r)&&sr(n,r,t[r]);if(Ir)for(var r of Ir(t))vr.call(t,r)&&sr(n,r,t[r]);return n},it=(n,t)=>Wr(n,Tr(t)),L=(n,t,r)=>(sr(n,typeof t!="symbol"?t+"":t,r),r),F=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const $="intro_popup_last_hidden_at";class se extends e.Component{constructor(t,r){super(t,r)}componentDidMount(){this.shouldShow()?(typeof window!="undefined"&&((0,b.addClass)(document.documentElement,"has-intro-popup"),xt(this.props.publication,this.props.user,this.props.coupon,{required:!0},t=>this.setState({coupon:t}))),this.show()):(this.props.onHide&&this.props.onHide(),(0,G.a)({hide_intro_popup:!0}))}componentWillUnmount(){typeof window!="undefined"&&(0,b.removeClass)(document.documentElement,"has-intro-popup"),this.hide(!0)}shouldShow(){const{freeSignup:t,user:r,post:i,hidden:u,alwaysShow:D,showOnMount:k}=this.props;return D?!0:u?!1:k||this.state.signedUp?!0:!(this.isMarkedAsHidden()||!(i===null||i&&!(0,Re.isPaidAudience)(i.audience))||t||r&&(r.is_free_subscribed||r.is_subscribed))}isShowing(){return typeof window!="undefined"&&(0,b.hasClass)(document.documentElement,"show-intro-popup")}show(){this.shouldShow()&&typeof window!="undefined"&&((0,b.addClass)(document.documentElement,"show-intro-popup"),(0,M.j)(M.FP.COVER_PAGE_SHOWN,{has_cover_photo:!!this.props.publication.cover_photo_url,has_free_signup_email:!!this.props.freeSignupEmail,has_free_signup:!!this.props.freeSignup}),this.props.alwaysShow||(0,M.XY)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`}))}hide(t){t||(this.markAsHidden(),setTimeout(()=>{(0,G.a)({hide_intro_popup:!0})},500)),this.props.onHide&&this.props.onHide(),!this.props.alwaysShow&&this.isShowing()&&(0,b.removeClass)(document.documentElement,"show-intro-popup")}isMarkedAsHidden(){const t=Ie.get($);if(t){const r=new Date(t),i=new Date(Date.now()-24*60*60*1e3);if(r>i)return!0}return!1}markAsHidden(){Ie.set($,new Date().toJSON(),{expires:365*10})}onFreeSignup(t){return F(this,null,function*(){(0,M.j)(M.FP.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!t.body.prompt_to_login,has_plans:!!this.props.publication.plans}),this.markAsHidden(),yield new Promise(i=>this.setState({signedUp:!0},i)),(0,G.a)({freeSignup:!0,freeSignupEmail:t.body.email});const r=this.props.alwaysShow?"/":document.location.href;t.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,v.pathWithQuery)("/account/login",{redirect:r,email:t.body.email})},30):document.location.href=(0,v.pathWithQuery)("/subscribe",it(Ce({next:r,later:!0,just_signed_up:!0},t.body.subscription_id&&{subscription_id:t.body.subscription_id}),{coupon:this.props.coupon,requires_confirmation:t.body.requires_confirmation?"true":"",utm_source:"cover_page",email:t.body.email,skip_redirect_check:!0}))})}onMaybeLater(){(0,M.j)(M.FP.COVER_PAGE_MAYBE_LATER_CLICKED),this.hide()}onBecomePaying(){(0,M.j)(M.FP.COVER_PAGE_BECOME_PAYING_CLICKED),setTimeout(()=>{document.location.href="/subscribe"},30)}onLearnMore(){(0,M.j)(M.FP.COVER_PAGE_LEARN_MORE_CLICKED),setTimeout(()=>{document.location.href=(0,v.getAboutUrl)(this.props.publication)},30)}render({email:t,user:r,freeSignup:i,freeSignupEmail:u,publication:D,referralCode:k,blurbs:H,noBalance:U,isAudio:ee},{coupon:ve}){if(!this.shouldShow())return;const xe=(0,e.h)(Ae,{source:"cover_page",email:t,pub:D,user:r,freeSignup:i,freeSignupEmail:u,referralCode:k,forceSignup:(0,v.getQueryItem)("force"),coupon:ve,onMaybeLater:()=>this.onMaybeLater(),onFreeSignup:Le=>this.onFreeSignup(Le),markAsHidden:this.markAsHidden,blurbs:H,noBalance:U,isAudio:ee});return(0,e.h)("div",{className:"intro-popup default-intro-popup"},(0,e.h)("div",{className:"intro-popup-page intro-popup-page-0"},xe))}}L(se,"contextType",Ke.kx);const Ee=n=>h("div",{className:"intro-inline"},h(Ae,Ce({},n)));class Ae extends e.Component{constructor(t,r){super(t,r);const i=(0,v.getQueryItem)("referralCode"),u=(0,v.getQueryItem)("refSource"),D="Learn More",k=(0,v.getAboutUrl)(this.props.pub,{params:Ce(Ce({utm_source:"subscribe_email",utm_content:"learn_more"},i&&{referralCode:i}),u&&{refSource:u})});this.state={dismissalText:D,dismissalUrl:k,welcomePageOptOutText:this.context.getSettingFor("welcome_page_opt_out_text")}}componentDidMount(){this.props.source==="subscribe_page"&&(0,M.j)(M.FP.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN),(0,M.j)(M.FP.FULL_EMAIL_FORM_SHOWN,{source:this.props.source})}onAuthorClicked(){(0,M.j)(M.FP.COVER_PAGE_AUTHOR_CLICKED),setTimeout(()=>{document.location.href=(0,v.getAboutUrl)(this.props.pub)},30)}render({email:t,pub:r,user:i,freeSignup:u,freeSignupEmail:D,referralCode:k,source:H,coupon:U,forceSignup:ee,submitButtonText:ve,onMaybeLater:xe,onFreeSignup:Le,noBalance:ze,markAsHidden:qe,blurbs:Je},{dismissalText:st,dismissalUrl:Ct,welcomePageOptOutText:bt}){const Dt=Je?Je.filter(Ut=>Ut.description!=""):[];return(0,e.h)("div",{className:"full-email-form"},(0,e.h)("div",{className:"vertically-centered"},xe&&!r.invite_only&&(0,e.h)("button",{className:"button close-welcome-modal",onClick:xe,"aria-label":"Close","data-testid":"close-welcome-modal"},(0,e.h)(x.Z,null)),(0,e.h)(rt,{pub:r,noBalance:ze,verbose:!0}),U&&U.required&&(0,e.h)("p",{className:`coupon ${U.loading?"loading":""} ${U.error?"error":""}`},U.loading?"Loading coupon":U.error?"Invalid coupon!":"Valid coupon!",` ${(U.name||U.id).toUpperCase()}`),r.invite_only&&(!i||!i.is_free_subscribed)?(0,e.h)(Ze,{pub:r,user:i,freeSignupEmail:D}):[(0,e.h)(To.Z,{source:H,email:t,user:i,pub:r,freeSignup:u,freeSignupEmail:D,referralCode:k,onConfirmationRequired:r.payments_state==="enabled"?()=>null:void 0,onSuccess:Le||(()=>document.location.href="/"),onMaybeLater:xe,showArchives:!1,submitButtonText:ve,hideTerms:!0,hideLogin:!0,contentLinks:!1,markWelcomePageAsHidden:qe}),!ee&&(xe?(0,e.h)("a",{onClick:Ut=>Ut.preventDefault(),className:"no-styles"},(0,e.h)(be.Z,{className:"maybe-later",onClick:xe},bt==="No thanks"?I`No thanks`:bt,(0,e.h)(Dn,null))):(0,e.h)(be.Z,{className:"maybe-later",href:Ct},st,(0,e.h)(Dn,null)))],(0,e.h)(z,{publication:r}),!!(Dt!=null&&Dt.length)&&(0,e.h)("div",{className:"blurb-buffer"}),!!(Dt!=null&&Dt.length)&&(0,e.h)(Ne.gq,{className:"blurbs",gap:20},Dt.map(Ut=>(0,e.h)(Ne.tu,{gap:8,className:"blurb"},(0,e.h)(q.xv.B4,{className:"blurb-text"},(0,e.h)(Fn,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${Ut.description}\u201D`})),(0,e.h)(q.xv.B4,{weight:"semibold",className:"blurb-text"},Ut.author_name||Ut.recommendingPublication.email_from_name||Ut.recommendingPublication.copyright,", ",(0,e.h)("a",{href:(0,v.getBaseUrl)(Ut.recommendingPublication)},Ut.recommendingPublication.name)))))))}}L(Ae,"contextType",ut.vz);class Ze extends e.Component{constructor(){super(...arguments),L(this,"canTurnOnCustomerSupportMode",()=>{const t=this.props.user;return(t==null?void 0:t.is_global_admin)&&!(t!=null&&t.is_admin)}),L(this,"showCustomerSupportModeModal",()=>{var t;this.canTurnOnCustomerSupportMode()&&((t=this.customerSupportModeModal)==null||t.open())})}componentDidMount(){const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&(this.emailInput.value=t)}renderCustomerSupportModeModal(){if(this.canTurnOnCustomerSupportMode())return(0,e.h)(or.p,{className:"account-info-customer-support-mode-modal",ref:t=>this.customerSupportModeModal=t},(0,e.h)(Uo,{redirect:(0,v.getQueryItem)("redirect")||"/publish/home",onCancel:t=>this.customerSupportModeModal.close(t)}))}render({pub:t,user:r,freeSignupEmail:i},{loading:u,success:D}){const k=i||r&&r.email;return(0,e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),(0,e.h)(Nr.ZP,{className:"subscription-request-form",ref:H=>this.form=H,noInlineErrors:!0,action:(0,v.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,v.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:H=>{this.setState({loading:!1}),alert((0,b.getNetworkErrorMessage)(H,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:s.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:s.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:s.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:s.xU}),!!k&&(0,b.inputPrefillHack)(),(0,e.h)(Ne.tu,{alignItems:"center"},(0,e.h)("input",{type:"email",name:"email",ref:H=>this.emailInput=H,readOnly:!!(k||u),disabled:!!(u||D||k),autoFocus:!k&&!(0,b.isMobileBrowser)(),placeholder:I`Type your email…`}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(be.Z,{className:f()(D?"secondary":"primary"),type:"submit",disabled:!!(u||D),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},D?"Requested":"Subscribe")))),(0,e.h)(Ne.tu,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},(0,e.h)(Oi.Z,{className:"private-lock-icon"}),(0,e.h)(Ne.tu,{gap:2},(0,e.h)(q.xv.B4,{weight:"semibold",className:"private-header"},"This Substack is private"),(0,e.h)(q.xv.B4,{className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&(0,e.h)("p",null,(0,e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},(0,e.h)("b",null,"Support mode"))),(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:t.subdomain,redirect:"/",change_user:!!(r||i)}),native:!0},"Already a member? ",(0,e.h)("b",null,r||i?"Switch accounts":"Sign in")))}}L(Ze,"state",{loading:!1,success:!1});const rt=({pub:n,noBalance:t,verbose:r})=>{const{getSettingFor:i}=(0,ut.So)(),u=i("display_welcome_page_details");return n.cover_photo_url?[(0,e.h)(jn.e,{className:"publication-cover-photo",src:n.cover_photo_url,imageProps:{quality:"auto:best"},maxWidth:1360,alt:n.name,loading:"eager"}),!n.hide_intro_title&&(0,e.h)("h1",{className:`publication-name with-cover${n.logo_url?"":" no-logo"}`},(0,e.h)(dt,{pub:n,noBalance:t})),!n.hide_intro_subtitle&&(n.hero_text||!r)&&(0,e.h)("p",{className:f()("publication-tagline with-cover",{verbose:r})},!!n.hero_text&&(t?n.hero_text:(0,e.h)(po,{text:n.hero_text}))),r&&(0,e.h)("div",{className:"publication-meta"},Ft(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:u}))].filter(D=>D):[n.logo_url&&(0,e.h)(jn.e,{className:"publication-logo",src:n.logo_url,imageProps:{quality:"auto:best"},maxWidth:264,alt:`${n.name} Logo`,loading:"eager"}),(0,e.h)("h1",{className:`publication-name${n.logo_url?"":" no-logo"}`},(0,e.h)(dt,{pub:n,noBalance:t})),(n.hero_text||!r)&&(0,e.h)("p",{className:f()("publication-tagline",{verbose:r})},!!n.hero_text&&(t?n.hero_text:(0,e.h)(po,{text:n.hero_text}))),r&&(0,e.h)("div",{className:"publication-meta"},Ft(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:u}))].filter(D=>D)},dt=({pub:n,noBalance:t})=>t?n.name:(0,e.h)(po,{text:n.name});function Lt(n,t){for(const[r,i]of Object.entries(t))i!=null&&(n[r]=i);return n}function Kt(n){var t,r,i;return n.link_title||((t=n.postTag)==null?void 0:t.name)||((r=n.section)==null?void 0:r.name)||((i=n.post)==null?void 0:i.title)||""}function wn(n){var t;return n.postTag?"tag":n.section?"section":((t=n.post)==null?void 0:t.type)==="page"?"page":n.post?"post":"link"}function Tn(n,{isPodcastActive:t,isChatActive:r,isMeetingsActive:i,hasMultipleNewsletters:u,isChatEnabled:D,isFeedEnabled:k,isReaderReferralsLeaderboardActive:H}){var U;const ee=n.filter(Le=>!Le.standard_key),ve=new Map(n.filter(Le=>Le.standard_key).map(Le=>[Le.standard_key,Le]));for(const Le of ee)(U=Le.section)!=null&&U.hide_from_navbar&&(Le.is_hidden=!0);const xe=[k&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},D&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!r},i&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...ee,{standard_key:"archive",link_title:"Archive",link_url:"/archive"},u&&{standard_key:"newsletters",link_title:"Newsletters",link_url:"/newsletters",is_hidden:!0},H&&{standard_key:"leaderboard",link_title:"Leaderboard",link_url:"/leaderboard"},{standard_key:"about",link_title:"About",link_url:"/about"}].filter(Le=>!!Le);for(const Le of xe)if(Le.standard_key){const ze=ve.get(Le.standard_key);ze&&Lt(Le,ze)}return xe}var jt=It(98661),Kn=It(63270),Rr=Object.defineProperty,Jr=Object.defineProperties,go=Object.getOwnPropertyDescriptors,Zo=Object.getOwnPropertySymbols,ii=Object.prototype.hasOwnProperty,ui=Object.prototype.propertyIsEnumerable,Fo=(n,t,r)=>t in n?Rr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,fi=(n,t)=>{for(var r in t||(t={}))ii.call(t,r)&&Fo(n,r,t[r]);if(Zo)for(var r of Zo(t))ui.call(t,r)&&Fo(n,r,t[r]);return n},Xi=(n,t)=>Jr(n,go(t)),zr;const Mi=typeof window!="undefined"&&window._preloads||Ke.xu,Ui=typeof window!="undefined"?(zr=window._preloads)==null?void 0:zr.siteConfigs:{},da=(n,t)=>fi(fi({},(0,Ke.ng)(n,t)),(0,Kn.Xz)(n)),va=(0,e.createContext)(da(Ui,Mi));va.displayName="ExperimentsAndSiteConfigContext";function ns({siteConfigs:n={},experimentInfo:t,children:r}){const i=t||Mi,u=(0,o.Ye)(()=>da(n,i),[n,i]);return(0,e.h)(va.Provider,{value:u},r)}function Ss(){return useContext(va)}const ol=n=>{const t=forwardRef((r,i)=>{const u=Ss();return h(n,Xi(fi(fi({},u),r),{ref:i}))});return t.displayName=`withExperimentsAndSiteConfigContext(${n.displayName||n.name||"Anonymous"})`,t};var Ai=It(44396),Ni=It(19826),Eo=It(87021);const rs=(0,Eo.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),fa=(0,Eo.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),ya=(0,Eo.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var is=Object.defineProperty,Sa=Object.defineProperties,as=Object.getOwnPropertyDescriptors,ss=Object.getOwnPropertySymbols,Ts=Object.prototype.hasOwnProperty,Is=Object.prototype.propertyIsEnumerable,ls=(n,t,r)=>t in n?is(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qc=(n,t)=>{for(var r in t||(t={}))Ts.call(t,r)&&ls(n,r,t[r]);if(ss)for(var r of ss(t))Is.call(t,r)&&ls(n,r,t[r]);return n},qc=(n,t)=>Sa(n,as(t));const ed=n=>(0,e.h)(N.l,qc(Qc({},n),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));var td=Object.defineProperty,kn=Object.defineProperties,Mr=Object.getOwnPropertyDescriptors,Gr=Object.getOwnPropertySymbols,Io=Object.prototype.hasOwnProperty,ho=Object.prototype.propertyIsEnumerable,pi=(n,t,r)=>t in n?td(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Fi=(n,t)=>{for(var r in t||(t={}))Io.call(t,r)&&pi(n,r,t[r]);if(Gr)for(var r of Gr(t))ho.call(t,r)&&pi(n,r,t[r]);return n},Fa=(n,t)=>kn(n,Mr(t));const Ta=n=>(0,e.h)(N.l,Fa(Fi({},n),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),(0,e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));var il=Object.defineProperty,xs=Object.defineProperties,ja=Object.getOwnPropertyDescriptors,lu=Object.getOwnPropertySymbols,al=Object.prototype.hasOwnProperty,Ds=Object.prototype.propertyIsEnumerable,Op=(n,t,r)=>t in n?il(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zP=(n,t)=>{for(var r in t||(t={}))al.call(t,r)&&Op(n,r,t[r]);if(lu)for(var r of lu(t))Ds.call(t,r)&&Op(n,r,t[r]);return n},GP=(n,t)=>xs(n,ja(t));const ZP=n=>(0,e.h)(N.l,GP(zP({},n),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));var YP=Object.defineProperty,JP=Object.defineProperties,XP=Object.getOwnPropertyDescriptors,Sp=Object.getOwnPropertySymbols,QP=Object.prototype.hasOwnProperty,qP=Object.prototype.propertyIsEnumerable,Tp=(n,t,r)=>t in n?YP(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,eE=(n,t)=>{for(var r in t||(t={}))QP.call(t,r)&&Tp(n,r,t[r]);if(Sp)for(var r of Sp(t))qP.call(t,r)&&Tp(n,r,t[r]);return n},tE=(n,t)=>JP(n,XP(t));const nE=n=>(0,e.h)(N.l,tE(eE({},n),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"}));var rE=Object.defineProperty,oE=Object.defineProperties,iE=Object.getOwnPropertyDescriptors,Ip=Object.getOwnPropertySymbols,aE=Object.prototype.hasOwnProperty,sE=Object.prototype.propertyIsEnumerable,xp=(n,t,r)=>t in n?rE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,lE=(n,t)=>{for(var r in t||(t={}))aE.call(t,r)&&xp(n,r,t[r]);if(Ip)for(var r of Ip(t))sE.call(t,r)&&xp(n,r,t[r]);return n},uE=(n,t)=>oE(n,iE(t));const cE=n=>(0,e.h)(N.l,uE(lE({},n),{name:"LucideTabNotes",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M9.82746 10.2663H17.2941M10.2039 14.533H14.4706M6 19.1L2.42832 18.1872C1.53922 17.949 1.0116 17.0351 1.24983 16.146L4.52816 3.91113C4.76639 3.02202 5.68029 2.49438 6.5694 2.73262L19 6M6.00001 7.66666V20.3331C6.00001 21.2536 6.74619 21.9998 7.66665 21.9998L20.3333 22C21.2538 22 22 21.2538 22 20.3333V7.66666C22 6.74619 21.2538 5.99999 20.3333 5.99999H7.66667C6.7462 5.99999 6.00001 6.74619 6.00001 7.66666Z","stroke-linecap":"round","stroke-linejoin":"round"})),Dp=(0,e.createContext)(!1);var uu=It(85065);function dE(n,t){if(n){if(!n.has_publication&&!n.subdomain)return{type:"no-dashboard",url:(0,v.getStartPublishingUrl)(t)};if(n.subdomain)return{type:"dashboard",url:(0,v.getDashboardUrlForSubdomain)(n.subdomain,{params:t})}}return null}function fE(n,t){return n!=null&&n.profile_set_up_at?(0,v.getReaderProfileUrl)(n,t):(0,v.getProfileSetupUrl)(t)}var qt=It(66399),Mp=It(47585);const rd={badge:"frontend-components-NavBadge-module__badge--afZUN",dotContainer:"frontend-components-NavBadge-module__dotContainer--_daQd",dot:"frontend-components-NavBadge-module__dot--CFI7y",responsive:"frontend-components-NavBadge-module__responsive--DecFZ",binary:"frontend-components-NavBadge-module__binary--nccbG"};function pE({className:n,responsive:t,count:r}){return(0,e.h)(Ne.hs,{alignItems:"center",justifyContent:"center",radius:12,className:f()(rd.badge,t&&rd.responsive,!r&&rd.binary,n)},r&&(0,e.h)(q.xv.Digit,{color:"bg-light"},r<100?r:"99+"))}var cu=It(74285);const Qi="user-menu",hE=`https://support.substack.com/hc/en-us/?utm_source=${Qi}`,du=40;function mE({className:n,user:t,pub:r,enableCustomerServiceMode:i,disableCustomerServiceMode:u,freeSignup:D,fixedTooltip:k,showBadge:H=!0}){const[U,ee]=(0,Ni.EJ)(),{activityUnreadCount:ve}=(0,uu.lR)(),xe=(0,o.qp)(Dp);let Le="",ze="";t&&(Le=t!=null&&t.profile_set_up_at&&t.name?t.name:t.email,ze=t!=null&&t.profile_set_up_at?t.name?t.email:null:"Set up your profile");const qe=({active:Ut})=>{(0,M.j)(Ut?M.FP.USER_MENU_OPENED:M.FP.USER_MENU_DISMISSED)},Je=t?dE(t,{utm_source:Qi}):null,st=r&&(D||t&&(t.is_subscribed||t.is_free_subscribed)),Ct=fE(t,{utm_source:Qi}),bt=!1,Dt=(0,Ai.XA)()&&!xe;return(0,e.h)(e.Fragment,null,t?(0,e.h)(be.Z,{className:f()(n,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":xe}),onClick:ee},Dt&&H&&ve>0&&(0,e.h)(Mp.in,{className:f()("user-indicator-badge",ve<10&&"user-indicator-badge-circle")},(0,e.h)(qt.hs,{alignItems:"center",justifyContent:"center"},ve<100?ve:"99+")),(0,e.h)(rs,{className:f()("user-indicator-icon",{"force-desktop":xe}),size:20,strokeWidth:2}),(0,e.h)("img",{className:f()("menu-trigger-image",{"force-desktop":xe}),src:(0,v.imginary)((0,v.getUserPhotoUrl)(t),2*du,{height:2*du,crop:"fill"})}),(0,e.h)(cu.h,null,(0,e.h)("div",{className:"user-indicator-dropdown-menu"},(0,e.h)(Ni.ZP,{className:f()({"fixed-tooltip":k}),ref:U,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:qe},(0,e.h)("div",{className:"menu-scroll-container"},(0,e.h)("a",{href:Ct,className:"profile-header",onClick:()=>(0,M.j)(M.FP.USER_MENU_PROFILE_CLICKED)},(0,e.h)("img",{className:"header-user-image",src:(0,v.imginary)((0,v.getUserPhotoUrl)(t),2*du,{height:2*du,crop:"fill"})}),(0,e.h)("div",{className:"labels"},(0,e.h)("div",{className:"h1"},Le),ze&&(0,e.h)("div",{className:"h2"},ze))),(0,e.h)("hr",null),t&&(0,e.h)(e.Fragment,null,(0,e.h)(ji,{url:(0,v.getBaseReaderUrl)({utm_source:Qi}),analyticsEvent:M.FP.USER_MENU_READER_CLICKED},(0,e.h)(Ms,{Icon:nE})," Inbox"),(0,e.h)(ji,{url:(0,v.getFeedUrl)({utm_source:Qi}),analyticsEvent:M.FP.USER_MENU_FEED_CLICKED},(0,e.h)(Ms,{Icon:cE})," Notes"),(0,e.h)(ji,{url:(0,v.getDiscoverCategoryUrl)(),analyticsEvent:M.FP.USER_MENU_DISCOVER_CLICKED},(0,e.h)(Ms,{Icon:ZP})," Explore"),(0,e.h)(ji,{url:(0,v.getChatUrl)(),analyticsEvent:M.FP.USER_MENU_CHAT_CLICKED},(0,e.h)(Ms,{Icon:Ta})," Chat"),(0,e.h)(ji,{url:(0,v.getNotificationsUrl)({utm_source:Qi}),analyticsEvent:M.FP.USER_MENU_ACTIVITY_CLICKED},(0,e.h)(Ms,{Icon:ed})," Activity",ve>0?(0,e.h)(pE,{className:"indicator-badge",count:ve}):null),(0,e.h)(ji,{url:Je.url},(0,e.h)(Ms,{Icon:Je.type==="no-dashboard"?fa:ya,className:"start-writing-icon"})," ",Je.type==="no-dashboard"?"Start writing":"Writer dashboard")),(0,e.h)("hr",null),st&&(0,e.h)(ji,{className:"secondary-item",url:(0,v.pathWithQuery)("/account",{utm_source:Qi}),analyticsEvent:M.FP.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},"Manage subscription"),(0,e.h)(ji,{className:"secondary-item",url:(0,v.getGlobalAccountSettingsUrl)({utm_source:Qi}),analyticsEvent:M.FP.USER_MENU_ACCOUNT_SETTINGS_CLICKED},"Settings"),(0,e.h)(ji,{className:"secondary-item",url:hE},"Support"),(0,e.h)(ji,{className:"secondary-item",url:(0,v.getSignoutUrl)({utm_source:Qi,for_pub:r==null?void 0:r.subdomain})},"Sign out"),i&&(0,e.h)(ji,{className:"secondary-item",onClick:()=>{var Ut;(Ut=U.current)==null||Ut.close(),i()}},"Enter support mode"),u&&(0,e.h)(ji,{className:"secondary-item",onClick:u},"Exit support mode"),r&&(t==null?void 0:t.is_global_admin)&&(0,e.h)(ji,{className:"secondary-item",url:`${(0,v.getBaseUrl)({subdomain:"admin"})}/publications/${r.id}`},"Open in underground"),!(t!=null&&t.reader_installed_at)&&(0,e.h)(e.Fragment,null,(0,e.h)("hr",null),(0,e.h)(ji,{className:"special-item",url:(0,v.getAppMarketingUrl)({utm_campaign:"app-marketing",utm_content:"user-menu-link"})},"Get the app ",(0,e.h)(le.Z,{className:"item-badge branded",color:R.substack_color}))),(0,e.h)("hr",null),(0,e.h)("div",{className:"terms-footer"},(0,e.h)("a",{href:(0,v.getHomeUrl)({utm_source:Qi})},"About"),(0,e.h)("a",{href:(0,v.getPrivacyUrl)({pub:r,utm_source:Qi})},"Privacy"),(0,e.h)("a",{href:(0,v.getTermsUrl)({utm_source:Qi})},"Terms"),(0,e.h)("a",{href:(0,v.getInfoCollectionUrl)({utm_source:Qi})},"Collection notice"))))))):(0,e.h)(be.Z,{href:(0,v.getSigninUrl)({for_pub:r==null?void 0:r.subdomain}),native:"true",className:f()("sign-in-link outline-grayscale",{"rounded-btn":bt,"force-desktop":xe})},I`Sign in`))}function ji({className:n,url:t,analyticsEvent:r,onClick:i,children:u}){return(0,e.h)("a",{className:`indicator-menu-item ${n}`,onClick:D=>{r&&(0,M.j)(r),i&&i(D)},href:t,native:!0},u)}const _E=20;function Ms({Icon:n,className:t}){return(0,e.h)(n,{className:f()(t,"indicator-item-icon"),height:_E,stroke:"var(--color-primary)",strokeWidth:2})}var gE=Object.defineProperty,vE=Object.defineProperties,yE=Object.getOwnPropertyDescriptors,fu=Object.getOwnPropertySymbols,Ap=Object.prototype.hasOwnProperty,Np=Object.prototype.propertyIsEnumerable,Rp=(n,t,r)=>t in n?gE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Lp=(n,t)=>{for(var r in t||(t={}))Ap.call(t,r)&&Rp(n,r,t[r]);if(fu)for(var r of fu(t))Np.call(t,r)&&Rp(n,r,t[r]);return n},bE=(n,t)=>vE(n,yE(t)),PE=(n,t)=>{var r={};for(var i in n)Ap.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&fu)for(var i of fu(n))t.indexOf(i)<0&&Np.call(n,i)&&(r[i]=n[i]);return r};const pu=(0,e.createContext)({language:"en",country:"US"});pu.displayName="LocaleContext";function EE(){return useContext(pu)}function wE(n){var t=n,{children:r}=t,i=PE(t,["children"]);const u=(0,o.Ye)(()=>i,Object.values(i));return(0,e.h)(pu.Provider,{value:u},r)}function bW(n){const t=forwardRef((r,i)=>{const u=EE();return h(n,bE(Lp(Lp({},u),r),{ref:i}))});return t.displayName=`withLocaleContext(${n.displayName||n.name||"Anonymous"})`,t}const CE=(0,Eo.Z)("Bell",[["path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",key:"oql5b8"}],["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}]]);var wo=It(76235),sl=It(11688),OE=It(34875),SE=It(27484),As=It.n(SE),us=It(67963);const cs={alert:"frontend-reader2-NotificationsAlert-module__alert--pio6x",close:"frontend-reader2-NotificationsAlert-module__close--ca0Tb",transition:"frontend-reader2-NotificationsAlert-module__transition--YdW2_",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--xNnVz",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--teWcO",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--U2sE5",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--l0D4x"},TE=n=>{const t=["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"];(0,M.j)(M.FP.NOTIFICATIONS_ALERT_SHOWN,t.reduce((r,i)=>(r[i]=n==null?void 0:n[i],r),{}))};function IE(){var n;const{activityUnreadCount:t}=(0,uu.lR)(),{exposeExperiment:r,getExperimentVariant:i}=(0,Ke.jc)(),{isLoading:u,result:D,refetch:k}=(0,_o.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,o.d4)(()=>{t>0&&k()},[t]);const[H,U]=(0,o.eJ)(!1),[ee,ve]=(0,o.eJ)(!1),{isLoading:xe,fetch:Le,result:ze}=(0,sl.Oe)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([It.e(783),It.e(630)]).then(It.bind(It,58630)),fetchImmediately:!1}),qe=As()(),{userSettings:Je,changeSetting:st}=(0,us.SE)(),Ct=(n=D==null?void 0:D.activityItems)==null?void 0:n[0],bt=Ct!=null&&Ct.created_at?As()(Ct==null?void 0:Ct.created_at):qe.subtract(100,"year"),Dt=Je!=null&&Je.last_notification_alert_shown_at?As()(Je.last_notification_alert_shown_at):qe.subtract(100,"year"),Ut=qe.diff(bt,"day")<7&&bt.diff(Dt,"hour")>2,Rt=(0,o.sO)(null),Qt=2e3,pn=6e3,En=()=>{Rt.current&&window.clearTimeout(Rt.current)},_n=()=>{En(),Rt.current=window.setTimeout(()=>{U(!1)},pn)};return(0,o.d4)(()=>{Ut&&t>0&&(r("notification_alert_improved"),i("notification_alert_improved")==="treatment"&&(ze&&!H?window.setTimeout(()=>{U(!0),st("last_notification_alert_shown_at",As()().toISOString()),TE(Ct),_n()},Qt):!ze&&!xe&&Le()))},[u,D,t,xe,Ut,H,U]),(0,e.h)(e.Fragment,null,(H||ee)&&(0,e.h)(OE.u,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:H,beforeEnter:()=>ve(!0),afterLeave:()=>ve(!1),enter:cs.transition,enterFrom:cs.enterFrom,enterTo:cs.enterTo,leave:cs.transition,leaveFrom:cs.leaveFrom,leaveTo:cs.leaveTo},(0,e.h)(Ne.hs,{radius:12,border:"detail",className:cs.alert,onMouseEnter:En,onMouseLeave:_n,shadow:"lg",bg:"elevated"},(0,e.h)(sl.cr,{module:"./MiniNotificationsViewer",resolve:fn=>fn.MiniNotificationsStack,onRequest:()=>Promise.all([It.e(783),It.e(630)]).then(It.bind(It,58630)),result:D,isReadOnly:!0}))))}var od=It(95042);function xE({fill:n="outline",canShowAlerts:t=!1}){const r=(0,uu.lR)(),i=(0,Kn.xR)(),u=(0,_o.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1});return(0,o.d4)(()=>{r.activityUnreadCount>0&&(0,M.j)(M.FP.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:r.activityUnreadCount})},[r.activityUnreadCount]),(0,e.h)(e.Fragment,null,(0,e.h)(wo.v2,{trigger:(0,e.h)(kr.hU,{className:od.Z.trigger,"aria-label":"View activity",size:40,fill:n,priority:"secondary"},(0,e.h)(CE,{"aria-hidden":!0,size:20,strokeWidth:2}),r.activityUnreadCount>0&&(0,e.h)(Mp.in,{className:f()(od.Z.badge,r.activityUnreadCount<10&&od.Z.circle)},(0,e.h)(Ne.hs,{alignItems:"center",justifyContent:"center"},r.activityUnreadCount<100?r.activityUnreadCount:"99+"))),onOpen:()=>u.refetch(),maxHeight:"fit-content",padding:0},(0,e.h)(sl.cr,{module:"./MiniNotificationsViewer",resolve:D=>D.MiniNotificationsViewer,onRequest:()=>Promise.all([It.e(783),It.e(630)]).then(It.bind(It,58630)),resource:u})),t&&i.getConfigFor("show_first_notification_enabled")&&(0,e.h)(IE,null))}var DE=It(91041),ni=It(75425);const Bp={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--pfoYD"},kp=(0,Eo.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}]]);var ME=It(89581),Wa=It(33510),id=It(63295),ad=It(12650),Ko=It(53206);const bi={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--jiwxN",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--LiyjJ",marginRight:"frontend-components-SearchDropdown-module__marginRight--Tlx3l",active:"frontend-components-SearchDropdown-module__active--hNTQl",trigger:"frontend-components-SearchDropdown-module__trigger--wXpGv",searcher:"frontend-components-SearchDropdown-module__searcher--bDFD3",dropdown:"frontend-components-SearchDropdown-module__dropdown--tuM0W",result:"frontend-components-SearchDropdown-module__result--V2s6P",loading:"frontend-components-SearchDropdown-module__loading--gQSd8",empty:"frontend-components-SearchDropdown-module__empty--TO__M",more:"frontend-components-SearchDropdown-module__more--d1sdD",seeMore:"frontend-components-SearchDropdown-module__seeMore--MOD9q",photo:"frontend-components-SearchDropdown-module__photo--uWFMi",metadata:"frontend-components-SearchDropdown-module__metadata--HrJ45",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--TfT7R"};var AE=Object.defineProperty,NE=Object.defineProperties,RE=Object.getOwnPropertyDescriptors,Up=Object.getOwnPropertySymbols,LE=Object.prototype.hasOwnProperty,BE=Object.prototype.propertyIsEnumerable,Fp=(n,t,r)=>t in n?AE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,jp=(n,t)=>{for(var r in t||(t={}))LE.call(t,r)&&Fp(n,r,t[r]);if(Up)for(var r of Up(t))BE.call(t,r)&&Fp(n,r,t[r]);return n},Wp=(n,t)=>NE(n,RE(t));const Hp=({pub:n,isSignedIn:t})=>{var r;const[i,u]=(0,o.eJ)(!1),[D,k]=(0,o.eJ)(""),{getConfigFor:H}=(0,Kn.xR)(),U=!!((r=H("platform_searcher_enabled"))!=null&&r),{result:ee,refetch:ve,error:xe,isLoading:Le,hasLoadedOnce:ze}=(0,_o.ib)({pathname:"/api/v1/post/search",query:{query:D,focusedPublicationId:n.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(U)},deps:[D],auto:!1}),qe=(U?ee==null?void 0:ee.focused:ee==null?void 0:ee.results)||[],Je=U?(ee==null?void 0:ee.results)||[]:[],st=(ee==null?void 0:ee.publications)||[],{triggerProps:Ct,layerProps:bt,renderLayer:Dt,isOpen:Ut,setOpen:Rt}=(0,ME.x)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}});(0,o.d4)(()=>{if(D.length){Rt(!0);const En=setTimeout(ve,300);return()=>clearTimeout(En)}Rt(!1)},[D,Rt]);const Qt=(0,o.sO)(null),pn=(0,o.I4)(En=>{if(En.key==="Enter"){if(!Ut||!D||!i)return;window.location.href=(0,v.getDiscoverSearchUrl)({query:D,params:{focusedPublicationId:n.id}})}else if(En.key==="Escape"){if(!i)return;k(""),u(!1),Rt(!1)}},[i,Ut,D]);return(0,e.h)(e.Fragment,null,(0,e.h)(Ne.gq,Wp(jp({},Ct),{className:f()(bi.searchWrapper,i&&bi.active,t?bi.marginLeft:bi.marginRight),style:{width:i?"400px":"40px"},paddingLeft:i?16:0,alignItems:"center",justifyContent:i?"space-between":"center",onClick:i?void 0:()=>{u(!i),i||(setTimeout(()=>{var En;(En=Qt.current)==null||En.focus()},10),k(""))},gap:4}),(0,e.h)(kp,{className:bi.trigger,"area-hidden":!0,size:20,strokeWidth:2}),i&&(0,e.h)("input",{ref:Qt,className:f()(bi.searcher),placeholder:"Search...",value:D,onChange:En=>{k(En.target.value)},onKeyDown:pn})),Ut&&Dt((0,e.h)(Ne.tu,Wp(jp({},bt),{radius:8,className:bi.dropdown,border:"detail-themed"}),!ze||Le&&!qe.length&&!Je.length?(0,e.h)(Ne.gq,{radius:8,paddingY:20,className:bi.loading,justifyContent:"center"},(0,e.h)(Wa.Sv,{size:40})):xe?(0,e.h)(Ne.gq,{radius:8,className:bi.error,justifyContent:"start"},(0,e.h)(q.xv.B3,{color:"pub-primary-text"},"Something went wrong.")):!qe.length&&!Je.length?(0,e.h)(Ne.gq,{radius:8,padding:20,className:bi.empty,justifyContent:"start"},(0,e.h)(q.xv.B3,{color:"pub-primary-text"},"Search for ",(0,e.h)("b",null,'"',D,'"'))):(0,e.h)(e.Fragment,null,qe.map((En,_n)=>(0,e.h)(Vp,{key:En.id,pub:n,post:En,isFirst:_n===0,isLast:!Je.length&&_n===qe.length-1,hideBottomBorder:Je.length>0})),Je.length>0&&(0,e.h)(Ne.gq,{className:bi.more,paddingX:24,paddingY:8},(0,e.h)(q.xv.B4,{weight:"semibold",color:"pub-primary-text"},qe.length?"More results from across Substack":`No results found on ${n.name}. More results from across Substack`)),Je.map((En,_n)=>{const fn=st.find(Zn=>Zn.id===En.publication_id);return fn?(0,e.h)(Vp,{key:En.id,pub:fn,post:En,isLast:_n===Je.length-1,includePublication:!0}):null}),(0,e.h)(Ne.gq,{className:bi.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=(0,v.getDiscoverSearchUrl)({query:D,params:{focusedPublicationId:n.id}})}},(0,e.h)(q.xv.B4,{color:"pub-primary-text",weight:"semibold"},"See more results..."))))))},Vp=({pub:n,post:t,includePublication:r=!1,hideBottomBorder:i=!1,isLast:u=!1,isFirst:D=!1})=>{var k;const H=(k=t.reactions["\u2764"])!=null?k:0;return(0,e.h)(Ne.gq,{paddingX:12,onClick:()=>{window.location.href=(0,v.getPostUrl)(n,t)},width:"100%"},(0,e.h)(Ne.tu,{marginHeight:4,paddingTop:D?12:8,paddingBottom:u?12:8,borderBottom:i?void 0:"detail-themed"},(0,e.h)(Ne.gq,{className:bi.result,gap:16,padding:12,radius:8},t.cover_image&&(0,e.h)("img",{src:(0,v.imginary)(t.cover_image,120,{height:80,smartCrop:!0}),alt:t.cover_image_alt||"",className:bi.photo}),(0,e.h)(Ne.tu,{gap:4,className:bi.metadata},r&&(0,e.h)(q.xv.Meta,null,n.name),(0,e.h)(q.xv.H4,{color:"pub-primary-text"},t.title),!!t.subtitle&&(0,e.h)(q.xv.B4,{color:"pub-primary-text"},t.subtitle),(0,e.h)(Ne.gq,{alignItems:"center",gap:4},(0,e.h)(q.xv.Meta,{color:"pub-secondary-text",className:f()(bi.paddingRight,"ufi-preamble-label","post-date")},(0,e.h)("time",{dateTime:dr()(t.post_date).toISOString()},(0,Ko.fh)({post:t,showDatetime:!1}))),H>0&&(0,e.h)(e.Fragment,null,(0,e.h)(ad.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(q.xv.Meta,{color:"pub-secondary-text",className:bi.paddingRight},H)),t.comment_count>0&&(0,e.h)(e.Fragment,null,(0,e.h)(id.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(q.xv.Meta,{color:"pub-secondary-text"},t.comment_count)))))))};var hu=It(96098);const kE={pubAccentTheme:"frontend-components-PubAccentTheme-module__pubAccentTheme--MukJ3"};function UE({children:n}){return(0,e.h)("div",{className:kE.pubAccentTheme},n)}var FE=Object.defineProperty,jE=Object.defineProperties,WE=Object.getOwnPropertyDescriptors,mu=Object.getOwnPropertySymbols,Kp=Object.prototype.hasOwnProperty,$p=Object.prototype.propertyIsEnumerable,zp=(n,t,r)=>t in n?FE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Gp=(n,t)=>{for(var r in t||(t={}))Kp.call(t,r)&&zp(n,r,t[r]);if(mu)for(var r of mu(t))$p.call(t,r)&&zp(n,r,t[r]);return n},Zp=(n,t)=>jE(n,WE(t)),HE=(n,t)=>{var r={};for(var i in n)Kp.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&mu)for(var i of mu(n))t.indexOf(i)<0&&$p.call(n,i)&&(r[i]=n[i]);return r},_u=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Ha=It(6378),VE=({className:n,baseRef:t,user:r,freeSignup:i,freeSignupEmail:u,pub:D,hide_subscribe_cta:k,showCustomerSupportModeModal:H,hideCta:U,hideNotifications:ee,hideUserIndicator:ve,hideSearch:xe,isPublishContext:Le,isMeetingsActive:ze,fixedTooltip:qe=!0})=>{const Je=(0,o.sO)(null),{getSettingFor:st}=(0,ut.So)(),Ct=(0,Ke.jc)(),[bt,Dt]=(0,o.eJ)(!1),[Ut,Rt]=(0,o.eJ)(!1),Qt=(0,ni.pm)(),pn=(r==null?void 0:r.is_global_admin)&&!(r!=null&&r.is_admin),En=(r==null?void 0:r.is_global_admin)&&(r==null?void 0:r.is_admin)&&!(r!=null&&r.is_author),_n=(0,o.I4)(()=>_u(void 0,null,function*(){try{yield ft().del("/api/v1/customer_support_mode"),document.location.href="/"}catch($n){alert((0,b.getNetworkErrorMessage)($n))}}),[]),fn=()=>_u(void 0,null,function*(){Dt(!0);try{yield ft().post("/api/v1/subscription/reactivate").send({}),Rt(!0),Qt.popToast($n=>(0,e.h)(ni.FN,Zp(Gp({},$n),{text:"Your subscription has been renewed!"})))}catch($n){console.error("Failed to set to renew:",$n),alert((0,b.getNetworkErrorMessage)($n))}finally{Dt(!1)}}),Zn=(0,o.I4)(()=>_u(void 0,null,function*(){var $n;($n=Je.current)==null||$n.open()}),[Je]),Gn=Le?UE:hu.h;return(0,e.h)("div",{className:f()("navbar-buttons",n),ref:t},(0,e.h)(Gn,null,(0,e.h)(Kn.QA.Consumer,null,$n=>(0,e.h)(pu.Consumer,null,yn=>(0,e.h)(e.Fragment,null,!xe&&!(0,b.isMobileBrowser)()&&!r&&(0,e.h)(Hp,{pub:D,isSignedIn:!1}),!U&&$E({pub:D,user:r,freeSignup:i,freeSignupEmail:u,hide_subscribe_cta:k,viralGiftsConfig:D.viralGiftsConfig,isPublishContext:Le,localeContext:yn,siteConfigContext:$n,isMeetingsActive:ze,getSettingFor:st,experimentApi:Ct,renewing:bt,renewed:Ut,setToRenew:fn}),!xe&&!(0,b.isMobileBrowser)()&&r&&(0,e.h)(Hp,{pub:D,isSignedIn:!0}),!ee&&r&&!(0,b.isMobileBrowser)()&&(0,e.h)(xE,{fill:"borderless",canShowAlerts:!D||Le}),!ve&&(0,e.h)(mE,{pub:D,user:r,enableCustomerServiceMode:pn?Zn:null,disableCustomerServiceMode:En?_n:null,fixedTooltip:qe}))))),pn&&(0,e.h)(cu.h,null,(0,e.h)(or.p,{className:"account-info-customer-support-mode-modal",ref:Je,openByDefault:H&&pn},(0,e.h)(Uo,{redirect:(0,v.getQueryItem)("redirect")||"/publish/home",onCancel:$n=>{var yn;return(yn=Je.current)==null?void 0:yn.close($n)}}))))},KE=({pub:n,dashboardPubs:t})=>{const r=(0,Ai.XA)(),{getConfigFor:i}=(0,Kn.xR)(),u=i("new_dashboard");return(0,e.h)(DE.a,{priority:"primary",fill:"outline",size:r?"small":"medium",menuItems:t.map(({logo_url:D,name:k,subdomain:H})=>(0,e.h)(wo.sN,{className:Bp.menuItem,href:(0,v.getDashboardUrlForSubdomain)(H,{params:{utm_source:"substack",utm_context:"dashboard_pub_switcher"}}),icon:(0,e.h)("img",{className:Bp.menuIcon,width:20,src:(0,v.imginary)(D||"/img/substack-nomargin.png",20)}),priority:n.subdomain===H?"selected":"primary"},k)),href:u?(0,ae.getDashboardHomeUrl)(n,{addBase:!0}):(0,v.getPostDashboardUrl)(n,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:"Dashboard",mobileBottomSheetSubtitle:"Select a publication"}},"Dashboard")},Yp=({dashboardPubs:n,pub:t,useNewDashLink:r})=>n.length>1?(0,e.h)(KE,{pub:t,dashboardPubs:n}):(0,e.h)(ia,{className:"outline",href:r?(0,ae.getDashboardHomeUrl)(t,{addBase:!0}):(0,v.getPostDashboardUrl)(t,{addBase:!0}),"data-testid":"menu-dashboard-button"},"Dashboard");function $E({user:n,pub:t,freeSignup:r,freeSignupEmail:i,hide_subscribe_cta:u,isPublishContext:D,isMeetingsActive:k,siteConfigContext:H,getSettingFor:U,experimentApi:{exposeExperiment:ee,getExperimentVariant:ve},renewing:xe,renewed:Le,setToRenew:ze}){var qe,Je,st,Ct,bt,Dt,Ut,Rt,Qt,pn;t.invite_only&&!(n!=null&&n.subscription_id||n!=null&&n.is_free_subscribed)&&(u=!0);const En=n==null?void 0:n.is_contributor,_n=(n==null?void 0:n.is_subscribed)||En,fn=(n==null?void 0:n.is_free_subscribed)||r,Zn=Ha.paymentsAreEnabled(t)&&_n&&["gift","comp"].includes(n.subscription_type)&&dr()(n.subscription_expiry).subtract(30,"days").isBeforeNow(),Gn=Ha.paymentsAreEnabled(t)&&Ha.userIsFreeOnly(n)&&n.comp_expired_recently,$n=(n==null?void 0:n.is_free_subscribed)&&(n==null?void 0:n.is_paused),yn=((qe=n==null?void 0:n.dashboard_pubs)==null?void 0:qe.length)===1;if(En){const Ln=(n==null?void 0:n.dashboard_pubs)||[];return D&&Ln.length===1?[]:!t.has_posts&&!(0,b.isMobileBrowser)()?[(0,e.h)(ia,{className:"primary fill new-post-btn",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"new-post"}),(0,b.redirect)((0,v.getCreatePostUrl)(t,{type:"newsletter"}),{local_navigation:!1})}},"New post"),(0,e.h)(Yp,{dashboardPubs:Ln,pub:t,useNewDashLink:yn})]:(0,e.h)(Yp,{dashboardPubs:Ln,pub:t,useNewDashLink:yn})}else{if($n)return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),(0,b.redirect)((0,v.getCancelOrUncancelUrl)(t,{addBase:!0}),{local_navigation:!1})}},"Unpause My Subscription");if(Zn||Gn)return u?null:(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),(0,b.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,v.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:Zn&&(n!=null&&n.is_founding)?t.plans.find(Ln=>Ln.metadata.founding).id:null}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},"Subscribe"),(0,e.h)("span",{className:"desktop-only"},"Continue your support"));if(Ha.paymentsAreEnabled(t)&&fn&&!_n&&!["thebulwark"].includes(t.subdomain))return u?null:(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),(0,b.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,v.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},(0,Be.getSubscribeText)(t,{isFreeSubscribed:!0,isMobile:(0,b.isMobileBrowser)()}));if(Ha.paymentsAreEnabled(t)?!_n:!(fn||_n)){if(!u){const Ln=(Ct=(st=(Je=(0,v.getQueryItem)("referring_pub_ids"))==null?void 0:Je.split)==null?void 0:st.call(Je,","))==null?void 0:Ct[0],br=(Ut=(Dt=(bt=(0,v.getQueryItem)("referring_pub_ids"))==null?void 0:bt.split)==null?void 0:Dt.call(bt,","))==null?void 0:Ut.slice(1);return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>_u(this,null,function*(){const Xn=n&&!n.is_magic&&n.email||i;if((0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),Xn){try{yield ft().post("/api/v1/free").send({source:"menu",email:Xn,first_url:s.xY,first_referrer:s.ip,current_url:s.UE,current_referrer:s.xU,referring_pub_id:Ln,additional_referring_pub_ids:br})}catch(Cn){(0,M.j)(M.FP.FREE_SIGNUP_FAILED,{reason:Cn.message})}window.location.href=(0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0})}else window.location.href=(0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,v.getQueryItem)("referring_pub_ids"),addBase:!0})})},(0,Be.getSubscribeText)(t,{isFreeSubscribed:fn,isMobile:(0,b.isMobileBrowser)()}))}return null}else{if(t.invite_only&&_n&&n.invites<t.subscriber_invites)return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"invite"}),(0,b.redirect)((0,v.getInviteUrl)(t),{local_navigation:!1})}},(0,e.h)("span",null,(0,Be.pluralize)(t.subscriber_invites-n.invites,"invite")," left"));if(Ha.paymentsAreEnabled(t)&&k&&!H.getConfigFor("hide_book_a_meeting_button"))return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),(0,b.redirect)((0,ae.getMeetingsUrl)(t,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},"Book meeting"),(0,e.h)("span",{className:"desktop-only"},"Book a meeting"));if(Ha.paymentsAreEnabled(t)&&n.is_subscribed&&n.subscription_unsubscribed_at&&!["gift","comp"].includes(n.subscription_type))return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"renew"}),ze()},disabled:xe||Le,style:{visibility:Le?"hidden":"visible"}},(0,e.h)("span",{className:"mobile-only"},"Renew"),(0,e.h)("span",{className:"desktop-only"},"Renew subscription"));if(Ha.paymentsAreEnabled(t)&&!n.is_founding&&dr()(n.subscription_first_payment_at).isBefore(dr()().subtract(48,"hours"))&&((pn=(Qt=(Rt=t==null?void 0:t.plans)==null?void 0:Rt.find(Ln=>Ln.metadata.founding))==null?void 0:Qt.metadata)==null?void 0:pn.short_description)==="Founding Member"){if(ee("navbar_founding_cta_holdout"),ve("navbar_founding_cta_holdout")==="treatment")return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),(0,b.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0,selectedPlanId:t.plans.find(br=>br.metadata.founding).id}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},"Upgrade"),(0,e.h)("span",{className:"desktop-only"},"Upgrade to founding"))}else{if(t.payments_state==="disabled"&&!t.invite_only&&U("payment_pledges_enabled")&&fn&&!(n!=null&&n.is_pledged))return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),(0,b.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0}),{local_navigation:!1})}},"Pledge your support");if(t.is_on_substack&&!(n!=null&&n.has_publication))return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),(0,b.redirect)((0,v.getStartPublishingUrl)({utm_source:"menu"}),{local_navigation:!1})}},"Start publishing")}}}return null}function ia(n){var t=n,{className:r="primary subscribe-cta subscribe-btn"}=t,i=HE(t,["className"]);const u=(0,o.qp)(Dp),D=!1;return(0,e.h)(be.Z,Zp(Gp({},i),{className:f()(r,{"rounded-btn":D,"force-desktop":u})}))}const zE=VE;var GE=It(49336),ZE=It(56743),ll=It(2564);const ul={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--JlX0X",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--qQKuE",disabled:"frontend-components-overflow_menu-module__disabled--vUsqk",logo:"frontend-components-overflow_menu-module__logo--t5DOx",chevron:"frontend-components-overflow_menu-module__chevron--sly1d"},Jp=10,YE=250;function JE({className:n,items:t,menuItemClassName:r,selectedMenuItemClassName:i,selectedSlug:u,pub:D}){const k=(0,o.sO)(null),[H,U]=(0,o.eJ)(!1),[ee,ve]=(0,o.eJ)(!1);function xe(qe){const{scrollLeft:Je,scrollWidth:st,clientWidth:Ct}=qe;U(Je>Jp),ve(st-(Ct+Je)>Jp)}const Le=qe=>xe(qe.target),ze=qe=>()=>{const{current:Je}=k;Je&&Je.scrollBy({left:qe*YE,behavior:"smooth"})};return(0,o.d4)(()=>{xe(k.current)},[]),(0,e.h)("div",{className:f()("overflow-list-container",n)},(0,e.h)("div",{className:f()("section-bar",{scroll:!0,"overflow-left":H,"overflow-right":ee})},(0,e.h)("div",{className:"overflow-items",ref:k,onScroll:Le},t.map(({label:qe,href:Je,slug:st,isNative:Ct,onClick:bt,noFollow:Dt,subItems:Ut})=>Ut?(0,e.h)(wo.v2,{trigger:(0,e.h)("div",{className:f()("menu-item",{selected:st===u},r,i&&{[i]:st===u})},(0,e.h)(qn.Z,{className:ul.subMenuTrigger,onClick:bt,native:Ct,rel:Dt?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},qe),(0,e.h)(GE.Z,{className:ul.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:qe},Ut.map(({label:Rt,href:Qt,slug:pn,isNative:En,onClick:_n,noFollow:fn,logoUrl:Zn})=>{const Gn=parseInt(pn)===(D==null?void 0:D.id);return(0,e.h)(wo.sN,{icon:(0,e.h)("img",{className:ul.logo,width:20,src:(0,v.imginary)(Zn||"/img/substack-nomargin.png",40)}),href:Qt,onClick:_n,native:En,rel:fn?"nofollow":void 0,priority:"primary",disabled:Gn,className:f()(ul.subMenuItem,{[ul.disabled]:Gn})},Rt)})):(0,e.h)("div",{className:f()("menu-item",{selected:st===u},r,i&&{[i]:st===u})},(0,e.h)(qn.Z,{href:Je,onClick:bt,native:Ct,rel:Dt?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},qe))))),(0,e.h)("div",{className:"left-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:ze(-1)},(0,e.h)(ZE.Z,{strokeWidth:1.5}))),(0,e.h)("div",{className:"right-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:ze(1)},(0,e.h)(ll.Z,{strokeWidth:1.5})))))}const Xp=(n,t)=>n.subItems?new t2(n):n.base_url?new XE(n):n.name&&n.id&&n.url?new e2(n,t):n.isPodcast?new QE(n):new qE(n,t);class cl{constructor(t){this._obj=t}truncatedName(){return(0,Be.truncateText)(this._obj.name,30)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemented")}isSelected(t,r){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}subItems(){return null}get item(){return this._obj}}class XE extends cl{isNewsletter(){return this._obj.type==="newsletter"}isPodcast(){return this._obj.type==="podcast"}isSelected(t){return this._obj.id===t.id}isNative(){return!0}logoUrl(){return this._obj.logo_url}homepageUrl(){return(0,ae.getBaseUrl)(this._obj)}}class QE extends cl{constructor(t,r){super(t)}isPodcast(){return!0}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return(0,ae.getBaseUrl)(this._obj)}}class qE extends cl{constructor(t,r){super(t),this._homepageUrl=(0,ae.getSectionUrl)(r,{section:t})}isPodcast(){return this._obj.is_podcast}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return this._homepageUrl}}class e2 extends cl{constructor(t,r){super(t),this._maybeNoFollow=t.noFollow,this._pubTier=(r==null?void 0:r.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}class t2 extends cl{isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.map(Xp)}}const n2=({pub:n,selectedSectionId:t,sectionRawItems:r,isPublishContext:i})=>{const u=r.map(k=>Xp(k,n)),D=k=>{var H,U;return{label:k.truncatedName(),href:k.homepageUrl(),slug:k.item.id,isNative:k.isNative(),noFollow:k.noFollow(),logoUrl:(H=k.logoUrl)==null?void 0:H.call(k),subItems:(U=k.subItems())==null?void 0:U.map(D)}};return(0,e.h)(JE,{items:u.map(D),className:f()("sections-overflow",{"publish-menu":i}),height:48,selectedSlug:t,fudgeFactor:8,useHorizontalScrolling:i,pub:n})};var r2=Object.defineProperty,Qp=Object.getOwnPropertySymbols,o2=Object.prototype.hasOwnProperty,i2=Object.prototype.propertyIsEnumerable,sd=(n,t,r)=>t in n?r2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,a2=(n,t)=>{for(var r in t||(t={}))o2.call(t,r)&&sd(n,r,t[r]);if(Qp)for(var r of Qp(t))i2.call(t,r)&&sd(n,r,t[r]);return n},Va=(n,t,r)=>(sd(n,typeof t!="symbol"?t+"":t,r),r),ld,qp,ud,eh;const cd=It(6378),th=(n,t)=>{var r,i;return((r=n.sibling_rank)!=null?r:1/0)-((i=t.sibling_rank)!=null?i:1/0)||(n.name<t.name?-1:n.name>t.name?1:0)};class gu extends e.Component{constructor(){super(...arguments),Va(this,"menuHeight",0),Va(this,"state",{animated:!0,hiding:!!(typeof window!="undefined"&&((qp=(ld=window.location.hash)==null?void 0:ld.startsWith)!=null&&qp.call(ld,"#footnote")||(eh=(ud=window.location.hash)==null?void 0:ud.startsWith)!=null&&eh.call(ud,"#tiktok")))}),Va(this,"onClick",t=>{var r,i;((r=t.target)!=null&&r.classList.contains("footnote-number")||(i=t.target)!=null&&i.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))}),Va(this,"onResize",()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const t=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,r=document.body.clientWidth,i=this.buttonsContainer.getBoundingClientRect().width,u=r>630,D=u?24*2:12*2,k=u&&.5*r-i-D>.5*t;this.setState({buttonsContainerWidth:k?`${i}px`:"auto",centerTitle:k})}),Va(this,"onScroll",()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const t=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const r=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,b.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,b.maxScroll)()))if(this.scrollTop<t){const i=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>r?(this.menuTop=r,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<i)&&(this.menuTop=i,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>t&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=r,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<r-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))}),Va(this,"onHeadlineClick",t=>{this.publicationPicker?(t.preventDefault(),this.publicationPicker.open()):(0,M.j)(M.FP.NAV_BAR_HOME_LINK_CLICKED)}),Va(this,"hide",()=>{const t=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=t-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})})}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return cd.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:t,user:r,freeSignup:i,freeSignupEmail:u,pub:D,publicationPicker:k,publicationPickerPath:H,lowChrome:U,hide_subscribe_cta:ee,isPublishContext:ve,hideTitle:xe,showCustomerSupportModeModal:Le,signupForFreeVariant:ze,isMeetingsActive:qe,hideNavbarSearch:Je},{animated:st,buttonsContainerWidth:Ct,centerTitle:bt}){const Dt=!k&&(D==null?void 0:D.parent_publication)||D,Ut=typeof window=="undefined";return(0,e.h)("div",{"data-testid":"navbar",className:f()("main-menu",t,{animated:st,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":U})},(0,e.h)("div",{className:"main-menu-content",ref:Rt=>this.menuContent=Rt},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},k&&!U&&(D.parent_publication||D.child_publications.length>0)&&(0,e.h)(Ni.ZP,{ref:Rt=>this.publicationPicker=Rt,className:"publication-picker",noPlace:!0,noTail:!0},[D,D.parent_publication].concat(D.child_publications.concat(D.sibling_publications).sort((Rt,Qt)=>Rt.name.toLowerCase().localeCompare(Qt.name.toLowerCase()))).filter(Rt=>Rt).map(Rt=>(0,e.h)("a",{href:Rt.base_url+(Rt.id===D.id?"/":H||"/")},Rt.name))),!U&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:f()("navbar-logo-container",Dt.logo_url?"":"no-logo"),style:{width:Ct}},Dt.logo_url&&(0,e.h)("a",{href:(0,ae.getBaseUrl)(Dt),onClick:this.onHeadlineClick},(0,e.h)("img",{className:"navbar-logo",src:(0,ae.imginary)(Dt.logo_url,96)}))),!xe&&(0,e.h)("h1",{className:f()("navbar-title",{"left-align":!bt,loading:Ut})},(0,e.h)("a",{className:"navbar-title-link",href:(0,ae.getBaseUrl)(Dt),ref:Rt=>this.largeMenuPubTitle=Rt},Dt.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${Dt?"":"substack-logo-wordmark"}`,src:(0,ae.imginary)(Dt?Dt.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:Dt?Dt.name:"Substack"}):Dt.name),!ve&&D.parent_publication&&(0,e.h)(s2,{title:D.name})),(0,e.h)(zE,{baseRef:Rt=>this.buttonsContainer=Rt,user:r,freeSignup:i,freeSignupEmail:u,hide_subscribe_cta:ee,isPublishContext:ve,pub:D,hideSearch:ve||!!Je,signupForFreeVariant:ze,showCustomerSupportModeModal:Le,isMeetingsActive:qe}))),this.shouldShowSectionsNavBar()&&(0,e.h)(l2,a2({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}Va(gu,"contextType",va);const s2=({title:n})=>{const t=(0,Ai.XA)();return(0,e.h)(q.xv,{size:t?14:24,weight:"light",as:"span"},(0,e.h)("span",null," | "),n)};function l2({isPublishContext:n,pub:t,user:r,isChatActive:i,isMeetingsActive:u,hasMeetingsBooked:D,selectedSectionId:k}){var H,U;const{getConfigFor:ee}=(0,Kn.xR)(),{getSettingFor:ve}=(0,ut.So)();let xe=[];const Le=dr()(t.created_at)>dr()("2023-03-10T13:00:00-05:00")&&(!(r!=null&&r.dashboard_pubs)||r.dashboard_pubs.length===1)||ee("new_dashboard"),ze=ve("notes_feed_enabled"),qe=!!(ve("reader_referrals_enabled")&&ve("reader_referrals_leaderboard_enabled")),Je=ee("post_management");if(n)Le&&xe.push({id:"/publish/home",url:(0,ae.getDashboardHomeUrl)(t,{addBase:!0}),name:"Home"}),xe.push(...Je?[{id:"/publish/posts",url:"/publish/posts",name:"Posts"}]:[{id:"/publish",url:(0,ae.getPostDashboardUrl)(t),name:"Posts"}],{id:"/publish/podcasting",url:(0,v.getPodcastingUrl)(t,{addBase:!0}),name:"Podcast"},{id:"/publish/subscribers",url:(0,v.getSubscriberStatsUrl)(t,{addBase:!0}),name:"Subscribers"}),r&&r.is_admin&&(xe.push({id:"/publish/stats",url:"/publish/stats",name:"Stats"}),xe.push({id:"/publish/recommendations",url:"/publish/recommendations",name:"Recommendations"}),(u||D)&&xe.push({id:"/publish/meetings",url:"/publish/meetings",name:"Meetings"}),xe.push({id:"/publish/settings",url:(0,ae.getPublishSettingsUrl)(t,{addBase:!0}),name:"Settings"}));else{if((H=t.child_publications)!=null&&H.length)xe.push({id:"/home",url:"/",name:"Home"},...t.child_publications.sort(th));else if(t.parent_publication||(U=t.sibling_publications)!=null&&U.length){const st=[t,...t.sibling_publications].sort(th).map(Ct=>Ct.id===t.id&&!cd.isBulwarkPub(t)?{id:"/home",url:"/",name:t.name}:Ct);xe.push({id:"/parent",url:(0,ae.getBaseUrl)(t.parent_publication),name:"Home"},...st)}else xe.push({id:"/home",url:"/",name:"Home"}),t.podcast_enabled&&t.show_pub_podcast_tab&&xe.push({id:"/podcast",url:"/podcast",name:"Podcast",isPodcast:!0});for(const st of Tn(t.navigationBarItems||[],{isFeedEnabled:ze,isPodcastActive:t.podcast_enabled&&t.show_pub_podcast_tab,isChatActive:i,isChatEnabled:!!t.threads_v2_enabled,isMeetingsActive:u,hasMultipleNewsletters:t.sections&&t.sections.length>0,isReaderReferralsLeaderboardActive:qe}).filter(Ct=>!Ct.is_hidden)){const Ct=wn(st);st.section?xe.push(st.section):xe.push({id:(0,ae.getNavigationBarItemUrl)(t.parent_publication||t,st,{addBase:!1}),url:(0,ae.getNavigationBarItemUrl)(t.parent_publication||t,st,{addBase:!st.standard_key}),name:Kt(st),noFollow:!st.standard_key&&Ct==="link"})}}return cd.isBulwarkPub(t)&&(xe=xe.reduce((st,Ct)=>{if(Ct.type==="newsletter"){const bt=st.find(Dt=>Dt.name==="Newsletters");return bt?bt.subItems=[...bt.subItems,Ct]:st=[...st,{name:"Newsletters",subItems:[Ct]}],st}if(Ct.type==="podcast"){const bt=st.find(Dt=>Dt.name==="Podcasts");return bt?bt.subItems=[...bt.subItems,Ct]:st=[...st,{name:"Podcasts",subItems:[Ct]}],st}return[...st,Ct]},[])),(0,e.h)(n2,{pub:t,selectedSectionId:k,sectionRawItems:xe,isPublishContext:n})}const nh=({pub:n,url:t})=>{var r,i;if(!t.includes("api.substack.com"))return null;if(t.includes(`/feed/podcast/${n.id}.rss`))return n.podcast_title||n.name;if(t.includes(`/feed/podcast/${n.id}/s/`)){const u=(i=(r=t.match(new RegExp("\\/feed\\/podcast\\/\\d+\\/s\\/(?<sectionId>\\d+)\\.rss")))==null?void 0:r.groups)==null?void 0:i.sectionId;if(!u)return"Unknown section";const D=n.sections.find(k=>k.id===parseInt(u));return D?D.name:"Unknown Section"}return"another podcast"},rh=({pub:n,url:t})=>t.includes("api.substack.com")?t.includes(`/feed/podcast/${n.id}/s/`)||t.includes(`/feed/podcast/${n.id}.rss`):!1,u2=n=>{if(!n)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!n.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!n.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const t=nh({pub:n,url:n.podcast_feed_url});return t?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${t}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${n.podcast_feed_url}.`}},c2=({pub:n,section:t})=>{var r;if(!t.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;if(!i)return{can_syndicate:!0,hover_text:null};const u=nh({pub:n,url:i});return u?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${u}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${i}.`}},EW=({pub:n})=>{var t;const r=[];if(n.podcast_enabled||n.podcast_title){const i=u2(n);r.push({name:n.podcast_title||n.name,description:n.podcast_description||"",can_publish_to:i.can_syndicate,hover_text:i.hover_text,publication_id:n.id,section_id:null})}for(const i of(t=n.sections)!=null?t:[]){if(!i.is_podcast)continue;const u=c2({pub:n,section:i});r.push({name:i.name,description:i.description,can_publish_to:u.can_syndicate,hover_text:u.hover_text,publication_id:n.id,section_id:i.id})}return r},d2=n=>!n||!n.podcast_enabled?!1:n.podcast_feed_url?!rh({pub:n,url:n.podcast_feed_url}):!0,f2=({pub:n,section:t})=>{var r;if(!t.is_podcast)return!1;const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;return i?!rh({pub:n,url:i}):!0},wW=(n,t=0)=>t?p2(n,t):n.email_disabled?"none":n.receive_podcast_emails?"all":"allButPodcasts",p2=(n,t)=>{var r;return!n.email_settings||!n.email_settings[t]?null:n.email_settings[t]==="disabled"?"none":(r=n.section_podcasts_enabled)!=null&&r.includes(t)?"all":"allButPodcasts"},h2=({pub:n,includeMainPub:t})=>{var r;if(!n)return[];const i=[];return t&&i.push({name:n.name,description:n.hero_text,logoUrl:n.logo_url,sectionId:null,linkUrl:(0,v.getArchiveUrl)(n),defaultOn:!0}),(r=n.sections)==null||r.forEach(u=>{i.push({name:u.name,description:u.description,logoUrl:u.logo_url,sectionId:u.id,linkUrl:(0,ae.getSectionUrl)(n,{section:u}),defaultOn:u.is_default_on})}),i};var m2=Object.defineProperty,_2=Object.defineProperties,g2=Object.getOwnPropertyDescriptors,oh=Object.getOwnPropertySymbols,v2=Object.prototype.hasOwnProperty,y2=Object.prototype.propertyIsEnumerable,ih=(n,t,r)=>t in n?m2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,b2=(n,t)=>{for(var r in t||(t={}))v2.call(t,r)&&ih(n,r,t[r]);if(oh)for(var r of oh(t))y2.call(t,r)&&ih(n,r,t[r]);return n},P2=(n,t)=>_2(n,g2(t));const ah=n=>(0,e.h)(N.l,P2(b2({},n),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:n.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));var sh=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const pa=()=>{const n=(0,Fe.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),t=(0,Fe.useMediaQuery)({query:"only screen and (max-width: 768px)"});let r;return typeof window=="undefined"?r=(0,P.isMobile)()?"mobile":"desktop":r=t?"mobile":n?"tablet":"desktop",{breakpoint:r,isMobile:r==="mobile",isTablet:r==="tablet",isDesktop:r==="desktop"}},OW=({pub:n})=>{const[t,r]=useState([]),[i,u]=useState([]),[D,k]=useState([]),[H,U]=useState([]),[ee,ve]=useState(!1);return useEffect(()=>{request.get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:xe})=>{r(xe),ve(!0)}),request.get("/api/v1/archive").query({sort:"pinned"}).then(({body:xe})=>u(xe)),request.get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:xe})=>k(xe)),request.get("/api/v1/homepage_links").then(({body:xe})=>U(xe))},[n.id]),{homepageLinks:H,newPosts:t,pinnedPosts:i,postsLoaded:ee,recommendations:[],topPosts:D}},E2=n=>{const[t,r]=(0,o.eJ)(n.newPosts),[i,u]=(0,o.eJ)(n.pinnedPosts),[D,k]=(0,o.eJ)(n.topPosts),H=new Set((i||[]).map(ve=>ve.id)),U=(i||[]).concat((t||[]).filter(ve=>!H.has(ve.id)));(0,o.d4)(()=>{var ve,xe,Le;((ve=n.newPosts)==null?void 0:ve.length)!==t.length&&r(n.newPosts),((xe=n.pinnedPosts)==null?void 0:xe.length)!==i.length&&u(n.pinnedPosts),((Le=n.topPosts)==null?void 0:Le.length)!==D.length&&k(n.topPosts)},[n.newPosts,n.pinnedPosts,n.topPosts,t==null?void 0:t.length,i==null?void 0:i.length,D==null?void 0:D.length]);const ee=(0,o.I4)(({post:ve})=>{if(!ve)return;const xe=[{list:D,setter:k},{list:i,setter:u},{list:t,setter:r}];for(const Le of xe){if(!Le.list)return;const ze=Le.list.findIndex(qe=>qe.id===ve.id);if(ze!==-1){const qe=[...Le.list];qe.splice(ze,1,ve),Le.setter(qe)}}},[t,i,D]);return{posts:U,topPosts:D,onChange:ee}},SW=({bodyId:n})=>{const[t,r]=useState(null),[i,u]=useState(null);return useEffect(()=>{n==="grid-groups"&&(i||sh(void 0,null,function*(){try{const k=yield request.get("/api/v1/publication/sections");u(k.body)}catch(k){console.error(k)}}),t||sh(void 0,null,function*(){try{const k=yield request.get("/api/v1/publication/post-tag");r(k.body)}catch(k){console.error(k)}}))},[n,t,i]),{postTags:t,sections:i}},hi={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"},w2=({newsletter:n,hideLink:t=!1,onToggle:r,onClick:i})=>{const{isMobile:u}=pa();i&&r&&console.error("you cannot pass both onToggle and onClick");const D=H=>{H.stopPropagation(),r==null||r({sectionId:n.sectionId,isSelected:!n.selected})},k=!!r;return u?(0,e.h)(C2,{newsletter:n,hideLink:t,onClick:i,onToggle:r}):(0,e.h)(qt.tu,{className:f()(hi.container,{[hi.selectedContainer]:k&&n.selected,[hi.selectableContainer]:k,[hi.clickableContainer]:!!i}),justifyContent:"space-between",radius:8,padding:16,onClick:k?D:i!=null?i:void 0},k&&n.selected?(0,e.h)(ah,{className:f()(hi.selector)}):k?(0,e.h)("div",{className:f()(hi.unselected,hi.selector)}):null,(0,e.h)(qt.tu,{gap:24},n.logoUrl&&(0,e.h)("div",{className:hi.img},n.logoUrl&&(0,e.h)("img",{className:hi.img,src:(0,v.imginary)(n.logoUrl,64)})),(0,e.h)(qt.tu,{gap:8},(0,e.h)(qt.xv.H3,{paddingRight:n.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},n.name),(0,e.h)(qt.xv.B4,{color:"pub-secondary-text",clamp:4},n.description))),!t&&(0,e.h)(qt.xv,{size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:hi.seeLatest,href:n.linkUrl,native:!0},"See the latest")))},C2=({newsletter:n,hideLink:t,onClick:r,onToggle:i})=>{const u=!!i,D=k=>{k.stopPropagation(),i==null||i({sectionId:n.sectionId,isSelected:!n.selected})};return(0,e.h)(qt.tu,{className:f()(hi.containerMobile,{[hi.selectedContainer]:u&&n.selected,[hi.selectableContainer]:u,[hi.clickableContainer]:!!D}),justifyContent:"space-between",radius:8,padding:16,onClick:u?D:r!=null?r:void 0},u&&n.selected?(0,e.h)(ah,{className:f()(hi.selector)}):u?(0,e.h)("div",{className:f()(hi.unselected,hi.selector)}):null,(0,e.h)(qt.tu,{gap:8},(0,e.h)(qt.gq,{gap:8},n.logoUrl&&(0,e.h)("img",{className:hi.imgMobile,src:(0,v.imginary)(n.logoUrl,64)}),(0,e.h)(qt.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},n.name)),(0,e.h)(qt.xv.B4,{color:"secondary",clamp:2,font:"text"},n.description)),!t&&(0,e.h)(qt.xv,{size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:n.linkUrl,native:!0},"See the latest")))},O2={container:"frontend-components-newsletter_item_list-module__container--UOq1t"},S2=({newsletters:n,hideLinks:t,onNewsletterClick:r,justifyItems:i})=>(0,e.h)(Ne.gq,{className:O2.container,wrap:"wrap",justifyContent:i,gap:24},n.length===0&&(0,e.h)("div",null,"No additional newsletters"),n.map((u,D)=>(0,e.h)(w2,{newsletter:u,key:D,hideLink:t,onToggle:r?({sectionId:k,isSelected:H})=>{r({sectionId:k,isSelected:H})}:void 0,onClick:t?void 0:()=>{(0,b.redirect)(u.linkUrl,{local_navigation:!1})}}))),dd={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"};var T2=Object.defineProperty,I2=Object.defineProperties,x2=Object.getOwnPropertyDescriptors,lh=Object.getOwnPropertySymbols,D2=Object.prototype.hasOwnProperty,M2=Object.prototype.propertyIsEnumerable,uh=(n,t,r)=>t in n?T2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,A2=(n,t)=>{for(var r in t||(t={}))D2.call(t,r)&&uh(n,r,t[r]);if(lh)for(var r of lh(t))M2.call(t,r)&&uh(n,r,t[r]);return n},N2=(n,t)=>I2(n,x2(t));const R2=({pub:n,user:t})=>{const r=h2({pub:n,includeMainPub:!0}).map(i=>N2(A2({},i),{linkUrl:(0,v.updateQuery)(i.linkUrl,{utm_source:"newsletter_page"}),selected:i.defaultOn}));return r.length===0?(typeof window!="undefined"&&(window.location.href=(0,ae.getBaseUrl)(n)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:f()("page","typography",dd.container)},(0,e.h)(qt.tu,null,(0,e.h)(qt.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(qt.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(qt.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(qt.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",n.name," in your inbox.",t!=null&&t.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:dd.accountLink,href:(0,v.getPubAccountSettingsUrl)(n),native:!0},"account settings"),"."):"")),(!t||!t.is_subscribed)&&(0,e.h)(qt.zx,{priority:"primary-theme",href:(0,v.getSubscribeUrl)(n,{addBase:!0,utm_source:"newsletter_page"}),localNavigation:!1},"Subscribe")),(0,e.h)(qt.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:dd.newsletterList},(0,e.h)(S2,{newsletters:r,hideLinks:!1,justifyItems:"start"}))))};var L2=It(92643),vu=It(10174),fd=It(72307);function B2({user:n=void 0,children:t=void 0,siteConfigs:r={},hasThemedBackground:i=void 0,language:u=void 0,country:D=void 0,experimentInfo:k={},portalRoot:H=void 0,shouldLoad:U=void 0,shouldPollNotifications:ee=!1,publicationSettings:ve={},userSettings:xe=void 0}){U===void 0&&(U=!!n);const Le=(0,fd.lV)(!!n);return(0,e.h)(wE,{language:u,country:D},(0,e.h)(S.ze,{value:{hasThemedBackground:i}},(0,e.h)(Kn.vC,{siteConfigs:r},(0,e.h)(Ke.Vt,{siteConfigs:r,experimentInfo:k},(0,e.h)(ns,{siteConfigs:r,experimentInfo:k},(0,e.h)(ut.Iz,{settings:ve},(0,e.h)(uu.N$,{shouldLoad:U,shouldPoll:ee},(0,e.h)(cu.X,{root:H},(0,e.h)(us.dr,{defaultValue:n,settings:xe},(0,e.h)(L2.am,null,(0,e.h)(ni.VW,null,(0,e.h)(fd.e.Provider,{value:Le},(0,e.h)(vu.Au,null,t)))))))))))))}var ds=It(4605),pd=It(71720);function k2(){return(0,e.h)(sl.cr,{module:"../feed/PublicationPage",onRequest:()=>It.e(853).then(It.bind(It,88853)),resolve:n=>n.PublicationFeedPage,whileLoading:(0,e.h)(U2,null)})}function U2(){return(0,e.h)(hu.h,null,(0,e.h)(Ne.hs,{bg:"primary",style:{minHeight:800}}))}var F2=Object.defineProperty,j2=Object.defineProperties,W2=Object.getOwnPropertyDescriptors,ch=Object.getOwnPropertySymbols,H2=Object.prototype.hasOwnProperty,V2=Object.prototype.propertyIsEnumerable,dh=(n,t,r)=>t in n?F2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,K2=(n,t)=>{for(var r in t||(t={}))H2.call(t,r)&&dh(n,r,t[r]);if(ch)for(var r of ch(t))V2.call(t,r)&&dh(n,r,t[r]);return n},$2=(n,t)=>j2(n,W2(t));function z2(){const n=(0,ni.pm)();return(0,o.d4)(()=>{const t=new URL(location.toString());t.searchParams.get("founding-member-confirmation")&&(t.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",t),n.popToast(i=>(0,e.h)(ni.FN,$2(K2({},i),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var fs=It(63030),Ns=It(71375),fh=It(16527),aa=It(92271);const hd={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"};var G2=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Z2=(n,t,r,i,u)=>{if(!t)return null;switch(n){case"post-login":return t.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,v.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return i?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,v.getReaderOnboardingUrl)(t,{isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:i?i.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!i||!t.profile_set_up_at?null:{title:`Welcome to ${i?i.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:i?(0,v.getArchiveUrl)(i):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,v.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(Ne.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,ae.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(q.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(q.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,Be.numberToOrdinal)(u)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,v.getStartPublishingUrl)({utm_source:"profile_toast"}),ctaVariant:"themed-primary"};default:return null}};function Y2({user:n,pub:t=null,noBase:r=!1}){const i=(0,ni.pm)();return(0,o.d4)(()=>{function u(){return G2(this,null,function*(){yield ft().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const D=new URL(location.toString()),k=D.searchParams.get("profile-setup-message");if(!k)return;const H=k==="start-writing"?Number(D.searchParams.get("nthPub")):void 0;if(D.searchParams.delete("nthPub"),D.searchParams.delete("profile-setup-message"),history.replaceState({},"",D),!(k!=="post-subscribe-prompt"))return;const ee=Z2(k,n,r,t,H);ee&&(k==="start-writing"&&u(),i.popToast(({onClose:ve})=>(0,e.h)(Ne.tu,{className:hd.wrapper,justifyContent:"space-between"},(0,e.h)(Ne.tu,{gap:8},(0,e.h)(Ne.gq,{className:hd.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(aa.z,{look:"flex",onClick:ve},(0,e.h)(Ns.Z,{size:20}))),(0,e.h)(q.xv.H3,{className:hd.header},ee.title),ee.body),(0,e.h)(aa.z,{variant:ee.ctaVariant,fill:"filled",onClick:xe=>{(0,fh.Q)(xe,ee.ctaLink,{native:!0}),ve()}},ee.ctaText)),{ttl:null}))},[]),null}var Si=It(58884);const J2=["sort"],X2=["sort","selection"];function ph(n,t){const r=new URL(`${location.protocol}//${location.host}${n}`);for(const i of r.searchParams.keys())(t?X2:J2).includes(i)||r.searchParams.delete(i);return r.toString()}function Q2({previous:n,url:t}){var r,i;if(typeof window=="undefined")return;const u=ph(t,!1),D=ph(t,!0),{head:k}=document;(r=k.querySelector("link[rel=canonical]"))==null||r.setAttribute("href",u),(i=k.querySelector('meta[property="og:url"]'))==null||i.setAttribute("content",D),(0,M.jA)({previous:n,url:t})}var hh=It(35225),q2=It(3312),md=It.n(q2),ew=It(92592),_d=It(82771),tw=It(28175),mh=It.n(tw),_h=It(80587);const nw=(0,Eo.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),rw=(0,Eo.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),gd=(0,Eo.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var dl=It(99869);const gh=(0,Eo.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ow=(0,Eo.Z)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);var vh=It(5149),iw=It(49770),yh=It(17048);const aw=(0,Eo.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var yu=It(13639),sa=It(80332);const sw=(0,Eo.Z)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);var lw=Object.defineProperty,uw=Object.defineProperties,cw=Object.getOwnPropertyDescriptors,bh=Object.getOwnPropertySymbols,dw=Object.prototype.hasOwnProperty,fw=Object.prototype.propertyIsEnumerable,Ph=(n,t,r)=>t in n?lw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pw=(n,t)=>{for(var r in t||(t={}))dw.call(t,r)&&Ph(n,r,t[r]);if(bh)for(var r of bh(t))fw.call(t,r)&&Ph(n,r,t[r]);return n},hw=(n,t)=>uw(n,cw(t));const mw=n=>(0,e.h)(N.l,hw(pw({},n),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(sw,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var Eh=It(85344),vd=It(86602),wh=It(15748),_w=It(62372);const gw={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"};var vw=Object.defineProperty,yw=Object.defineProperties,bw=Object.getOwnPropertyDescriptors,bu=Object.getOwnPropertySymbols,Ch=Object.prototype.hasOwnProperty,Oh=Object.prototype.propertyIsEnumerable,Sh=(n,t,r)=>t in n?vw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Rs=(n,t)=>{for(var r in t||(t={}))Ch.call(t,r)&&Sh(n,r,t[r]);if(bu)for(var r of bu(t))Oh.call(t,r)&&Sh(n,r,t[r]);return n},Pw=(n,t)=>yw(n,bw(t)),Ew=(n,t)=>{var r={};for(var i in n)Ch.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&bu)for(var i of bu(n))t.indexOf(i)<0&&Oh.call(n,i)&&(r[i]=n[i]);return r};const Th=n=>{var t=n,{className:r="",children:i,layerClassName:u,hideOnScroll:D=!1,onClose:k}=t,H=Ew(t,["className","children","layerClassName","hideOnScroll","onClose"]);const[U,ee]=(0,o.eJ)(!1),ve=Cw(Rs({open:U,onClose:()=>{ee(!1),k==null||k()},hideOnScroll:D,className:u},H));return ww({hideOnScroll:D,setOpen:ee,open:U}),(0,e.h)("div",Pw(Rs({className:r},ve.triggerProps),{onClick:xe=>{ee(!U),xe.stopPropagation()}}),typeof i=="function"?i({isOpen:U}):i,ve.layer)};function ww({hideOnScroll:n,setOpen:t,open:r}){const i=(0,o.I4)(u=>{requestAnimationFrame(()=>{var D;const H=(D=u.target.classList)==null?void 0:D.contains("popoverLayerForScrollDetection");r&&n&&!H&&t(!1)})},[n,t,r]);(0,o.d4)(()=>{if(n)return window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i,!0)}},[i,n])}function Cw({open:n,onClose:t,disabled:r,possiblePlacements:i=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:u,snap:D=!1,onOpen:k,content:H,className:U,layerOptions:ee,closeOnOutsideClick:ve=!0}){const xe=(0,o.sO)(!1);(0,o.d4)(()=>{n&&!xe.current&&k&&(xe.current=!0,k())},[n,k]);const{triggerProps:Le,layerProps:ze,renderLayer:qe}=(0,_w.sJ)(Rs(Rs(Rs({isOpen:r?!1:n,overflowContainer:!1,auto:!0,snap:D,possiblePlacements:i,placement:u,containerOffset:10,triggerOffset:8},ve&&{onOutsideClick:()=>t()}),u&&{placement:u}),ee));return{triggerProps:Le,layer:n&&qe((0,e.h)("div",Rs({className:f()("popoverLayerForScrollDetection",gw.popoverBase,U)},ze),typeof H=="function"?H({closePopover:t}):H))}}var fl=It(10186),IW=It(28599),xW=It(10928),DW=It(44908),MW=It(73955),AW=It(71171),Ow=It(23279),Pu=It.n(Ow);const yd={searchContainer:"frontend-components-Search-module__searchContainer--OJHUw",medium:"frontend-components-Search-module__medium--Sri_d",small:"frontend-components-Search-module__small--tPvnS",searchInput:"frontend-components-Search-module__searchInput--w1uCz"};var Sw=Object.defineProperty,Eu=Object.getOwnPropertySymbols,Ih=Object.prototype.hasOwnProperty,xh=Object.prototype.propertyIsEnumerable,Dh=(n,t,r)=>t in n?Sw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Tw=(n,t)=>{for(var r in t||(t={}))Ih.call(t,r)&&Dh(n,r,t[r]);if(Eu)for(var r of Eu(t))xh.call(t,r)&&Dh(n,r,t[r]);return n},Iw=(n,t)=>{var r={};for(var i in n)Ih.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Eu)for(var i of Eu(n))t.indexOf(i)<0&&xh.call(n,i)&&(r[i]=n[i]);return r};function xw({items:n,getKeys:t,sort:r=!0,sortFunc:i,deps:u}){const D=(xe,Le)=>{const ze=t(xe),qe=t(Le);for(let Je=0;Je<Math.min(ze.length,qe.length);Je++){const st=ze[Je].localeCompare(qe[Je]);if(st!==0)return st}return ze.length-qe.length},[k,H]=(0,o.eJ)(""),U=(0,o.Ye)(()=>Pu()(H,100),[H]),ee=k.trim(),ve=(0,o.Ye)(()=>{if(!ee)return n;let xe=n.filter(Le=>t(Le).some(qe=>qe.toLowerCase().includes(ee.toLowerCase())));if(r||i){const Le=i||D;xe=xe.sort(Le)}return xe},u?[ee,...u]:[ee,n]);return{setQuery:U,filteredItems:ve,hasFiltered:ee!==""}}function Dw(n){var t=n,{setQuery:r,placeholder:i="Search...",size:u="medium"}=t,D=Iw(t,["setQuery","placeholder","size"]);const k=U=>{r(U.currentTarget.value)},H=(0,o.sO)(null);return(0,e.h)(Ne.hs,Tw({className:f()(yd.searchContainer,yd[u]),bg:"secondary",paddingX:u==="small"?12:16,gap:8,alignItems:"center",onClick:()=>{var U;return(U=H.current)==null?void 0:U.focus()}},D),(0,e.h)(kp,{size:u==="small"?16:20,color:"var(--color-secondary)"}),(0,e.h)("input",{type:"search",className:yd.searchInput,ref:H,placeholder:i,onInput:k}))}var NW=It(21125),Mw=(n=>(n.CONTRIBUTOR="contributor",n.FOUNDING="founding",n.PAID="paid",n.FREE="free_subscriber",n))(Mw||{}),Aw=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const RW=n=>{const t=useUserSettings();useEffect(()=>{const r=()=>Aw(void 0,null,function*(){try{yield fetchJson("/api/v1/user-setting",{method:"PUT",json:{type:"last_home_tab",value_text:n}})}catch(i){}});t!=null&&t.user_id&&t.last_home_tab!==n&&r()},[t,n])};var LW=It(95582),BW=It(11533),Wi=It(62246),kW=It(65414);function UW({title:n,body:t,children:r}){return h(FlexColumn,{flex:"grow",alignItems:"center",justifyContent:"center",gap:16,padding:20},h(MessageCircle,{stroke:"var(--color-secondary)"}),h(Nw,{title:n,body:t},r))}function Nw({title:n,body:t,children:r}){return h(FlexColumn,{gap:8,alignItems:"center"},h(Text.B4,{weight:"semibold",color:"secondary",align:"center"},n),h(Text.B4,{color:"secondary",align:"center"},t),r)}var Rw=Object.defineProperty,Lw=Object.defineProperties,Bw=Object.getOwnPropertyDescriptors,Mh=Object.getOwnPropertySymbols,kw=Object.prototype.hasOwnProperty,Uw=Object.prototype.propertyIsEnumerable,Ah=(n,t,r)=>t in n?Rw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Fw=(n,t)=>{for(var r in t||(t={}))kw.call(t,r)&&Ah(n,r,t[r]);if(Mh)for(var r of Mh(t))Uw.call(t,r)&&Ah(n,r,t[r]);return n},jw=(n,t)=>Lw(n,Bw(t));function FW(n){return h(LazyComponent,jw(Fw({},n),{module:"./ChatTextEditor",resolve:t=>t.ChatTextEditor,onRequest:()=>Promise.all([It.e(313),It.e(171),It.e(679),It.e(156)]).then(It.bind(It,35156))}))}var jW=It(50292),bd=It(68262);const WW={columnsContainer:"frontend-reader2-ChatPage-module__columnsContainer--vSo7y",pubChatColumn:"frontend-reader2-ChatPage-module__pubChatColumn--TGWIO",pubChatFull:"frontend-reader2-ChatPage-module__pubChatFull--SgFBJ",chatPublication:"frontend-reader2-ChatPage-module__chatPublication--vTh0w",selected:"frontend-reader2-ChatPage-module__selected--qTKem",currentVisibilityBox:"frontend-reader2-ChatPage-module__currentVisibilityBox--wzRt6",headerPubLink:"frontend-reader2-ChatPage-module__headerPubLink--CNIMt",sidebarPubName:"frontend-reader2-ChatPage-module__sidebarPubName--_d42t",sidebarChatText:"frontend-reader2-ChatPage-module__sidebarChatText--mgmc1",headerPubIcon:"frontend-reader2-ChatPage-module__headerPubIcon--UDOLY",inputBox:"frontend-reader2-ChatPage-module__inputBox--PSYZ5",modalContext:"frontend-reader2-ChatPage-module__modalContext--PpHDJ",textInputInset:"frontend-reader2-ChatPage-module__textInputInset--ieJk5",invisible:"frontend-reader2-ChatPage-module__invisible--CAUpR",textInput:"frontend-reader2-ChatPage-module__textInput--G9KKe",latestButton:"frontend-reader2-ChatPage-module__latestButton--zG35Y",submitButton:"frontend-reader2-ChatPage-module__submitButton--G9Oqa",newThreadButton:"frontend-reader2-ChatPage-module__newThreadButton--FBBiq",addImage:"frontend-reader2-ChatPage-module__addImage--zUuSW",quoteReplyComposer:"frontend-reader2-ChatPage-module__quoteReplyComposer--CcUzS",composerLinkPreview:"frontend-reader2-ChatPage-module__composerLinkPreview--_zuKv",imageBox:"frontend-reader2-ChatPage-module__imageBox--GmsiK",image:"frontend-reader2-ChatPage-module__image--fF4sS",deleteFile:"frontend-reader2-ChatPage-module__deleteFile--yFMKJ",deleteQuote:"frontend-reader2-ChatPage-module__deleteQuote--MAU9f",communityViewContainer:"frontend-reader2-ChatPage-module__communityViewContainer--jcdQX",modalColumn:"frontend-reader2-ChatPage-module__modalColumn--ZMWSC",visibilityDropdown:"frontend-reader2-ChatPage-module__visibilityDropdown--jficQ",visibilityDropdownText:"frontend-reader2-ChatPage-module__visibilityDropdownText--EVLZC",loadingBubble:"frontend-reader2-ChatPage-module__loadingBubble--Q0iQy",loadingComposer:"frontend-reader2-ChatPage-module__loadingComposer--UAgpV",messageSquareIcon:"frontend-reader2-ChatPage-module__messageSquareIcon--tg8dR",paywall:"frontend-reader2-ChatPage-module__paywall--eejvK",footer:"frontend-reader2-ChatPage-module__footer--F2GfP",disabled:"frontend-reader2-ChatPage-module__disabled--UZZTE",header:"frontend-reader2-ChatPage-module__header--JYlUY",modalChatEditor:"frontend-reader2-ChatPage-module__modalChatEditor--__z0U"};var Ww=Object.defineProperty,Hw=Object.defineProperties,Vw=Object.getOwnPropertyDescriptors,wu=Object.getOwnPropertySymbols,Nh=Object.prototype.hasOwnProperty,Rh=Object.prototype.propertyIsEnumerable,Lh=(n,t,r)=>t in n?Ww(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Vn=(n,t)=>{for(var r in t||(t={}))Nh.call(t,r)&&Lh(n,r,t[r]);if(wu)for(var r of wu(t))Rh.call(t,r)&&Lh(n,r,t[r]);return n},ir=(n,t)=>Hw(n,Vw(t)),Bh=(n,t)=>{var r={};for(var i in n)Nh.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&wu)for(var i of wu(n))t.indexOf(i)<0&&Rh.call(n,i)&&(r[i]=n[i]);return r},qi=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Kw=30,$w=2,zw=5,Gw=5,Zw=6,Yw=1;function HW({}){var n,t,r;useNavContextAndTitle("Chat",{shouldShowGetAppPill:!1});const{user:i,userSettings:u,changeSetting:D}=useUserContext(),k=u.newest_seen_chat_item_published_at;useStickyTab("chat");const[H,U]=useRouter(),[ee,ve,xe,Le]=(n=H.path.match(/^\/chat(?:\/(\d+)(?:\/post\/([^\/]+)(?:\/reply\/([^\/]+))?)?)?$/))!=null?n:[],ze=Number(ve),qe=new URL(H.url,"https://monograph.dev"),Je=(t=qe.searchParams)==null?void 0:t.get("targetReplyId"),st=!!((r=qe.searchParams)!=null&&r.get("showTarget")),Ct=useSubscriptionsContext(),bt=Cn=>{var Mn;const{publicationUserMap:ar}=(Mn=Ct.result)!=null?Mn:{publicationUserMap:new Map},mr=ar.get(Cn);return!!(mr&&["contributor","admin"].includes(mr.role))},[Dt,Ut]=useThunkReducer(vC,{user:i,inbox:{threads:[],isLoading:!0},communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map});useEffect(()=>{let Cn;const Mn=()=>{if(!document.hidden){const ar=om({changeSetting:D,storedNewestSeenChatItemPublishedAt:k});Ut(PC({maybeUpdateNewestSeenChatSetting:ar}))}Cn=setTimeout(Mn,Kw*1e3+SC($w))};return Mn(),()=>{Cn&&clearTimeout(Cn)}},[Ut,k,D]);const Rt=Dt.inbox.isLoading,Qt=useMemo(()=>{const Cn=[];for(const Mn of Dt.inbox.threads){if(!Mn.communityPostId&&bt(Mn.publication.id)){Cn.push(ir(Vn({},Mn),{communityPost:null,user:i}));continue}const ar=Mn.communityPostId&&Dt.communityPosts.get(Mn.communityPostId);ar&&!ar.isNew&&Cn.push(Vn(Vn({},Mn),ar))}return Cn},[Dt.inbox.threads,Dt.communityPosts,i]),pn=Cn=>{var Mn,ar,mr;return[Cn.publication.name,...Cn.publication.contributors.map(Hn=>Hn.name),(Mn=Cn.user)==null?void 0:Mn.name,(mr=(ar=Cn.communityPost)==null?void 0:ar.body)==null?void 0:mr.substring(0,80)].filter(Boolean)},{setQuery:En,filteredItems:_n}=useSearch({items:Qt,getKeys:pn}),[fn,Zn]=useState(new Map),Gn=new Map((Qt||[]).map(Cn=>fn.has(Cn.publication.id)?[Cn.publication.id,fn.get(Cn.publication.id)]:Cn.lastViewedAt?[Cn.publication.id,dayjs(Cn.lastViewedAt)]:null).filter(Boolean));useEffect(()=>{typeof ze!="number"||isNaN(ze)||(fetch(`/api/v1/community/publications/${ze}/seen`,{method:"POST"}).then(()=>{}),Zn(fn.set(ze,dayjs())))},[ze]),useEffect(()=>{Rt||track(EVENTS.THREADS_INBOX_SCREEN_VIEWED,{unread_count:Qt.filter(Cn=>kh(Cn,Gn)).length,thread_count:Qt.length})},[Rt]);const $n=(Cn,Mn,ar,mr)=>{U(pathWithQuery(`/chat${Cn!=null?`/${Cn}`:""}${Mn!=null?`/post/${Mn}`:""}${ar!=null?`/reply/${ar}`:""}`,{targetReplyId:mr}))},yn=Cn=>{$n(Cn)},Ln=Cn=>{$n(ze,Cn)},br=(Cn,Mn=null)=>{$n(ze,xe,Cn,Mn)},Xn=useMemo(()=>({dispatch:Ut}),[]);return h(Gh.Provider,{value:Xn},h(FlexRow,{className:css.columnsContainer,flex:"grow"},setMetaData({title:"Chat | Substack",description:"Chat with your favorite writers on Substack",image:imginary("/img/reader/chat-page-thumb.jpg")}),h(FlexColumn,{overflowY:"auto",borderRight:"detail",width:350},h(FlexColumn,{flex:"auto",padding:20,borderBottom:"detail"},h(SearchBox,{setQuery:En,placeholder:"Search chats..."})),Rt?h(Jw,null):_n.length>0?h(PageStack2,{gap:0},_n.map(Cn=>(Cn.communityPost&&Cn.user||bt(Cn.publication.id))&&h(Qw,{key:Cn.publication.id,item:Cn,onSelect:yn,isSelected:ze===Cn.publication.id,isUnread:kh(Cn,Gn)}))):Qt.length>0?h(FlexColumn,{paddingTop:8},h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"fill",padding:32},h(TextZero,{title:"No chats found",body:"Please try again with a different search term."}))):h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:"You don\u2019t have any threads",body:"When one of your subscriptions starts a new thread, it will appear here."}))),Le!=null?h(jh,{key:"replies",postId:xe,pubId:ze,parentCommentId:Le,state:Dt,onBack:()=>br(null,Le),navigateToChat:()=>Ln(null),targetReplyId:Je,showTarget:st}):xe!=null?h(jh,{key:"comments",postId:xe,pubId:ze,state:Dt,onBack:()=>Ln(null),onSelect:br,navigateToChat:()=>Ln(null),targetReplyId:Je,showTarget:st}):ze?h(tC,{key:ze,pubId:ze,state:Dt,onSelect:Ln}):h(ChatZero,{title:"Click on a chat in the sidebar to get started.",body:"Once you do, it will appear here."})))}function Jw(){return h(PageStack2,null,Array(8).fill(0).map(()=>h(Xw,null)))}function Xw(){return h(FlexBox,{gap:16,padding:16},h(Placeholder,{type:"circle",size:40}),h(FlexColumn,{gap:8,flex:"grow"},h(Placeholder,{type:"bar",maxWidth:100}),h(Placeholder,{type:"bar",maxWidth:300}),h(Placeholder,{type:"bar",maxWidth:200})))}function Qw({item:n,onSelect:t,isSelected:r,isUnread:i}){return h(FlexRow,{onClick:()=>t(n.publication.id),className:classnames(css.chatPublication,{[css.selected]:r}),alignItems:"start",gap:16,padding:20},n.user&&h(AvatarWithPub,{user:n.user,size:56,pub:n.publication}),h(FlexColumn,{gap:4,flex:"grow",minWidth:0},h(FlexBox,{justifyContent:"space-between",alignItems:"center",gap:8},h(Text.Meta,{className:css.sidebarPubName,ellipsis:!0},n.publication.name),n.communityPost&&h(Text.Meta,{ellipsis:!0},dayjs(n.communityPost.created_at).fromNowShort()),i&&h(UnreadDot,null)),h(Text,{clamp:2,size:14,isParagraph:!0,className:css.sidebarChatText},n.user&&h(Text.B4,{as:"span",color:"primary",weight:"semibold"},n.user.name,":"," "),n.communityPost&&h(Text.B4,{as:"span",color:"secondary"},h(qw,{post:n.communityPost})))))}function qw({post:n}){var t;const{isPaid:r}=useSubscriptionStatus(n.publication_id);return n.reported_by_user?h("em",null,"You flagged this thread."):!r&&n.audience==="only_paid"?h("em",null,"started a thread for paid subscribers."):n.link_url?h(eC,{linkMetadata:n.link_metadata}):n.media_assets&&((t=n.media_assets)==null?void 0:t.length)>0?h(Fragment,null,h("em",null,`shared ${n.media_assets.length} ${n.media_assets.length>1?"photos":"photo"}.`),n.body&&` ${n.body}`):h(Fragment,null,n.body)}function eC({linkMetadata:n}){return h(Fragment,null,h("em",null,"shared a link."),n&&` "${n.title}"`)}function kh(n,t){if(!n.communityPost)return!1;const r=t.get(n.publication.id);return r?dayjs(n.communityPost.created_at).isAfter(r):!0}function tC({pubId:n,onSelect:t,state:r}){var i,u,D,k;const{changeSetting:H,userSettings:U}=useUserContext(),ee=U.newest_seen_chat_item_published_at,ve=Ia(),xe=(i=r.chats.get(n))!=null?i:Cu,Le=r.inbox.isLoading&&r.inbox.threads.length===0,ze=(u=xe.publication)==null?void 0:u.threads_v2_settings,qe=!!((D=xe.publication)!=null&&D.threads_v2_enabled),Je=useRef(null),st=useRef(0);useEffect(()=>{xe.publication&&track(EVENTS.PUBLICATION_THREADS_SCREEN_VIEWED,{publicationId:xe.publication.id})},[n,!!xe.publication]),useLayoutEffect(()=>{var In;const Xt=Je.current;Xt&&(Xt.scrollTop=(In=xe.scrollPosition)!=null?In:0);const On=()=>{ve({type:"posts-save_scroll_position",payload:{publication_id:n,scrollPosition:st.current}})},Jt=()=>{var Qn;st.current=(Qn=Xt==null?void 0:Xt.scrollTop)!=null?Qn:0};return Xt==null||Xt.addEventListener("scroll",Jt,{passive:!0}),()=>{Xt==null||Xt.removeEventListener("scroll",Jt),On()}},[n,!!Je.current]),useEffect(()=>{let In;const Xt=()=>{if(!document.hidden){const On=om({changeSetting:H,storedNewestSeenChatItemPublishedAt:ee});ve(zh(n,!0,{maybeUpdateNewestSeenChatSetting:On}))}In=setTimeout(Xt,zw*1e3)};return ve({type:"posts-request_initial",payload:{publication_id:n}}).then(Xt),()=>{In&&clearTimeout(In)}},[n,ve,ee,H]);const Ct=useFetch({pathname:`/api/v1/community/publications/${n}/posts`,method:"POST",deps:[n]}),bt=()=>{setTimeout(()=>{var In;(In=Je.current)==null||In.scrollTo({top:0})},0)},{isPaid:Dt,isAuthor:Ut,isFreeSubscribed:Rt,isFounding:Qt}=useSubscriptionStatus(n),pn=(ze==null?void 0:ze.create_thread_minimum_role)===CreateThreadRole.FOUNDING,En=(ze==null?void 0:ze.create_thread_minimum_role)===CreateThreadRole.PAID,_n=(ze==null?void 0:ze.create_thread_minimum_role)===CreateThreadRole.FREE,fn=Ut||pn&&Qt||En&&(Dt||Qt)||_n&&(Rt||Dt||Qt),Zn=In=>qi(this,[In],function*({value:Xt,mediaAssets:On,sendAsEmail:Jt,audience:Qn,linkUrl:Bn}){const Dr=uniqueId();ve({type:"posts-new",payload:{publication_id:n,body:Xt,media_assets:On,link_url:Bn,type:On?"media":Bn?"link":"text",audience:Qn!=null?Qn:"all_subscribers",id:Dr}}),bt();const lr=yield Ct.refetch({json:{body:Xt,media_urls:On==null?void 0:On.map(Ar=>Ar.url),audience:Qn!=null?Qn:"all_subscribers",type:On?"media":"text",send_email:!!Jt,link_url:Bn}});lr instanceof Error?alert("We failed to post your thread. Please try again later."):(ve({type:"posts-commit",payload:{publication_id:n,id:Dr,chatItem:lr}}),H("newest_seen_chat_item_published_at",lr.communityPost.created_at))}),Gn=()=>{ve(EC(n))},$n=!1,yn=In=>{if($n||!xe.hasMore||xe.isLoadingMore)return;const{currentTarget:Xt}=In;Xt.scrollTop<Xt.offsetHeight-Xt.scrollHeight+100&&Gn()},br=(xe.posts.length===0||xe.posts.every(In=>{const Xt=r.communityPosts.get(In);return!Xt||xa(Xt)&&Xt.communityPost.status!=="published"}))&&!xe.isLoadingMore&&!xe.hasMore,Xn=Ut&&br,Cn=xe.posts.map(In=>r.communityPosts.get(In)).filter(In=>In!==void 0&&In.communityPost.status==="published");let Mn;const ar=[];let mr=[];for(const In of Cn){const Xt=dayjs(In.communityPost.created_at);Mn&&!Xt.isSame(Mn,"day")&&(ar.push({day:Mn,group:mr}),mr=[]),mr.push(In),Mn=Xt}Mn&&mr.length>0&&ar.push({group:mr,day:Mn});const Hn=xe.error;return Hn?h(Xh,{pubErr:Hn}):!qe&&!Le?Ut?h(Pi,{title:"You haven't enabled chat for this publication yet.",body:"Once you do, you can access its chat here."},xe.publication&&h(Ka,{onClick:()=>{xe.publication&&(window.location.href=`${getPublishSettingsUrl(xe.publication,{addBase:!0,section:"chat-settings"})}`)}},"Enable chat")):h(Pi,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."}):h(iC,null,xe.publication&&h(Fh,{pub:xe.publication}),Xn?h(Pi,{title:"You haven't started any threads yet.",body:"Once you do, they'll appear here."}):br?h(Pi,{title:"This publication has not started any threads.",body:"Once it does, they'll appear here."}):h(Wh,{direction:"column-reverse",onScroll:yn,forwardRef:Je},ar.map(({day:In,group:Xt})=>h(xC,{key:In.toISOString(),day:In,items:Xt,onSelect:t,isPaid:Qt||Dt||Ut})),xe.isLoadingMore||Le?h(Ls,{numberToLoad:2}):xe.hasMore&&h(Ed,{onClick:Gn})),fn?h(uC,{publicationId:n,placeholder:"Start a new thread",maxImagesToUpload:Zw,disabled:Ct.isLoading||Le,onSubmit:Zn,publishOptionsEnabled:Ut,visiblityOptionsEnabled:!!((k=xe.publication)!=null&&k.plans)}):h(FlexBox,{justifyContent:"center",alignItems:"center",paddingX:24,borderTop:"detail",className:classnames(css.footer,css.disabled)},h(FlexRow,{gap:8,alignItems:"center"},h(MessageSquare,{size:16,className:css.messageSquareIcon}),h(Text.B4,{color:"secondary"},"Click any thread to reply"))))}function nC({item:n,onSelect:t,isPaid:r}){const{communityPost:i}=n,u=!r&&i.audience==="only_paid",D=()=>t(i.id),k=H=>{H.defaultPrevented||D()};return h(FlexColumn,{onClick:k,className:classnames(!u&&css.communityViewContainer)},u?h(Qh,{user:n.user,commenters:i.recent_commenters,count:i.comment_count}):h(CommunityPostView,{communityPost:i,author:n.user,onReply:D}))}function Uh({pub:n,children:t,className:r}){return h(FlexBox,{justifyContent:"center",alignItems:"center",as:"a",target:"_blank",href:getPubUrl(n,{signedIn:!0}),className:r},t)}function Fh({pub:n}){return h(FlexBox,{paddingX:24,key:n.id},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(Uh,{pub:n,className:css.headerPubLink},h(PubIcon,{className:css.headerPubIcon,pub:n,size:40})),h(Uh,{pub:n,className:css.headerPubLink},h(Text.H4,null,n.name)),h(FlexBox,{justifyContent:"center",alignItems:"center"},h(ChatAvatar,{user:{id:n.author_id,name:n.author_name,photo_url:n.author_photo_url},size:40}))))}function jh({postId:n,pubId:t,parentCommentId:r,onBack:i,onSelect:u,state:D,navigateToChat:k,targetReplyId:H,showTarget:U}){var ee,ve,xe,Le,ze,qe,Je,st,Ct,bt;const Dt=r?(ee=D.replies.get(r))!=null?ee:Ou:(ve=D.comments.get(n))!=null?ve:Ou,Ut=D.communityPosts.get(n),Rt=r&&D.communityComments.get(r),Qt=D.inbox.isLoading&&D.inbox.threads.length===0,pn=D.chats.get(t),En=D.inbox,_n=(ze=(Le=(xe=pn==null?void 0:pn.publication)==null?void 0:xe.threads_v2_settings)==null?void 0:Le.photo_replies_enabled)!=null?ze:!1,[fn,Zn]=useState(null),Gn=`${r?`replies-${r}`:`comments-${n}`}-${Dt.comments.length}${fn?`-${fn.comment.id}`:""}`,{isAuthor:$n,isFounding:yn,isPaid:Ln,isFreeSubscribed:br}=useSubscriptionStatus(t),Xn={quoteReply:fn,cancelQuoteReply:()=>Zn(null)},Cn=eo=>{var so;const Ro=(so=D.communityComments.get(eo.id))==null?void 0:so.user;Ro?Zn({comment:eo,user:Ro}):alert("Could not create a quote reply for this comment. Please try again.")};useEffect(()=>{r?Rt&&Da(Rt)&&track(EVENTS.THREAD_REPLY_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,community_comment_id:r}):Ut&&xa(Ut)&&track(EVENTS.THREAD_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,type:Ut.communityPost.type,audience:Ut.communityPost.audience})},[r,n,t,!!Ut,!!Rt]);const Mn=useUser(),ar=useRef(),mr=useRef(),Hn=Ia(),[In,Xt]=useState(null),[On,Jt]=r?["replies",{parentCommentId:r}]:["comments",{postId:n}],Qn=!Dt.before.isLoading&&!Dt.after.isLoading&&Dt.comments.length===0,Bn=r!=null?`/api/v1/community/comments/${r}/comments`:`/api/v1/community/posts/${n}/comments`,Dr=r!=null?r:n,lr=(eo,so)=>qi(this,null,function*(){Hn({type:`${On}-request_initial`,payload:ir(Vn({},Jt),{order:eo})});const Ro=eo==="desc"?"before":"after";try{const ei=yield fetchJson(Bn,{query:{order:eo,targetReplyId:so!=null?so:void 0}});Hn({type:`${On}-load_edge`,payload:ir(Vn({},Jt),{edge:Ro,result:ei})})}catch(ei){return console.warn(ei),Hn({type:`${On}-error`,payload:ir(Vn({},Jt),{edge:Ro,error:ei})}),eo==="desc"&&Ar(),ei}return so?(setTimeout(()=>{const Qo=document.getElementById(`comment-${so}`);Qo&&(U?Qo.scrollIntoView({behavior:"smooth",block:"center"}):Qo.scrollIntoView({behavior:"auto",block:"center"}))},U?250:50),null):(eo==="desc"&&Ar(),null)}),Ar=()=>{setTimeout(()=>{var eo;(eo=ar.current)==null||eo.scrollTo({top:1e7})},0)},Yn={before:!1,after:!1},Or=(eo,so)=>{if(!(Yn[eo]||Dt[eo].isLoading))return Yn[eo]=!0,_r(eo,so)},_r=(eo,so)=>qi(this,null,function*(){var Ro,ei,Qo,ga;Hn({type:`${On}-request_edge`,payload:ir(Vn({},Jt),{edge:eo})});const Oa=last(Dt.comments),ts=Dt.comments[0],nl=eo==="before"?{order:"desc",before:Oa&&((Ro=D.communityComments.get(Oa))==null?void 0:Ro.comment.created_at)}:{order:"asc",after:ts&&((ei=D.communityComments.get(ts))==null?void 0:ei.comment.created_at)};try{const na=yield fetchJson(Bn,ir(Vn({},so),{query:nl})),{current:ca}=ar,Zc=(ga=(Qo=mr.current)==null?void 0:Qo.offsetHeight)!=null?ga:0;Hn({type:`${On}-load_edge`,payload:ir(Vn({},Jt),{edge:eo,result:na})}),setTimeout(()=>{var Yc,vo;if(Dt.order==="desc"&&ca){const{scrollTop:Jc}=ca;ca.scrollTo({top:Jc+(((vo=(Yc=mr.current)==null?void 0:Yc.offsetHeight)!=null?vo:0)-Zc)})}},0)}catch(na){console.warn(na),Hn({type:`${On}-error`,payload:ir(Vn({},Jt),{edge:eo,error:na})})}}),Fr=eo=>{Dt[eo].hasMore&&Or(eo)},Co=eo=>{const{currentTarget:so}=eo,{scrollTop:Ro,offsetHeight:ei,scrollHeight:Qo}=so;Qo>ei&&(Ro<100?Fr("before"):Ro>ei-Qo-100&&Fr("after"))};useEffect(()=>{lr("asc",H).then(eo=>{eo&&Xt(eo)})},[Dr,H]);const Zr=useRef(_r);Zr.current=_r,useEffect(()=>{if(!Qn&&Dt.order==="desc"){let eo=new AbortController;const so=()=>{setTimeout(()=>qi(this,null,function*(){eo.signal.aborted||(eo=new AbortController,yield Zr.current("after",{signal:eo.signal}),so())}),Gw*1e3)};return so(),()=>{eo.abort()}}},[Dr,Qn,Dt.order]);const io=useFetch({pathname:`/api/v1/community/posts/${n}/comments`,method:"POST",deps:[Dr]}),ua=(eo,so,Ro)=>qi(this,null,function*(){const ei="We failed to upload your media. Please try again later.",Qo=eo[0],{contentType:ga}=Qo,Oa=yield TC(so,Ro,ga);if(Oa instanceof Error){alert(ei);return}const{url:ts}=Oa;(yield IC(Qo,ts))instanceof Error&&alert(ei)}),ri=eo=>qi(this,[eo],function*({value:so,mediaAssets:Ro,mentions:ei}){const Qo=so!=null?so:"",ga=uuid();Dt.order==="asc"&&lr("desc");let Oa=null;Ro&&(Oa=Ro.map(ca=>({id:uuid(),url:ca.url,content_type:ca.contentType,type:"image",file:ca.file})));const ts={is_founding:!!yn,membership_state:Ln?"subscribed":"free_signup",role:$n?"admin":null};Hn({type:`${On}-new`,payload:ir(Vn({},Jt),{id:ga,body:Qo,postId:n,mediaUploads:Oa,quoteReply:fn,mentions:ei,pubRoles:ts})});const nl=fn==null?void 0:fn.comment.id;fn&&Zn(null),Ar(),Ro&&(yield ua(Ro,ga,t));const na=yield io.refetch({json:{id:ga,body:Qo,parent_id:r,quote_id:nl,mentions:ei}});if(!(na instanceof Error))Hn({type:`${On}-commit`,payload:ir(Vn({},Jt),{id:ga,reply:na})});else if(na instanceof FetchError){const ca=na.body.status==="PUBLICATION_BAN";alert(ca?`You are not allowed to post to this chat. ${na.body.error}`:"We failed to post your comment. Please try again later.")}}),Ca=In&&((qe=In.body)==null?void 0:qe.status)==="PUBLICATION_NOT_FOUND";if(useEffect(()=>{!pn&&!En.isLoading&&!Ca&&k()},[En.isLoading]),Ca)return h(Pi,{title:"We could not find this publication.",body:"Please select another publication and try again."});if(!pn&&!Qt)return h(Pi,{title:"Something went wrong",body:"Navigate back to the publication chat by clicking the button below"},h(Ka,{onClick:k},"Back to chat"));if(pn&&pn.error)return h(Xh,{pubErr:pn.error});if(In&&((Je=In.body)==null?void 0:Je.status)==="POST_NOT_FOUND")return h(Pi,{title:"We could not find the parent post",body:"Navigate back to the publication chat by clicking the button below"},h(Ka,{onClick:k},"Back to chat"));if(H&&In&&((st=In.body)==null?void 0:st.status)==="COMMENT_NOT_FOUND")return h(Pi,{title:"We could not find this reply",body:"Navigate back by clicking the button below"},h(Ka,{onClick:i},"Go back"));if(In&&((Ct=In.body)==null?void 0:Ct.status)==="COMMENT_NOT_FOUND")return h(Pi,{title:"We could not find the parent comment",body:"Navigate back by clicking the button below"},h(Ka,{onClick:i},"Go back"));if(Ut&&Ut.isNew||Rt&&Rt.isNew)return h(Pi,{title:"You cannot comment on this post yet",body:"Navigate back by clicking the button below"},h(Ka,{onClick:i},"Go back"));if(Ut&&Ut.communityPost.publication_id!==t)return h(Pi,{title:"This post does not belong to this publication",body:"Navigate back to the publication chat by clicking the button below"},h(Ka,{onClick:k},"Back to chat"));if(Rt&&Rt.comment.post_id!==n)return h(Pi,{title:"This comment does not belong to this post",body:"Navigate back to the publication chat by clicking the button below"},h(Ka,{onClick:k},"Back to chat"));const jo=In&&((bt=In.body)==null?void 0:bt.status)==="PAID_SUBSCRIPTION_REQUIRED",ka=Ut&&xa(Ut)&&!Ut.communityPost.is_locked,Ua=$n||!jo&&ka&&(r?Rt&&Da(Rt)&&!Rt.comment.is_locked:!0),ta=eo=>so=>{if(!eo)return;so.preventDefault();const Ro=eo.comment.id;Dt.comments.find(Qo=>Qo===Ro)&&setTimeout(()=>{const Qo=document.getElementById(`comment-${Ro}`);Qo&&Qo.scrollIntoView({behavior:"smooth",block:"start"})},100)},Ep=io.isLoading||Qt;return h(aC,null,(pn==null?void 0:pn.publication)&&h(Fh,{pub:pn.publication}),h(oC,{onClick:i}),h(FlexColumn,{style:{position:"relative"},flex:"grow"},h(Wh,{onScroll:Co,forwardRef:ar,fullWidth:!0},Qt?h(Ls,{showReplyBubble:!1}):jo?h(Qh,{user:Rt?Rt.user:Ut?Ut.user:null,showReply:!1,analyticsParams:{publication_id:t,community_post_id:n}}):Rt||Ut?h(FlexColumn,{className:css.communityViewContainer},Rt&&!Rt.isNew?h(CommunityCommentView,{key:Rt.comment.id,communityComment:Rt.comment,isBanned:Rt.is_banned,pubRole:Rt.pub_roles,chatPublicationId:t,author:Rt.user,quoteReply:Rt.quote,onDelete:i,hideReply:!0}):Ut&&!Ut.isNew&&h(CommunityPostView,{key:Ut.communityPost.id,communityPost:Ut.communityPost,author:Ut.user,onDelete:i,hideReply:!0})):h(Ls,{showReplyBubble:!1}),h(rC,null),Qt?h(Ls,{numberToLoad:2}):jo?h(ChatZero,{title:"Only paid subscribers can read comments",body:"Upgrade to a paid subscription to access the chat"},(pn==null?void 0:pn.publication)&&h(tm,{pub:pn.publication,utm_source:"web-chat-paywall"})):Qn?h(ChatZero,{title:"No replies yet",body:"Be the first to add a reply below"}):h(Fragment,null,Dt.before.error&&h(Jh,null),Dt.before.isLoading?h(Ls,null):Dt.before.hasMore&&h(Ed,{onClick:()=>Or("before")}),h(FlexColumn,{ref:mr,gap:24},Dt.comments.slice().reverse().map(eo=>{const so=D.communityComments.get(eo);if(so&&so.comment.status==="published"){const Ro=!so.isNew&&u?()=>u(so.comment.id):void 0,ei=Qo=>{Qo.defaultPrevented||Ro==null||Ro()};return h(FlexColumn,{alignItems:"start",onClick:ei,className:css.communityViewContainer},h(CommunityCommentView,{key:so.comment.id,communityComment:so.comment,isBanned:so.is_banned,chatPublicationId:t,quoteReply:so.quote,pubRole:so.pub_roles,onQuoteReplyClick:ta(so.quote),onNewQuote:Cn,author:so.isNew?Mn:so.user,onReply:Ro,isTargeted:U&&H===so.comment.id}))}})),Dt.after.error&&h(Jh,null),Dt.after.isLoading&&Dt.order==="asc"?h(Ls,null):Dt.after.hasMore&&h(Ed,{onClick:()=>Or("after")}))),Dt.order==="asc"&&Dt.after.hasMore&&h(Button,{className:css.latestButton,onClick:()=>lr("desc"),rounded:!0},"Latest")),Ua&&(Ep?h(_C,null):h(dC,{stateChangeKey:Gn,placeholder:"Add a reply...",maxImagesToUpload:Yw,photosEnabled:_n,onSubmit:ri,quoteHandler:Xn,mentionsContext:{publication_id:t,community_post_id:n,community_comment_id:r}})))}function rC(){return h(FlexBox,{borderTop:"detail",alignSelf:"stretch"})}function oC({onClick:n}){return h(FlexBox,{paddingX:24,paddingTop:16},h(IconButton,{size:40,onClick:n,fill:"outline",priority:"secondary"},h(ArrowLeft,{size:20})))}function iC(n){return h(FlexColumn,Vn({},n))}function aC(n){return h(FlexColumn,Vn({},n))}function Wh({children:n,direction:t="column",onScroll:r,forwardRef:i,fullWidth:u}){return h(FlexBox,{className:css.pubChatColumn,overflowY:"auto",padding:24,flex:"grow",direction:t,onScroll:r,ref:i,alignItems:u?"stretch":"start"},h(FlexBox,{className:css.pubChatFull,gap:24,direction:t},n))}function sC(){const[n,t]=useState([]);return{files:n,clearFiles:()=>{t([])},addFiles:D=>{t(k=>[...k,...D])},removeFile:D=>{t(k=>k.filter(H=>H!==D))}}}function lC(n){return Promise.all(n.map(t=>qi(this,null,function*(){return{file:t,imageData:yield getImageDataFromFileInput({files:[t]})}}))).then(t=>t.map(r=>{var i;return{contentType:r==null?void 0:r.file.type,url:(i=r==null?void 0:r.imageData)==null?void 0:i.url,bytes:r==null?void 0:r.file.size,file:r==null?void 0:r.file}}))}function Hh(n,t){const r=useUser(),[i,u]=useState(!1),D={value:i,flip:()=>u(yn=>!yn)},[k,H]=useState("all_subscribers"),U={value:k,set:H},[ee,ve]=useState(""),[xe,Le]=useState(),[ze,qe]=useState(null),Je=useRef(null),{files:st,clearFiles:Ct,addFiles:bt,removeFile:Dt}=sC(),Ut=`You can only upload ${n} ${n>1?"images":"image"} at a time.`,Rt=ee.trim()!==""||st.length>0||ze!==null,[Qt,pn]=useState(!1),En={isSubmitting:Qt,clearSubmission:()=>pn(!1)},_n=yn=>qi(this,null,function*(){yn==null||yn.preventDefault();const Ln=ee.trim(),br=st.slice(),Xn=xe?Vn({},xe):void 0,Cn=ze;if(Rt){ve(""),Ct(),Le(void 0),pn(!0),qe(null);let Mn;if(br.length>0)try{Mn=yield lC(br)}catch(ar){console.error("error getting media urls",ar)}t({value:Ln,sendAsEmail:i,audience:k,mediaAssets:Mn,mentions:Xn,linkUrl:Cn})}}),fn=(yn,Ln=!0)=>{Rt&&Ln&&yn.key==="Enter"&&!yn.shiftKey&&!yn.altKey&&_n(yn)},Zn=useRef(null),Gn=()=>{var yn;st.length>=n?alert(Ut):(yn=Zn.current)==null||yn.click()},$n=yn=>{yn.stopPropagation(),yn.preventDefault();const Ln=[...yn.target.files];Ln.length+st.length>n?alert(`${Ut} Please try again.`):bt(Ln),Zn!=null&&Zn.current&&(Zn.current.value="")};return useEffect(()=>(Je.current&&clearTimeout(Je.current),Je.current=setTimeout(()=>{const yn=parseValidLinks(ee);qe(Ln=>yn.length>0?yn[0].href:Ln)},500),()=>{Je.current&&clearTimeout(Je.current)}),[ee,qe]),{user:r,canSubmit:Rt,files:st,linkUrl:ze,setLinkUrl:qe,handleSubmit:_n,inputFile:Zn,removeFile:Dt,onChangeFile:$n,onImageButtonClick:Gn,textValue:ee,setTextValue:ve,setMentionMap:Le,handleKeyDown:fn,sendAsEmailHandler:D,postAudienceHandler:U,submissionTracker:En}}function uC({publicationId:n,placeholder:t,maxImagesToUpload:r,publishOptionsEnabled:i,visiblityOptionsEnabled:u,disabled:D,onSubmit:k}){const[H,U]=useState(!1),ee=()=>U(!1);return useEffect(()=>{H&&track(EVENTS.THREADS_COMPOSER_SCREEN_VIEWED,{publication_id:n})},[H]),h(Fragment,null,h(FlexBox,{justifyContent:"center",alignItems:"center",flex:"auto",borderTop:"detail",className:css.footer},h(Button,{className:css.newThreadButton,priority:"primary",fill:"filled",onClick:()=>U(!0),disabled:H||D,rounded:!0},t)),h(Modal,{isOpen:H,onClose:ee,fullscreenMobile:!0},h(cC,{maxImagesToUpload:r,publishOptionsEnabled:i,visiblityOptionsEnabled:u,onSubmit:k,handleCloseModal:ee})))}function cC({maxImagesToUpload:n,publishOptionsEnabled:t,visiblityOptionsEnabled:r,onSubmit:i,handleCloseModal:u}){const{user:D,files:k,handleSubmit:H,inputFile:U,removeFile:ee,onChangeFile:ve,onImageButtonClick:xe,textValue:Le,setTextValue:ze,handleKeyDown:qe,sendAsEmailHandler:Je,postAudienceHandler:st,canSubmit:Ct,linkUrl:bt,setLinkUrl:Dt}=Hh(n,i),Ut=useCallback((Rt,Qt)=>{ze(Rt)},[ze]);return h(FlexColumn,{className:css.modalColumn},h(FlexRow,{borderBottom:"detail",alignItems:"center",paddingY:12,paddingX:16,justifyContent:"space-between"},h(FlexBox,{alignItems:"center",gap:8},h(Text.H3,null,"New Thread")),h(IconButton,{size:40,"aria-label":"Close",onClick:u},h(X,{size:20,"aria-hidden":"true"}))),h(FlexColumn,{gap:16,padding:16,flex:"grow"},h(FlexBox,{gap:12,className:classnames(css.inputBox,css.modalContext),flex:"grow",paddingRight:8},h(Avatar,{size:48,user:D}),h(FlexBox,{flex:"grow"},h(LazyChatTextEditor,{defaultValue:Le,placeholder:"Write something...",onChange:Ut,onReturn:H,className:css.modalChatEditor}))),k.length>0&&h(Kh,{files:k,deleteFile:ee}),bt&&h(pC,{linkUrl:bt,deleteLink:()=>Dt(null)})),t&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8},h(Mail,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Also send as email")),h(Switch,{checked:Je.value,onChange:Je.flip,color:"default"})),t&&r&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(Popover,{content:({closePopover:Rt})=>h(fC,{currentVisibility:st.value,onPick:Qt=>{st.set(Qt),Rt()}}),preferPlacement:"top-start"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8,className:css.currentVisibilityBox},st.value==="all_subscribers"?h(Fragment,null,h(Unlock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Visible to ",h("b",null,"all subscribers"))):h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"paid subscribers")))))),h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h("input",{type:"file",accept:"image/*",id:"file",ref:U,style:{display:"none"},onChange:ve,"aria-label":"Add image",multiple:!0}),h(Vh,{onClick:xe,fontWeight:"medium",size:24,color:"primary-text"}),h(Button,{className:css.submitButton,priority:"primary",disabled:!Ct,onClick:Rt=>{H(Rt),u()}},"Post")))}function dC({stateChangeKey:n,onSubmit:t,placeholder:r,maxImagesToUpload:i,photosEnabled:u,quoteHandler:D,mentionsContext:k}){const{user:H,files:U,handleSubmit:ee,inputFile:ve,removeFile:xe,onChangeFile:Le,onImageButtonClick:ze,textValue:qe,setTextValue:Je,setMentionMap:st,canSubmit:Ct,submissionTracker:bt}=Hh(i,t),Dt=useCallback((Ut,Rt)=>{Je(Ut),st(Rt.size===0?void 0:Object.fromEntries(Rt))},[Je,st]);return h(FlexColumn,{alignItems:"start",justifyContent:"center",as:"form",paddingX:24,paddingY:24,gap:16,onSubmit:ee,borderTop:"detail",alignSelf:"stretch"},U.length>0&&h(Kh,{files:U,deleteFile:xe,paddingLeft:56}),D.quoteReply&&h(hC,{quoteReply:D.quoteReply,cancelQuoteReply:D.cancelQuoteReply}),h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Avatar,{user:H,size:40}),h(FlexBox,null,h("input",{type:"file",accept:"image/*",id:"file",ref:ve,style:{display:"none"},"aria-label":"Add image",onChange:Le,multiple:!0})),h(FlexBox,{className:css.inputBox,overflowY:"auto",overflowX:"hidden",paddingY:8,paddingX:16,radius:20,border:"detail",justifyContent:"space-between",alignItems:"start",flex:"grow",gap:8},h(LazyChatTextEditor,{defaultValue:qe,placeholder:r,onChange:Dt,onReturn:ee,mentionsContext:k,submitOnEnter:!0,focusKey:n,submissionTracker:bt})),u&&!D.quoteReply&&h(Vh,{onClick:ze,fill:"outline"}),Ct&&h(IconButton,{priority:"primary",fill:"filled",size:40,type:"submit"},h(ArrowUp,{size:20}))))}function Vh({onClick:n,fontWeight:t="normal",size:r=20,containerSize:i=40,fill:u="empty",color:D}){return h(IconButton,{size:i,onClick:n,color:D,fill:u},h(Image,{size:r,fontWeight:t,className:css.addImage}))}function fC({currentVisibility:n,onPick:t}){return h(FlexColumn,{gap:4},h(FlexRow,{borderBottom:"detail",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:8,paddingX:8},h(Text.B3,{className:css.visibilityDropdownText},"Choose who can see this:")),h(DropdownMenuItem,{onClick:()=>t("all_subscribers"),icon:h(Unlock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"All subscribers",n==="all_subscribers"&&h(Check,{size:20}))),h(DropdownMenuItem,{onClick:()=>t("only_paid"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Paid subscribers",n==="only_paid"&&h(Check,{size:20}))))}function pC({linkUrl:n,deleteLink:t}){return h(FlexRow,{className:css.composerLinkPreview,alignSelf:"start"},h(LinkBubble,{linkUrl:n}),h(Pd,{onDelete:t,className:css.deleteFile}))}function Kh(n){var t=n,{files:r,deleteFile:i}=t,u=Bh(t,["files","deleteFile"]);return h(FlexBox,ir(Vn({},u),{gap:8,wrap:"wrap"}),r.map(D=>h(mC,{key:D.name,file:D,deleteFile:i})))}function hC({quoteReply:n,cancelQuoteReply:t}){return h(FlexBox,{paddingLeft:56,className:css.quoteReplyComposer},h(QuoteBox,{authorName:n.user.name,communityEntity:n.comment}),h(Pd,{onDelete:t,className:css.deleteQuote,iconSize:16,xSize:14}))}function Pd({onDelete:n,className:t,iconSize:r=32,xSize:i=20}){return h(IconButton,{className:t,size:r,priority:"media",onClick:n},h(X,{size:i}))}function mC({file:n,deleteFile:t}){return h(FlexRow,{className:css.imageBox},h("img",{className:css.image,src:URL.createObjectURL(n),alt:n.name}),h(Pd,{onDelete:()=>t(n),className:css.deleteFile}))}function Ed({onClick:n}){return h(FlexBox,{justifyContent:"center",padding:8},h(Button,{fill:"empty",onClick:n},"Load more"))}function _C(){return h(FlexColumn,{padding:24,borderTop:"detail",alignSelf:"stretch",gap:16,alignItems:"start",justifyContent:"center"},h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{className:css.loadingComposer,height:40,type:"bar"})))}function Ls({numberToLoad:n=1,showReplyBubble:t=!0}){return h(FlexColumn,{gap:32},Array(n).fill(0).map(()=>h(gC,{showReplyBubble:t})))}function gC({showReplyBubble:n=!0}){return h(FlexRow,{gap:12,flex:"grow",alignItems:"start"},h(Placeholder,{type:"circle",size:40}),h(FlexColumn,{gap:4,flex:"grow"},h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:70+Math.random()*80}),n&&h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:50})))}function vC(n,t){return t.type.startsWith("inbox-")?yC(n,t):t.type.startsWith("posts-")?bC(n,t):t.type.startsWith("replies-")||t.type.startsWith("comments-")?wC(n,t):n}const Cu={isLoadingMore:!1,hasMore:!1,posts:[],error:null,publication:null,scrollPosition:0};function yC(n,t){switch(t.type){case"inbox-new_items":{const{threads:r}=t.payload;return ir(Vn({},n),{inbox:ir(Vn({},n.inbox),{isLoading:!1,threads:r.map(i=>{var u=i,{communityPost:D,user:k}=u,H=Bh(u,["communityPost","user"]),U;return ir(Vn({},H),{communityPostId:(U=D==null?void 0:D.id)!=null?U:null})})}),communityPosts:new Map([...n.communityPosts,...r.map(i=>i&&i.communityPost&&i.user?[i.communityPost.id,{user:i.user,communityPost:i.communityPost,isNew:!1}]:null).filter(i=>i!==null)]),chats:new Map([...n.chats,...r.map(i=>{var u;if(i&&i.publication){const D=(u=n.chats.get(i.publication.id))!=null?u:Cu;return[i.publication.id,ir(Vn({},D),{publication:i.publication})]}return null}).filter(i=>i!==null)])})}default:return n}}function bC(n,t){var r,i,u,D,k,H;const{publication_id:U}=t.payload,ee=(r=n.chats.get(U))!=null?r:Cu;switch(t.type){case"posts-request_initial":return ir(Vn({},n),{chats:xo(n.chats,U,ir(Vn({},ee),{isLoadingMore:!0}))});case"posts-request_more":return ir(Vn({},n),{chats:xo(n.chats,U,ir(Vn({},ee),{isLoadingMore:!0}))});case"posts-load_more":{const{result:ve,direction:xe}=t.payload,Le=ve.threads.find(bt=>bt.communityPost.status!=="deleted"),qe=nm({getPubChatItemFromId:bt=>bt===(Le==null?void 0:Le.communityPost.id)?Le:n.communityPosts.get(bt)}),Je=new Map([...ve.threads.map(bt=>[bt.communityPost.id,bt])]),Ct=NC({getPubChatItemFromId:bt=>Je.has(bt)?Je.get(bt):n.communityPosts.get(bt)});return ir(Vn({},n),{communityPosts:rm(n.communityPosts,Je,bt=>new Date(bt.communityPost.updated_at)),chats:xo(n.chats,U,ir(Vn({},ee),{isLoadingMore:!1,hasMore:ve.more,posts:uniq([...ee.posts,...ve.threads.map(bt=>bt.communityPost.id)]).sort(Ct)})),inbox:xe==="after"?n.inbox:ir(Vn({},n.inbox),{threads:[...n.inbox.threads.map(bt=>{var Dt;return bt.publication.id===U?ir(Vn({},bt),{communityPostId:(Dt=Le==null?void 0:Le.communityPost.id)!=null?Dt:bt.communityPostId,lastViewedAt:null}):bt})].sort(qe)})})}case"posts-error":return ir(Vn({},n),{chats:xo(n.chats,U,ir(Vn({},ee),{isLoadingMore:!1,error:t.payload}))});case"posts-new":{const ve=new Date().toISOString(),xe={communityPost:ir(Vn({},t.payload),{status:"published",created_at:ve,updated_at:ve,is_locked:!1,user_id:(u=(i=n.user)==null?void 0:i.id)!=null?u:0}),isNew:!0};return ir(Vn({},n),{communityPosts:xo(n.communityPosts,xe.communityPost.id,xe),chats:xo(n.chats,U,ir(Vn({},ee),{posts:[xe.communityPost.id,...ee.posts]}))})}case"posts-commit":{const{id:ve,chatItem:xe,publication_id:Le}=t.payload,ze=new Map(n.communityPosts);ze.delete(ve),ze.set(xe.communityPost.id,xe);const qe=n.inbox.threads.slice(),Je=qe.findIndex(st=>st.publication.id===Le);if(Je!==-1){let st=qe[Je];st=ir(Vn({},st),{communityPostId:xe.communityPost.id}),qe.splice(Je,1),qe.unshift(st)}return ir(Vn({},n),{inbox:ir(Vn({},n.inbox),{threads:qe}),communityPosts:ze,chats:xo(n.chats,Le,ir(Vn({},ee),{posts:ee.posts.map(st=>st===ve?xe.communityPost.id:st)}))})}case"posts-new_reaction":{const{id:ve,reaction:xe}=t.payload,Le=n.communityPosts.get(ve);return!Le||!xa(Le)||!((D=Le.communityPost)!=null&&D.reactions)?(console.warn("chat item does not exist"),n):Le.communityPost.reaction===xe?(console.warn("already set this reaction",xe),n):ir(Vn({},n),{communityPosts:xo(n.communityPosts,ve,ir(Vn({},Le),{communityPost:Su(Le.communityPost,xe,!0)}))})}case"posts-remove_reaction":{const{id:ve,reaction:xe}=t.payload,Le=n.communityPosts.get(ve);return!Le||!xa(Le)||!((k=Le.communityPost)!=null&&k.reactions)?(console.warn("chat item does not exist"),n):ir(Vn({},n),{communityPosts:xo(n.communityPosts,ve,ir(Vn({},Le),{communityPost:Su(Le.communityPost,xe,!1)}))})}case"posts-delete_post":{const{id:ve,publication_id:xe}=t.payload,Le=n.communityPosts.get(ve);if(!Le)return console.warn("chat item does not exist"),n;const ze=new Map(n.communityComments),qe=n.comments.get(ve);qe&&qe.comments.forEach(bt=>{qh(bt,ze);const Dt=n.replies.get(bt);Dt&&Dt.comments.forEach(Ut=>{qh(Ut,ze)})});const Je=(H=n.chats.get(xe))==null?void 0:H.posts.find(bt=>{var Dt;if(bt===ve)return!1;const Ut=n.communityPosts.get(bt);return((Dt=Ut==null?void 0:Ut.communityPost)==null?void 0:Dt.status)!=="deleted"}),Ct=nm({getPubChatItemFromId:bt=>n.communityPosts.get(bt)});return ir(Vn({},n),{communityPosts:xo(n.communityPosts,ve,ir(Vn({},Le),{communityPost:ir(Vn({},Le.communityPost),{status:"deleted",updated_at:new Date().toISOString()})})),communityComments:ze,inbox:ir(Vn({},n.inbox),{threads:[...n.inbox.threads.map(bt=>bt.publication.id===xe?ir(Vn({},bt),{communityPostId:Je!=null?Je:null}):bt)].sort(Ct)})})}case"posts-flag_post":{const{id:ve}=t.payload,xe=n.communityPosts.get(ve);return!xe||!xa(xe)?(console.warn("chat item does not exist"),n):ir(Vn({},n),{communityPosts:xo(n.communityPosts,ve,ir(Vn({},xe),{communityPost:ir(Vn({},xe.communityPost),{reported_by_user:!0})}))})}case"posts-lock_replies":{const{id:ve,isLocked:xe}=t.payload,Le=n.communityPosts.get(ve);return!Le||!xa(Le)?(console.warn("chat item does not exist"),n):ir(Vn({},n),{communityPosts:xo(n.communityPosts,ve,ir(Vn({},Le),{communityPost:ir(Vn({},Le.communityPost),{is_locked:xe})}))})}case"posts-link_metadata":{const{id:ve,link_metadata:xe}=t.payload,Le=n.communityPosts.get(ve);return Le?ir(Vn({},n),{communityPosts:xo(n.communityPosts,ve,ir(Vn({},Le),{communityPost:ir(Vn({},Le.communityPost),{link_metadata:xe})}))}):(console.warn("chat item does not exist"),n)}case"posts-save_scroll_position":{const{publication_id:ve,scrollPosition:xe}=t.payload;return ir(Vn({},n),{chats:xo(n.chats,ve,ir(Vn({},ee),{scrollPosition:xe}))})}case"posts-update_post":{const{id:ve,post:xe}=t.payload,Le=n.communityPosts.get(ve);return!Le||!xa(Le)?(console.warn("post does not exist"),n):ir(Vn({},n),{communityPosts:xo(n.communityPosts,ve,ir(Vn({},Le),{communityPost:Vn(Vn({},Le.communityPost),xe)}))})}default:throw new Error("Invalid action type")}}function $h(n,t){var r;return(r=n.chats.get(t))!=null?r:Cu}const PC=({maybeUpdateNewestSeenChatSetting:n})=>(t,r)=>qi(void 0,null,function*(){var i,u,D;try{const k=yield fetchJson("/api/v1/community/posts",{method:"GET"});t({type:"inbox-new_items",payload:{threads:k==null?void 0:k.threads}});const H=(D=(u=(i=k==null?void 0:k.threads)==null?void 0:i[0])==null?void 0:u.communityPost)==null?void 0:D.created_at;n&&H&&n(H)}catch(k){console.warn("error",k)}}),zh=(n,t=!1,{maybeUpdateNewestSeenChatSetting:r}={})=>(i,u)=>qi(void 0,null,function*(){var D;const k=$h(u(),n),H=k.posts[k.posts.length-1],U=u().communityPosts.get(H);try{const ee=yield fetchJson(`/api/v1/community/publications/${n}/posts`,{query:{before:U&&!t?U.communityPost.created_at:void 0}});if(Array.isArray(ee)&&ee.length===0){const xe=new Error("FLAGGED_AS_SPAM");i({type:"posts-error",payload:{publication_id:n,error:xe}});return}i({type:"posts-load_more",payload:{publication_id:n,result:ee,direction:t?"before":"after"}});const ve=ee==null?void 0:ee.threads.find(xe=>xe.communityPost.status!=="deleted");t&&r&&r((D=ve==null?void 0:ve.communityPost)==null?void 0:D.created_at)}catch(ee){console.warn("error",ee),i({type:"posts-error",payload:{publication_id:n,error:ee}})}}),EC=n=>(t,r)=>qi(void 0,null,function*(){const i=$h(r(),n);if(!(!i.hasMore||i.isLoadingMore))return yield t({type:"posts-request_more",payload:{publication_id:n}}),t(zh(n))}),pl={isLoading:!1,hasMore:!1,error:null},Ou={before:pl,after:ir(Vn({},pl),{isLoading:!0}),order:"asc",comments:[]};function wC(n,t){var r,i,u,D,k,H,U;let ee=null,ve=null;OC(t)?ve=t.payload.parentCommentId:"postId"in t.payload&&(ee=t.payload.postId);const xe=Je=>ve?{replies:Je}:{comments:Je};let Le;ve?Le=(r=n.replies.get(ve))!=null?r:Ou:ee&&(Le=(i=n.comments.get(ee))!=null?i:Ou);const ze=ve?n.replies:n.comments,qe=ve!=null?ve:ee;switch(t.type){case"replies-request_initial":case"comments-request_initial":{const{order:Je}=t.payload,st=ir(Vn({},pl),{isLoading:!0,hasMore:!1});return Vn(Vn({},n),xe(xo(ze,qe,ir(Vn({},Le),{before:Je==="desc"?st:pl,after:Je==="asc"?st:pl,order:Je}))))}case"replies-request_edge":case"comments-request_edge":{const{edge:Je}=t.payload;return Vn(Vn({},n),xe(xo(ze,qe,ir(Vn({},Le),{[Je]:ir(Vn({},Le[Je]),{isLoading:!0,error:null})}))))}case"replies-load_edge":case"comments-load_edge":{const{edge:Je,result:{post:st,parent:Ct,replies:bt,more:Dt}}=t.payload,Ut=bt.map(_n=>_n.comment.id),Rt=new Map([...bt.map(_n=>[_n.comment.id,_n])]),Qt=rm(n.communityComments,Rt,_n=>new Date(_n.comment.updated_at));Ct&&Qt.set(Ct.comment.id,Ct);const En=RC({getCommunityCommentFromId:_n=>Qt.get(_n)});return Vn(ir(Vn({},n),{communityPosts:st?xo(n.communityPosts,st.communityPost.id,st):n.communityPosts,communityComments:Qt}),xe(xo(ze,qe,ir(Vn({},Le),{comments:uniq([...Le.comments,...Ut]).sort(En),[Je]:{isLoading:!1,hasMore:Dt,error:null},order:Je==="after"&&!Dt?"desc":Le.order}))))}case"replies-new":case"comments-new":{const Je={comment:ir(Vn({},CC()),{id:t.payload.id,body:t.payload.body,raw_body:t.payload.mentions?t.payload.body:void 0,post_id:t.payload.postId,parent_id:ve,media_uploads:(u=t.payload.mediaUploads)!=null?u:null,user_id:(k=(D=n.user)==null?void 0:D.id)!=null?k:0,quote_id:t.payload.quoteReply?t.payload.quoteReply.comment.id:null,mentions:t.payload.mentions}),isNew:!0,is_banned:!1,quote:t.payload.quoteReply,user:n.user,pub_roles:t.payload.pubRoles},st=Vn(ir(Vn({},n),{communityComments:xo(n.communityComments,Je.comment.id,Je)}),xe(xo(ze,qe,ir(Vn({},Le),{comments:[Je.comment.id,...Le.comments]}))));if(ve){const bt=n.communityComments.get(ve);if(bt&&Da(bt)){const Dt=em(bt.comment,n.user,t.payload.postId);st.communityComments.set(ve,ir(Vn({},bt),{comment:Dt}))}}const Ct=n.communityPosts.get(t.payload.postId);if(Ct&&xa(Ct)){const bt=em(Ct.communityPost,n.user,t.payload.postId);st.communityPosts=xo(n.communityPosts,t.payload.postId,ir(Vn({},Ct),{communityPost:bt}))}return st}case"replies-commit":case"comments-commit":{const{id:Je,reply:st}=t.payload,Ct=new Map(n.communityComments);return Ct.delete(Je),Ct.set(st.comment.id,st),Vn(ir(Vn({},n),{communityComments:Ct}),xe(xo(ze,qe,ir(Vn({},Le),{comments:Le.comments.map(bt=>bt===Je?st.comment.id:bt)}))))}case"replies-error":case"comments-error":{const{edge:Je,error:st}=t.payload;return Vn(Vn({},n),xe(xo(ze,qe,ir(Vn({},Le),{[Je]:ir(Vn({},Le[Je]),{error:st})}))))}case"comments-new_reaction":{const{id:Je,reaction:st}=t.payload,Ct=n.communityComments.get(Je);return!Ct||!Da(Ct)||!((H=Ct.comment)!=null&&H.reactions)?(console.warn("comment does not exist"),n):Ct.comment.reaction===st?(console.warn("reaction already set"),n):ir(Vn({},n),{communityComments:xo(n.communityComments,Je,ir(Vn({},Ct),{comment:Su(Ct.comment,st,!0)}))})}case"comments-remove_reaction":{const{id:Je,reaction:st}=t.payload,Ct=n.communityComments.get(Je);return!Ct||!Da(Ct)||!((U=Ct.comment)!=null&&U.reactions)?(console.warn("comment does not exist"),n):ir(Vn({},n),{communityComments:xo(n.communityComments,Je,ir(Vn({},Ct),{comment:Su(Ct.comment,st,!1)}))})}case"comments-delete_comment":{const{id:Je}=t.payload,st=n.communityComments.get(Je);return st?ir(Vn({},n),{communityComments:xo(n.communityComments,Je,ir(Vn({},st),{comment:ir(Vn({},st.comment),{status:"deleted",updated_at:new Date().toISOString()})}))}):(console.warn("comment does not exist, cannot delete"),n)}case"comments-update_comment":{const{id:Je,comment:st}=t.payload,Ct=n.communityComments.get(Je);return!Ct||!Da(Ct)?(console.warn("comment does not exist"),n):ir(Vn({},n),{communityComments:xo(n.communityComments,Je,ir(Vn({},Ct),{comment:Vn(Vn({},Ct.comment),st)}))})}case"comments-flag_comment":{const{id:Je}=t.payload,st=n.communityComments.get(Je);return!st||!Da(st)?(console.warn("comment does not exist"),n):ir(Vn({},n),{communityComments:xo(n.communityComments,Je,ir(Vn({},st),{comment:ir(Vn({},st.comment),{reported_by_user:!0})}))})}case"comments-ban_author":{const{id:Je,ban:st}=t.payload,Ct=n.communityComments.get(Je);return!Ct||!Da(Ct)?(console.warn("comment does not exist"),n):ir(Vn({},n),{communityComments:xo(n.communityComments,Je,ir(Vn({},Ct),{is_banned:st}))})}case"comments-lock_replies":{const{id:Je,isLocked:st}=t.payload,Ct=n.communityComments.get(Je);return!Ct||!Da(Ct)?(console.warn("comment does not exist"),n):Ct.comment.parent_id?(console.warn("cannot lock replies on a reply to a comment"),n):ir(Vn({},n),{communityComments:xo(n.communityComments,Je,ir(Vn({},Ct),{comment:ir(Vn({},Ct.comment),{is_locked:st})}))})}default:throw new Error("Invalid type")}}function CC(){const n=new Date().toISOString();return{id:"",created_at:n,updated_at:n,user_id:0,post_id:"",body:"",raw_body:"",media_uploads:null,parent_id:null,is_locked:!1,quote_id:null,status:"published"}}const Gh=(0,e.createContext)({dispatch:()=>Promise.resolve()});function Ia(){var n;return(n=(0,o.qp)(Gh))==null?void 0:n.dispatch}function xo(n,t,r){const i=new Map(n);return i.set(t,r),i}function xa(n){return n.isNew!==!0}function Da(n){return n.isNew!==!0}function Zh(n){return"communityPost"in n}function Yh(n){return"comment"in n}function OC(n){return"parentCommentId"in n.payload}function Su(n,t,r){var i,u;const D=n.reaction,k=Vn({},n.reactions);return k[t]=((i=k[t])!=null?i:0)+(r?1:-1),r&&D&&(k[D]=((u=k[D])!=null?u:0)-1),ir(Vn({},n),{reactions:k,reaction:r?t:null})}function SC(n){return Math.floor(Math.random()*n*1e3)}function TC(n,t,r){return qi(this,null,function*(){try{return yield fetchJson("/api/v1/thread_media_uploads",{method:"POST",json:{publication_id:t,comment_id:n,content_type:r}})}catch(i){return i}})}function IC(n,t){return qi(this,null,function*(){try{return yield fetch(t,{method:"PUT",headers:{"Content-Type":n.contentType},body:n.file})}catch(r){return r}})}function xC({day:n,items:t,onSelect:r,isPaid:i}){const u=useUser();return h(Fragment,null,t.map(D=>h(nC,{key:D.communityPost.id,item:D.isNew?ir(Vn({},D),{user:u}):D,onSelect:r,isPaid:i})),h(AC,{day:n}))}const DC=new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric"}),MC=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric"});function AC({day:n}){const t=dayjs();return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:16},h(Text.B3,{weight:"medium",size:14,color:"secondary"},n.isSame(t,"day")?"Today":n.isSame(t.subtract(1,"day"),"day")?"Yesterday":n.isSame(t,"year")?DC.format(n.toDate()):MC.format(n.toDate())))}function Pi({title:n,body:t,children:r}){return h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:n,body:t,children:r}))}function Jh(){return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:12},h(Text.B3,{color:"error"},"Error loading chats"))}function Xh({pubErr:n}){if(n.error instanceof FetchError){const t=n.error.body.status==="CHAT_NOT_ENABLED",r=n.error.body.status==="FREE_SUBSCRIPTION_REQUIRED",i=n.error.body.status==="PUBLICATION_NOT_FOUND";if(t)return h(Pi,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."});if(r)return h(Pi,{title:"You need to subscribe to this publication to view its chat.",body:"Once you do, its chat will appear here."},n.error.body.publication&&h(tm,{pub:n.error.body.publication,utm_source:"web-chat-navigation",isSubscribeWall:!0}));if(i)return h(Pi,{title:"We could not find this publication.",body:"Please select another publication and try again."})}return n.error instanceof Error&&n.error.message==="FLAGGED_AS_SPAM"?h(Pi,{title:"We could not find this publication.",body:"Please select another publication and try again."}):h(Pi,{title:"Something went wrong loading the chat.",body:"Please check back in again."})}function Qh({user:n,showReply:t=!0,analyticsParams:r,commenters:i,count:u}){return h(FlexBox,null,h(FlexColumn,{className:css.paywall},h(CommunityPostPaywall,{author:n,showReply:t,analyticsParams:r,commenters:i,count:u})))}function Ka({onClick:n,children:t}){return h(Button,{priority:"secondary",onClick:n},t)}function qh(n,t){const r=t.get(n);return!r||r.comment.status==="deleted"?!1:(t.set(n,ir(Vn({},r),{comment:ir(Vn({},r.comment),{status:"deleted",updated_at:new Date().toISOString()})})),!0)}function em(n,t,r){var i,u;let D;return t&&t.photo_url&&(D=[{id:t.id,name:t.name,photo_url:t.photo_url,post_id:r}],n.recent_commenters&&(D=uniqBy([...D,...n.recent_commenters],k=>k.id))),"reply_count"in n?ir(Vn({},n),{recent_commenters:D,reply_count:1+((i=n.reply_count)!=null?i:0)}):"comment_count"in n?ir(Vn({},n),{recent_commenters:D,comment_count:1+((u=n.comment_count)!=null?u:0)}):n}function tm({pub:n,utm_source:t,isSubscribeWall:r}){useEffect(()=>{r&&track(EVENTS.THREAD_SUBSCRIBE_WALL_VIEWED,{publication_id:n.id})},[]);const i=()=>{const u=getSubscribeUrl(n,{addBase:!0,params:{next:document.location.href,utm_source:t}});window.open(u,"_blank")||(window.location.href=u)};return h(Button,{priority:"primary",onClick:i},`Subscribe to ${n.name}`)}function nm({getPubChatItemFromId:n}){return(t,r)=>{const i=t.communityPostId?n(t.communityPostId):null,u=r.communityPostId?n(r.communityPostId):null;return wd(i,u,"post")}}function NC({getPubChatItemFromId:n}){return(t,r)=>{const i=n(t),u=n(r);return wd(i,u,"post")}}function RC({getCommunityCommentFromId:n}){return(t,r)=>{const i=n(t),u=n(r);return wd(i,u,"comment")}}function wd(n,t,r="post"){const i=!n,u=!t;if(i&&u)return 0;if(i&&!u)return 1;if(!i&&u)return-1;const D=r==="post"?n&&Zh(n)&&n.communityPost.created_at:n&&Yh(n)&&n.comment.created_at,k=new Date(D||0),H=r==="post"?t&&Zh(t)&&t.communityPost.created_at:t&&Yh(t)&&t.comment.created_at;return new Date(H||0).getTime()-k.getTime()}function rm(n,t,r){const i=new Map(t);for(const[u,D]of n){const k=i.get(u);if(!k){i.set(u,D);continue}r(D)>r(k)&&i.set(u,Vn(Vn({},k),D))}return i}function om({changeSetting:n,storedNewestSeenChatItemPublishedAt:t}){return r=>{r&&new Date(r)>new Date(t!=null?t:0)&&n("newest_seen_chat_item_published_at",r)}}var LC=Object.defineProperty,BC=Object.defineProperties,kC=Object.getOwnPropertyDescriptors,im=Object.getOwnPropertySymbols,UC=Object.prototype.hasOwnProperty,FC=Object.prototype.propertyIsEnumerable,am=(n,t,r)=>t in n?LC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,jC=(n,t)=>{for(var r in t||(t={}))UC.call(t,r)&&am(n,r,t[r]);if(im)for(var r of im(t))FC.call(t,r)&&am(n,r,t[r]);return n},WC=(n,t)=>BC(n,kC(t));const HC=n=>(0,e.h)(N.l,WC(jC({},n),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),(0,e.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,e.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}));var sm=It(94016),lm=It(15822);const Hi={avatarContainer:"frontend-community-Reaction-module__avatarContainer--_8l4V",reactionsContainer:"frontend-community-Reaction-module__reactionsContainer--D3hey",reaction:"frontend-community-Reaction-module__reaction--M5tw0",blue:"frontend-community-Reaction-module__blue--yS6Ze",nameCard:"frontend-community-Reaction-module__nameCard--apX_i",reactionToPick:"frontend-community-Reaction-module__reactionToPick--TqIpF",pickIcon:"frontend-community-Reaction-module__pickIcon--JZeFU",emojiPicker:"frontend-community-Reaction-module__emojiPicker--Oaakq",emojiPickerLayer:"frontend-community-Reaction-module__emojiPickerLayer--vLED_",reactionSection:"frontend-community-Reaction-module__reactionSection--RlOnV",count:"frontend-community-Reaction-module__count--POp7r",show:"frontend-community-Reaction-module__show--n7AZ5"},VC=3,um=6;function KC({context:n,reactions:t,currentReaction:r,onReactionClick:i,isReadOnly:u}){const D=t&&Object.keys(t).some(ee=>t[ee]>0),{result:k,isLoading:H}=(0,_o.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),U=(0,o.Ye)(()=>!t||!(k!=null&&k.reactionTypes)?[]:Object.entries(t).sort((ve,xe)=>xe[1]===ve[1]?ve[0].localeCompare(xe[0]):xe[1]-ve[1]).filter(([ve,xe])=>xe>0&&k.reactionTypes[ve]).slice(0,VC),[t,k]);return k!=null&&k.reactionTypes?(0,e.h)(qt.tu,null,(0,e.h)(qt.gq,{onClick:Od,className:f()(Hi.reactionsContainer,{[Hi.show]:D})},U.map(([ee,ve])=>(0,e.h)(sm.z,{layerClassName:Hi.nameCard,content:(0,e.h)(GC,{context:n,reaction:ee}),layerOptions:{placement:"bottom-center"}},(0,e.h)(qt.gq,{key:ee,className:f()(Hi.reaction,{[Hi.blue]:ee===r}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>i&&i(ee)},(0,e.h)(XC,{reaction:k.reactionTypes[ee]}),(0,e.h)(JC,{count:ve,textColor:ee===r?"bg-light":"primary"})))),!u&&(0,e.h)(Th,{content:({closePopover:ee})=>(0,e.h)(zC,{emojis:k,isLoading:H,currentReaction:r,onPick:ve=>{i&&i(ve),ee()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:Hi.emojiPickerLayer},(0,e.h)($C,null)))):null}function $C(){return(0,e.h)(qt.hs,{className:Hi.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},(0,e.h)(HC,null))}function zC({emojis:n,isLoading:t,currentReaction:r,onPick:i}){var u;const D=(0,o.Ye)(()=>!(n!=null&&n.reactionTypes)||t?[]:Object.keys(n.reactionTypes),[n==null?void 0:n.reactionTypes,t]),{result:k,isLoading:H}=(0,_o.Wf)(()=>It.e(695).then(It.t.bind(It,64695,19)),[],{auto:!0}),U=(0,o.I4)(Le=>[Le,...(k==null?void 0:k[Le])||[]],[k]),{filteredItems:ee,setQuery:ve,hasFiltered:xe}=xw({items:D,getKeys:U,deps:[D,U]});return t||H?(0,e.h)(lm.S,null):(0,e.h)(qt.tu,{gap:12,className:Hi.emojiPicker,onClick:Od,overflowY:"auto"},(0,e.h)(Dw,{setQuery:ve,placeholder:"Search emoji...",size:"small"}),xe&&(ee&&ee.length>0?(0,e.h)(Cd,{reactions:ee,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:null}):(0,e.h)(qt.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text",alignSelf:"center"},"No emoji match your search")),!xe&&(0,e.h)(e.Fragment,null,(0,e.h)(Cd,{reactions:n.suggestedReactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:"Suggested Reactions"}),(u=n.categories)==null?void 0:u.map(Le=>(0,e.h)(Cd,{reactions:Le.reactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:Le.title}))))}function GC({reaction:n,context:t}){var r;const i=t.type==="posts"?`/api/v1/community/posts/${t.id}/reactions`:`/api/v1/community/comments/${t.id}/reactions`,{result:u,isLoading:D}=(0,_o.ib)({pathname:i,method:"GET",auto:!0});if(D)return(0,e.h)(lm.S,null);const H=((r=u==null?void 0:u.reactions.filter(ve=>ve.reaction===n))!=null?r:[]).map(ve=>ve.user.name),U=H.slice(0,um),ee=Math.max(0,H.length-um);return(0,e.h)(qt.tu,{gap:2,className:Hi.emojiPicker,onClick:Od,overflowY:"auto"},U.map(ve=>(0,e.h)(cm,{text:ve})),ee>0&&(0,e.h)(cm,{text:`+ ${ee} ${ee===1?"other":"others"}`}))}function ZC({title:n}){return(0,e.h)(qt.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},n)}function YC({reactions:n,currentReaction:t,onPick:r,emojiMap:i}){return(0,e.h)(qt.gq,{className:Hi.reactionSection,gap:8},n==null?void 0:n.map(u=>(0,e.h)(qt.hs,{key:u,onClick:()=>r(u),className:f()(Hi.reactionToPick,{[Hi.blue]:u===t}),bg:"primary",alignItems:"center"},(0,e.h)(QC,{reaction:i[u]}))))}function Cd({reactions:n,currentReaction:t,onPick:r,emojiMap:i,title:u}){return(0,e.h)(qt.tu,{gap:12},u&&(0,e.h)(ZC,{title:u}),(0,e.h)(YC,{reactions:n,currentReaction:t,onPick:r,emojiMap:i}))}function JC({count:n,textColor:t}){return(0,e.h)(qt.xv,{className:Hi.count,color:t,lineHeight:20},n)}function cm({text:n}){return(0,e.h)(qt.xv,{size:12,color:"primary",weight:"medium",font:"text"},n)}function XC({reaction:n}){return(0,e.h)(qt.xv,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}function QC({reaction:n}){return(0,e.h)(qt.xv,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}const Od=n=>{n.stopPropagation(),n.preventDefault()},$o={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--nNlkK",bubble:"frontend-community-CommunityPostView-module__bubble--Qb0nJ",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--A99mW",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--ttj6D",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--QXsEJ",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--DlNG6",authorName:"frontend-community-CommunityPostView-module__authorName--D3nZg",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--Ae4J2",facepile:"frontend-community-CommunityPostView-module__facepile--LsZV8",readMore:"frontend-community-CommunityPostView-module__readMore--KuojM",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--pQYha",pixels:"frontend-community-CommunityPostView-module__pixels--iHfsp",linkImg:"frontend-community-CommunityPostView-module__linkImg--BGinm",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--Z_NGs",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--REE0t",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--_ybr_",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--ude0p",actions:"frontend-community-CommunityPostView-module__actions--Iu1iz",actionButton:"frontend-community-CommunityPostView-module__actionButton--utP6e",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--Mtz5B",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--exM2E",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--_sDjD",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--hs4QE",fade:"frontend-community-CommunityPostView-module__fade--mcazB",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--keJ32"};var qC=Object.defineProperty,eO=Object.defineProperties,tO=Object.getOwnPropertyDescriptors,Tu=Object.getOwnPropertySymbols,dm=Object.prototype.hasOwnProperty,fm=Object.prototype.propertyIsEnumerable,pm=(n,t,r)=>t in n?qC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ps=(n,t)=>{for(var r in t||(t={}))dm.call(t,r)&&pm(n,r,t[r]);if(Tu)for(var r of Tu(t))fm.call(t,r)&&pm(n,r,t[r]);return n},nO=(n,t)=>eO(n,tO(t)),hm=(n,t)=>{var r={};for(var i in n)dm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Tu)for(var i of Tu(n))t.indexOf(i)<0&&fm.call(n,i)&&(r[i]=n[i]);return r},Yo=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const rO="ffe5d072-ae52-11ed-afa1-0242ac120002";function mm({communityPost:n,author:t,extras:r,withAttribution:i,flex:u,hideReply:D,isReadOnly:k,onReply:H,onDelete:U}){const ee=(0,o.sO)(null),ve={type:"posts",id:n.id},xe=Ia(),Le=!(n.type==="media"&&n.media_assets);return(0,e.h)(Iu,{user:t,flex:u,containerRef:ee},i&&(0,e.h)(xd,{text:`From ${t.name}\u2019s subscriber chat`}),(0,e.h)(_m,{actionMenuProps:{communityEntity:n,publicationId:n.publication_id,onReply:H,onDelete:U,isReadOnly:k,isFlagged:n.reported_by_user},flex:u},(0,e.h)(xu,null,n.type==="media"&&n.media_assets&&(0,e.h)(hl,{context:ve,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:ml(n.id,"posts",xe,n.reaction),isReadOnly:k},(0,e.h)(Eh.q,{assets:n.media_assets.map(ze=>ze.url),className:$o.imageGroup,readOnly:k})),n.link_url&&(0,e.h)(hl,{context:ve,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:ml(n.id,"posts",xe,n.reaction),setReactions:Le,isReadOnly:k},(0,e.h)(zO,{linkUrl:n.link_url,linkMetadata:n.link_metadata,postId:n.id})),n.body&&(0,e.h)(hl,{context:ve,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:ml(n.id,"posts",xe,n.reaction),setReactions:Le&&!n.link_url,isReadOnly:k},(0,e.h)(ym,{authorName:t.name,communityEntity:n})))),!D&&(0,e.h)(vm,null,(0,e.h)(Du,{commenters:n.recent_commenters,count:n.comment_count})),r)}function _m({children:n,actionMenuProps:t,flex:r="grow"}){return(0,e.h)(Ne.gq,{alignItems:"start",gap:12,flex:r},(0,e.h)(Ne.tu,null,n),(0,e.h)(NO,ps({},t)))}function hl({children:n,context:t,reactions:r,currentReaction:i,setReactions:u=!0,onReactionClick:D,isReadOnly:k}){return u?(0,e.h)(Ne.gq,{className:$o.reactionsWrapper},n,(0,e.h)(KC,{context:t,reactions:r,currentReaction:i,onReactionClick:D,isReadOnly:k})):(0,e.h)(e.Fragment,null,n)}const ml=(n,t,r,i)=>u=>Yo(void 0,null,function*(){r(i===u?iO(u,n,t):oO(u,n,t,i))}),oO=(n,t,r,i)=>(u,D)=>Yo(void 0,null,function*(){u({type:`${r}-new_reaction`,payload:{id:t,reaction:n}}),(yield EO(n,t,r))instanceof Error&&u(i?{type:`${r}-new_reaction`,payload:{id:t,reaction:i}}:{type:`${r}-remove_reaction`,payload:{id:t,reaction:n}})}),iO=(n,t,r)=>(i,u)=>Yo(void 0,null,function*(){i({type:`${r}-remove_reaction`,payload:{id:t,reaction:n}}),(yield wO(n,t,r))instanceof Error&&i({type:`${r}-new_reaction`,payload:{id:t,reaction:n}})}),aO=(n,t)=>(r,i)=>Yo(void 0,null,function*(){r({type:"posts-delete_post",payload:{id:n,publication_id:t}});const u=yield PO(n);u instanceof Error&&console.warn("error deleting thread",u)}),sO=(n,t,r)=>(i,u)=>Yo(void 0,null,function*(){i({type:"comments-delete_comment",payload:{id:n,postId:t}});const D=yield vO(n);if(D instanceof Error&&console.warn("error deleting comment",D),r){const H=yield yO(r);H instanceof Error||i({type:"comments-update_comment",payload:{id:r,comment:H.comment}})}const k=yield bO(t);k instanceof Error||i({type:"posts-update_post",payload:{id:t,post:k.communityPost}})}),lO=(n,t)=>(r,i)=>Yo(void 0,null,function*(){r({type:"posts-lock_replies",payload:{id:n,isLocked:t}});const u=yield pO(n,t);u instanceof Error&&(console.warn("error locking post",u),alert(`There was an error ${t?"locking":"unlocking"} replies to this post. Please try again later.`),r({type:"posts-lock_replies",payload:{id:n,isLocked:!t}}))}),uO=(n,t)=>(r,i)=>Yo(void 0,null,function*(){r({type:"comments-lock_replies",payload:{id:n,isLocked:t}});const u=yield hO(n,t);u instanceof Error&&(console.warn("error locking comment",u),alert(`There was an error ${t?"locking":"unlocking"} replies to this comment. Please try again later.`),r({type:"comments-lock_replies",payload:{id:n,isLocked:!t}}))}),cO=n=>(t,r)=>Yo(void 0,null,function*(){t({type:"posts-flag_post",payload:{id:n}});const i=yield _O(n);i instanceof Error&&console.warn("error flagging post",i)}),dO=n=>(t,r)=>Yo(void 0,null,function*(){t({type:"comments-flag_comment",payload:{id:n}});const i=yield gO(n);i instanceof Error&&console.warn("error flagging comment",i)}),fO=(n,t)=>(r,i)=>Yo(void 0,null,function*(){r({type:"comments-ban_author",payload:{id:n,ban:t}});const u=yield mO(n,t);u instanceof Error&&(console.warn("error toggling ban for comment author",u),alert(`There was an error ${t?"banning":"unbanning"} this user. Please try again later.`),r({type:"comments-ban_author",payload:{id:n,ban:!t}}))});function pO(n,t){return Yo(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function hO(n,t){return Yo(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function mO(n,t){return Yo(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}/publication_bans?ban=${t.toString()}`,{method:"POST"})}catch(r){return r}})}function _O(n){return Yo(this,null,function*(){try{return yield(0,_o.rd)(`/api/v1/community/posts/${n}/reports`,{method:"POST",json:{postId:n}})}catch(t){return t}})}function gO(n){return Yo(this,null,function*(){try{return yield(0,_o.rd)(`/api/v1/community/comments/${n}/reports`,{method:"POST",json:{commentId:n}})}catch(t){return t}})}function vO(n){return Yo(this,null,function*(){try{return yield(0,_o.rd)(`/api/v1/community/comments/${n}`,{method:"DELETE",json:{commentId:n}})}catch(t){return t}})}function yO(n){return Yo(this,null,function*(){try{return yield(0,_o.rd)(`/api/v1/community/comments/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function bO(n){return Yo(this,null,function*(){try{return yield(0,_o.rd)(`/api/v1/community/posts/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function PO(n){return Yo(this,null,function*(){try{return yield(0,_o.rd)(`/api/v1/community/posts/${n}`,{method:"DELETE",json:{postId:n}})}catch(t){return t}})}function EO(n,t,r){return Yo(this,null,function*(){try{return yield(0,_o.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"POST",json:{reaction:n}})}catch(i){return i}})}function wO(n,t,r){return Yo(this,null,function*(){try{return yield(0,_o.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"DELETE",query:{reaction:n}})}catch(i){return i}})}function Sd({author:n,extras:t,showReply:r=!0,analyticsParams:i,commenters:u,count:D}){return(0,o.d4)(()=>{i&&(0,M.j)(M.FP.THREAD_PAYWALL_SCREEN_VIEWED,i)},[]),(0,e.h)(Iu,{user:n},(0,e.h)(xu,null,(0,e.h)(KO,null),r&&(0,e.h)(Du,{isLocked:!0,commenters:u,count:D})),t)}function CO({author:n,extras:t,showReply:r=!0,commenters:i,count:u}){return(0,e.h)(Iu,{user:n},(0,e.h)(xu,null,(0,e.h)($O,null),r&&(0,e.h)(Du,{isLocked:!0,commenters:i,count:u})),t)}function Td(n){return typeof n.message=="string"}function OO({text:n,rawText:t,specialText:r,mentionMap:i,limit:u=600}){const[D,k]=(0,o.eJ)(!1);if(r)return(0,e.h)("em",null,r);if(!n)return(0,e.h)(e.Fragment,null);let H=[{characters:n.length,message:n}];t&&i&&(H=TO(t,i));const{alwaysShow:U,afterExpansion:ee}=SO(H,u),ve=ee.length>0;return(0,e.h)(e.Fragment,null,U.map(xe=>Td(xe)?(0,e.h)(gm,null,xe.message):xe.message),ve&&!D&&(0,e.h)(e.Fragment,null,(0,e.h)("span",null," "),(0,e.h)(kr.kG,{resetCss:!0,className:$o.readMore,onClick:xe=>{xe.preventDefault(),k(!0)}},"Read more")),ve&&D&&(0,e.h)(e.Fragment,null,ee.map(xe=>Td(xe)?(0,e.h)(gm,null,xe.message):xe.message)))}function gm({children:n}){return(0,e.h)(mh(),{options:{attributes:{rel:"nofollow ugc",onClick:t=>t.stopPropagation()}}},n)}function SO(n,t){let r=0;const i=[],u=[];for(const D of n){let k=D;if(r<t){if(r+k.characters>t&&Td(k)){const H=t-r,U={characters:H,message:k.message.slice(0,H)},ee={characters:k.characters-H,message:k.message.slice(H)};k=U,u.push(ee)}r+=k.characters,i.push(k)}else u.push(k)}return{alwaysShow:i,afterExpansion:u}}function TO(n,t){const r=/\$\{(\d+)\}/g;let i=r.exec(n);const u=n,D=[];let k=0;for(;i;){const H=Number(i[1]),U=t[H];U?(i.index>k&&D.push({characters:i.index-k,message:u.slice(k,i.index)}),D.push({characters:U.text.length,message:xO(U.user_id,IO(U.text),U.text)})):D.push({characters:r.lastIndex-k,message:u.slice(k,r.lastIndex)}),k=r.lastIndex,i=r.exec(n)}return k<u.length&&D.push({characters:u.length-k,message:u.slice(k)}),D}function IO(n){return n.slice(1)}function xO(n,t,r){return(0,e.h)(vd.default,{name:t,id:n,mentionText:r,type:"user",uuid:rO,isStatic:!1,isEditorContext:!1})}function DO(n){var t=n,{communityComment:r,quoteReply:i,isTargeted:u,isBanned:D,pubRole:k}=t,H=hm(t,["communityComment","quoteReply","isTargeted","isBanned","pubRole"]);return(0,e.h)(MO,ps({isTargeted:u,commentInfoArr:[{communityComment:r,quoteReply:i,isBanned:D,pubRole:k}]},H))}function MO({commentInfoArr:n,author:t,chatPublicationId:r,hideReply:i,onReply:u,onNewQuote:D,onQuoteReplyClick:k,onDelete:H,commentRef:U,isTargeted:ee,isReadOnly:ve,chatAuthorNameAttribution:xe,extras:Le,flex:ze}){const qe=Ia(),Je=n[n.length-1].communityComment,{reply_count:st=0,recent_commenters:Ct=[]}=Je!=null?Je:{};return(0,e.h)(Iu,{user:t,pubRole:n[0].pubRole,containerRef:U,id:`comment-${Je==null?void 0:Je.id}`,flex:ze},xe&&(0,e.h)(xd,{text:`Comment from ${xe}\u2019s subscriber chat`}),(0,e.h)(_m,{actionMenuProps:{communityEntity:n[0].communityComment,isBanned:n[0].isBanned,isFlagged:n[0].communityComment.reported_by_user,onReply:u,onDelete:H,onNewQuote:D,isReadOnly:ve,publicationId:r},flex:ze},(0,e.h)(xu,null,n.map(({communityComment:{id:bt,body:Dt,quote_id:Ut,media_uploads:Rt,reactions:Qt,reaction:pn,reported_by_user:En},quoteReply:_n},fn)=>(0,e.h)(e.Fragment,{key:bt},!En&&Rt&&Rt.length>0&&Ut===null&&(0,e.h)(hl,{context:{type:"comments",id:bt},reactions:Qt,currentReaction:pn,onReactionClick:ml(bt,"comments",qe,pn),isReadOnly:ve},(0,e.h)(Eh.q,{assets:Rt.map(Zn=>Zn.url),className:$o.imageGroup,readOnly:ve})),Ut&&_n&&(0,e.h)(VO,{authorName:_n.user.name,communityEntity:_n.comment,onClick:k}),Dt&&(0,e.h)(hl,{context:{type:"comments",id:bt},reactions:Qt,currentReaction:pn,onReactionClick:ml(bt,"comments",qe,pn),setReactions:!Rt||Rt.length===0,isReadOnly:ve},(0,e.h)(ym,{authorName:t.name,communityEntity:n[fn].communityComment,isTargeted:ee})))))),!i&&st>0&&(0,e.h)(vm,null,(0,e.h)(Du,{commenters:Ct,count:st})),Le)}function hs(n){return n.post_id===void 0}function Iu({user:n,children:t,flex:r="grow",containerRef:i,id:u,pubRole:D}){return(0,e.h)(Ne.hs,{id:u,alignItems:"start",gap:12,flex:r,ref:i,className:f()(Hi.avatarContainer,$o.avatarContainer)},(0,e.h)(Ne.hs,{paddingTop:4},n?(0,e.h)(Em,{user:n,pubRole:D,size:40}):(0,e.h)(Wa.Vm,{type:"circle",size:40})),(0,e.h)(Ne.tu,{flex:"grow",gap:4},t))}function AO(){return(0,e.h)(Ne.hs,{className:$o.actionButton,paddingX:4,alignItems:"center"},(0,e.h)(_h.Z,null))}function NO({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:u,isBanned:D,isFlagged:k,onNewQuote:H}){const U=(0,o.sO)(!1),ee=ve=>{U.current=ve};return(0,e.h)(Ne.hs,{alignItems:"center",className:$o.actions},(0,e.h)(Th,{content:({closePopover:ve})=>(0,e.h)(RO,{communityEntity:n,onReply:t,onDelete:r,closePopover:ve,isReadOnly:i,publicationId:u,isBanned:D,isFlagged:k,onNewQuote:H}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:$o.actionMenuLayer,onOpen:()=>ee&&ee(!0),onClose:()=>ee&&ee(!1)},(0,e.h)(AO,null)))}function RO({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:u,isBanned:D,isFlagged:k,closePopover:H,onNewQuote:U}){const ee=(0,us.aF)(),{isAuthor:ve}=(0,fd.Y0)(u!=null?u:0),xe=u&&ve,Le=n&&ee&&n.user_id===ee.id,ze=n&&!hs(n),qe=ze&&"parent_id"in n&&n.parent_id!==null,Je=Le||xe,st=Le||xe,Ct=!Le&&!k,bt=xe&&ze&&!Le;return(0,e.h)(Ne.tu,{className:$o.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!i&&t&&(0,e.h)(BO,{disabled:!!(n!=null&&n.is_locked),onReply:t}),!i&&U&&ze&&(0,e.h)(LO,{onNewQuote:U,communityComment:n,closePopover:H}),n&&n.body&&(0,e.h)(kO,{communityEntity:n,closePopover:H}),n&&(0,e.h)(UO,{communityEntity:n,closePopover:H}),!i&&n&&!qe&&st&&(0,e.h)(FO,{communityEntity:n,closePopover:H}),!i&&n&&Je&&(0,e.h)(HO,{communityEntity:n,closePopover:H,onDelete:r}),!i&&n&&Ct&&(0,e.h)(jO,{communityEntity:n,closePopover:H}),!i&&n&&D!==void 0&&bt&&(0,e.h)(WO,{communityEntity:n,closePopover:H,isBanned:D}))}function LO({onNewQuote:n,communityComment:t,closePopover:r}){return(0,e.h)(wo.sN,{icon:(0,e.h)(nw,null),onClick:()=>{n(t),r()}},"Quote")}function BO({disabled:n,onReply:t}){return(0,e.h)(wo.sN,{icon:(0,e.h)(rw,null),onClick:t,disabled:n},"Reply")}function kO({communityEntity:n,closePopover:t}){const r=(0,ni.pm)(),i=()=>{if(n){const{body:u}=n;(0,b.copyToClipboard)(u),r.popToast(D=>(0,e.h)(ni.FN,nO(ps({},D),{text:"Text copied",Icon:gd})))}t()};return(0,e.h)(wo.sN,{icon:(0,e.h)(gd,null),onClick:i},"Copy Text")}function UO({communityEntity:n,closePopover:t}){const r=(0,wh.g)(),{id:i}=n,u=hs(n),D=()=>{var k;let H;u?H=(0,ae.getCommunityPostAppLinkUrl)({postId:i}):H=(0,ae.getCommunityCommentAppLinkUrl)({commentId:(k=n.parent_id)!=null?k:i,targetReplyId:n.parent_id?i:void 0}),r(H),t()};return(0,e.h)(wo.sN,{icon:(0,e.h)(dl.Z,null),onClick:D},"Copy Link")}function FO({communityEntity:n,closePopover:t}){const r=Ia(),{id:i,is_locked:u}=n,D=hs(n),k=()=>Yo(this,null,function*(){r(D?lO(i,!u):uO(i,!u)),t()});return(0,e.h)(wo.sN,{icon:u?(0,e.h)(gh,null):(0,e.h)(ow,null),onClick:k,priority:u?"primary":"destructive"},u?"Turn on replies":"Turn off replies")}function jO({communityEntity:n,closePopover:t}){const r=Ia(),i=hs(n),u=()=>Yo(this,null,function*(){if(confirm(`Are you sure you want to flag this ${i?"thread":"reply"}?`)){const{id:k}=n;r(i?cO(k):dO(k)),t()}});return(0,e.h)(wo.sN,{icon:(0,e.h)(vh.Z,null),onClick:u,priority:"destructive"},i?"Flag thread":"Flag reply")}function WO({communityEntity:n,closePopover:t,isBanned:r}){const i=Ia(),u=()=>Yo(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:k}=n;i(fO(k,!r)),t()}});return(0,e.h)(wo.sN,{icon:r?(0,e.h)(iw.Z,null):(0,e.h)(yh.Z,null),onClick:u,priority:"destructive"},r?"Unban user":"Ban user")}function HO({communityEntity:n,closePopover:t,onDelete:r}){const i=Ia(),u=hs(n),D=()=>Yo(this,null,function*(){if(confirm(`Are you sure you want to delete this ${u?"thread":"comment"}?`)){const{id:H}=n;if(u){const{publication_id:U}=n;i(aO(H,U))}else{const{post_id:U,parent_id:ee}=n;i(sO(H,U,ee))}r&&setTimeout(r,500)}t()});return(0,e.h)(wo.sN,{icon:(0,e.h)(aw,null),onClick:D,priority:"destructive"},u?"Delete thread":"Delete reply")}function vm(n){return(0,e.h)(Ne.tu,ps({className:$o.replyContainer,alignItems:"start"},n))}function xu(n){return(0,e.h)(Ne.tu,ps({className:$o.bubbleStack,gap:4,alignItems:"start"},n))}function Id(n){var t=n,{isTargeted:r}=t,i=hm(t,["isTargeted"]);return(0,e.h)(Ne.hs,ps({className:f()($o.bubble,r&&$o.targetedAnimation),padding:12,bg:"secondary",minWidth:0},i))}function ym({authorName:n,communityEntity:t,isTargeted:r}){return(0,e.h)(Id,{isTargeted:r},(0,e.h)(bm,{authorName:n,communityEntity:t}))}function VO({authorName:n,communityEntity:t,onClick:r}){return(0,e.h)(Ne.hs,{className:f()($o.bubble,$o.quoteBox),onClick:r,padding:12,minWidth:0},(0,e.h)(bm,{authorName:n,communityEntity:t}))}function bm({authorName:n,communityEntity:t}){var r,i,u,D;let k=null;const H=hs(t)?"thread":"reply";return t.reported_by_user&&(k=`You flagged this ${H}`),(t.status==="deleted"||!t.body)&&(k=`This ${H} is not available`),t.body||(hs(t)?(r=t.media_assets)!=null&&r.length?k=`${t.media_assets.length} ${t.media_assets.length>1?"photos":"photo"}.`:t.link_url&&(k=`Link: ${t.link_url}`,(i=t.link_metadata)!=null&&i.title&&(k=`Link: "${t.link_metadata.title}"`)):(u=t.media_uploads)!=null&&u.length&&(k=`${t.media_uploads.length} ${t.media_uploads.length>1?"photos":"photo"}.`)),(0,e.h)(q.Zx,{isParagraph:!0,className:$o.bubbleText},(0,e.h)(q.Zx,{weight:"semibold",className:$o.authorName},n)," ",(t.body||k)&&(0,e.h)(OO,{text:(D=t.raw_body)!=null?D:t.body,rawText:t.raw_body,specialText:k,mentionMap:t.mentions}))}function Du({isLocked:n,count:t=0,commenters:r}){const i=n?yu.Z:ll.Z;return(0,e.h)(Id,{alignSelf:"stretch"},(0,e.h)(Ne.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,e.h)(Ne.hs,{alignItems:"center",gap:8},r&&(0,e.h)(Ne.hs,{className:$o.facepile,alignItems:"center"},r.map(u=>(0,e.h)(Em,{className:$o.facepileAvatar,user:u,size:24}))),(0,e.h)(q.Zx,{color:"secondary"},t>0?`${t.toLocaleString()} replies...`:"Reply...")),(0,e.h)(i,{size:20,stroke:"var(--color-secondary)"})))}function KO(){return(0,e.h)(Ne.tu,{className:$o.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(Ne.hs,{alignItems:"center",gap:4},(0,e.h)(yu.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(q.xv.Meta,null,"PAID SUBSCRIBERS ONLY")))}function $O(){return(0,e.h)(Ne.tu,{className:$o.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(Ne.hs,{alignItems:"center",gap:4},(0,e.h)(yu.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(q.xv.Meta,null,"SUBSCRIBERS ONLY")))}function zO({linkUrl:n,linkMetadata:t,postId:r}){var i,u,D;const k=Ia();let H;try{const ze=new URL((i=t==null?void 0:t.url)!=null?i:n);H=`${ze.host}${ze.pathname}${ze.search}${ze.hash}`}catch(ze){H=n}const{result:U,isLoading:ee,error:ve}=(0,_o.ib)({pathname:"/api/v1/link-metadata",query:{url:n},auto:!t,deps:[n]});U&&!t&&r&&k({type:"posts-link_metadata",payload:{id:r,link_metadata:U}});const xe=(u=t==null?void 0:t.title)!=null?u:U==null?void 0:U.title,Le=(D=t==null?void 0:t.image)!=null?D:U==null?void 0:U.image;return(0,e.h)(Id,null,(0,e.h)(Ne.hs,{as:"a",href:n,target:"_blank",justifyContent:"space-between",gap:12,className:$o.linkBubble,onClick:ze=>ze.stopPropagation()},(0,e.h)(Ne.tu,{gap:4},xe&&(0,e.h)(q.xv,{font:"serif",weight:"semibold",className:$o.linkTitle},xe),(0,e.h)(q.xv.Detail,{ellipsis:!0,className:$o.linkUrl},H)),Le&&(0,e.h)(jn.e,{className:$o.linkImg,src:Le,maxWidth:72*2})))}function Pm(n){return(0,e.h)(kr.zx,ps({className:$o.ctaButton,priority:"primary-theme"},n))}function xd({text:n,isStatic:t}){return(0,e.h)(Ne.hs,{paddingX:8,paddingY:4},(0,e.h)(q.xv.Detail,{weight:"semibold"},(0,e.h)(mw,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:t})," ",n))}function Em({user:n,size:t,pubRole:r,className:i}){let u;(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="contributor"?u="author":r!=null&&r.is_founding?u="founding":(r==null?void 0:r.membership_state)==="subscribed"&&(u="paid");const D=(0,sa.L0)(n);return(0,e.h)(Ne.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,ae.getReaderProfileUrl)(n,{noBase:!0}),target:"_blank"},(0,e.h)(fl.YY,{showProfileHovercard:D,className:i,size:t,user:n,subscriptionType:u}))}function*KW(n,t,r=1){for(let i=n;i<t;i+=r)yield i}function $W({utm_campaign:n,utm_source:t}={}){const[r,i]=useState(!1);return{open:()=>i(!0),modal:h(GO,{isOpen:r,onClose:()=>i(!1),utm_campaign:n,utm_source:t})}}function wm({label:n}){return(0,e.h)(Ne.hs,{gap:16,alignItems:"center",className:je.divider},(0,e.h)("hr",{className:je.dividerLine}),n&&(0,e.h)(e.Fragment,null,(0,e.h)(q.xv.Meta,null,n),(0,e.h)("hr",{className:je.dividerLine})))}function GO({isOpen:n,onClose:t,utm_campaign:r,utm_source:i}){return h(Modal,{isOpen:n,onClose:t},h(FlexColumn,null,h(FlexBox,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:css.modalHeader},h(Text.H2,null,"Download the Substack app"),h(IconButton,{size:40,onClick:t,rounded:!0,fill:"borderless","aria-label":"Close"},h(X,{size:20}))),h(FlexColumn,{justifyContent:"center",alignItems:"center",gap:32,padding:32},h(Text.B3,{weight:"semibold"},"Scan the QR code below"),h(FlexBox,{padding:4,alignItems:"center",className:css.qrCode},h("img",{src:imginary("/img/app_page/app-store-redirect-qr.jpg",400)})),h(wm,{label:"OR"}),h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:r,utm_source:i})},h("img",{src:imginary("/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:r,utm_source:i})},h("img",{src:imginary("/img/app_page/google-play.png",160*2),height:48}))))))}var ZO=It(30058),Cm=Object.getOwnPropertySymbols,YO=Object.prototype.hasOwnProperty,JO=Object.prototype.propertyIsEnumerable,XO=(n,t)=>{var r={};for(var i in n)YO.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Cm)for(var i of Cm(n))t.indexOf(i)<0&&JO.call(n,i)&&(r[i]=n[i]);return r};const Dd=n=>{var t=n,{size:r="md",shape:i="circle",badgePosition:u="top-right",badge:D,imageUrl:k,onClick:H,className:U,border:ee}=t,ve=XO(t,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);return(0,e.h)(ZO.e,{className:U},(0,e.h)("div",{onClick:H,className:f()("tw-relative","tw-inline-block")},(0,e.h)("img",{className:f()("tw-inline-block","tw-object-cover",i==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":r==="sm","tw-h-8 tw-w-8":r==="md","tw-h-10 tw-w-10":r==="lg","tw-h-[64px] tw-w-[64px]":r==="xl","tw-h-[88px] tw-w-[88px]":r==="xxl","tw-border-4 tw-border-substack-bg tw-shadow-md":ee},H?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null),src:k?(0,v.imginary)(k):void 0}),D!=null?(0,e.h)("span",{className:f()("tw-absolute",{"tw-top-0 tw-right-0":u==="top-right","tw-top-0 tw-left-0":u==="top-left","tw-bottom-0 tw-right-0":u==="bottom-right","tw-bottom-0 tw-left-0":u==="bottom-left"})},D):null))},Vi={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--Dy3AB",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--VZxW0",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--S7flk",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--hDVhk",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--tGZpx",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--eZ5qt",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--HyiPj",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--oC97h",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--ynSCW",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--X5YS7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--LorrD",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--a_a5G",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--ZcSET",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink--k60XF"};var QO=Object.defineProperty,Mu=Object.getOwnPropertySymbols,Om=Object.prototype.hasOwnProperty,Sm=Object.prototype.propertyIsEnumerable,Tm=(n,t,r)=>t in n?QO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,qO=(n,t)=>{for(var r in t||(t={}))Om.call(t,r)&&Tm(n,r,t[r]);if(Mu)for(var r of Mu(t))Sm.call(t,r)&&Tm(n,r,t[r]);return n},eS=(n,t)=>{var r={};for(var i in n)Om.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Mu)for(var i of Mu(n))t.indexOf(i)<0&&Sm.call(n,i)&&(r[i]=n[i]);return r};function Md({children:n,pub:t,user:r,showHeader:i,layoutTop:u}){return(0,e.h)("div",{className:f()(Vi.pageContainer,u?Vi.layoutTop:Vi.layoutCentered)},(0,e.h)("div",{className:Vi.header},i&&t&&r&&(0,e.h)(gu,{pub:t,user:r,hideSections:!0,hideTitle:!0})),n)}function tS({pub:n,utm_campaign:t}){return(0,e.h)(Ne.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(Dm,{utm_campaign:t}),(0,e.h)(q.xv.B4,{size:12,color:"secondary",className:Vi.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,v.getThreadDeepLinkUrl)(n)},"Open now")))}function nS({pub:n,utm_campaign:t}){return(0,e.h)(Ne.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(Mm,{utm_campaign:t}),(0,e.h)(q.xv.B4,{size:12,color:"secondary",className:Vi.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,v.getThreadDeepLinkUrl)(n)},"Open now")))}function Im({pub:n,communityAction:t}){var r,i;const u=t?`${t.author.name} started a thread`:`Join ${(0,Be.possessive)(n.author_name)} subscriber chat `,D=t!=null&&t.communityPost?(r=t.communityPost.body)==null?void 0:r.slice(0,128):`Subscribe to ${n.name} and join the conversation.`,k=((i=t==null?void 0:t.communityPost)==null?void 0:i.type)==="media"&&!!(t!=null&&t.communityPost.media_assets),H=k?t.communityPost.media_assets[0].url:n.logo_url,U=(0,ae.getPublicationChatAppLinkUrl)({pubKey:n.subdomain});return(0,e.h)(e.Fragment,null,(0,b.setMetaData)({title:u,socialTitle:u,description:D,image:H,isLargeImage:k}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:md()((0,_d.hd)(n,{name:u,url:U,description:D,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function rS({publication:n,communityAction:t,user:r,showHeader:i}){return(0,e.h)(Md,{pub:n,user:r,showHeader:i},(0,e.h)(Ne.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(Ne.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(aS,{publication:n,communityAction:t,publicationAuthor:n.author||{id:n.author_id||0,name:n.author_name||"",photo_url:n.author_photo_url},utm_campaign:"threads-page"}))))}function oS({publication:n,communityAction:t,user:r,layoutTop:i,appModalOpenByDefault:u}){const D=(0,Ai.XA)(),[k,H]=(0,o.eJ)(!D&&u),U="thread-page",ee=(0,e.h)(Ne.tu,{gap:8},(0,e.h)(Pm,{href:(0,ae.getCommunityPostAppLinkUrl)({postId:t.communityPost.id,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:U}),onClick:D?null:ve=>{ve.preventDefault(),H(!0)}},"Open in app"),(0,e.h)(Ad,{publication:n,postId:t.communityPost.id,text:"Or join the conversation on web",source:"post-permalink"}));return(0,e.h)(Md,{pub:n,user:r,layoutTop:i},(0,e.h)(Ne.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(Ne.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(Ne.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="open"?(0,e.h)(mm,{communityPost:t.communityPost,author:t.author,withAttribution:!0,extras:D?null:ee,flex:"auto",isReadOnly:!0}):(0,e.h)(Ne.tu,null,(0,e.h)(Sd,{author:t.author,extras:D?null:ee,commenters:t.communityPost.recent_commenters,count:t.communityPost.comment_count})))),D&&(0,e.h)(Ne.tu,{className:Vi.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},ee),(0,e.h)(Im,{pub:n,communityAction:t})),(0,e.h)(Am,{utm_campaign:U,isOpen:k,postId:t.communityPost.id,onClose:()=>H(!1),subdomain:n.subdomain}))}function iS({publication:n,communityAction:t,user:r,layoutTop:i,appModalOpenByDefault:u}){var D;const k=(0,Ai.XA)(),[H,U]=(0,o.eJ)(!k&&u),ee="comment-page",ve=(D=t.communityComment.parent_id)!=null?D:t.communityComment.id,xe=t.communityComment.parent_id?t.communityComment.id:void 0,Le=t.communityComment.post_id,ze=(0,e.h)(Ne.tu,{gap:8},(0,e.h)(Pm,{href:(0,ae.getCommunityCommentAppLinkUrl)({commentId:ve,targetReplyId:xe,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:ee}),onClick:k?null:qe=>{qe.preventDefault(),U(!0)}},"Open in app"),(0,e.h)(Ad,{publication:n,postId:Le,commentId:ve,targetReplyId:xe,showTarget:xe?!0:void 0,text:"Or join the conversation on web",source:"post-permalink"}));return(0,e.h)(Md,{pub:n,user:r,layoutTop:i},(0,e.h)(Ne.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(Ne.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(Ne.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="VISIBLE"||!t.status?(0,e.h)(DO,{chatPublicationId:n.id,communityComment:t.communityComment,author:t.author,extras:k?null:ze,isReadOnly:!0,isBanned:!1,quoteReply:t.quote,chatAuthorNameAttribution:n.author_name,flex:"auto"}):t.status==="PAID_SUBSCRIPTION_REQUIRED"?(0,e.h)(Ne.tu,null,(0,e.h)(Sd,{author:t.author,extras:k?null:ze,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count})):(0,e.h)(Ne.tu,null,(0,e.h)(CO,{author:t.author,extras:k?null:ze,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count})))),k&&(0,e.h)(Ne.tu,{className:Vi.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},ze)),(0,e.h)(Am,{utm_campaign:ee,isOpen:H,postId:Le,commentId:ve,targetReplyId:xe,onClose:()=>U(!1),subdomain:n.subdomain}))}function aS({publication:n,communityAction:t,publicationAuthor:r,noFallback:i,utm_campaign:u}){const D=(0,P.isMobile)(),k=(0,P.isAndroid)();return(0,e.h)(Ne.tu,{gap:D?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)(Dd,{imageUrl:(0,v.getUserPhotoUrl)(r),size:"xxl",border:!0,badge:(0,e.h)("div",{className:f()(Vi.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(Ne.tu,{gap:8},(0,e.h)(q.xv.H2,{size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",(0,Be.possessive)(r.name)," subscriber chat")),!D&&(0,e.h)("div",{className:Vi.threadsLinkContainer},(0,e.h)(xm,{utm_campaign:u,subdomain:n.subdomain})),D&&(k?(0,e.h)(nS,{pub:n,utm_campaign:u}):(0,e.h)(tS,{pub:n,utm_campaign:u})),(0,e.h)(Ad,{publication:n,source:"pub-nav-bar"}),(0,e.h)(Im,{pub:n,communityAction:t}))}function Ad({publication:n,source:t,postId:r,commentId:i,targetReplyId:u,showTarget:D,text:k="Or open on web"}){return(0,e.h)("a",{href:(0,ae.getWebChatUrl)({pubId:n.id,postId:r,commentId:i,params:{utm_source:t,targetReplyId:u,showTarget:D}}),className:Vi.webChatLink},(0,e.h)(q.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},k))}function xm({utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:u}){return(0,e.h)(Ne.tu,{gap:24,alignItems:"center"},(0,e.h)(Ne.hs,{justifyContent:"center"},(0,e.h)(q.xv.B4,{as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(Ne.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:4,className:Vi.qrCode},(0,e.h)(sS,{utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:u})),(0,e.h)(wm,{label:"OR"}),(0,e.h)(Ne.hs,{gap:16,justifyContent:"center"},(0,e.h)(Dm,{utm_campaign:n}),(0,e.h)(Mm,{utm_campaign:n})))}function sS({utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:u}){const D=(0,o.sO)(),k=i?(0,ae.getCommunityCommentAppLinkUrl)({commentId:i,targetReplyId:u,utm_campaign:n}):t?(0,ae.getCommunityPostAppLinkUrl)({postId:t,utm_campaign:n}):(0,ae.getPublicationChatAppLinkUrl)({pubKey:r,redirect:"app-store",utm_campaign:n});return(0,o.d4)(()=>{const{current:H}=D;H&&ew.toCanvas(H,k,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:D})}function Dm({utm_campaign:n}){return(0,e.h)("a",{className:Vi.appBadge,href:(0,v.getAppStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,v.imginary)("/img/app_page/app-store.png",400),height:40}))}function Mm({utm_campaign:n}){return(0,e.h)("a",{className:Vi.appBadge,href:(0,v.getPlayStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,v.imginary)("/img/app_page/google-play.png",400),height:40}))}function Am(n){var t=n,{postId:r,utm_campaign:i,subdomain:u,commentId:D,targetReplyId:k}=t,H=eS(t,["postId","utm_campaign","subdomain","commentId","targetReplyId"]);return(0,e.h)(Wi.u_,qO({},H),(0,e.h)(Wi.xB,{title:"Open in the Substack app",includeClose:!0,onClose:H.onClose,bottomBorder:!0}),(0,e.h)(Ne.tu,{paddingY:32,paddingX:40},(0,e.h)(xm,{utm_campaign:i,postId:r,subdomain:u,commentId:D,targetReplyId:k})))}var _l=It(23237),ba=It(6378),Nd=function(){return(Nd=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}).apply(this,arguments)},gl,vl,Rd=(0,jt.createContext)(void 0),Nm="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",Rm="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",lS=function(ve){var t=ve.config,r=ve.version,r=r===void 0?3:r,i=ve.src,i=i===void 0?r===2?Nm:Rm:i,u=ve.onStartup,D=ve.onLoad,k=ve.onError,H=ve.typesettingOptions,U=ve.renderMode,U=U===void 0?"post":U,ee=ve.hideUntilTypeset,ve=ve.children,Le=(0,jt.useContext)(Rd);if((Le==null?void 0:Le.version)!==void 0&&(Le==null?void 0:Le.version)!==r)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(r===2&&vl!==void 0||r===3&&gl!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var xe=(0,jt.useRef)(Le),Le=(0,jt.useRef)((Le==null?void 0:Le.version)||null);if(Le.current===null)Le.current=r;else if(Le.current!==r)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var ze=i||(r===2?Nm:Rm);function qe(Je,st){t&&(window.MathJax=t);var Ct=document.createElement("script");Ct.type="text/javascript",Ct.src=ze,Ct.async=!1,Ct.addEventListener("load",function(){var bt=window.MathJax;u&&u(bt),Je(bt),D&&D()}),Ct.addEventListener("error",function(bt){return st(bt)}),document.getElementsByTagName("head")[0].appendChild(Ct)}return xe.current===void 0&&(Le={typesettingOptions:H,renderMode:U,hideUntilTypeset:ee},r===2?gl===void 0&&(typeof window!="undefined"?(gl=new Promise(qe)).catch(function(Je){if(!k)throw Error("Failed to download MathJax version 2 from '".concat(ze,"' due to: ").concat(Je));k(Je)}):(gl=Promise.reject()).catch(function(Je){})):vl===void 0&&(typeof window!="undefined"?(vl=new Promise(qe)).catch(function(Je){if(!k)throw Error("Failed to download MathJax version 3 from '".concat(ze,"' due to: ").concat(Je));k(Je)}):(vl=Promise.reject()).catch(function(Je){})),xe.current=Nd(Nd({},Le),r===2?{version:2,promise:gl}:{version:3,promise:vl})),jt.default.createElement(Rd.Provider,{value:xe.current},ve)};const uS=lS;var $a=function(){return($a=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}).apply(this,arguments)},cS=function(n,t){var r={};for(u in n)Object.prototype.hasOwnProperty.call(n,u)&&t.indexOf(u)<0&&(r[u]=n[u]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,u=Object.getOwnPropertySymbols(n);i<u.length;i++)t.indexOf(u[i])<0&&Object.prototype.propertyIsEnumerable.call(n,u[i])&&(r[u[i]]=n[u[i]]);return r},yl=function(n){return"Typesetting failed: ".concat(n.message!==void 0?n.message:n.toString())},dS=function(n){function t(){var Rt;Je==="every"&&bt&&st==="post"&&ze.current!==null&&(ze.current.style.visibility=(Rt=(Rt=xe.style)==null?void 0:Rt.visibility)!=null?Rt:"visible"),Dt.current||(Je==="first"&&ze.current!==null&&(ze.current.style.visibility="visible"),u&&u(),Dt.current=!0),D&&D(),Ut.current=!1}var i=n.inline,r=i!==void 0&&i,i=n.hideUntilTypeset,u=n.onInitTypeset,D=n.onTypeset,k=n.text,H=n.dynamic,U=n.typesettingOptions,ee=n.renderMode,ve=n.children,xe=cS(n,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),Le=(0,jt.useRef)(""),ze=(0,jt.useRef)(null),qe=(0,jt.useContext)(Rd),Je=i!=null?i:qe==null?void 0:qe.hideUntilTypeset,st=ee!=null?ee:qe==null?void 0:qe.renderMode,Ct=U!=null?U:qe==null?void 0:qe.typesettingOptions,bt=H!==!1&&(H||!1),Dt=(0,jt.useRef)(!1),Ut=(0,jt.useRef)(!1);return!Ut.current&&ze.current!==null&&bt&&Je==="every"&&st==="post"&&(ze.current.style.visibility="hidden"),(typeof window!="undefined"?jt.useLayoutEffect:jt.useEffect)(function(){if((bt||!Dt.current)&&ze.current!==null){if(!qe)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(st==="pre"){if(!(typeof(Rt=k)=="string"&&0<Rt.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(k,'"'));if(!U||!U.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(qe.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}st!=="post"&&k===Le.current||Ut.current||(Ut.current=!0,qe.version===3?qe.promise.then(function(Qt){var pn;st==="pre"?(pn=function(En){Le.current=k,Qt.startup.document.clear(),Qt.startup.document.updateDocument(),ze.current!==null&&(ze.current.innerHTML=En.outerHTML),t()},U.fn.endsWith("Promise")?Qt.startup.promise.then(function(){return Qt[Ct.fn](k,$a($a({},(Ct==null?void 0:Ct.options)||{}),{display:!r}))}).then(pn).catch(function(En){throw t(),Error(yl(En))}):Qt.startup.promise.then(function(){var En=Qt[Ct.fn](k,$a($a({},(Ct==null?void 0:Ct.options)||{}),{display:!r}));pn(En)}).catch(function(En){throw t(),Error(yl(En))})):Qt.startup.promise.then(function(){return Qt.typesetClear([ze.current]),Qt.typesetPromise([ze.current])}).then(t).catch(function(En){throw t(),Error(yl(En))})}).catch(function(Qt){throw t(),Error(yl(Qt))}):qe.promise.then(function(Qt){Qt.Hub.Queue(["Typeset",Qt.Hub,ze.current]),Qt.Hub.Queue(t)}).catch(function(Qt){throw t(),Error(yl(Qt))}))}var Rt}),jt.default.createElement("span",$a({},xe,{style:$a($a({display:r?"inline":"block"},xe.style),{visibility:Je?"hidden":(n=xe.style)==null?void 0:n.visibility}),ref:ze}),ve)};const fS=dS;var Ei=It(82626),pS=It(42395),mi=It.n(pS),qr=It(18492);const Bs={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--yvB6N",container:"frontend-community-CommunityChatEmbed-module__container--Rxuxg",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--s2WXp",text:"frontend-community-CommunityChatEmbed-module__text--OkWnB",title:"frontend-community-CommunityChatEmbed-module__title--MzrVh",button:"frontend-community-CommunityChatEmbed-module__button--sD_5W"};function hS({pub:n,subdomain:t}){return(0,e.h)(Ne.tu,{className:Bs.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:Ld(t),target:"_blank","data-component-name":"CommunityChatEmbed"},(0,e.h)(Dd,{size:"xl",imageUrl:(0,ae.imginary)(n.author_photo_url),border:!0}),(0,e.h)(Ne.tu,{gap:4,alignItems:"center"},(0,e.h)(q.xv.H3,{as:"div",color:"pub-primary-text"},"Join ",n.author_name,"\u2019s subscriber chat"),(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(Ne.tu,{alignSelf:"stretch"},(0,e.h)(kr.zx,{priority:"primary-theme",href:Ld(t)},"Join chat")))}function mS({pub:n,subdomain:t}){return(0,e.h)("a",{className:Bs.emailWrapper,href:Ld(t),"data-component-name":"EmailCommunityChatEmbed"},(0,e.h)("div",{className:Bs.container},(0,e.h)(qr.NS,{size:64,src:(0,ae.imginary)(n.author_photo_url),framed:!0}),(0,e.h)("div",{className:Bs.text},(0,e.h)(q.xv.H3,{className:Bs.title,as:"div",color:"pub-primary-text"},"Join ",n.author_name,"\u2019s subscriber chat"),(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(qr.Bj,{tableClassName:Bs.button},"Join chat")))}function Ld(n){return(0,ae.getPublicationChatAppLinkUrl)({pubKey:n,utm_source:"chat_embed"})}const Au={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--WvrT_",bubble:"frontend-community-EmailCommunityPostView-module__bubble--QZBFA",img:"frontend-community-EmailCommunityPostView-module__img--sDJg2",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--k71Si",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--fIVSc frontend-community-EmailCommunityPostView-module__bubble--QZBFA"};var _S=Object.defineProperty,Lm=Object.getOwnPropertySymbols,gS=Object.prototype.hasOwnProperty,vS=Object.prototype.propertyIsEnumerable,Bm=(n,t,r)=>t in n?_S(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,yS=(n,t)=>{for(var r in t||(t={}))gS.call(t,r)&&Bm(n,r,t[r]);if(Lm)for(var r of Lm(t))vS.call(t,r)&&Bm(n,r,t[r]);return n};function bS({communityPost:n,is_freemail:t,author:r,cta:i,withAttribution:u,attributionText:D,hideReply:k,truncateBodyAt:H}){const U=!n||t&&n.audience==="only_paid";let ee=null;return!U&&n.body&&(ee=H?(0,Be.truncateText)(n.body,H):n.body),(0,e.h)(qr.zK,{gap:12,verticalAlign:"top"},(0,e.h)(qr.NS,{src:r.photo_url,size:40}),(0,e.h)(qr.i$,{gap:4,style:{lineHeight:0}},u&&(0,e.h)(xd,{isStatic:!0,text:D||`From ${(0,Be.possessive)(r.name)} subscriber chat`}),U?(0,e.h)(PS,null):[n.type==="media"&&n.media_assets?n.media_assets.slice(0,1).map(ve=>(0,e.h)(ES,{key:ve.url,asset:ve})):n.type==="link"&&(0,e.h)(wS,{communityPost:n}),ee&&(0,e.h)(Bd,null,(0,e.h)("span",null,(0,e.h)(q.Zx,{weight:"bold"},r.name)," ",ee))],!k&&(0,e.h)(Bd,null,(0,e.h)(qr.YF,null,(0,e.h)("tr",null,(0,e.h)("td",{align:"left"},(0,e.h)(q.Zx,{color:"secondary"},"Reply...")),(0,e.h)("td",{align:"right"},(0,e.h)(ll.Z,{size:20,stroke:"var(--color-secondary}"}))))),i&&(0,e.h)(qr.b9,{fullWidth:!0,href:i.url},i.text),i&&i.blurb&&(0,e.h)("div",null,(0,e.h)(q.xv,{color:"secondary",align:"center",size:14,lineHeight:20},i.blurb))))}function Bd(n){return(0,e.h)("div",yS({className:Au.bubble},n))}function PS(){return(0,e.h)("div",{className:Au.paywallBubble,style:{backgroundImage:`url(${(0,ae.imginary)("/img/community/paywall-pixels-light.png")})`}},(0,e.h)(q.xv.Meta,null,"SUBSCRIBERS ONLY"))}function ES({asset:n}){return(0,e.h)("img",{className:Au.img,width:400,src:(0,ae.imginary)(n.url,400*2,{crop:"limit",height:400*2})})}function wS({communityPost:n}){var t,r;const{link_metadata:i,link_url:u}=n,D=(r=(t=i==null?void 0:i.url)!=null?t:u)!=null?r:"";let k;try{const H=new URL(D);k=`${H.host}${H.pathname}${H.search}${H.hash}`}catch(H){k=D}return(0,e.h)(Bd,null,(0,e.h)(qr.YF,{style:{width:"400px"}},(0,e.h)("tr",null,(0,e.h)("td",{align:"left",style:{verticalAlign:"top"}},(i==null?void 0:i.title)&&(0,e.h)(q.xv,{font:"serif",lineHeight:24},i.title),(0,e.h)(q.xv.Meta,{color:"secondary"},k)),(0,e.h)("td",{width:"16"}),(0,e.h)("td",{align:"right"},(i==null?void 0:i.image)&&(0,e.h)("img",{className:Au.linkImg,src:(0,ae.imginary)(i.image,72*2,{height:72*2,smartCrop:!0})})))))}const kd={container:"frontend-community-CommunityPostEmbed-module__container--PgwcB",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--HkNYU"};var CS=Object.defineProperty,OS=Object.defineProperties,SS=Object.getOwnPropertyDescriptors,km=Object.getOwnPropertySymbols,TS=Object.prototype.hasOwnProperty,IS=Object.prototype.propertyIsEnumerable,Um=(n,t,r)=>t in n?CS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,xS=(n,t)=>{for(var r in t||(t={}))TS.call(t,r)&&Um(n,r,t[r]);if(km)for(var r of km(t))IS.call(t,r)&&Um(n,r,t[r]);return n},DS=(n,t)=>OS(n,SS(t));function MS({postId:n}){var t;const{isLoading:r,error:i,result:u}=(0,_o.ib)({pathname:`/api/v1/community/posts/${n}`,auto:!0,deps:[n]}),D=i instanceof _o.kp&&i.response.status===402&&((t=i.body)==null?void 0:t.status)==="PAID_SUBSCRIPTION_REQUIRED"?i.body:null;return(0,e.h)(Ne.hs,{as:"a",className:kd.container,target:"_blank",href:(0,ae.getCommunityPostAppLinkUrl)({postId:n,utm_source:"thread_embed"}),"data-component-name":"CommunityPostEmbed"},D?(0,e.h)(Sd,{author:D.user}):i?"Error":u&&(0,e.h)(mm,{author:u.user,communityPost:u.communityPost,withAttribution:!0,isReadOnly:!0}))}function AS(n){const{postId:t}=n;return(0,e.h)("a",{className:kd.emailWrapper,href:(0,ae.getCommunityPostAppLinkUrl)({postId:t,utm_source:"thread_embed",modal:"1"}),"data-component-name":"EmailCommunityPostEmbed"},(0,e.h)("div",{className:kd.container},(0,e.h)(bS,DS(xS({},n),{withAttribution:!0}))))}var NS=It(31131),Fm=It(81470),bl=It(31517),jm=It(26240),Ud=It(65024),RS=It(52543),Nu=It(50670),LS=It(4070),BS=It(6742),Wm=It(41474),Hm=It(55687);const Vm={note:"frontend-feed-CommentEmbed-module__note--NPgVz"};function kS({commentId:n}){const{isLoading:t,error:r,result:i}=(0,_o.ib)({pathname:`/api/v1/reader/comment/${n}`,auto:!0,deps:[n]});return r instanceof _o.kp?r.getMessage():!i||t?(0,e.h)(FS,null):(0,e.h)(US,{feedItem:i.item})}function US({feedItem:n}){var t,r,i,u,D;const{comment:k,parentComments:H}=n,{truncatedBodyJson:U}=(0,LS.Z)(k),ee=H[H.length-1],ve=(t=k.attachments)==null?void 0:t.find(qe=>qe.type!=="image"),xe=(r=k.attachments)==null?void 0:r.filter(qe=>qe.type==="image"),Le=ve&&(0,Ud.k)(ve),ze=(0,o.sO)(null);return(0,BS.UM)(ze,()=>(0,Wm.zi)(n,Fm.Uo.PostEmbed),{threshold:.2}),(0,e.h)(Ne.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"}},(0,e.h)(hu.h,null,(0,e.h)(Ne.hs,{as:"a",target:"_blank",href:(0,ae.getFeedCommentUrl)(k),gap:12,border:"detail",bg:"elevated",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:Vm.note,ref:ze},(0,e.h)(Ne.hs,{flex:"auto"},(0,e.h)(Nu.Zb,{user:k})),(0,e.h)(Ne.tu,{minWidth:0,gap:8,flex:"grow"},(0,e.h)(Ne.tu,{minWidth:0,flex:"grow"},(0,e.h)(Nu.KF,null,(0,e.h)(q.Zx,{weight:"semibold"},k.name),(0,e.h)(kt.o,{tier:k.user_bestseller_tier}),(0,e.h)(Nu.Ku,{timestamp:k.date})),ee&&(0,e.h)(q.xv.Detail,null,"Replying to ",ee.name),(0,e.h)(Ne.tu,{gap:12,flex:"grow"},(0,e.h)(Nu.sP,null,U&&(0,e.h)(RS.x,{content:U})),(0,e.h)(Ud.y,{attachments:ve?[ve]:xe||[],readOnly:!0,onAttachmentClick:({commentId:qe}={})=>(0,Wm.rw)(n,Fm.Uo.PostEmbed,"attachment",{extraEventProps:{commentId:qe}}),utm_content:n.entity_key}))),(0,e.h)(Ne.hs,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(Ru,{icon:(0,e.h)(ad.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(i=k.reaction_count)!=null?i:0}),(0,e.h)(Ru,{icon:(0,e.h)(jm.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(u=k.children_count)!=null?u:0}),(0,e.h)(Ru,{icon:(0,e.h)(bl.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(D=k.restacks)!=null?D:0}),(0,e.h)(Ru,{icon:(0,e.h)(NS.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:0}))))))}function Ru({icon:n,count:t}){return(0,e.h)(Ne.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},n,(0,e.h)(q.xv.Digit,{color:"secondary"},t>0&&(0,Hm.u)(t)))}function FS(){return(0,e.h)(hu.h,null,(0,e.h)(Ne.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlacehodder"},(0,e.h)(Ne.hs,{gap:12,border:"detail",bg:"primary",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:Vm.note},(0,e.h)(Wa.Vm,{type:"circle",size:48}),(0,e.h)(Ne.tu,{gap:12,flex:"grow"},(0,e.h)(Wa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Wa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Wa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Wa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`})))))}var jS=Object.defineProperty,WS=Object.defineProperties,HS=Object.getOwnPropertyDescriptors,Km=Object.getOwnPropertySymbols,VS=Object.prototype.hasOwnProperty,KS=Object.prototype.propertyIsEnumerable,$m=(n,t,r)=>t in n?jS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$S=(n,t)=>{for(var r in t||(t={}))VS.call(t,r)&&$m(n,r,t[r]);if(Km)for(var r of Km(t))KS.call(t,r)&&$m(n,r,t[r]);return n},zS=(n,t)=>WS(n,HS(t));const GS=n=>(0,e.h)(N.l,zS($S({},n),{name:"MoreIcon",svgParams:{height:24,width:24,fill:n.fill,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),(0,e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),(0,e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));var Pl=It(84606);function GW({item:n,utmSource:t}){const{comment:r}=n;return h(zm,{comment:r,utmSource:t})}function zm({comment:n,utmSource:t}){var r,i,u,D,k,H,U;const ee=(r=n.attachments)==null?void 0:r.find(qe=>qe.type==="image"),ve=(i=n.attachments)==null?void 0:i.find(qe=>qe.type==="post"),xe=ve==null?void 0:ve.postSelection,Le=(u=n.attachments)==null?void 0:u.find(qe=>qe.type!=="image"),ze=Le&&(0,Ud.k)(Le);return(0,e.h)(Pl.x,{as:"a",href:(0,ae.getFeedCommentUrl)(n,{urlParams:{utm_source:t}}),padding:16,radius:8,border:"detail",style:{textDecoration:"none",display:"block",minWidth:"410px"},"data-component-name":"EmailCommentEmbed"},(0,e.h)(qr.YF,{style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{style:{verticalAlign:"top",width:48}},(0,e.h)(qr.NS,{src:(D=n.photo_url)!=null?D:(0,v.getDefaultUserPhotoById)(n.user_id),size:48})),(0,e.h)("td",{width:12}),(0,e.h)("td",{style:{verticalAlign:"top"}},(0,e.h)(qr.i$,{gap:12,style:{lineHeight:0,width:"100%"}},(0,e.h)(Pl.x,null,(0,e.h)(q.xv.B3,null,(0,e.h)(q.Zx,{weight:"semibold"},n.name)," ",(0,e.h)(q.Zx,{color:"secondary"},dr()(n.date).fromNowShort())),(0,e.h)(q.xv.B3,null,(0,Be.truncateWords)(n.body,420))),ve&&xe&&(0,e.h)(q.xv.B3,null,(0,e.h)(ZS,{attachment:ve,selection:xe})),ze&&!ve&&(0,e.h)(q.xv.B4,{color:"accent-blue"},ze),ee&&(0,e.h)(YS,{attachment:ee}),(0,e.h)(qr.YF,{width:"100%",style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{width:"20%"},(0,e.h)(ad.Z,{width:16,height:16,strokeWidth:1.5,stroke:El,style:Lu,fill:"none",isStatic:!0}),(0,e.h)(Fd,{count:(k=n.reaction_count)!=null?k:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(jm.Z,{height:16,width:16,strokeWidth:1.5,stroke:El,style:Lu,isStatic:!0}),(0,e.h)(Fd,{count:(H=n.children_count)!=null?H:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(bl.Z,{height:16,width:16,strokeWidth:1.5,stroke:El,style:Lu,isStatic:!0}),(0,e.h)(Fd,{count:(U=n.restacks)!=null?U:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(GS,{height:16,width:16,strokeWidth:2,stroke:El,fill:El,style:Lu,isStatic:!0})))))))))}const Lu={display:"inline-block",verticalAlign:"middle"};function Fd({count:n}){return(0,e.h)(q.xv.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},n>0?(0,Hm.u)(n):" ")}const El="#808080";function ZS({attachment:n,selection:t}){return(0,e.h)(Pl.x,{padding:12,radius:8,bg:"secondary"},(0,e.h)(q.xv,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},"\u201C",(0,Be.truncateWords)(t.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014"," ",(0,Re.getPostAuthor)(n.publication,n.post).name))}function YS({attachment:n}){return(0,e.h)(Pl.x,{as:"img",src:(0,ae.imginary)(n.imageUrl,400*2,{crop:"limit",height:400*2}),width:400,radius:8,style:{maxHeight:600,objectFit:"cover",margin:0}})}const JS=(0,Eo.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ks={avatar:"frontend-main-meetings-Embed-module__avatar--I1maB",badge:"frontend-main-meetings-Embed-module__badge--wg1nn",container:"frontend-main-meetings-Embed-module__container--Gbf2M",header:"frontend-main-meetings-Embed-module__header--U1aau",emailButton:"frontend-main-meetings-Embed-module__emailButton--_wEaP",cta:"frontend-main-meetings-Embed-module__cta--AKskK"},XS=({avatarUrl:n,name:t,url:r})=>(0,e.h)(qr.i$,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},(0,e.h)(qr.zK,{gap:12},(0,e.h)(qr.NS,{src:n,size:40}),(0,e.h)(qr.i$,null,(0,e.h)(q.xv.H4,{size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",t),(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(qr.Bj,{tableClassName:ks.emailButton,href:r},"Book meeting")),QS=({avatarUrl:n,name:t,url:r})=>(0,e.h)(Ne.hs,{direction:{mobile:"column",desktop:"row"},radius:8,padding:24,alignItems:"center",className:ks.container,justifyContent:"space-between","data-component-name":"MeetingEmbed"},(0,e.h)(Ne.gq,{className:ks.header,gap:16,paddingBottom:{mobile:20,desktop:0}},(0,e.h)(Dd,{className:ks.avatar,imageUrl:n,size:"lg",badge:(0,e.h)("div",{className:ks.badge},(0,e.h)(JS,{color:"white",size:12})),badgePosition:"bottom-right"}),(0,e.h)("div",null,(0,e.h)(q.xv.H4,{paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",t),(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(kr.zx,{className:ks.cta,priority:"primary-theme",onClick:()=>{(0,b.redirect)(r,{newTab:!0})}},"Book meeting"));var qS=Object.defineProperty,e5=Object.defineProperties,t5=Object.getOwnPropertyDescriptors,Gm=Object.getOwnPropertySymbols,n5=Object.prototype.hasOwnProperty,r5=Object.prototype.propertyIsEnumerable,Zm=(n,t,r)=>t in n?qS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,o5=(n,t)=>{for(var r in t||(t={}))n5.call(t,r)&&Zm(n,r,t[r]);if(Gm)for(var r of Gm(t))r5.call(t,r)&&Zm(n,r,t[r]);return n},i5=(n,t)=>e5(n,t5(t));const jd=n=>(0,e.h)(N.l,i5(o5({},n),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}));var a5=Object.defineProperty,s5=Object.defineProperties,l5=Object.getOwnPropertyDescriptors,Ym=Object.getOwnPropertySymbols,u5=Object.prototype.hasOwnProperty,c5=Object.prototype.propertyIsEnumerable,Jm=(n,t,r)=>t in n?a5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,d5=(n,t)=>{for(var r in t||(t={}))u5.call(t,r)&&Jm(n,r,t[r]);if(Ym)for(var r of Ym(t))c5.call(t,r)&&Jm(n,r,t[r]);return n},f5=(n,t)=>s5(n,l5(t));const Wd=n=>(0,e.h)(N.l,f5(d5({},n),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}));var p5=Object.defineProperty,h5=Object.defineProperties,m5=Object.getOwnPropertyDescriptors,Bu=Object.getOwnPropertySymbols,Xm=Object.prototype.hasOwnProperty,Qm=Object.prototype.propertyIsEnumerable,qm=(n,t,r)=>t in n?p5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,_5=(n,t)=>{for(var r in t||(t={}))Xm.call(t,r)&&qm(n,r,t[r]);if(Bu)for(var r of Bu(t))Qm.call(t,r)&&qm(n,r,t[r]);return n},g5=(n,t)=>h5(n,m5(t)),v5=(n,t)=>{var r={};for(var i in n)Xm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Bu)for(var i of Bu(n))t.indexOf(i)<0&&Qm.call(n,i)&&(r[i]=n[i]);return r};const y5=n=>{var t=n,{fill:r="white"}=t,i=v5(t,["fill"]);return(0,e.h)(N.l,g5(_5({},i),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,e.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))};var b5=Object.defineProperty,P5=Object.defineProperties,E5=Object.getOwnPropertyDescriptors,ku=Object.getOwnPropertySymbols,e0=Object.prototype.hasOwnProperty,t0=Object.prototype.propertyIsEnumerable,n0=(n,t,r)=>t in n?b5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,w5=(n,t)=>{for(var r in t||(t={}))e0.call(t,r)&&n0(n,r,t[r]);if(ku)for(var r of ku(t))t0.call(t,r)&&n0(n,r,t[r]);return n},C5=(n,t)=>P5(n,E5(t)),O5=(n,t)=>{var r={};for(var i in n)e0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ku)for(var i of ku(n))t.indexOf(i)<0&&t0.call(n,i)&&(r[i]=n[i]);return r};const S5=n=>{var t=n,{fill:r="white"}=t,i=O5(t,["fill"]);return(0,e.h)(N.l,C5(w5({},i),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))};var T5=Object.defineProperty,I5=Object.defineProperties,x5=Object.getOwnPropertyDescriptors,r0=Object.getOwnPropertySymbols,D5=Object.prototype.hasOwnProperty,M5=Object.prototype.propertyIsEnumerable,Hd=(n,t,r)=>t in n?T5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,A5=(n,t)=>{for(var r in t||(t={}))D5.call(t,r)&&Hd(n,r,t[r]);if(r0)for(var r of r0(t))M5.call(t,r)&&Hd(n,r,t[r]);return n},N5=(n,t)=>I5(n,x5(t)),Vd=(n,t,r)=>(Hd(n,typeof t!="symbol"?t+"":t,r),r),R5=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const o0="AudioPlayer.playbackRate",L5=5,i0={utm_source:"twitter",utm_medium:"social",utm_campaign:"twitter-embed"};class B5 extends e.Component{constructor(t){super(t)}shouldComponentUpdate(t){return this.props.currentPlaybackRate!==t.currentPlaybackRate||this.props.setPlaybackRate!==t.setPlaybackRate}render(){const{currentPlaybackRate:t,setPlaybackRate:r}=this.props;return(0,e.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:i=>r(Number(i.target.value))},(0,e.h)("option",{value:"1",selected:t===1},"1x"),(0,e.h)("option",{value:"1.25",selected:t===1.25},"1.25x"),(0,e.h)("option",{value:"1.5",selected:t===1.5},"1.5x"),(0,e.h)("option",{value:"1.75",selected:t===1.75},"1.75x"),(0,e.h)("option",{value:"2",selected:t===2},"2x"))}}class Uu extends e.Component{constructor(t,r){super(t,r),Vd(this,"setPlaybackRate",i=>{this.state.playbackRate!==i&&(this.player&&(this.player.playbackRate=i),this.setState({playbackRate:i}),(0,Si.ex)(o0,i))}),Vd(this,"maybeAppendIframeVisitId",i=>{var u;const D=(u=(0,M.A)())==null?void 0:u.id;return D&&(i=(0,v.updateQuery)(i,{src_iid:D})),i}),Vd(this,"openEpisodePage",()=>{let i=this.props.post.canonical_url;i=this.maybeAppendIframeVisitId(i),i=(0,v.updateQuery)(i,i0),window.open(i,"_blank")}),this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:t.playbackRate||(0,Si.mM)(o0,1),currentTime:0,waiting:!0,duration:t.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var t,r;(t=b.globalPlaybackNotifier)==null||t.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((r=this.player)==null?void 0:r.duration)&&this.props.onGetDuration(this.player.duration),(0,b.preloadImage)((0,v.imginary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var t;(t=b.globalPlaybackNotifier)==null||t.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(t,r){!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"&&this.track(M.FP.AUDIO_BUFFERING_STARTED),this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(M.FP.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%L5===0&&this.track(M.FP.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&r.playing&&this.player&&this.player.ended&&this.track(M.FP.AUDIO_PLAYBACK_COMPLETE)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var t;(t=b.globalPlaybackNotifier)==null||t.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(t){this.onDragStart(t.clientX)}onMouseMove(t){this.onDragMove(t.clientX)}onTouchStart(t){t.touches&&t.touches.length>0&&this.onDragStart(t.touches[0].pageX)}onTouchMove(t){typeof this.state.dragTime=="number"&&t.preventDefault(),t.touches&&t.touches.length>0&&this.onDragMove(t.touches[0].pageX)}onDragStart(t){typeof this.state.dragTime!="number"&&this.setDragTime(t)}onDragMove(t){typeof this.state.dragTime=="number"&&this.setDragTime(t)}onDragEnd(){this.clearDragTime()}onUnload(t){this.state.playing&&(t.returnValue="If you close this the audio will stop. Are you sure you want to navigate away from this page?")}onGlobalPlay(t){this!==t&&this.player&&(this.track(M.FP.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return R5(this,null,function*(){if(this.player)if(this.player.paused){this.track(M.FP.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(t){if(t.name==="NotSupportedError")alert("Failed to play this media: it may not be supported by this browser.");else throw t}}else this.track(M.FP.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const t=Math.max(0,this.state.currentTime-15);this.track(M.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}skipForward(){if(this.player){const t=Math.min(this.state.duration,this.state.currentTime+30);this.track(M.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}setDragTime(t){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const r=document.body.getBoundingClientRect(),i=this.progressBar.getBoundingClientRect(),u=i.left-r.left,D=i.right;let H=(Math.max(u,Math.min(D,t))-u)/(D-u)*this.state.duration;this.isDragTimeCloseToCurrentTime(H)&&(H=this.state.currentTime),this.setState({dragTime:H})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const t=this.state.dragTime;this.track(M.FP.SEEKED_AUDIO,{new_time:t,source:"slider"}),this.isDragTimeCloseToCurrentTime(t)?this.setState({dragTime:null}):(this.setState({currentTime:t,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=t))}isDragTimeCloseToCurrentTime(t){if(typeof this.state.currentTime!="number")return!1;let r;return this.state.duration<10?r=0:this.state.duration<30?r=3:r=5,Math.abs(this.state.currentTime-t)<r}track(t,r={}){const i=this.props.metricsPost;i&&(0,M.j)(t,Object.assign({post_id:i.id,publication_id:i.publication_id,is_podcast_free_preview:(0,ba.podcastPostIsFreePreview)(i),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},r))}render({src:t,autoPlay:r,pub:i,post:u,isFancy:D,showCTAs:k,metricsPost:H,addToPodcastLink:U,isPaywalled:ee,render:ve}){if(ve){const{dragTime:xe,duration:Le,currentTime:ze,playbackRate:qe}=this.state;return(0,e.h)(e.Fragment,null,ve({isPaywalled:ee,progress:Le?(typeof xe=="number"?xe:ze)/Le:0,currentTime:Le?(0,Be.secondsToHHMMSS)(ze):"--:--",remainingTime:Le?`-${(0,Be.secondsToHHMMSS)(Le-Math.min(ze,Le))}`:"--:--",isPlaying:this.state.playing,playbackRate:qe,progressBarOnMouseDown:Je=>{this.onMouseDown(Je)},progressBarRef:Je=>{this.progressBar=Je},setPlaybackRate:Je=>{this.setPlaybackRate(Je)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),t&&!ee&&(0,e.h)("audio",{ref:Je=>{this.player=Je},src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."))}return D?this.renderFancy({src:t,autoPlay:r,pub:i,post:u,metricsPost:H,showCTAs:k}):this.renderOriginal({src:t,autoPlay:r,pub:i,metricsPost:H,addToPodcastLink:U})}renderFancy({src:t,autoPlay:r,pub:i,post:u,showCTAs:D}){const k=(0,b.getPodcastEpisodeImageUrl)(i,u);return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-wrapper-fancy"},(0,e.h)("div",{className:"audio-player"},(0,e.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},(0,e.h)(le.Z,{color:"#F8F8F8"})),(0,e.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},k&&(0,e.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:(0,v.imginary)(k,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),(0,e.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},u.title),(0,e.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},u.subtitle),t&&(0,e.h)("audio",{"data-testid":"audio-element",ref:H=>this.player=H,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),D&&(0,e.h)("div",{className:"btn-group"},(0,e.h)(be.Z,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},"View post"),(0,e.h)(be.Z,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId((0,v.getSubscribeUrl)(i,N5(A5({},i0),{simple:!0,next:(0,v.getPostUrl)(i,u)}))),newTab:!0},(0,Be.getSubscribeText)(i))))))}renderOriginal({src:t,autoPlay:r,pub:i,addToPodcastLink:u}){return(0,e.h)("div",{className:"audio-player-wrapper"},(0,e.h)("div",{className:"audio-player"},t&&(0,e.h)("audio",{ref:D=>this.player=D,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),u&&!i.hide_podcast_feed_link&&(0,e.h)("div",{className:"audio-player-add-to-podcast-link",href:u},(0,e.h)("a",{href:u,target:"_blank",rel:"noopener"},"Listen in podcast app")))}renderButtonsFancy({src:t,href:r},{playing:i,waiting:u,playbackRate:D}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},(0,e.h)(jd,{className:"skip-icon"})),(0,e.h)("button",{className:f()("audio-player-play",{pause:"playing",waiting:u}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},i?(0,e.h)(y5,{className:"playback-icon pause",fill:"#1C110B"}):(0,e.h)(S5,{className:"playback-icon play",fill:"#1C110B"})),(0,e.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},(0,e.h)(Wd,{className:"skip-icon"})))}renderButtons({src:t,href:r,isStatic:i},{playing:u,waiting:D,playbackRate:k}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),(0,e.h)("td",{className:"audio-player-backward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipBack()},(0,e.h)(jd,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:`audio-player-play ${u?"pause":""} ${D?"waiting":""}`},(0,e.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.togglePlayback()},(0,e.h)("img",{src:(0,v.imginary)(u?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),(0,e.h)("td",{className:"audio-player-forward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipForward()},(0,e.h)(Wd,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),t&&(0,e.h)(B5,{currentPlaybackRate:k,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:t,currentTime:r,dragTime:i}){return(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-progress-past"},t?(0,Be.secondsToHHMMSS)(r):"--:--"),(0,e.h)("td",{ref:u=>this.progressBar=u,className:"audio-player-progress-bar",onMouseDown:u=>this.onMouseDown(u)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${t?100*(typeof i=="number"?i:r)/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-current",style:`left:${t?100*r/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-button",style:`left:${t?100*(typeof i=="number"?i:r)/t:0}%`}),typeof i=="number"&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,Be.secondsToHHMMSS)(i))),(0,e.h)("td",{className:"audio-player-progress-left"},t?`-${(0,Be.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--"))))}renderProgressFancy({},{duration:t,currentTime:r,dragTime:i,lastDragClearedAt:u}){const D=typeof i=="number",k=u?performance.now()-u<50:!1;return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("div",{ref:H=>this.progressBar=H,className:"audio-player-progress-bar",onMouseDown:H=>this.onMouseDown(H)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${t?100*(D?i:r)/t:0}%`}}),(0,e.h)("div",{className:f()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":D,"audio-player-progress-bar-current-disable-animations":k}),style:`left:${t?100*r/t:0}%`}),D&&(0,e.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${t?100*i/t:0}%`}),D&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,Be.secondsToHHMMSS)(i)))),(0,e.h)("div",{className:"audio-player-time-wrapper"},(0,e.h)("div",{className:"audio-player-progress-past"},t?(0,Be.secondsToHHMMSS)(r):"--:--"),(0,e.h)("div",{className:"audio-player-progress-left"},t?`-${(0,Be.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--")))}}var k5=Object.defineProperty,U5=Object.defineProperties,F5=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,j5=Object.prototype.hasOwnProperty,W5=Object.prototype.propertyIsEnumerable,s0=(n,t,r)=>t in n?k5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,H5=(n,t)=>{for(var r in t||(t={}))j5.call(t,r)&&s0(n,r,t[r]);if(a0)for(var r of a0(t))W5.call(t,r)&&s0(n,r,t[r]);return n},V5=(n,t)=>U5(n,F5(t));const K5=n=>(0,e.h)(N.l,V5(H5({},n),{name:"PlayIconRound",svgParams:{height:24,width:24}}),(0,e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var $5=Object.defineProperty,z5=Object.defineProperties,G5=Object.getOwnPropertyDescriptors,l0=Object.getOwnPropertySymbols,Z5=Object.prototype.hasOwnProperty,Y5=Object.prototype.propertyIsEnumerable,u0=(n,t,r)=>t in n?$5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,J5=(n,t)=>{for(var r in t||(t={}))Z5.call(t,r)&&u0(n,r,t[r]);if(l0)for(var r of l0(t))Y5.call(t,r)&&u0(n,r,t[r]);return n},X5=(n,t)=>z5(n,G5(t));const wl=n=>(0,e.h)(N.l,X5(J5({},n),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),(0,e.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}));var Q5=Object.defineProperty,q5=Object.defineProperties,eT=Object.getOwnPropertyDescriptors,c0=Object.getOwnPropertySymbols,tT=Object.prototype.hasOwnProperty,nT=Object.prototype.propertyIsEnumerable,d0=(n,t,r)=>t in n?Q5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,rT=(n,t)=>{for(var r in t||(t={}))tT.call(t,r)&&d0(n,r,t[r]);if(c0)for(var r of c0(t))nT.call(t,r)&&d0(n,r,t[r]);return n},oT=(n,t)=>q5(n,eT(t));const iT=n=>(0,e.h)(N.l,oT(rT({},n),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),(0,e.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),(0,e.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),aT={themedSelectOption:"frontend-components-audio-module__themedSelectOption--z_3gS",noUnderline:"frontend-components-audio-module__noUnderline--mBrri",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--chnEy",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--GChUY",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--vuDTY",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--P1zWf",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--uMMr8",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--b8UQR"};var sT=Object.defineProperty,lT=Object.defineProperties,uT=Object.getOwnPropertyDescriptors,f0=Object.getOwnPropertySymbols,cT=Object.prototype.hasOwnProperty,dT=Object.prototype.propertyIsEnumerable,p0=(n,t,r)=>t in n?sT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,h0=(n,t)=>{for(var r in t||(t={}))cT.call(t,r)&&p0(n,r,t[r]);if(f0)for(var r of f0(t))dT.call(t,r)&&p0(n,r,t[r]);return n},m0=(n,t)=>lT(n,uT(t)),fT=(n=>(n.Embed="Embed audio",n.Voiceover="Add voiceover",n.Podcast="Podcast",n.PodcastPreview="Podcast free version",n))(fT||{}),pT=(n=>(n.Embed="Upload or record an audio file embedded into the text.",n.Voiceover="Upload or record a new voiceover: an audio version of your post.",n.Podcast="Create a new podcast episode by uploading or recording an audio file.",n.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds.",n))(pT||{}),hT=(n=>(n[n.PubAccent=0]="PubAccent",n[n.PubFull=1]="PubFull",n[n.Substack=2]="Substack",n))(hT||{});const Kd=({containerRef:n,currentTime:t,remainingTime:r,progress:i,onMouseDown:u,shouldCollapseOnMobile:D=!1,theme:k=1})=>(0,e.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},(0,e.h)("div",{className:f()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":D})},t),(0,e.h)("div",{ref:n,className:f()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":D}),onMouseDown:u},(0,e.h)("div",{className:f()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":k===1,"tw-bg-substack-detail":k!==1})}),(0,e.h)("div",{className:f()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":k!==2,"tw-bg-substack-accent":k===2}),style:{width:`${i*100}%`}}),(0,e.h)("div",{className:f()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":k===1,"tw-border-substack-bg":k!==1,"tw-bg-substack-accent":k===2,"tw-bg-pub-accent":k!==2}),style:{left:`${i*100}%`}})),(0,e.h)("div",{className:"tw-min-w-[40px]"},r)),Fu=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],$d=({onSetPlaybackRate:n,playbackRate:t,className:r})=>{const i=Fu.findIndex(({value:u})=>u===t);return(0,e.h)("div",{onClick:()=>{const u=(i+1)%Fu.length;n(Fu[u].value)},className:r},Fu[i].display,"\xD7")},tH=({togglePlayback:n,isPlaying:t,isDisabled:r=!1})=>h("div",{onClick:()=>{track(EVENTS.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:r}),r||n()},className:"tw-flex tw-justify-center tw-pb-8"},t?h("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):h(PlayIconRounded,{className:cn("tw-relative tw-left-1",{"tw-cursor-pointer":!r,"tw-fill-pub-accent":!r,"tw-fill-substack-detail":r}),stroke:"none",height:28})),mT=({isPlaying:n,onSkipBack:t,onSkipForward:r,onTogglePlayback:i})=>(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},t&&(0,e.h)("div",{onClick:t,role:"button",className:"tw-cursor-pointer"},(0,e.h)(jd,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),(0,e.h)("div",{className:f()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:i,role:"button"},n?(0,e.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):(0,e.h)(wl,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),r&&(0,e.h)("div",{onClick:r,role:"button",className:"tw-cursor-pointer"},(0,e.h)(Wd,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),_0=n=>(0,e.h)(Uu,m0(h0({},n),{metricsPost:n.post,feature:"Embed audio",render:({currentTime:t,isPlaying:r,progress:i,progressBarRef:u,progressBarOnMouseDown:D,remainingTime:k,playbackRate:H,setPlaybackRate:U,togglePlayback:ee})=>(0,e.h)("div",{"data-component-name":"AudioEmbedPlayer",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},(0,e.h)($d,{onSetPlaybackRate:U,playbackRate:H,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},n.label&&(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},n.label),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},(0,e.h)(Kd,{currentTime:t,remainingTime:k,containerRef:u,progress:i,onMouseDown:D}))),(0,e.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:ee,role:"button"},r?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-4 tw-justify-between"},(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(wl,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent",stroke:"none",height:18})))})),g0=({pub:n,post:t,duration:r,label:i})=>{var u;return(0,e.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,e.h)("tr",null,(0,e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,e.h)("a",{href:t.canonical_url,className:f()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",aT.noUnderline)},(0,e.h)(K5,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(u=n.theme)==null?void 0:u.background_pop_color,isStatic:!0}),(0,e.h)("span",{className:"tw-align-middle"},(0,Be.truncateText)(i,10)||"Listen now"," \xB7 ",(0,Be.secondsToHHMMSS)(r))))))},_T=n=>{const t=(0,Fe.useMediaQuery)({maxWidth:631}),r=`/api/v1/audio/upload/${n.mediaUploadId}/src`;return(0,e.h)(Uu,m0(h0({},n),{src:r,feature:"Add voiceover",metricsPost:n.post,render:({isPaywalled:i,currentTime:u,isPlaying:D,progress:k,progressBarRef:H,progressBarOnMouseDown:U,remainingTime:ee,playbackRate:ve,setPlaybackRate:xe,togglePlayback:Le})=>(0,e.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},(0,e.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},(0,e.h)(iT,{className:"tw-stroke-pub-secondary-text"})),(0,e.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},i?(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},"Upgrade to paid to play voiceover"):(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},"Article voiceover"),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},(0,e.h)($d,{onSetPlaybackRate:xe,playbackRate:ve,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)(Kd,{currentTime:u,remainingTime:ee,containerRef:H,progress:k,onMouseDown:U,shouldCollapseOnMobile:!0}))),i?(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},(0,e.h)(wl,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:t?20:24})):(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Le,role:"button"},D?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(wl,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},nH=({pub:n,post:t,isPaywalled:r})=>{var i,u,D;const k=r?"Upgrade to paid for post voiceover":`Listen to post ${((i=t.voiceoverUpload)==null?void 0:i.duration)&&`\xB7 ${secondsToHHMMSS(t.voiceoverUpload.duration)}`}`;return h("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},h("tr",null,h("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},h("a",{href:`${Substitutions.PLAY_ON_SUBSTACK}&utm_source=substack&utm_medium=email#play`,className:cn("tw-block tw-w-full tw-p-4 tw-text-substack-primary",css.noUnderline)},h(PlayIconRound,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:r?(u=n.theme)==null?void 0:u.background_contrast_3:(D=n.theme)==null?void 0:D.background_pop_color,isStatic:!0}),h("span",{className:"voiceover-player-static-cta tw-align-middle"},k)))))},rH=({isOpen:n,onDismiss:t,onDeleteAudio:r})=>h(Modal,{isOpen:n,onClose:t},h(ModalHeader,{includeClose:!1,title:"Something went wrong..."}),h(ModalBody,null,"Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience."),h(ModalFooter,{includeDivider:!1,alignment:"default",primaryButton:h(DeprecatedButton,{onClick:r,variant:"primary"},"Got it")}));var gT=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const vT=n=>parseFloat(n).toFixed(2),yT=({symbol:n,prependSymbol:t=!1,isStatic:r=!1})=>{const i=`/api/v1/price/${n}`,[u,D]=(0,o.eJ)(null),[k,H]=(0,o.eJ)(null),[U,ee]=(0,o.eJ)(!1);return(0,o.d4)(()=>{(()=>gT(void 0,null,function*(){try{const xe=yield ft().get(i);if(xe.body){if(xe.body.status==="not_found"){ee(!0);return}D(xe.body.price),H(xe.body.change_pct)}}catch(xe){ee(!0)}}))()},[i]),!t&&n.startsWith("$")&&(n=n.slice(1)),r?(0,e.h)("span",null,(0,e.h)("a",{"data-component-name":"CashtagStatic",href:`${(0,v.getStockLandingUrl)(n)}`},n," ")):U?(0,e.h)("span",null,n," "):(0,e.h)("a",{className:f()("cashtag",{neutral:k==0,positive:k&&parseFloat(k)>0,negative:k&&parseFloat(k)<0}),target:"_blank",rel:"noopener",href:`${(0,v.getStockLandingUrl)(n)}`,"data-attrs":JSON.stringify({symbol:n}),"data-component-name":"Cashtag"},`${n.toUpperCase()} `,(0,e.h)("span",null,k?(0,e.h)("span",null,(0,e.h)("span",{className:f()("delta")},`${vT(k)}%`,!!k&&(parseFloat(k)>0?String.fromCharCode(8593):String.fromCharCode(8595)))):"0.00"))};var v0=It(14531),bT=It(91036),y0=It.n(bT);const Do={digestPostEmbed:"frontend-components-DigestPostEmbed-index-module__digestPostEmbed--Ig8_w",menu:"frontend-components-DigestPostEmbed-index-module__menu--Bz7Fv",caption:"frontend-components-DigestPostEmbed-index-module__caption--YO4hv",captionEditor:"frontend-components-DigestPostEmbed-index-module__captionEditor--B5QxT",smSquare:"frontend-components-DigestPostEmbed-index-module__smSquare--iauxz",mdSquare:"frontend-components-DigestPostEmbed-index-module__mdSquare--KEbmN",fullWidth:"frontend-components-DigestPostEmbed-index-module__fullWidth--R2y7M",inheritColor:"frontend-components-DigestPostEmbed-index-module__inheritColor--xH1Q_",link:"frontend-components-DigestPostEmbed-index-module__link--j23hQ",disableLink:"frontend-components-DigestPostEmbed-index-module__disableLink--sgsa4"};var PT=Object.defineProperty,ET=Object.defineProperties,wT=Object.getOwnPropertyDescriptors,b0=Object.getOwnPropertySymbols,CT=Object.prototype.hasOwnProperty,OT=Object.prototype.propertyIsEnumerable,P0=(n,t,r)=>t in n?PT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ST=(n,t)=>{for(var r in t||(t={}))CT.call(t,r)&&P0(n,r,t[r]);if(b0)for(var r of b0(t))OT.call(t,r)&&P0(n,r,t[r]);return n},TT=(n,t)=>ET(n,wT(t));const ju=n=>{n.stopPropagation()},IT=({editing:n,caption:t,onFocus:r,onSave:i,onCancel:u})=>{const D=t.replace(/<br\s*\/?>/gi,`
`),[k,H]=(0,o.eJ)(D);return n?(0,e.h)(qt.tu,{flex:"grow"},(0,e.h)(qt.gx,{name:"description",value:k,onChange:U=>{H(U.target.value)},className:Do.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:ju,onKeyDown:ju,onCopy:ju,onPaste:ju}),(0,e.h)(qt.hE,{paddingY:8,justifyContent:"end"},(0,e.h)(qt.zx,{priority:"secondary-theme",onClick:u},"Cancel"),(0,e.h)(qt.zx,{priority:"primary-theme",onClick:()=>{const U=k.replace(/\n/g,"<br>"),ee=y0()(U,TT(ST({},y0().defaults),{allowedTags:["br"]}));i(ee)}},"Save"))):(0,e.h)("p",{onClick:r,className:Do.caption,dangerouslySetInnerHTML:{__html:t}})};var E0=It(48960);const xT=({size:n,onOpen:t,onClose:r,onEditCaption:i,onSetLayout:u,onConvertToLink:D,onConvertToEmbeddedPost:k,onDelete:H})=>(0,e.h)(qt.hs,{className:Do.menu,justifyContent:"end"},(0,e.h)(wo.v2,{trigger:(0,e.h)(qt.hU,{priority:"secondary-theme",rounded:!1,fill:"outline"},(0,e.h)(rs,{className:Do.menuIcon,height:20})),onOpen:t,onClose:r,layerOptions:{placement:"bottom-end"}},(0,e.h)(wo.sN,{disabled:n==="sm",onClick:()=>u("sm")},"Small display"),(0,e.h)(wo.sN,{disabled:n==="md",onClick:()=>u("md")},"Medium display"),(0,e.h)(wo.sN,{disabled:n==="lg",onClick:()=>u("lg")},"Large display"),(0,e.h)(E0.i,null),(n==="lg"||n==="md")&&(0,e.h)(wo.sN,{onClick:i},"Edit caption"),(0,e.h)(wo.sN,{onClick:()=>k()},"Convert to default"),(0,e.h)(wo.sN,{onClick:D},"Convert to link"),(0,e.h)(wo.sN,{priority:"destructive",onClick:H},"Remove"))),w0=(0,Eo.Z)("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),zd=({post:n,href:t,isEditor:r,includeUfi:i=!1,paddingTop:u=0,paddingBottom:D=0})=>{const k=(0,us.aF)(),H=(0,pd.I)();return(0,e.h)(Ne.gq,{gap:16,paddingTop:u,paddingBottom:D,alignItems:"center"},i&&H&&k&&n&&(0,e.h)(Ne.gq,{gap:8,className:"post-ufi"},(0,e.h)(Ko.RY,{post:n,pub:H,user:k}),(0,e.h)(Ko.L9,{post:n,pub:H}),(0,e.h)(Ko.pD,{post:n,pub:H,user:k,style:"button",labelStyle:"cta"})),(0,e.h)(qt.xv.Button,{className:f()({[Do.disableLink]:r}),as:"a",href:t,align:"center"},(0,e.h)(Ne.gq,{gap:8,alignItems:"center",className:Do.link},(0,e.h)(qt.xv.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),(0,e.h)(w0,{size:16}))))},C0=({href:n,includeUfi:t=!1,paddingTop:r=0,paddingBottom:i=0})=>(0,e.h)(qr.zK,{gap:16,style:{paddingTop:r,paddingBottom:i}},(0,e.h)(qt.xv.Button,{as:"a",href:n,align:"center"},(0,e.h)(qr.zK,{gap:8},(0,e.h)(qt.xv.B4,{color:"pub-accent",as:"span",size:14,className:Do.link},"Read full story"))));var Gd=It(45809);const Zd=({bylines:n,date:t,isEditor:r})=>(0,e.h)(Ne.gq,{alignItems:"center",gap:4},n!=null&&n.length?(0,e.h)(e.Fragment,null,(0,e.h)(qt.xv.Meta,{className:f()({[Do.disableLink]:r}),color:"pub-secondary-text"},(0,e.h)(Gd.M,{array:n||[],limit:3,formatter:({id:i,name:u})=>(0,e.h)("a",{className:Do.inheritColor,href:(0,ae.getProfileUrlById)(i,u)},u)})),(0,e.h)(qt.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(qt.xv.Meta,{color:"pub-secondary-text"},(0,b.formatPostDate)(t))),O0=({bylines:n,date:t})=>(0,e.h)(qr.zK,{gap:4},n!=null&&n.length?(0,e.h)(e.Fragment,null,(0,e.h)(qt.xv.Meta,{color:"pub-secondary-text"},(0,e.h)(Gd.M,{array:n||[],limit:3,formatter:({id:r,name:i})=>(0,e.h)("a",{className:Do.inheritColor,href:(0,ae.getProfileUrlById)(r,i)},i)})),(0,e.h)(qt.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(qt.xv.Meta,{color:"pub-secondary-text"},(0,b.formatPostDate)(t))),DT=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:u,canonical_url:D,post_date:k,section_name:H,cover_image:U,cover_image_alt:ee}=n;return(0,e.h)(Ne.tu,null,H&&(0,e.h)("a",{href:D,className:f()({[Do.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(qt.xv.Meta,{color:"pub-primary-text",paddingBottom:8},H)),(0,e.h)("a",{href:D,className:f()({[Do.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(qt.xv.H2,{color:"pub-primary-text"},u)),(0,e.h)(Zd,{bylines:i,date:k,isEditor:t}),U&&(0,e.h)(qt.xu,{paddingTop:24},(0,e.h)("a",{href:D,className:f()({[Do.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(jn.e,{className:Do.fullWidth,src:U,alt:ee!=null?ee:u,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)(qt.hs,{paddingTop:16,flex:"grow"},t?r:(0,e.h)("a",{href:D,className:f()({[Do.disableLink]:t}),target:"_blank",rel:"noopener"},r)),(0,e.h)(zd,{post:n,href:D,includeUfi:!1,isEditor:t}))},S0=({post:n,children:t})=>{const{publishedBylines:r,title:i,canonical_url:u,post_date:D,section_name:k,cover_image:H,cover_image_alt:U}=n;return(0,e.h)(qr.i$,null,k&&(0,e.h)("a",{href:u},(0,e.h)(qt.xv.Meta,{color:"pub-primary-text",paddingBottom:8},k)),(0,e.h)("a",{href:u},(0,e.h)(qt.xv.H2,{color:"pub-primary-text"},i)),(0,e.h)(O0,{bylines:r,date:D}),H&&(0,e.h)(qt.xu,{paddingTop:24},(0,e.h)("a",{href:u},(0,e.h)(jn.e,{className:Do.fullWidth,src:H,alt:U!=null?U:i,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)("a",{href:u},(0,e.h)(qt.xu,{as:"p"},t)),(0,e.h)(C0,{href:u}))},MT=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:u,canonical_url:D,post_date:k,section_name:H,cover_image:U,cover_image_alt:ee}=n,ve=(0,Ai.XA)();return(0,e.h)(Ne.tu,null,H&&(0,e.h)("a",{href:D,className:f()({[Do.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(qt.xv.Meta,{color:"pub-primary-text",paddingBottom:8},H)),(0,e.h)("a",{href:D,className:f()({[Do.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(qt.xv.H2,{color:"pub-primary-text"},u)),(0,e.h)(Zd,{bylines:i,date:k,isEditor:t}),(0,e.h)(qt.hs,{direction:{mobile:"column",desktop:"row"},gap:16,paddingTop:16},U&&(0,e.h)(qt.xu,{style:{width:ve?"unset":140}},(0,e.h)("a",{href:D,className:f()({[Do.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(jn.e,{className:ve?Do.fullWidth:Do.mdSquare,src:U,alt:ee!=null?ee:u,maxWidth:ve?1300:280,imageProps:{height:Math.round(ve?1300:280),smartCrop:!0}}))),(0,e.h)(Ne.tu,{flex:"grow"},t?r:(0,e.h)("a",{href:D,className:f()({[Do.disableLink]:t}),target:"_blank",rel:"noopener"},r),(0,e.h)(zd,{post:n,href:D,isEditor:t}))))},AT=({post:n,children:t})=>(0,e.h)(S0,{post:n,children:t}),NT=({post:n,isEditor:t})=>{const{publishedBylines:r,title:i,canonical_url:u,post_date:D,cover_image:k,cover_image_alt:H}=n;return(0,e.h)("a",{href:u,className:f()({[Do.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(Ne.gq,{gap:16},k&&(0,e.h)(qt.xu,{style:{width:70,height:70}},(0,e.h)(jn.e,{className:Do.smSquare,src:k,alt:H!=null?H:i,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),(0,e.h)(Ne.tu,null,(0,e.h)(qt.xv.H4,{color:"pub-primary-text"},i),(0,e.h)(Zd,{bylines:r,date:D,isEditor:t}),(0,e.h)(zd,{post:n,href:u,includeUfi:!1,isEditor:t}))))},RT=({post:n})=>{const{publishedBylines:t,title:r,canonical_url:i,post_date:u,cover_image:D,cover_image_alt:k}=n;return(0,e.h)(qr.zK,{gap:16},D&&(0,e.h)(qt.xu,{style:{width:70}},(0,e.h)("a",{href:i},(0,e.h)(jn.e,{className:Do.smSquare,src:D,alt:k!=null?k:r,maxWidth:140,imageProps:{height:140,smartCrop:!0}}))),(0,e.h)(qr.i$,null,(0,e.h)(qt.xv.H4,{color:"pub-primary-text"},(0,e.h)("a",{href:i},r)),(0,e.h)(O0,{bylines:t,date:u}),(0,e.h)(C0,{href:i})))};var LT=Object.defineProperty,Wu=Object.getOwnPropertySymbols,T0=Object.prototype.hasOwnProperty,I0=Object.prototype.propertyIsEnumerable,x0=(n,t,r)=>t in n?LT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,BT=(n,t)=>{for(var r in t||(t={}))T0.call(t,r)&&x0(n,r,t[r]);if(Wu)for(var r of Wu(t))I0.call(t,r)&&x0(n,r,t[r]);return n},kT=(n,t)=>{var r={};for(var i in n)T0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Wu)for(var i of Wu(n))t.indexOf(i)<0&&I0.call(n,i)&&(r[i]=n[i]);return r};const Hu=n=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:n,bubbles:!0}))},UT=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:n,bubbles:!0}))},FT=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:n,bubbles:!0}))},jT=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},WT=({nodeId:n,caption:t,size:r="lg",isEditor:i,title:u,publishedBylines:D,post_date:k,cover_image:H,cover_image_alt:U,canonical_url:ee,section_name:ve,id:xe,type:Le,reaction_count:ze,comment_count:qe,publication_name:Je,publication_logo_url:st})=>{const[Ct,bt]=(0,o.eJ)(!1),[Dt,Ut]=(0,o.eJ)(!1),[Rt,Qt]=(0,o.eJ)(!1),pn={title:u,publishedBylines:D,post_date:k,cover_image:H,cover_image_alt:U,canonical_url:ee,section_name:ve,id:xe,type:Le,reaction_count:ze,comment_count:qe,publication_name:Je,publication_logo_url:st},En=()=>{Ut(!0),bt(!1),Hu({nodeId:n,shouldDisableDrag:!0})},_n=(0,e.h)(IT,{editing:Dt,caption:t,onFocus:En,onSave:fn=>{Ut(!1),Hu({nodeId:n,caption:fn,shouldDisableDrag:!1})},onCancel:()=>{Ut(!1),Hu({nodeId:n,shouldDisableDrag:!1})}});return(0,e.h)("div",{className:f()(Do.digestPostEmbed),onMouseEnter:()=>!Dt&&bt(!0),onMouseLeave:()=>!Rt&&bt(!1),"data-component-name":"DigestPostEmbed"},(0,e.h)(e.Fragment,null,i&&Ct&&(0,e.h)(xT,{size:r,onOpen:()=>Qt(!0),onClose:()=>Qt(!1),onEditCaption:En,onSetLayout:fn=>{Hu(BT({nodeId:n,caption:t,size:fn},pn))},onConvertToEmbeddedPost:()=>{FT({url:ee})},onConvertToLink:()=>{UT({url:ee})},onDelete:()=>{jT()}}),r==="sm"&&(0,e.h)(NT,{post:pn,isEditor:i}),r==="md"&&(0,e.h)(MT,{post:pn,isEditor:i},i?_n:(0,e.h)("p",{className:Do.caption,dangerouslySetInnerHTML:{__html:t}})),r==="lg"&&(0,e.h)(DT,{post:pn,isEditor:i},i?_n:(0,e.h)("p",{className:Do.caption,dangerouslySetInnerHTML:{__html:t}}))))},HT=n=>{var t=n,{caption:r,size:i}=t,u=kT(t,["caption","size"]);return u?(0,e.h)("div",{className:f()(Do.digestPostEmbed,v0.A.digestPostEmbed),"data-component-name":"DigestPostEmbedStatic"},i==="sm"&&(0,e.h)(RT,{post:u}),i==="md"&&(0,e.h)(AT,{post:u},(0,e.h)("p",{className:Do.caption,dangerouslySetInnerHTML:{__html:r}})),i==="lg"&&(0,e.h)(S0,{post:u},(0,e.h)("p",{className:Do.caption,dangerouslySetInnerHTML:{__html:r}}))):null},ha={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--rijH5","align-left":"frontend-components-document_body-image3-Image3-module__align-left--JsrTP","align-center":"frontend-components-document_body-image3-Image3-module__align-center--kADok","align-right":"frontend-components-document_body-image3-Image3-module__align-right--SJAgQ",staticView:"frontend-components-document_body-image3-Image3-module__staticView--E5km_",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--g566A",left:"frontend-components-document_body-image3-Image3-module__left--CzulB",right:"frontend-components-document_body-image3-Image3-module__right--ru3Z2",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--CwR5q",large:"frontend-components-document_body-image3-Image3-module__large--jyLyc",full:"frontend-components-document_body-image3-Image3-module__full--H9NKo",caption:"frontend-components-document_body-image3-Image3-module__caption--C2TrT",static:"frontend-components-document_body-image3-Image3-module__static--OsmFP",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--bEUFj",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--lVxEL",withCaption:"frontend-components-document_body-image3-Image3-module__withCaption--IXwNH",active:"frontend-components-document_body-image3-Image3-module__active--bsRqv",captionEditor:"frontend-components-document_body-image3-Image3-module__captionEditor--fu4ZT",captionContent:"frontend-components-document_body-image3-Image3-module__captionContent--uVtTa",zoom:"frontend-components-document_body-image3-Image3-module__zoom--ZILtz"},VT=({align:n,width:t})=>{const r={};if(n==="center"||t==="100%"||t>=v.EMAIL_CONTENT_WIDTH)return r;const i=n==="left"?"paddingRight":"paddingLeft";return r[i]=v.EMAIL_CONTENT_WIDTH-t,r},KT=({src:n,alt:t,title:r,width:i,height:u,size:D,align:k})=>{const H=i==="100%"?v.EMAIL_CONTENT_WIDTH:i;return(0,e.h)("div",{className:f()(ha.staticView),"data-component-name":"Image3Static"},(0,e.h)("div",{style:VT({align:k,width:i}),className:f()(ha.staticImageWrap)},(0,e.h)("img",{width:H,height:u,src:(0,v.imginary)(n,2*v.EMAIL_CONTENT_WIDTH),alt:t}),r&&(0,e.h)("div",{className:f()(ha.caption,ha.static)},r)))};var Yd=It(55661);const $T=({src:n,alt:t,title:r,width:i,height:u,size:D,align:k})=>{const[H,U]=(0,o.eJ)(!1),[ee,ve]=(0,o.eJ)(0),[xe,Le]=(0,o.eJ)(0),ze=(0,o.sO)(null),qe=()=>{const st=document.querySelector(".ProseMirror");st&&Le(st==null?void 0:st.clientWidth),ze.current&&(ze.current.onload=()=>{ve(ze.current.naturalWidth/ze.current.naturalHeight)})};(0,o.d4)(()=>{qe()});const Je=()=>{switch(D){case"large":return v.LARGE_IMAGE_WIDTH;case"full":return typeof window!==void 0?window.innerWidth:v.MAX_REASONABLE_SCREEN_WIDTH;default:return i==="100%"?v.WEB_CONTENT_WIDTH:i}};return(0,e.h)("figure",{className:f()(ha.mediaNodeView,k&&ha[`align-${k}`||""]),"data-drag-handle":"","data-component-name":"Image3Dynamic"},(0,e.h)(Ne.gq,{className:f()(ha.imageContainer,ha.zoom,ha[D]),onClick:()=>U(!0)},(0,e.h)(Ne.tu,{gap:8},(0,e.h)(jn.e,{className:ha[D],src:n,alt:t,title:r,maxWidth:Je(),imageRef:ze}),r&&(0,e.h)("figcaption",{className:ha.caption},r))),(0,e.h)(Yd.ImageViewerModal,{showModal:H,modalContent:[{attrs:{src:n,alt:t,title:r}}],onClose:()=>U(!1),step:0}))};var zT=It(71284);const Ki={imageGallery:"frontend-components-ImageGallery-module__imageGallery--shoTe",static:"frontend-components-ImageGallery-module__static--gQ9AX",canEdit:"frontend-components-ImageGallery-module__canEdit--XIs4R",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--eipH6",editGallery:"frontend-components-ImageGallery-module__editGallery--pSUAH",imageCaption:"frontend-components-ImageGallery-module__imageCaption--JESLj",image:"frontend-components-ImageGallery-module__image--g2yvp",zoom:"frontend-components-ImageGallery-module__zoom--eQKQQ",imageRow:"frontend-components-ImageGallery-module__imageRow--RFMqP","length-2":"frontend-components-ImageGallery-module__length-2--F3EXK",inbox:"frontend-components-ImageGallery-module__inbox--uMAJy",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--OpzQK",imageWrap:"frontend-components-ImageGallery-module__imageWrap--odWNd",small:"frontend-components-ImageGallery-module__small--Muz63",medium:"frontend-components-ImageGallery-module__medium--uFsr6"},D0=(n,t)=>t===1?"large":t===2||t===4?"medium":t%3===0?"small":t===5||t===7?n<=2?"small":"medium":n<=5?"small":"medium",M0={small:237,medium:360,large:728},A0=({src:n,size:t,onSelectImage:r,useViewer:i=!1,alt:u})=>{const D=()=>{i&&r()};return(0,e.h)(jn.e,{src:n,alt:u,maxWidth:2*M0[t],className:f()(Ki.image,Ki[t],i&&Ki.zoom),onClick:D})},GT=(n,t="",r="")=>{const i=[];for(const u in n){const D=n[u],{height:k=0,width:H=0}=(0,ae.extractDimensionsFromImageUrl)(D.src)||{},U=`(${Number(u)+1} of ${n.length})`,ee={src:D.src,height:k,width:H,alt:`${r} ${U}`,title:`${t} ${U}`};i.push({attrs:ee})}return i},ZT=({onEditGallery:n,editGalleryRef:t})=>(0,e.h)(Ne.hs,{justifyContent:"center",alignItems:"center",className:Ki.editGalleryWrap},(0,e.h)(Ni.Fx,{ref:t,noList:!0},(0,e.h)(Ne.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:Ki.editGallery},(0,e.h)(_l.Z,{height:20})))),YT=({node:n,editor:t})=>{const{gallery:r}=n.attrs,i=n.attrs.isEditor||t,{images:u=[],caption:D,alt:k}=r,H=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[U,ee]=(0,o.eJ)(!1),[ve,xe]=(0,o.eJ)(0),Le=(0,o.sO)(null),ze=u.length===1,qe=GT(u,D),Je=Dt=>{xe(Dt),ee(!0)},st=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(u.length===0)return null;const Ct=Dt=>{var Ut,Rt;i&&(Dt?(Ut=Le.current)==null||Ut.open():(Rt=Le.current)==null||Rt.close())},bt=N0(u);return(0,e.h)(zT.T5,{className:"image-gallery-embed","data-drag-handle":""},(0,e.h)("figure",{className:f()(Ki.imageGallery,i&&Ki.canEdit),onMouseEnter:()=>Ct(!0),onMouseLeave:()=>Ct(!1),"data-drag-handle":!0,"data-component-name":"ImageGallery"},i&&r&&(0,e.h)(ZT,{onEditGallery:st,editGalleryRef:Le}),(0,e.h)(Ne.tu,{gap:8},ze?(0,e.h)(A0,{src:u[0].src,alt:k,caption:D,size:D0(0,1),onSelectImage:()=>Je(0),useViewer:H}):bt.map(Dt=>(0,e.h)(Ne.hs,{className:f()(Ki.imageRow,Ki[`length-${Dt.length}`]),gap:8},Dt.map((Ut,Rt)=>(0,e.h)(A0,{src:Ut.src,alt:k,caption:D,size:D0(Rt,u.length),onSelectImage:()=>Je(Rt),useViewer:H})))),D&&(0,e.h)("figcaption",{className:Ki.imageCaption},D)),(0,e.h)(Yd.ImageViewerModal,{showModal:U,modalContent:qe,onClose:()=>ee(!1),step:ve})))},JT=({node:n})=>{const{gallery:t}=n.attrs;if(!t)return null;const{alt:r,staticGalleryImage:i,caption:u}=t;return i?(0,e.h)("div",{className:f()(Ki.static,Ki.imageGallery),"data-component-name":"ImageGalleryStatic"},(0,e.h)("img",{src:(0,ae.imginary)(i.src,2*M0.large),alt:r}),u&&(0,e.h)("div",{className:f()(Ki.imageCaption,Ki.static)},u)):null};function N0(n){const t=n.length===4?2:3;let r=[n.slice(0,t)];const i=n.slice(t);return i.length>0&&(r=r.concat(N0(i))),r}var XT=(n=>(n.CompOneMonth="comp_one_month",n.CompThreeMonths="comp_three_months",n.CompSixMonths="comp_six_months",n.CompNineMonths="comp_nine_months",n.CompTwelveMonths="comp_twelve_months",n.Custom="custom",n))(XT||{});const R0={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"},iH={comp_one_month:30,comp_three_months:90,comp_six_months:180,comp_nine_months:270,comp_twelve_months:365};var QT=Object.defineProperty,qT=Object.defineProperties,eI=Object.getOwnPropertyDescriptors,L0=Object.getOwnPropertySymbols,tI=Object.prototype.hasOwnProperty,nI=Object.prototype.propertyIsEnumerable,B0=(n,t,r)=>t in n?QT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,rI=(n,t)=>{for(var r in t||(t={}))tI.call(t,r)&&B0(n,r,t[r]);if(L0)for(var r of L0(t))nI.call(t,r)&&B0(n,r,t[r]);return n},oI=(n,t)=>qT(n,eI(t));const k0=n=>(0,e.h)(N.l,oI(rI({strokeLinecap:"round",strokeLinejoin:"round"},n),{name:"LucideStarIcon",svgParams:{height:24,width:24}}),(0,e.h)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})),iI={referralsTierCard:"frontend-components-referrals-ReferralsTierCard-module__referralsTierCard--fLx1c"};var aI=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const sI=({tierNumber:n,rewardDescription:t,numReferralsRequired:r,pub:i})=>{const[u,D]=(0,o.eJ)([]),k=()=>aI(void 0,null,function*(){const{body:ve}=yield ft().get("/api/v1/reader_referrals/tiers");D(ve.tiers)});(0,o.d4)(()=>{k()},[]);const H=u[n-1],U=H?H.reward_description?H.reward_description:R0[H.reward_type]:t,ee=H?H.num_referrals_required:r;return(0,e.h)(Ne.tu,{"data-component-name":"ReferralsTierCard",className:"milestone-tier-card",justifyContent:"start",border:"detail-themed",radius:12,padding:20,gap:16,target:"_blank"},(0,e.h)("div",{className:"tier-stars-container"},Array(n).fill(0).map((ve,xe)=>(0,e.h)(k0,{width:20,height:20,strokeWidth:2,stroke:"#18ADFF",fill:"#18ADFF",key:xe}))),(0,e.h)(Ne.tu,{gap:4},(0,e.h)(q.xv.H4,null,U),(0,e.h)(q.xv.Meta,null,"Tier ",n," reward - ",ee," Referrals")),(0,e.h)(Ne.gq,{alignItems:"center"},(0,e.h)(cr.Z,{pub:i,logo_url:i.logo_url,size:24}),(0,e.h)(q.xv.Meta,{color:"primary",as:"a",href:(0,v.getBaseUrl)(i),decoration:"none",weight:"bold"},i.name)))},lI=({tierNumber:n,pub:t})=>(0,e.h)("a",{href:(0,ae.getLeaderboardUrl)(t,{addBase:!0}),className:iI.referralsTierCard},(0,e.h)(qr.i$,{gap:16},(0,e.h)(qr.zK,{style:{lineHeight:0},gap:4},Array(n).fill(0).map((r,i)=>(0,e.h)(k0,{width:20,height:20,strokeWidth:2,stroke:"#18ADFF",fill:"#18ADFF",key:i,isStatic:!0}))),(0,e.h)(qr.i$,{gap:4},(0,e.h)(q.xv.H4,null,Ei.Substitutions.REWARD_DESCRIPTION),(0,e.h)(q.xv.Meta,null,"Tier ",n," reward - ",Ei.Substitutions.NUM_REFERRALS_REQUIRED," Referrals")),(0,e.h)(qr.zK,{verticalAlign:"middle"},(0,e.h)(cr.Z,{isStatic:!0,pub:t,logo_url:t.logo_url,size:24}),(0,e.h)(q.xv.Meta,{color:"primary",as:"a",href:(0,v.getBaseUrl)(t),decoration:"none",weight:"bold"},t.name))));var uI=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const cI=({mediaUploadId:n})=>{const[t,r]=(0,o.eJ)(null),[i,u]=(0,o.eJ)(!0),[D,k]=(0,o.eJ)(null);return(0,o.d4)(()=>{n?(()=>uI(void 0,null,function*(){try{const U=yield ft().get(`/api/v1/video/upload/${n}`);r(U.body),u(!1)}catch(U){console.error("Failed to load media upload:",U),k((0,b.getNetworkErrorMessage)(U)),u(!1)}}))():(r(null),u(!1))},[n,D]),{mediaUpload:t,loading:i,error:D}};var dI=It(54125),U0=It.n(dI),fI=Object.defineProperty,pI=Object.defineProperties,hI=Object.getOwnPropertyDescriptors,F0=Object.getOwnPropertySymbols,mI=Object.prototype.hasOwnProperty,_I=Object.prototype.propertyIsEnumerable,j0=(n,t,r)=>t in n?fI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gI=(n,t)=>{for(var r in t||(t={}))mI.call(t,r)&&j0(n,r,t[r]);if(F0)for(var r of F0(t))_I.call(t,r)&&j0(n,r,t[r]);return n},vI=(n,t)=>pI(n,hI(t));const yI=n=>(0,e.h)(N.l,vI(gI({},n),{name:"PlayIcon",svgParams:{height:43,width:35}}),(0,e.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}));var bI=Object.defineProperty,W0=Object.getOwnPropertySymbols,PI=Object.prototype.hasOwnProperty,EI=Object.prototype.propertyIsEnumerable,H0=(n,t,r)=>t in n?bI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wI=(n,t)=>{for(var r in t||(t={}))PI.call(t,r)&&H0(n,r,t[r]);if(W0)for(var r of W0(t))EI.call(t,r)&&H0(n,r,t[r]);return n};const CI=5,OI="video:playback_location:",SI=4*60,TI=60,II=60,xI=3,DI=60,MI={hls:"application/x-mpegURL",mp4:"video/mp4"};class Cl extends e.Component{constructor(t,r){var i;super(t,r),this.player=null,this.previewHiddingTimeout=null,this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3*1e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var D;(D=b.globalPlaybackNotifier)==null||D.emit("play",this),this.setState({playing:!0})},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:D=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),D&&this.player&&!(0,b.isIOs)()&&(this.player.currentTime=0),(0,b.exitFullscreen)(),(0,b.exitPictureInPicture)()},this.onPreviewClick=()=>{var D,k;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(D=this.player)==null||D.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(k=this.player)==null||k.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3*1e3)))},this.onContextMenu=D=>{D.preventDefault()},this.onAllSourcesFailed=()=>{var D,k;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(k=(D=this.props).onPlaybackFailed)==null||k.call(D)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=D=>{this!==D&&this.player&&(this.track(M.FP.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=D=>{var k;this.props.noKeyboardShortcuts||D.metaKey||D.altKey||D.ctrlKey||document.activeElement!==document.body||!this.player||((k=b.globalPlaybackNotifier)==null?void 0:k.listenerCount("play"))>1&&this.player.paused||(D.key==="f"?(0,b.isFullscreen)()?(0,b.exitFullscreen)()&&D.preventDefault():((0,b.goFullscreen)(this.player)&&D.preventDefault(),this.player.paused&&this.player.play()):D.key===" "&&!(0,b.isFullscreen)()?(D.preventDefault(),this.player.paused?this.player.play():this.player.pause()):D.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):D.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const u=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:u,currentTime:0,waiting:!0,duration:(i=t.mediaUpload.duration)!=null?i:null,autoPlay:t.autoPlay,playing:!1,attemptingToPlay:t.autoPlay,previewHidden:u!==null&&u>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1}}componentDidMount(){var t;this._initHlsjs(),(t=b.globalPlaybackNotifier)==null||t.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),window&&window._preloads.mux_env_key&&U0().monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:U0().utils.now()}})}componentWillUnmount(){var t;this.setPlaybackRestoreLocation(),(t=b.globalPlaybackNotifier)==null||t.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(t,r){var i;if((this.props.noPreview!==t.noPreview||this.props.noControls!==t.noControls||this.props.noKeyboardShortcuts!==t.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"){const{useHLSJS:u,browserCanPlayHLS:D,HLSerrored:k}=this.state;this.track(M.FP.VIDEO_BUFFERING_STARTED,{use_hlsjs:u,browser_can_play_hls:D,hls_errored:k})}this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(M.FP.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%CI===0&&this.track(M.FP.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime)}),!this.state.playing&&r.playing&&((i=this.player)!=null&&i.ended)&&this.track(M.FP.VIDEO_PLAYBACK_COMPLETED)}getPlaybackLocationKey(){return`${OI}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>SI){const t=(0,Si.mM)(this.getPlaybackLocationKey());if((t==null?void 0:t.currentTime)>TI&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-t.currentTime>II){const r=Date.now()-t.watchedAt>DI?xI:0,i=Math.max(0,t.currentTime-r);if(i)return i}}return null}setPlaybackRestoreLocation(){var t;this.playbackEnabled()&&((t=this.player)!=null&&t.currentTime)&&(0,Si.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(t,r={}){const i=this.props.post;i&&(0,M.j)(t,Object.assign({post_id:i.id,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},r))}render(t,r){const{height:i,width:u}=(0,Be.videoPlayerDimensions)(t.mediaUpload,{isStatic:t.isStatic}),D={paddingBottom:`${Math.min(100,100*i/u).toFixed(4)}%`};return(0,e.h)("div",{className:f()("video-player-wrapper",{"with-preview":!r.previewHidden,"is-static":t.isStatic,"full-width":u>=960}),onClick:this.onPreviewClick},this.href()?(0,e.h)("a",{className:"video-player",href:this.href(),style:D},this.renderPlayer(this.props,this.state)):(0,e.h)("div",{className:"video-player",style:D},this.renderPlayer(this.props,this.state)))}renderPlayer({mediaUpload:t,pub:r,reaction_token:i=null,isStatic:u,noControls:D,noPreview:k},{autoPlay:H,attemptingToPlay:U,previewHidden:ee,useHLSJS:ve,browserCanPlayHLS:xe,HLSerrored:Le}){const ze=!k&&!ee,qe=u||!this.playbackEnabled(),Je=(0,v.updateQuery)(`/api/v1/video/upload/${t.id}/src`,{token:i,override_publication_id:r==null?void 0:r.id});let st=[];return(0,b.isAndroid)()?st=["mp4"]:xe?st=["hls","mp4"]:ve?st=[]:Le?st=["mp4"]:st=["hls","mp4"],[this.playbackEnabled()&&!u&&typeof window!="undefined"&&(0,e.h)("video",{ref:Ct=>this.player=Ct,controls:!D&&!ze,controlsList:"nodownload",autoPlay:H&&this.playbackEnabled(),poster:(0,v.getMediaUploadThumbnailUrlForPlayer)(t)},st.map((Ct,bt)=>(0,e.h)("source",{src:(0,v.updateQuery)(Je,{type:Ct}),type:MI[Ct],onError:bt===st.length-1?this.onAllSourcesFailed:void 0}))),ze&&[qe&&(0,e.h)("img",{className:"video-player-preview","data-testid":u?"video-player-static-preview-image":"",width:550,src:(0,v.getMediaUploadThumbnailUrlForPlayer)(t,{pub:r,isStatic:u}),"data-component-name":"VideoPlayer-PreviewImg"}),!qe&&(0,e.h)("div",{className:f()("video-player-button",{"no-text":!this.cta()})},(0,e.h)("a",{className:"primary",href:this.href(),native:!0},(0,e.h)(be.Z,{className:f()({loading:U&&this.playbackEnabled()})},(0,e.h)(yI,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,e.h)("span",null,this.cta()))))]]}_initHlsjs(){const t=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(t){this.setState({browserCanPlayHLS:t});return}It.e(631).then(It.t.bind(It,67631,23)).then(r=>{this._initHlsjsWrapped(r.default)})}_initHlsjsWrapped(t){const r=this,i=t.isSupported();if(!t.isSupported()){this.setState({useHLSJS:i});return}this.hls!=null&&this.hls.destroy();const u={},D=new t(wI({enableWorker:!1},u));this.player!=null&&D.attachMedia(this.player);const{mediaUpload:k,pub:H,reaction_token:U=null}=this.props,ee=(0,v.updateQuery)(`/api/v1/video/upload/${k.id}/src`,{token:U,override_publication_id:H==null?void 0:H.id,type:"hls"});D.on(t.Events.MEDIA_ATTACHED,()=>{D.loadSource(ee),D.on(t.Events.MANIFEST_PARSED,()=>{var ve;this.state.autoPlay&&((ve=this.player)==null||ve.play().catch(()=>console.log("Unable to autoplay prior to user interaction with the dom.")))})}),D.on(t.Events.ERROR,function(ve,xe){if(xe.fatal)switch(xe.type){case t.ErrorTypes.NETWORK_ERROR:r.setState({useHLSJS:!1}),r.hls.destroy(),D.startLoad();break;case t.ErrorTypes.MEDIA_ERROR:D.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=D,this.hlsModule=t}}const ms={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--c8Rt0",canEdit:"frontend-components-video_embed_player-module__canEdit--JuBgP",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--Leli9",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--UVfno",imageGallery:"frontend-components-video_embed_player-module__imageGallery--_vwgz",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--Tl9mB",videoScrollTarget:"frontend-components-video_embed_player-module__videoScrollTarget--d5irI"},AI=({mediaUploadId:n,post:t,pub:r,isEditor:i=!1})=>{const[u,D]=(0,o.eJ)(null),k=(0,o.sO)(null),H=Le=>{var ze,qe;i&&(Le?(ze=k.current)==null||ze.open():(qe=k.current)==null||qe.close())},{mediaUpload:U,loading:ee,error:ve}=cI({mediaUploadId:n});n&&!u&&U&&D(U);const xe=(0,o.I4)(()=>{document.dispatchEvent(new Event("editSelectedVideoEmbed"))},[]);return(0,e.h)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,ae.getLinkableElementIdForVideo)({mediaUploadId:n}),className:ms.videoScrollTarget},ee?(0,e.h)("div",{className:ms.videoPlaceholder},"Loading video"):ve||!u?(0,e.h)("div",{className:ms.videoPlaceholder},"Could not load video."):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:f()(ms.videoEmbed,i&&ms.canEdit),onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1)},i&&(0,e.h)(NI,{onEditVideoEmbed:xe,menuRef:k}),(0,e.h)(Cl,{mediaUpload:u,isStatic:!1,post:t!=null?t:null,pub:r}))))},NI=({onEditVideoEmbed:n,menuRef:t})=>(0,e.h)(Ne.hs,{justifyContent:"center",alignItems:"center",className:ms.editVideoEmbedWrap},(0,e.h)(Ni.Fx,{ref:t,noList:!0},(0,e.h)(Ne.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:ms.editVideoEmbed},(0,e.h)(_l.Z,{height:20})))),RI=({mediaUpload:n,post:t,pub:r})=>{if(!n)return(0,e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find video");const i=(0,ae.getLinkToVideo)({pub:r,post:t,mediaUploadId:n.id});return(0,e.h)(Cl,{mediaUpload:n,isStatic:!0,post:t,pub:r,href:i})};var LI=Object.defineProperty,BI=Object.defineProperties,kI=Object.getOwnPropertyDescriptors,V0=Object.getOwnPropertySymbols,UI=Object.prototype.hasOwnProperty,FI=Object.prototype.propertyIsEnumerable,K0=(n,t,r)=>t in n?LI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ma=(n,t)=>{for(var r in t||(t={}))UI.call(t,r)&&K0(n,r,t[r]);if(V0)for(var r of V0(t))FI.call(t,r)&&K0(n,r,t[r]);return n},Ol=(n,t)=>BI(n,kI(t));const jI=(n,{pub:t,props:{isStatic:r,post:i,dataForEmailRender:u}})=>{var D;try{const k=n.getAttribute("data-attrs");if(k){const{mediaUploadId:H}=JSON.parse(mi()(k));return r?(0,e.h)(RI,{pub:t,post:i,mediaUpload:(D=u.idToMediaUpload)==null?void 0:D[H]}):(0,e.h)(AI,{pub:t,post:i,mediaUploadId:H})}}catch(k){console.error("Failed to parse video:",k)}return(0,e.h)(e.Fragment,null)},WI=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs");if(i){const u=JSON.parse(mi()(i));return r?(0,e.h)(HT,Ol(Ma({},u),{isEditor:!1})):(0,e.h)(WT,Ol(Ma({},u),{isEditor:!1}))}}catch(i){console.error("Failed to parse digest post embed:",i)}return(0,e.h)(e.Fragment,null)},HI=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs"),u=JSON.parse(mi()(i));return r?(0,e.h)(lI,Ol(Ma({},u),{pub:t})):(0,e.h)(sI,Ol(Ma({},u),{pub:t}))}catch(i){console.error("Failed to parse referrals card:",i)}return(0,e.h)(e.Fragment,null)},VI=(n,{props:{isStatic:t}})=>{var r;try{const i=n.getAttribute("data-attrs");if(i){const D=(r=JSON.parse(i))!=null?r:{};return t?(0,e.h)(KT,Ma({},D)):(0,e.h)($T,Ma({},D))}}catch(i){console.error("Failed to parse image3:",i)}return(0,e.h)(e.Fragment,null)},KI=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const u=n.getAttribute("data-attrs");if(u){const D=JSON.parse(u),H={node:{attrs:Ol(Ma({},D),{isEditor:!1})}};return r?(0,e.h)(JT,Ma({},H)):(0,e.h)(YT,Ma({},H))}}catch(u){console.error("Failed to parse image gallery embed:",u)}return(0,e.h)(e.Fragment,null)};var $0=It(87251),Jd=It(46505);function z0(n,t){return(0,$0.cleanSlug)((0,Be.truncateText)(n,500,{ellipsis:""}),{allowUnicode:t})}function $I({text:n,post:t,pub:r,offsetTop:i,isAboutPage:u}){const{isStatic:D}=(0,o.qp)(Jd.E),k=z0(n,!0),H=z0(n,!1),U=(0,wh.g)();if(!t&&!u||!r||D)return null;const ee=u?`${(0,v.getAboutUrl)(r,{addBase:!0})}#\xA7${k}`:`${(0,v.getBaseUrl)(r)}/i/${t.id}/${k}`,ve=xe=>{location!=null&&location.href&&(xe.preventDefault(),(0,M.j)(M.FP.HEADER_ANCHOR_WIDGET_CLICKED,{destination:ee}),U(ee))};return(0,e.h)("div",{id:`\xA7${k}`,className:f()("header-anchor-widget",{"offset-top":i})},(t==null?void 0:t.id)<66696300&&k!==H&&(0,e.h)("div",{id:`\xA7${H}`}),(0,e.h)("div",{className:"header-anchor-widget-button-container"},(0,e.h)("div",{className:"header-anchor-widget-button",href:ee,onClick:ve},(0,e.h)(dl.Z,{className:"header-anchor-widget-icon",size:20}))))}var zI=It(47641),G0;const GI=typeof window!="undefined"?(G0=window._preloads)==null?void 0:G0.freeSignup:!1,Z0=(0,e.createContext)(GI);Z0.displayName="FreeSignupContext";function ZI(){return(0,o.qp)(Z0)}var Y0=It(35291),YI=Object.defineProperty,JI=Object.defineProperties,XI=Object.getOwnPropertyDescriptors,J0=Object.getOwnPropertySymbols,QI=Object.prototype.hasOwnProperty,qI=Object.prototype.propertyIsEnumerable,X0=(n,t,r)=>t in n?YI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,e4=(n,t)=>{for(var r in t||(t={}))QI.call(t,r)&&X0(n,r,t[r]);if(J0)for(var r of J0(t))qI.call(t,r)&&X0(n,r,t[r]);return n},t4=(n,t)=>JI(n,XI(t));class n4 extends or.p{constructor(t,r){var i,u;super(t,r),this.state.email=(u=(i=this.props.user)==null?void 0:i.email)!=null?u:null}onOpen(){(0,M.j)(M.FP.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){(0,M.j)(M.FP.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:t,post:r,user:i,audience:u,pollId:D}=this.props,{email:k}=this.state,H=u==="only_paid"?"paid subscribers":"subscribers";return(0,e.h)("div",null,(0,e.h)("div",{className:"poll-signup-header"},(0,e.h)("div",{className:"poll-signup-title"},`Subscribe to ${t.name} to vote on this poll`),(0,e.h)("div",{className:"poll-signup-audience"},"Only ",H," can vote on this poll.")),(0,e.h)(Nr.ZP,{method:"post",action:(0,v.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:U=>{(0,M.j)(M.FP.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:D,post_id:r.id}),t.plans||t.has_recommendations?document.location.href=(0,v.getSubscribeUrl)(this.props.pub,t4(e4({utm_medium:"web",utm_source:"poll-subscribe-modal",utm_content:r&&r.id,just_signed_up:!0,requires_confirmation:U.body.requires_confirmation?"true":""},U.body.subscription_id&&{subscription_id:U.body.subscription_id}),{next:(0,v.getPostUrl)(t,r)})):document.location.reload()}},(0,e.h)("div",{className:"poll-signup"},(0,e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:k,disabled:!!i.email,tabIndex:0,onChange:U=>{this.setState({email:U.target.value})}}),(0,e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),(0,e.h)("div",{id:"error-container"}),(0,e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!i.email&&(0,e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",(0,e.h)("a",{className:"poll-signin-link",href:(0,v.getSigninUrl)({for_pub:t.subdomain,redirect:(0,v.getPostUrl)(t,r)})},"Sign in")))}}var r4=It(30105);function o4(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function i4(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t}var a4=function(){function n(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=n.prototype;return t.insert=function(i){if(this.ctr%(this.isSpeedy?65e3:1)===0){var u=i4(this),D;this.tags.length===0?D=this.before:D=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(u,D),this.tags.push(u)}var k=this.tags[this.tags.length-1];if(this.isSpeedy){var H=o4(k);try{var U=i.charCodeAt(1)===105&&i.charCodeAt(0)===64;H.insertRule(i,U?0:H.cssRules.length)}catch(ee){}}else k.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}();function s4(n){function t(Hn,In,Xt,On,Jt){for(var Qn=0,Bn=0,Dr=0,lr=0,Ar,Yn,Or=0,_r=0,Fr,Co=Fr=Ar=0,Zr=0,io=0,ua=0,ri=0,Ca=Xt.length,es=Ca-1,Li,Vr="",jo="",ka="",Ua="",ta;Zr<Ca;){if(Yn=Xt.charCodeAt(Zr),Zr===es&&Bn+lr+Dr+Qn!==0&&(Bn!==0&&(Yn=Bn===47?10:47),lr=Dr=Qn=0,Ca++,es++),Bn+lr+Dr+Qn===0){if(Zr===es&&(0<io&&(Vr=Vr.replace(Le,"")),0<Vr.trim().length)){switch(Yn){case 32:case 9:case 59:case 13:case 10:break;default:Vr+=Xt.charAt(Zr)}Yn=59}switch(Yn){case 123:for(Vr=Vr.trim(),Ar=Vr.charCodeAt(0),Fr=1,ri=++Zr;Zr<Ca;){switch(Yn=Xt.charCodeAt(Zr)){case 123:Fr++;break;case 125:Fr--;break;case 47:switch(Yn=Xt.charCodeAt(Zr+1)){case 42:case 47:e:{for(Co=Zr+1;Co<es;++Co)switch(Xt.charCodeAt(Co)){case 47:if(Yn===42&&Xt.charCodeAt(Co-1)===42&&Zr+2!==Co){Zr=Co+1;break e}break;case 10:if(Yn===47){Zr=Co+1;break e}}Zr=Co}}break;case 91:Yn++;case 40:Yn++;case 34:case 39:for(;Zr++<es&&Xt.charCodeAt(Zr)!==Yn;);}if(Fr===0)break;Zr++}switch(Fr=Xt.substring(ri,Zr),Ar===0&&(Ar=(Vr=Vr.replace(xe,"").trim()).charCodeAt(0)),Ar){case 64:switch(0<io&&(Vr=Vr.replace(Le,"")),Yn=Vr.charCodeAt(1),Yn){case 100:case 109:case 115:case 45:io=In;break;default:io=br}if(Fr=t(In,io,Fr,Yn,Jt+1),ri=Fr.length,0<Cn&&(io=r(br,Vr,ua),ta=H(3,Fr,io,In,$n,Gn,ri,Yn,Jt,On),Vr=io.join(""),ta!==void 0&&(ri=(Fr=ta.trim()).length)===0&&(Yn=0,Fr="")),0<ri)switch(Yn){case 115:Vr=Vr.replace(Qt,k);case 100:case 109:case 45:Fr=Vr+"{"+Fr+"}";break;case 107:Vr=Vr.replace(bt,"$1 $2"),Fr=Vr+"{"+Fr+"}",Fr=Ln===1||Ln===2&&D("@"+Fr,3)?"@-webkit-"+Fr+"@"+Fr:"@"+Fr;break;default:Fr=Vr+Fr,On===112&&(Fr=(jo+=Fr,""))}else Fr="";break;default:Fr=t(In,r(In,Vr,ua),Fr,On,Jt+1)}ka+=Fr,Fr=ua=io=Co=Ar=0,Vr="",Yn=Xt.charCodeAt(++Zr);break;case 125:case 59:if(Vr=(0<io?Vr.replace(Le,""):Vr).trim(),1<(ri=Vr.length))switch(Co===0&&(Ar=Vr.charCodeAt(0),Ar===45||96<Ar&&123>Ar)&&(ri=(Vr=Vr.replace(" ",":")).length),0<Cn&&(ta=H(1,Vr,In,Hn,$n,Gn,jo.length,On,Jt,On))!==void 0&&(ri=(Vr=ta.trim()).length)===0&&(Vr="\0\0"),Ar=Vr.charCodeAt(0),Yn=Vr.charCodeAt(1),Ar){case 0:break;case 64:if(Yn===105||Yn===99){Ua+=Vr+Xt.charAt(Zr);break}default:Vr.charCodeAt(ri-1)!==58&&(jo+=u(Vr,Ar,Yn,Vr.charCodeAt(2)))}ua=io=Co=Ar=0,Vr="",Yn=Xt.charCodeAt(++Zr)}}switch(Yn){case 13:case 10:Bn===47?Bn=0:1+Ar===0&&On!==107&&0<Vr.length&&(io=1,Vr+="\0"),0<Cn*ar&&H(0,Vr,In,Hn,$n,Gn,jo.length,On,Jt,On),Gn=1,$n++;break;case 59:case 125:if(Bn+lr+Dr+Qn===0){Gn++;break}default:switch(Gn++,Li=Xt.charAt(Zr),Yn){case 9:case 32:if(lr+Qn+Bn===0)switch(Or){case 44:case 58:case 9:case 32:Li="";break;default:Yn!==32&&(Li=" ")}break;case 0:Li="\\0";break;case 12:Li="\\f";break;case 11:Li="\\v";break;case 38:lr+Bn+Qn===0&&(io=ua=1,Li="\f"+Li);break;case 108:if(lr+Bn+Qn+yn===0&&0<Co)switch(Zr-Co){case 2:Or===112&&Xt.charCodeAt(Zr-3)===58&&(yn=Or);case 8:_r===111&&(yn=_r)}break;case 58:lr+Bn+Qn===0&&(Co=Zr);break;case 44:Bn+Dr+lr+Qn===0&&(io=1,Li+="\r");break;case 34:case 39:Bn===0&&(lr=lr===Yn?0:lr===0?Yn:lr);break;case 91:lr+Bn+Dr===0&&Qn++;break;case 93:lr+Bn+Dr===0&&Qn--;break;case 41:lr+Bn+Qn===0&&Dr--;break;case 40:if(lr+Bn+Qn===0){if(Ar===0)switch(2*Or+3*_r){case 533:break;default:Ar=1}Dr++}break;case 64:Bn+Dr+lr+Qn+Co+Fr===0&&(Fr=1);break;case 42:case 47:if(!(0<lr+Qn+Dr))switch(Bn){case 0:switch(2*Yn+3*Xt.charCodeAt(Zr+1)){case 235:Bn=47;break;case 220:ri=Zr,Bn=42}break;case 42:Yn===47&&Or===42&&ri+2!==Zr&&(Xt.charCodeAt(ri+2)===33&&(jo+=Xt.substring(ri,Zr+1)),Li="",Bn=0)}}Bn===0&&(Vr+=Li)}_r=Or,Or=Yn,Zr++}if(ri=jo.length,0<ri){if(io=In,0<Cn&&(ta=H(2,jo,io,Hn,$n,Gn,ri,On,Jt,On),ta!==void 0&&(jo=ta).length===0))return Ua+jo+ka;if(jo=io.join(",")+"{"+jo+"}",Ln*yn!==0){switch(Ln!==2||D(jo,2)||(yn=0),yn){case 111:jo=jo.replace(Ut,":-moz-$1")+jo;break;case 112:jo=jo.replace(Dt,"::-webkit-input-$1")+jo.replace(Dt,"::-moz-$1")+jo.replace(Dt,":-ms-input-$1")+jo}yn=0}}return Ua+jo+ka}function r(Hn,In,Xt){var On=In.trim().split(st);In=On;var Jt=On.length,Qn=Hn.length;switch(Qn){case 0:case 1:var Bn=0;for(Hn=Qn===0?"":Hn[0]+" ";Bn<Jt;++Bn)In[Bn]=i(Hn,In[Bn],Xt).trim();break;default:var Dr=Bn=0;for(In=[];Bn<Jt;++Bn)for(var lr=0;lr<Qn;++lr)In[Dr++]=i(Hn[lr]+" ",On[Bn],Xt).trim()}return In}function i(Hn,In,Xt){var On=In.charCodeAt(0);switch(33>On&&(On=(In=In.trim()).charCodeAt(0)),On){case 38:return In.replace(Ct,"$1"+Hn.trim());case 58:return Hn.trim()+In.replace(Ct,"$1"+Hn.trim());default:if(0<1*Xt&&0<In.indexOf("\f"))return In.replace(Ct,(Hn.charCodeAt(0)===58?"":"$1")+Hn.trim())}return Hn+In}function u(Hn,In,Xt,On){var Jt=Hn+";",Qn=2*In+3*Xt+4*On;if(Qn===944){Hn=Jt.indexOf(":",9)+1;var Bn=Jt.substring(Hn,Jt.length-1).trim();return Bn=Jt.substring(0,Hn).trim()+Bn+";",Ln===1||Ln===2&&D(Bn,1)?"-webkit-"+Bn+Bn:Bn}if(Ln===0||Ln===2&&!D(Jt,1))return Jt;switch(Qn){case 1015:return Jt.charCodeAt(10)===97?"-webkit-"+Jt+Jt:Jt;case 951:return Jt.charCodeAt(3)===116?"-webkit-"+Jt+Jt:Jt;case 963:return Jt.charCodeAt(5)===110?"-webkit-"+Jt+Jt:Jt;case 1009:if(Jt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Jt+Jt;case 978:return"-webkit-"+Jt+"-moz-"+Jt+Jt;case 1019:case 983:return"-webkit-"+Jt+"-moz-"+Jt+"-ms-"+Jt+Jt;case 883:if(Jt.charCodeAt(8)===45)return"-webkit-"+Jt+Jt;if(0<Jt.indexOf("image-set(",11))return Jt.replace(Zn,"$1-webkit-$2")+Jt;break;case 932:if(Jt.charCodeAt(4)===45)switch(Jt.charCodeAt(5)){case 103:return"-webkit-box-"+Jt.replace("-grow","")+"-webkit-"+Jt+"-ms-"+Jt.replace("grow","positive")+Jt;case 115:return"-webkit-"+Jt+"-ms-"+Jt.replace("shrink","negative")+Jt;case 98:return"-webkit-"+Jt+"-ms-"+Jt.replace("basis","preferred-size")+Jt}return"-webkit-"+Jt+"-ms-"+Jt+Jt;case 964:return"-webkit-"+Jt+"-ms-flex-"+Jt+Jt;case 1023:if(Jt.charCodeAt(8)!==99)break;return Bn=Jt.substring(Jt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Bn+"-webkit-"+Jt+"-ms-flex-pack"+Bn+Jt;case 1005:return qe.test(Jt)?Jt.replace(ze,":-webkit-")+Jt.replace(ze,":-moz-")+Jt:Jt;case 1e3:switch(Bn=Jt.substring(13).trim(),In=Bn.indexOf("-")+1,Bn.charCodeAt(0)+Bn.charCodeAt(In)){case 226:Bn=Jt.replace(Rt,"tb");break;case 232:Bn=Jt.replace(Rt,"tb-rl");break;case 220:Bn=Jt.replace(Rt,"lr");break;default:return Jt}return"-webkit-"+Jt+"-ms-"+Bn+Jt;case 1017:if(Jt.indexOf("sticky",9)===-1)break;case 975:switch(In=(Jt=Hn).length-10,Bn=(Jt.charCodeAt(In)===33?Jt.substring(0,In):Jt).substring(Hn.indexOf(":",7)+1).trim(),Qn=Bn.charCodeAt(0)+(Bn.charCodeAt(7)|0)){case 203:if(111>Bn.charCodeAt(8))break;case 115:Jt=Jt.replace(Bn,"-webkit-"+Bn)+";"+Jt;break;case 207:case 102:Jt=Jt.replace(Bn,"-webkit-"+(102<Qn?"inline-":"")+"box")+";"+Jt.replace(Bn,"-webkit-"+Bn)+";"+Jt.replace(Bn,"-ms-"+Bn+"box")+";"+Jt}return Jt+";";case 938:if(Jt.charCodeAt(5)===45)switch(Jt.charCodeAt(6)){case 105:return Bn=Jt.replace("-items",""),"-webkit-"+Jt+"-webkit-box-"+Bn+"-ms-flex-"+Bn+Jt;case 115:return"-webkit-"+Jt+"-ms-flex-item-"+Jt.replace(En,"")+Jt;default:return"-webkit-"+Jt+"-ms-flex-line-pack"+Jt.replace("align-content","").replace(En,"")+Jt}break;case 973:case 989:if(Jt.charCodeAt(3)!==45||Jt.charCodeAt(4)===122)break;case 931:case 953:if(fn.test(Hn)===!0)return(Bn=Hn.substring(Hn.indexOf(":")+1)).charCodeAt(0)===115?u(Hn.replace("stretch","fill-available"),In,Xt,On).replace(":fill-available",":stretch"):Jt.replace(Bn,"-webkit-"+Bn)+Jt.replace(Bn,"-moz-"+Bn.replace("fill-",""))+Jt;break;case 962:if(Jt="-webkit-"+Jt+(Jt.charCodeAt(5)===102?"-ms-"+Jt:"")+Jt,Xt+On===211&&Jt.charCodeAt(13)===105&&0<Jt.indexOf("transform",10))return Jt.substring(0,Jt.indexOf(";",27)+1).replace(Je,"$1-webkit-$2")+Jt}return Jt}function D(Hn,In){var Xt=Hn.indexOf(In===1?":":"{"),On=Hn.substring(0,In!==3?Xt:10);return Xt=Hn.substring(Xt+1,Hn.length-1),Mn(In!==2?On:On.replace(_n,"$1"),Xt,In)}function k(Hn,In){var Xt=u(In,In.charCodeAt(0),In.charCodeAt(1),In.charCodeAt(2));return Xt!==In+";"?Xt.replace(pn," or ($1)").substring(4):"("+In+")"}function H(Hn,In,Xt,On,Jt,Qn,Bn,Dr,lr,Ar){for(var Yn=0,Or=In,_r;Yn<Cn;++Yn)switch(_r=Xn[Yn].call(ve,Hn,Or,Xt,On,Jt,Qn,Bn,Dr,lr,Ar)){case void 0:case!1:case!0:case null:break;default:Or=_r}if(Or!==In)return Or}function U(Hn){switch(Hn){case void 0:case null:Cn=Xn.length=0;break;default:if(typeof Hn=="function")Xn[Cn++]=Hn;else if(typeof Hn=="object")for(var In=0,Xt=Hn.length;In<Xt;++In)U(Hn[In]);else ar=!!Hn|0}return U}function ee(Hn){return Hn=Hn.prefix,Hn!==void 0&&(Mn=null,Hn?typeof Hn!="function"?Ln=1:(Ln=2,Mn=Hn):Ln=0),ee}function ve(Hn,In){var Xt=Hn;if(33>Xt.charCodeAt(0)&&(Xt=Xt.trim()),mr=Xt,Xt=[mr],0<Cn){var On=H(-1,In,Xt,Xt,$n,Gn,0,0,0,0);On!==void 0&&typeof On=="string"&&(In=On)}var Jt=t(br,Xt,In,0,0);return 0<Cn&&(On=H(-2,Jt,Xt,Xt,$n,Gn,Jt.length,0,0,0),On!==void 0&&(Jt=On)),mr="",yn=0,Gn=$n=1,Jt}var xe=/^\0+/g,Le=/[\0\r\f]/g,ze=/: */g,qe=/zoo|gra/,Je=/([,: ])(transform)/g,st=/,\r+?/g,Ct=/([\t\r\n ])*\f?&/g,bt=/@(k\w+)\s*(\S*)\s*/,Dt=/::(place)/g,Ut=/:(read-only)/g,Rt=/[svh]\w+-[tblr]{2}/,Qt=/\(\s*(.*)\s*\)/g,pn=/([\s\S]*?);/g,En=/-self|flex-/g,_n=/[^]*?(:[rp][el]a[\w-]+)[^]*/,fn=/stretch|:\s*\w+\-(?:conte|avail)/,Zn=/([^-])(image-set\()/,Gn=1,$n=1,yn=0,Ln=1,br=[],Xn=[],Cn=0,Mn=null,ar=0,mr="";return ve.use=U,ve.set=ee,n!==void 0&&ee(n),ve}const l4=s4;var Xd="/*|*/",u4=Xd+"}";function c4(n){n&&Vu.current.insert(n+"}")}var Vu={current:null},d4=function(t,r,i,u,D,k,H,U,ee,ve){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return Vu.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(U===0)return r+Xd;break}case 3:switch(U){case 102:case 112:return Vu.current.insert(i[0]+r),"";default:return r+(ve===0?Xd:"")}case-2:r.split(u4).forEach(c4)}},f4=function(t){t===void 0&&(t={});var r=t.key||"css",i;t.prefix!==void 0&&(i={prefix:t.prefix});var u=new l4(i),D={},k;{k=t.container||document.head;var H=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(H,function(Le){var ze=Le.getAttribute("data-emotion-"+r);ze.split(" ").forEach(function(qe){D[qe]=!0}),Le.parentNode!==k&&k.appendChild(Le)})}var U;if(u.use(t.stylisPlugins)(d4),U=function(ze,qe,Je,st){var Ct=qe.name;if(Vu.current=Je,!1)var bt;u(ze,qe.styles),st&&(xe.inserted[Ct]=!0)},!1)var ee,ve;var xe={key:r,sheet:new a4({key:r,container:k,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:D,registered:{},insert:U};return xe};const p4=f4;var h4=!0;function Q0(n,t,r){var i="";return r.split(" ").forEach(function(u){n[u]!==void 0?t.push(n[u]):i+=u+" "}),i}var q0=function(t,r,i){var u=t.key+"-"+r.name;if((i===!1||h4===!1&&t.compat!==void 0)&&t.registered[u]===void 0&&(t.registered[u]=r.styles),t.inserted[r.name]===void 0){var D=r;do{var k=t.insert("."+u,D,t.sheet,!0);D=D.next}while(D!==void 0)}};function m4(n){for(var t=0,r,i=0,u=n.length;u>=4;++i,u-=4)r=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(u){case 3:t^=(n.charCodeAt(i+2)&255)<<16;case 2:t^=(n.charCodeAt(i+1)&255)<<8;case 1:t^=n.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}const _4=m4;var g4={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const v4=g4;function y4(n){var t={};return function(r){return t[r]===void 0&&(t[r]=n(r)),t[r]}}const b4=y4;var lH=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,uH="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",P4=/[A-Z]|^ms/g,E4=/_EMO_([^_]+?)_([^]*?)_EMO_/g,e_=function(t){return t.charCodeAt(1)===45},t_=function(t){return t!=null&&typeof t!="boolean"},Qd=b4(function(n){return e_(n)?n:n.replace(P4,"-$&").toLowerCase()}),n_=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(E4,function(i,u,D){return Pa={name:u,styles:D,next:Pa},u})}return v4[t]!==1&&!e_(t)&&typeof r=="number"&&r!==0?r+"px":r};if(!1)var cH,dH,fH,pH,hH,mH;var _H=!0;function Sl(n,t,r,i){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Pa={name:r.name,styles:r.styles,next:Pa},r.name;if(r.styles!==void 0){var u=r.next;if(u!==void 0)for(;u!==void 0;)Pa={name:u.name,styles:u.styles,next:Pa},u=u.next;var D=r.styles+";";return D}return w4(n,t,r)}case"function":{if(n!==void 0){var k=Pa,H=r(n);return Pa=k,Sl(n,t,H,i)}break}case"string":if(!1)var U,ee;break}if(t==null)return r;var ve=t[r];return ve!==void 0&&!i?ve:r}function w4(n,t,r){var i="";if(Array.isArray(r))for(var u=0;u<r.length;u++)i+=Sl(n,t,r[u],!1);else for(var D in r){var k=r[D];if(typeof k!="object")t!=null&&t[k]!==void 0?i+=D+"{"+t[k]+"}":t_(k)&&(i+=Qd(D)+":"+n_(D,k)+";");else if(Array.isArray(k)&&typeof k[0]=="string"&&(t==null||t[k[0]]===void 0))for(var H=0;H<k.length;H++)t_(k[H])&&(i+=Qd(D)+":"+n_(D,k[H])+";");else{var U=Sl(n,t,k,!1);switch(D){case"animation":case"animationName":{i+=Qd(D)+":"+U+";";break}default:i+=D+"{"+U+"}"}}}return i}var r_=/label:\s*([^\s;\n{]+)\s*;/g,gH,Pa,qd=function(t,r,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var u=!0,D="";Pa=void 0;var k=t[0];k==null||k.raw===void 0?(u=!1,D+=Sl(i,r,k,!1)):D+=k[0];for(var H=1;H<t.length;H++)D+=Sl(i,r,t[H],D.charCodeAt(D.length-1)===46),u&&(D+=k[H]);var U;r_.lastIndex=0;for(var ee="",ve;(ve=r_.exec(D))!==null;)ee+="-"+ve[1];var xe=_4(D)+ee;return{name:xe,styles:D,next:Pa}},ef=Object.prototype.hasOwnProperty,o_=(0,jt.createContext)(typeof HTMLElement!="undefined"?p4():null),i_=(0,jt.createContext)({}),vH=o_.Provider,a_=function(t){var r=function(u,D){return(0,jt.createElement)(o_.Consumer,null,function(k){return t(u,k,D)})};return(0,jt.forwardRef)(r)},yH=function(t){return t.replace(/\$/g,"-")},tf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",bH="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",C4=function(t,r){var i={};for(var u in r)ef.call(r,u)&&(i[u]=r[u]);if(i[tf]=t,!1)var D,k;return i},s_=function(t,r,i,u){var D=i===null?r.css:r.css(i);typeof D=="string"&&t.registered[D]!==void 0&&(D=t.registered[D]);var k=r[tf],H=[D],U="";typeof r.className=="string"?U=Q0(t.registered,H,r.className):r.className!=null&&(U=r.className+" ");var ee=qd(H);if(!1)var ve;var xe=q0(t,ee,typeof k=="string");U+=t.key+"-"+ee.name;var Le={};for(var ze in r)ef.call(r,ze)&&ze!=="css"&&ze!==tf&&(Le[ze]=r[ze]);Le.ref=u,Le.className=U;var qe=(0,jt.createElement)(k,Le);return qe},O4=a_(function(n,t,r){return typeof n.css=="function"?(0,jt.createElement)(i_.Consumer,null,function(i){return s_(t,n,i,r)}):s_(t,n,null,r)});function S4(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return qd(t)}const nf=S4;var Xr=function(t,r){var i=arguments;if(r==null||!ef.call(r,"css"))return jt.createElement.apply(void 0,i);var u=i.length,D=new Array(u);D[0]=O4,D[1]=C4(t,r);for(var k=2;k<u;k++)D[k]=i[k];return jt.createElement.apply(null,D)},PH=!1,EH=null,wH=null,T4=function(){var t=nf.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},I4=function n(t){for(var r=t.length,i=0,u="";i<r;i++){var D=t[i];if(D!=null){var k=void 0;switch(typeof D){case"boolean":break;case"object":{if(Array.isArray(D))k=n(D);else{k="";for(var H in D)D[H]&&H&&(k&&(k+=" "),k+=H)}break}default:k=D}k&&(u&&(u+=" "),u+=k)}}return u};function x4(n,t,r){var i=[],u=Q0(n,i,r);return i.length<2?r:u+t(i)}var D4=a_(function(n,t){return(0,jt.createElement)(i_.Consumer,null,function(r){var i=!1,u=function(){for(var ee=arguments.length,ve=new Array(ee),xe=0;xe<ee;xe++)ve[xe]=arguments[xe];var Le=qd(ve,t.registered);return q0(t,Le,!1),t.key+"-"+Le.name},D=function(){for(var ee=arguments.length,ve=new Array(ee),xe=0;xe<ee;xe++)ve[xe]=arguments[xe];return x4(t.registered,u,I4(ve))},k={css:u,cx:D,theme:r},H=n.children(k);return i=!0,H})});function M4(n,t){if(n==null)return{};var r={},i=Object.keys(n),u,D;for(D=0;D<i.length;D++)u=i[D],!(t.indexOf(u)>=0)&&(r[u]=n[u]);return r}function _s(n,t){if(n==null)return{};var r=M4(n,t),i,u;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(n);for(u=0;u<D.length;u++)i=D[u],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function ro(){return ro=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},ro.apply(this,arguments)}function A4(n){if(Array.isArray(n))return n}function N4(n,t){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,u,D,k,H=[],U=!0,ee=!1;try{if(D=(r=r.call(n)).next,t===0){if(Object(r)!==r)return;U=!1}else for(;!(U=(i=D.call(r)).done)&&(H.push(i.value),H.length!==t);U=!0);}catch(ve){ee=!0,u=ve}finally{try{if(!U&&r.return!=null&&(k=r.return(),Object(k)!==k))return}finally{if(ee)throw u}}return H}}function rf(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=n[r];return i}function l_(n,t){if(n){if(typeof n=="string")return rf(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rf(n,t)}}function R4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u_(n,t){return A4(n)||N4(n,t)||l_(n,t)||R4()}function L4(n){if(Array.isArray(n))return rf(n)}function B4(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function k4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U4(n){return L4(n)||B4(n)||l_(n)||k4()}function Aa(n){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(n)}function F4(n,t){if(Aa(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t||"default");if(Aa(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function c_(n){var t=F4(n,"string");return Aa(t)==="symbol"?t:String(t)}function Ti(n,t,r){return t=c_(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function za(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function d_(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,c_(i.key),i)}}function Ga(n,t,r){return t&&d_(n.prototype,t),r&&d_(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function of(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function af(n,t){return af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,u){return i.__proto__=u,i},af(n,t)}function Za(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&af(n,t)}function gs(n,t){if(t&&(Aa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return of(n)}function Ii(n){return Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ii(n)}function j4(n,t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}function W4(n,t){t===void 0&&(t=j4);var r,i=[],u,D=!1;function k(){for(var H=[],U=0;U<arguments.length;U++)H[U]=arguments[U];return D&&r===this&&t(H,i)||(u=n.apply(this,H),D=!0,r=this,i=H),u}return k}const f_=W4;function H4(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var V4=It(35639),p_=function(){};function K4(n,t){return t?t[0]==="-"?n+t:n+"__"+t:n}function $4(n,t,r){var i=[r];if(t&&n)for(var u in t)t.hasOwnProperty(u)&&t[u]&&i.push("".concat(K4(n,u)));return i.filter(function(D){return D}).map(function(D){return String(D).trim()}).join(" ")}var h_=function(t){return Array.isArray(t)?t.filter(Boolean):Aa(t)==="object"&&t!==null?[t]:[]};function CH(n,t,r){if(r){var i=r(n,t);if(typeof i=="string")return i}return n}function sf(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function m_(n){return sf(n)?window.pageYOffset:n.scrollTop}function Ku(n,t){if(sf(n)){window.scrollTo(0,t);return}n.scrollTop=t}function z4(n){var t=getComputedStyle(n),r=t.position==="absolute",i=/(auto|scroll)/,u=document.documentElement;if(t.position==="fixed")return u;for(var D=n;D=D.parentElement;)if(t=getComputedStyle(D),!(r&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return D;return u}function G4(n,t,r,i){return r*((n=n/i-1)*n*n+1)+t}function $u(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p_,u=m_(n),D=t-u,k=10,H=0;function U(){H+=k;var ee=G4(H,u,D,r);Ku(n,ee),H<r?window.requestAnimationFrame(U):i(n)}U()}function Z4(n,t){var r=n.getBoundingClientRect(),i=t.getBoundingClientRect(),u=t.offsetHeight/3;i.bottom+u>r.bottom?Ku(n,Math.min(t.offsetTop+t.clientHeight-n.offsetHeight+u,n.scrollHeight)):i.top-u<r.top&&Ku(n,Math.max(t.offsetTop-u,0))}function Y4(n){var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function __(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}}function J4(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(n){return!1}}function g_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),r.push.apply(r,i)}return r}function v_(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(i){Ti(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function y_(n){var t=X4();return function(){var i=Ii(n),u;if(t){var D=Ii(this).constructor;u=Reflect.construct(i,arguments,D)}else u=i.apply(this,arguments);return gs(this,u)}}function X4(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function Q4(n){var t=n.maxHeight,r=n.menuEl,i=n.minHeight,u=n.placement,D=n.shouldScroll,k=n.isFixedPosition,H=n.theme,U=H.spacing,ee=z4(r),ve={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return ve;var xe=ee.getBoundingClientRect(),Le=xe.height,ze=r.getBoundingClientRect(),qe=ze.bottom,Je=ze.height,st=ze.top,Ct=r.offsetParent.getBoundingClientRect(),bt=Ct.top,Dt=window.innerHeight,Ut=m_(ee),Rt=parseInt(getComputedStyle(r).marginBottom,10),Qt=parseInt(getComputedStyle(r).marginTop,10),pn=bt-Qt,En=Dt-st,_n=pn+Ut,fn=Le-Ut-st,Zn=qe-Dt+Ut+Rt,Gn=Ut+st-Qt,$n=160;switch(u){case"auto":case"bottom":if(En>=Je)return{placement:"bottom",maxHeight:t};if(fn>=Je&&!k)return D&&$u(ee,Zn,$n),{placement:"bottom",maxHeight:t};if(!k&&fn>=i||k&&En>=i){D&&$u(ee,Zn,$n);var yn=k?En-Rt:fn-Rt;return{placement:"bottom",maxHeight:yn}}if(u==="auto"||k){var Ln=t,br=k?pn:_n;return br>=i&&(Ln=Math.min(br-Rt-U.controlHeight,t)),{placement:"top",maxHeight:Ln}}if(u==="bottom")return Ku(ee,Zn),{placement:"bottom",maxHeight:t};break;case"top":if(pn>=Je)return{placement:"top",maxHeight:t};if(_n>=Je&&!k)return D&&$u(ee,Gn,$n),{placement:"top",maxHeight:t};if(!k&&_n>=i||k&&pn>=i){var Xn=t;return(!k&&_n>=i||k&&pn>=i)&&(Xn=k?pn-Qt:_n-Qt),D&&$u(ee,Gn,$n),{placement:"top",maxHeight:Xn}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(u,'".'))}return ve}function q4(n){var t={bottom:"top",top:"bottom"};return n?t[n]:"bottom"}var lf=function(t){return t==="auto"?"bottom":t},e3=function(t){var r,i=t.placement,u=t.theme,D=u.borderRadius,k=u.spacing,H=u.colors;return r={label:"menu"},Ti(r,q4(i),"100%"),Ti(r,"backgroundColor",H.neutral0),Ti(r,"borderRadius",D),Ti(r,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Ti(r,"marginBottom",k.menuGutter),Ti(r,"marginTop",k.menuGutter),Ti(r,"position","absolute"),Ti(r,"width","100%"),Ti(r,"zIndex",1),r},b_=(0,jt.createContext)({getPortalPlacement:null}),P_=function(n){Za(r,n);var t=y_(r);function r(){var i;za(this,r);for(var u=arguments.length,D=new Array(u),k=0;k<u;k++)D[k]=arguments[k];return i=t.call.apply(t,[this].concat(D)),i.state={maxHeight:i.props.maxMenuHeight,placement:null},i.getPlacement=function(H){var U=i.props,ee=U.minMenuHeight,ve=U.maxMenuHeight,xe=U.menuPlacement,Le=U.menuPosition,ze=U.menuShouldScrollIntoView,qe=U.theme;if(H){var Je=Le==="fixed",st=ze&&!Je,Ct=Q4({maxHeight:ve,menuEl:H,minHeight:ee,placement:xe,shouldScroll:st,isFixedPosition:Je,theme:qe}),bt=i.context.getPortalPlacement;bt&&bt(Ct),i.setState(Ct)}},i.getUpdatedProps=function(){var H=i.props.menuPlacement,U=i.state.placement||lf(H);return v_(v_({},i.props),{},{placement:U,maxHeight:i.state.maxHeight})},i}return Ga(r,[{key:"render",value:function(){var u=this.props.children;return u({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),r}(jt.Component);P_.contextType=b_;var t3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.innerRef,H=t.innerProps;return Xr("div",ro({css:D("menu",t),className:u({menu:!0},i)},H,{ref:k}),r)},n3=function(t){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return{maxHeight:r,overflowY:"auto",paddingBottom:i,paddingTop:i,position:"relative",WebkitOverflowScrolling:"touch"}},r3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.isMulti,H=t.innerRef,U=t.innerProps;return Xr("div",ro({css:D("menuList",t),className:u({"menu-list":!0,"menu-list--is-multi":k},i),ref:H},U),r)},E_=function(t){var r=t.theme,i=r.spacing.baseUnit,u=r.colors;return{color:u.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px"),textAlign:"center"}},o3=E_,i3=E_,w_=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.innerProps;return Xr("div",ro({css:D("noOptionsMessage",t),className:u({"menu-notice":!0,"menu-notice--no-options":!0},i)},k),r)};w_.defaultProps={children:"No options"};var C_=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.innerProps;return Xr("div",ro({css:D("loadingMessage",t),className:u({"menu-notice":!0,"menu-notice--loading":!0},i)},k),r)};C_.defaultProps={children:"Loading..."};var a3=function(t){var r=t.rect,i=t.offset,u=t.position;return{left:r.left,position:u,top:i,width:r.width,zIndex:1}},s3=function(n){Za(r,n);var t=y_(r);function r(){var i;za(this,r);for(var u=arguments.length,D=new Array(u),k=0;k<u;k++)D[k]=arguments[k];return i=t.call.apply(t,[this].concat(D)),i.state={placement:null},i.getPortalPlacement=function(H){var U=H.placement,ee=lf(i.props.menuPlacement);U!==ee&&i.setState({placement:U})},i}return Ga(r,[{key:"render",value:function(){var u=this.props,D=u.appendTo,k=u.children,H=u.controlElement,U=u.menuPlacement,ee=u.menuPosition,ve=u.getStyles,xe=ee==="fixed";if(!D&&!xe||!H)return null;var Le=this.state.placement||lf(U),ze=Y4(H),qe=xe?0:window.pageYOffset,Je=ze[Le]+qe,st={offset:Je,position:ee,rect:ze},Ct=Xr("div",{css:ve("menuPortal",st)},k);return Xr(b_.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},D?(0,jt.createPortal)(Ct,D):Ct)}}]),r}(jt.Component),O_=Array.isArray,S_=Object.keys,l3=Object.prototype.hasOwnProperty;function uf(n,t){if(n===t)return!0;if(n&&t&&Aa(n)=="object"&&Aa(t)=="object"){var r=O_(n),i=O_(t),u,D,k;if(r&&i){if(D=n.length,D!=t.length)return!1;for(u=D;u--!==0;)if(!uf(n[u],t[u]))return!1;return!0}if(r!=i)return!1;var H=n instanceof Date,U=t instanceof Date;if(H!=U)return!1;if(H&&U)return n.getTime()==t.getTime();var ee=n instanceof RegExp,ve=t instanceof RegExp;if(ee!=ve)return!1;if(ee&&ve)return n.toString()==t.toString();var xe=S_(n);if(D=xe.length,D!==S_(t).length)return!1;for(u=D;u--!==0;)if(!l3.call(t,xe[u]))return!1;for(u=D;u--!==0;)if(k=xe[u],!(k==="_owner"&&n.$$typeof)&&!uf(n[k],t[k]))return!1;return!0}return n!==n&&t!==t}function u3(n,t){try{return uf(n,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}var c3=function(t){var r=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":null,pointerEvents:r?"none":null,position:"relative"}},d3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.innerProps,H=t.isDisabled,U=t.isRtl;return Xr("div",ro({css:D("container",t),className:u({"--is-disabled":H,"--is-rtl":U},i)},k),r)},f3=function(t){var r=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},p3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.isMulti,k=t.getStyles,H=t.hasValue;return Xr("div",{css:k("valueContainer",t),className:u({"value-container":!0,"value-container--is-multi":D,"value-container--has-value":H},i)},r)},h3=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},m3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles;return Xr("div",{css:D("indicatorsContainer",t),className:u({indicators:!0},i)},r)};function T_(){var n=H4([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return T_=function(){return n},n}function OH(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var _3={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},I_=function(t){var r=t.size,i=_s(t,["size"]);return Xr("svg",ro({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_3},i))},cf=function(t){return Xr(I_,ro({size:20},t),Xr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},x_=function(t){return Xr(I_,ro({size:20},t),Xr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},D_=function(t){var r=t.isFocused,i=t.theme,u=i.spacing.baseUnit,D=i.colors;return{label:"indicatorContainer",color:r?D.neutral60:D.neutral20,display:"flex",padding:u*2,transition:"color 150ms",":hover":{color:r?D.neutral80:D.neutral40}}},g3=D_,v3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.innerProps;return Xr("div",ro({},k,{css:D("dropdownIndicator",t),className:u({indicator:!0,"dropdown-indicator":!0},i)}),r||Xr(x_,null))},y3=D_,b3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.innerProps;return Xr("div",ro({},k,{css:D("clearIndicator",t),className:u({indicator:!0,"clear-indicator":!0},i)}),r||Xr(cf,null))},P3=function(t){var r=t.isDisabled,i=t.theme,u=i.spacing.baseUnit,D=i.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:r?D.neutral10:D.neutral20,marginBottom:u*2,marginTop:u*2,width:1}},E3=function(t){var r=t.className,i=t.cx,u=t.getStyles,D=t.innerProps;return Xr("span",ro({},D,{css:u("indicatorSeparator",t),className:i({"indicator-separator":!0},r)}))},w3=T4(T_()),C3=function(t){var r=t.isFocused,i=t.size,u=t.theme,D=u.colors,k=u.spacing.baseUnit;return{label:"loadingIndicator",color:r?D.neutral60:D.neutral20,display:"flex",padding:k*2,transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"}},df=function(t){var r=t.delay,i=t.offset;return Xr("span",{css:nf({animation:"".concat(w3," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},M_=function(t){var r=t.className,i=t.cx,u=t.getStyles,D=t.innerProps,k=t.isRtl;return Xr("div",ro({},D,{css:u("loadingIndicator",t),className:i({indicator:!0,"loading-indicator":!0},r)}),Xr(df,{delay:0,offset:k}),Xr(df,{delay:160,offset:!0}),Xr(df,{delay:320,offset:!k}))};M_.defaultProps={size:4};var O3=function(t){var r=t.isDisabled,i=t.isFocused,u=t.theme,D=u.colors,k=u.borderRadius,H=u.spacing;return{label:"control",alignItems:"center",backgroundColor:r?D.neutral5:D.neutral0,borderColor:r?D.neutral10:i?D.primary:D.neutral20,borderRadius:k,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(D.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:H.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:i?D.primary:D.neutral30}}},S3=function(t){var r=t.children,i=t.cx,u=t.getStyles,D=t.className,k=t.isDisabled,H=t.isFocused,U=t.innerRef,ee=t.innerProps,ve=t.menuIsOpen;return Xr("div",ro({ref:U,css:u("control",t),className:i({control:!0,"control--is-disabled":k,"control--is-focused":H,"control--menu-is-open":ve},D)},ee),r)};function A_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),r.push.apply(r,i)}return r}function T3(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(i){Ti(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var I3=function(t){var r=t.theme.spacing;return{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},x3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.Heading,H=t.headingProps,U=t.label,ee=t.theme,ve=t.selectProps;return Xr("div",{css:D("group",t),className:u({group:!0},i)},Xr(k,ro({},H,{selectProps:ve,theme:ee,getStyles:D,cx:u}),U),Xr("div",null,r))},D3=function(t){var r=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:r.baseUnit*3,paddingRight:r.baseUnit*3,textTransform:"uppercase"}},M3=function(t){var r=t.className,i=t.cx,u=t.getStyles,D=t.theme,k=t.selectProps,H=_s(t,["className","cx","getStyles","theme","selectProps"]);return Xr("div",ro({css:u("groupHeading",T3({theme:D},H)),className:i({"group-heading":!0},r)},H))};function N_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),r.push.apply(r,i)}return r}function A3(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(i){Ti(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var N3=function(t){var r=t.isDisabled,i=t.theme,u=i.spacing,D=i.colors;return{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,visibility:r?"hidden":"visible",color:D.neutral80}},R3=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},L3=function(t){var r=t.className,i=t.cx,u=t.getStyles,D=t.innerRef,k=t.isHidden,H=t.isDisabled,U=t.theme,ee=t.selectProps,ve=_s(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return Xr("div",{css:u("input",A3({theme:U},ve))},Xr(V4.Z,ro({className:i({input:!0},r),inputRef:D,inputStyle:R3(k),disabled:H},ve)))};function R_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),r.push.apply(r,i)}return r}function ff(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(i){Ti(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var B3=function(t){var r=t.theme,i=r.spacing,u=r.borderRadius,D=r.colors;return{label:"multiValue",backgroundColor:D.neutral10,borderRadius:u/2,display:"flex",margin:i.baseUnit/2,minWidth:0}},k3=function(t){var r=t.theme,i=r.borderRadius,u=r.colors,D=t.cropWithEllipsis;return{borderRadius:i/2,color:u.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:D?"ellipsis":null,whiteSpace:"nowrap"}},U3=function(t){var r=t.theme,i=r.spacing,u=r.borderRadius,D=r.colors,k=t.isFocused;return{alignItems:"center",borderRadius:u/2,backgroundColor:k&&D.dangerLight,display:"flex",paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:D.dangerLight,color:D.danger}}},L_=function(t){var r=t.children,i=t.innerProps;return Xr("div",i,r)},F3=L_,j3=L_;function W3(n){var t=n.children,r=n.innerProps;return Xr("div",r,t||Xr(cf,{size:14}))}var B_=function(t){var r=t.children,i=t.className,u=t.components,D=t.cx,k=t.data,H=t.getStyles,U=t.innerProps,ee=t.isDisabled,ve=t.removeProps,xe=t.selectProps,Le=u.Container,ze=u.Label,qe=u.Remove;return Xr(D4,null,function(Je){var st=Je.css,Ct=Je.cx;return Xr(Le,{data:k,innerProps:ff(ff({},U),{},{className:Ct(st(H("multiValue",t)),D({"multi-value":!0,"multi-value--is-disabled":ee},i))}),selectProps:xe},Xr(ze,{data:k,innerProps:{className:Ct(st(H("multiValueLabel",t)),D({"multi-value__label":!0},i))},selectProps:xe},r),Xr(qe,{data:k,innerProps:ff({className:Ct(st(H("multiValueRemove",t)),D({"multi-value__remove":!0},i))},ve),selectProps:xe}))})};B_.defaultProps={cropWithEllipsis:!0};var H3=function(t){var r=t.isDisabled,i=t.isFocused,u=t.isSelected,D=t.theme,k=D.spacing,H=D.colors;return{label:"option",backgroundColor:u?H.primary:i?H.primary25:"transparent",color:r?H.neutral20:u?H.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(k.baseUnit*2,"px ").concat(k.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!r&&(u?H.primary:H.primary50)}}},V3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.isDisabled,H=t.isFocused,U=t.isSelected,ee=t.innerRef,ve=t.innerProps;return Xr("div",ro({css:D("option",t),className:u({option:!0,"option--is-disabled":k,"option--is-focused":H,"option--is-selected":U},i),ref:ee},ve),r)},K3=function(t){var r=t.theme,i=r.spacing,u=r.colors;return{label:"placeholder",color:u.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},$3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.innerProps;return Xr("div",ro({css:D("placeholder",t),className:u({placeholder:!0},i)},k),r)},z3=function(t){var r=t.isDisabled,i=t.theme,u=i.spacing,D=i.colors;return{label:"singleValue",color:r?D.neutral40:D.neutral80,marginLeft:u.baseUnit/2,marginRight:u.baseUnit/2,maxWidth:"calc(100% - ".concat(u.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},G3=function(t){var r=t.children,i=t.className,u=t.cx,D=t.getStyles,k=t.isDisabled,H=t.innerProps;return Xr("div",ro({css:D("singleValue",t),className:u({"single-value":!0,"single-value--is-disabled":k},i)},H),r)};function k_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),r.push.apply(r,i)}return r}function U_(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(i){Ti(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}for(var Z3={ClearIndicator:b3,Control:S3,DropdownIndicator:v3,DownChevron:x_,CrossIcon:cf,Group:x3,GroupHeading:M3,IndicatorsContainer:m3,IndicatorSeparator:E3,Input:L3,LoadingIndicator:M_,Menu:t3,MenuList:r3,MenuPortal:s3,LoadingMessage:C_,NoOptionsMessage:w_,MultiValue:B_,MultiValueContainer:F3,MultiValueLabel:j3,MultiValueRemove:W3,Option:V3,Placeholder:$3,SelectContainer:d3,SingleValue:G3,ValueContainer:p3},Y3=function(t){return U_(U_({},Z3),t.components)},pf=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],J3=new RegExp("["+pf.map(function(n){return n.letters}).join("")+"]","g"),F_={},hf=0;hf<pf.length;hf++)for(var mf=pf[hf],_f=0;_f<mf.letters.length;_f++)F_[mf.letters[_f]]=mf.base;var j_=function(t){return t.replace(J3,function(r){return F_[r]})};function W_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),r.push.apply(r,i)}return r}function X3(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(i){Ti(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var H_=function(t){return t.replace(/^\s+|\s+$/g,"")},Q3=function(t){return"".concat(t.label," ").concat(t.value)},q3=function(t){return function(r,i){var u=X3({ignoreCase:!0,ignoreAccents:!0,stringify:Q3,trim:!0,matchFrom:"any"},t),D=u.ignoreCase,k=u.ignoreAccents,H=u.stringify,U=u.trim,ee=u.matchFrom,ve=U?H_(i):i,xe=U?H_(H(r)):H(r);return D&&(ve=ve.toLowerCase(),xe=xe.toLowerCase()),k&&(ve=j_(ve),xe=j_(xe)),ee==="start"?xe.substr(0,ve.length)===ve:xe.indexOf(ve)>-1}};function SH(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var e9={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},t9=function(t){return Xr("span",ro({css:e9},t))};function n9(n){var t=n.in,r=n.out,i=n.onExited,u=n.appear,D=n.enter,k=n.exit,H=n.innerRef,U=n.emotion,ee=_s(n,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Xr("input",ro({ref:H},ee,{css:nf({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function r9(n){var t=o9();return function(){var i=Ii(n),u;if(t){var D=Ii(this).constructor;u=Reflect.construct(i,arguments,D)}else u=i.apply(this,arguments);return gs(this,u)}}function o9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var V_=function(n){Za(r,n);var t=r9(r);function r(){return za(this,r),t.apply(this,arguments)}return Ga(r,[{key:"componentDidMount",value:function(){this.props.innerRef((0,jt.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),r}(jt.Component),K_=["boxSizing","height","overflow","paddingRight","position"],$_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function z_(n){n.preventDefault()}function G_(n){n.stopPropagation()}function Z_(){var n=this.scrollTop,t=this.scrollHeight,r=n+this.offsetHeight;n===0?this.scrollTop=1:r===t&&(this.scrollTop=n-1)}function Y_(){return"ontouchstart"in window||navigator.maxTouchPoints}function i9(n){var t=a9();return function(){var i=Ii(n),u;if(t){var D=Ii(this).constructor;u=Reflect.construct(i,arguments,D)}else u=i.apply(this,arguments);return gs(this,u)}}function a9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var J_=!!(window.document&&window.document.createElement),Tl=0,X_=function(n){Za(r,n);var t=i9(r);function r(){var i;za(this,r);for(var u=arguments.length,D=new Array(u),k=0;k<u;k++)D[k]=arguments[k];return i=t.call.apply(t,[this].concat(D)),i.originalStyles={},i.listenerOptions={capture:!1,passive:!1},i}return Ga(r,[{key:"componentDidMount",value:function(){var u=this;if(J_){var D=this.props,k=D.accountForScrollbars,H=D.touchScrollTarget,U=document.body,ee=U&&U.style;if(k&&K_.forEach(function(ze){var qe=ee&&ee[ze];u.originalStyles[ze]=qe}),k&&Tl<1){var ve=parseInt(this.originalStyles.paddingRight,10)||0,xe=document.body?document.body.clientWidth:0,Le=window.innerWidth-xe+ve||0;Object.keys($_).forEach(function(ze){var qe=$_[ze];ee&&(ee[ze]=qe)}),ee&&(ee.paddingRight="".concat(Le,"px"))}U&&Y_()&&(U.addEventListener("touchmove",z_,this.listenerOptions),H&&(H.addEventListener("touchstart",Z_,this.listenerOptions),H.addEventListener("touchmove",G_,this.listenerOptions))),Tl+=1}}},{key:"componentWillUnmount",value:function(){var u=this;if(J_){var D=this.props,k=D.accountForScrollbars,H=D.touchScrollTarget,U=document.body,ee=U&&U.style;Tl=Math.max(Tl-1,0),k&&Tl<1&&K_.forEach(function(ve){var xe=u.originalStyles[ve];ee&&(ee[ve]=xe)}),U&&Y_()&&(U.removeEventListener("touchmove",z_,this.listenerOptions),H&&(H.removeEventListener("touchstart",Z_,this.listenerOptions),H.removeEventListener("touchmove",G_,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),r}(jt.Component);X_.defaultProps={accountForScrollbars:!0};function TH(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function s9(n){var t=l9();return function(){var i=Ii(n),u;if(t){var D=Ii(this).constructor;u=Reflect.construct(i,arguments,D)}else u=i.apply(this,arguments);return gs(this,u)}}function l9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var u9={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},c9=function(n){Za(r,n);var t=s9(r);function r(){var i;za(this,r);for(var u=arguments.length,D=new Array(u),k=0;k<u;k++)D[k]=arguments[k];return i=t.call.apply(t,[this].concat(D)),i.state={touchScrollTarget:null},i.getScrollTarget=function(H){H!==i.state.touchScrollTarget&&i.setState({touchScrollTarget:H})},i.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},i}return Ga(r,[{key:"render",value:function(){var u=this.props,D=u.children,k=u.isEnabled,H=this.state.touchScrollTarget;return k?Xr("div",null,Xr("div",{onClick:this.blurSelectInput,css:u9}),Xr(V_,{innerRef:this.getScrollTarget},D),H?Xr(X_,{touchScrollTarget:H}):null):D}}]),r}(jt.PureComponent);function d9(n){var t=f9();return function(){var i=Ii(n),u;if(t){var D=Ii(this).constructor;u=Reflect.construct(i,arguments,D)}else u=i.apply(this,arguments);return gs(this,u)}}function f9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var p9=function(n){Za(r,n);var t=d9(r);function r(){var i;za(this,r);for(var u=arguments.length,D=new Array(u),k=0;k<u;k++)D[k]=arguments[k];return i=t.call.apply(t,[this].concat(D)),i.isBottom=!1,i.isTop=!1,i.scrollTarget=void 0,i.touchStart=void 0,i.cancelScroll=function(H){H.preventDefault(),H.stopPropagation()},i.handleEventDelta=function(H,U){var ee=i.props,ve=ee.onBottomArrive,xe=ee.onBottomLeave,Le=ee.onTopArrive,ze=ee.onTopLeave,qe=i.scrollTarget,Je=qe.scrollTop,st=qe.scrollHeight,Ct=qe.clientHeight,bt=i.scrollTarget,Dt=U>0,Ut=st-Ct-Je,Rt=!1;Ut>U&&i.isBottom&&(xe&&xe(H),i.isBottom=!1),Dt&&i.isTop&&(ze&&ze(H),i.isTop=!1),Dt&&U>Ut?(ve&&!i.isBottom&&ve(H),bt.scrollTop=st,Rt=!0,i.isBottom=!0):!Dt&&-U>Je&&(Le&&!i.isTop&&Le(H),bt.scrollTop=0,Rt=!0,i.isTop=!0),Rt&&i.cancelScroll(H)},i.onWheel=function(H){i.handleEventDelta(H,H.deltaY)},i.onTouchStart=function(H){i.touchStart=H.changedTouches[0].clientY},i.onTouchMove=function(H){var U=i.touchStart-H.changedTouches[0].clientY;i.handleEventDelta(H,U)},i.getScrollTarget=function(H){i.scrollTarget=H},i}return Ga(r,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(u){u&&(typeof u.addEventListener=="function"&&u.addEventListener("wheel",this.onWheel,!1),typeof u.addEventListener=="function"&&u.addEventListener("touchstart",this.onTouchStart,!1),typeof u.addEventListener=="function"&&u.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(u){u&&(typeof u.removeEventListener=="function"&&u.removeEventListener("wheel",this.onWheel,!1),typeof u.removeEventListener=="function"&&u.removeEventListener("touchstart",this.onTouchStart,!1),typeof u.removeEventListener=="function"&&u.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return jt.default.createElement(V_,{innerRef:this.getScrollTarget},this.props.children)}}]),r}(jt.Component);function h9(n){var t=n.isEnabled,r=t===void 0?!0:t,i=_s(n,["isEnabled"]);return r?jt.default.createElement(p9,i):i.children}var m9=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.isSearchable,u=r.isMulti,D=r.label,k=r.isDisabled,H=r.tabSelectsValue;switch(t){case"menu":return"Use Up and Down to choose options".concat(k?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(H?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(D||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(u?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},_9=function(t,r){var i=r.value,u=r.isDisabled;if(i)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return u?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.")}},g9=function(t){var r=t.focusedValue,i=t.getOptionLabel,u=t.selectValue;return"value ".concat(i(r)," focused, ").concat(u.indexOf(r)+1," of ").concat(u.length,".")},v9=function(t){var r=t.focusedOption,i=t.getOptionLabel,u=t.options;return"option ".concat(i(r)," focused").concat(r.isDisabled?" disabled":"",", ").concat(u.indexOf(r)+1," of ").concat(u.length,".")},y9=function(t){var r=t.inputValue,i=t.screenReaderMessage;return"".concat(i).concat(r?" for search term "+r:"",".")},b9=function(t){return t.label},P9=function(t){return t.label},E9=function(t){return t.value},Q_=function(t){return!!t.isDisabled};function q_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),r.push.apply(r,i)}return r}function w9(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(i){_defineProperty(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var C9={clearIndicator:y3,container:c3,control:O3,dropdownIndicator:g3,group:I3,groupHeading:D3,indicatorsContainer:h3,indicatorSeparator:P3,input:N3,loadingIndicator:C3,loadingMessage:i3,menu:e3,menuList:n3,menuPortal:a3,multiValue:B3,multiValueLabel:k3,multiValueRemove:U3,noOptionsMessage:o3,option:H3,placeholder:K3,singleValue:z3,valueContainer:f3};function IH(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=w9({},n);return Object.keys(t).forEach(function(i){n[i]?r[i]=function(u,D){return t[i](n[i](u,D),D)}:r[i]=t[i]}),r}var O9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},S9=4,eg=4,T9=38,I9=eg*2,x9={baseUnit:eg,controlHeight:T9,menuGutter:I9},gf={borderRadius:S9,colors:O9,spacing:x9};function tg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),r.push.apply(r,i)}return r}function Us(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tg(Object(r),!0).forEach(function(i){Ti(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function D9(n){var t=M9();return function(){var i=Ii(n),u;if(t){var D=Ii(this).constructor;u=Reflect.construct(i,arguments,D)}else u=i.apply(this,arguments);return gs(this,u)}}function M9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var A9={backspaceRemovesValue:!0,blurInputOnSelect:__(),captureMenuScroll:!__(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:q3(),formatGroupLabel:b9,getOptionLabel:P9,getOptionValue:E9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Q_,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!J4(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},N9=1,ng=function(n){Za(r,n);var t=D9(r);function r(i){var u;za(this,r),u=t.call(this,i),u.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},u.blockOptionHover=!1,u.isComposing=!1,u.clearFocusValueOnUpdate=!1,u.commonProps=void 0,u.components=void 0,u.hasGroups=!1,u.initialTouchX=0,u.initialTouchY=0,u.inputIsHiddenAfterUpdate=void 0,u.instancePrefix="",u.openAfterFocus=!1,u.scrollToFocusedOptionOnUpdate=!1,u.userIsDragging=void 0,u.controlRef=null,u.getControlRef=function(U){u.controlRef=U},u.focusedOptionRef=null,u.getFocusedOptionRef=function(U){u.focusedOptionRef=U},u.menuListRef=null,u.getMenuListRef=function(U){u.menuListRef=U},u.inputRef=null,u.getInputRef=function(U){u.inputRef=U},u.cacheComponents=function(U){u.components=Y3({components:U})},u.focus=u.focusInput,u.blur=u.blurInput,u.onChange=function(U,ee){var ve=u.props,xe=ve.onChange,Le=ve.name;xe(U,Us(Us({},ee),{},{name:Le}))},u.setValue=function(U){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",ve=arguments.length>2?arguments[2]:void 0,xe=u.props,Le=xe.closeMenuOnSelect,ze=xe.isMulti;u.onInputChange("",{action:"set-value"}),Le&&(u.inputIsHiddenAfterUpdate=!ze,u.onMenuClose()),u.clearFocusValueOnUpdate=!0,u.onChange(U,{action:ee,option:ve})},u.selectOption=function(U){var ee=u.props,ve=ee.blurInputOnSelect,xe=ee.isMulti,Le=u.state.selectValue;if(xe)if(u.isOptionSelected(U,Le)){var ze=u.getOptionValue(U);u.setValue(Le.filter(function(qe){return u.getOptionValue(qe)!==ze}),"deselect-option",U),u.announceAriaLiveSelection({event:"deselect-option",context:{value:u.getOptionLabel(U)}})}else u.isOptionDisabled(U,Le)?u.announceAriaLiveSelection({event:"select-option",context:{value:u.getOptionLabel(U),isDisabled:!0}}):(u.setValue([].concat(U4(Le),[U]),"select-option",U),u.announceAriaLiveSelection({event:"select-option",context:{value:u.getOptionLabel(U)}}));else u.isOptionDisabled(U,Le)?u.announceAriaLiveSelection({event:"select-option",context:{value:u.getOptionLabel(U),isDisabled:!0}}):(u.setValue(U,"select-option"),u.announceAriaLiveSelection({event:"select-option",context:{value:u.getOptionLabel(U)}}));ve&&u.blurInput()},u.removeValue=function(U){var ee=u.state.selectValue,ve=u.getOptionValue(U),xe=ee.filter(function(Le){return u.getOptionValue(Le)!==ve});u.onChange(xe.length?xe:null,{action:"remove-value",removedValue:U}),u.announceAriaLiveSelection({event:"remove-value",context:{value:U?u.getOptionLabel(U):""}}),u.focusInput()},u.clearValue=function(){u.onChange(null,{action:"clear"})},u.popValue=function(){var U=u.state.selectValue,ee=U[U.length-1],ve=U.slice(0,U.length-1);u.announceAriaLiveSelection({event:"pop-value",context:{value:ee?u.getOptionLabel(ee):""}}),u.onChange(ve.length?ve:null,{action:"pop-value",removedValue:ee})},u.getValue=function(){return u.state.selectValue},u.cx=function(){for(var U=arguments.length,ee=new Array(U),ve=0;ve<U;ve++)ee[ve]=arguments[ve];return $4.apply(void 0,[u.props.classNamePrefix].concat(ee))},u.getOptionLabel=function(U){return u.props.getOptionLabel(U)},u.getOptionValue=function(U){return u.props.getOptionValue(U)},u.getStyles=function(U,ee){var ve=C9[U](ee);ve.boxSizing="border-box";var xe=u.props.styles[U];return xe?xe(ve,ee):ve},u.getElementId=function(U){return"".concat(u.instancePrefix,"-").concat(U)},u.getActiveDescendentId=function(){var U=u.props.menuIsOpen,ee=u.state,ve=ee.menuOptions,xe=ee.focusedOption;if(!(!xe||!U)){var Le=ve.focusable.indexOf(xe),ze=ve.render[Le];return ze&&ze.key}},u.announceAriaLiveSelection=function(U){var ee=U.event,ve=U.context;u.setState({ariaLiveSelection:_9(ee,ve)})},u.announceAriaLiveContext=function(U){var ee=U.event,ve=U.context;u.setState({ariaLiveContext:m9(ee,Us(Us({},ve),{},{label:u.props["aria-label"]}))})},u.onMenuMouseDown=function(U){U.button===0&&(U.stopPropagation(),U.preventDefault(),u.focusInput())},u.onMenuMouseMove=function(U){u.blockOptionHover=!1},u.onControlMouseDown=function(U){var ee=u.props.openMenuOnClick;u.state.isFocused?u.props.menuIsOpen?U.target.tagName!=="INPUT"&&U.target.tagName!=="TEXTAREA"&&u.onMenuClose():ee&&u.openMenu("first"):(ee&&(u.openAfterFocus=!0),u.focusInput()),U.target.tagName!=="INPUT"&&U.target.tagName!=="TEXTAREA"&&U.preventDefault()},u.onDropdownIndicatorMouseDown=function(U){if(!(U&&U.type==="mousedown"&&U.button!==0)&&!u.props.isDisabled){var ee=u.props,ve=ee.isMulti,xe=ee.menuIsOpen;u.focusInput(),xe?(u.inputIsHiddenAfterUpdate=!ve,u.onMenuClose()):u.openMenu("first"),U.preventDefault(),U.stopPropagation()}},u.onClearIndicatorMouseDown=function(U){U&&U.type==="mousedown"&&U.button!==0||(u.clearValue(),U.stopPropagation(),u.openAfterFocus=!1,U.type==="touchend"?u.focusInput():setTimeout(function(){return u.focusInput()}))},u.onScroll=function(U){typeof u.props.closeMenuOnScroll=="boolean"?U.target instanceof HTMLElement&&sf(U.target)&&u.props.onMenuClose():typeof u.props.closeMenuOnScroll=="function"&&u.props.closeMenuOnScroll(U)&&u.props.onMenuClose()},u.onCompositionStart=function(){u.isComposing=!0},u.onCompositionEnd=function(){u.isComposing=!1},u.onTouchStart=function(U){var ee=U.touches,ve=ee&&ee.item(0);ve&&(u.initialTouchX=ve.clientX,u.initialTouchY=ve.clientY,u.userIsDragging=!1)},u.onTouchMove=function(U){var ee=U.touches,ve=ee&&ee.item(0);if(ve){var xe=Math.abs(ve.clientX-u.initialTouchX),Le=Math.abs(ve.clientY-u.initialTouchY),ze=5;u.userIsDragging=xe>ze||Le>ze}},u.onTouchEnd=function(U){u.userIsDragging||(u.controlRef&&!u.controlRef.contains(U.target)&&u.menuListRef&&!u.menuListRef.contains(U.target)&&u.blurInput(),u.initialTouchX=0,u.initialTouchY=0)},u.onControlTouchEnd=function(U){u.userIsDragging||u.onControlMouseDown(U)},u.onClearIndicatorTouchEnd=function(U){u.userIsDragging||u.onClearIndicatorMouseDown(U)},u.onDropdownIndicatorTouchEnd=function(U){u.userIsDragging||u.onDropdownIndicatorMouseDown(U)},u.handleInputChange=function(U){var ee=U.currentTarget.value;u.inputIsHiddenAfterUpdate=!1,u.onInputChange(ee,{action:"input-change"}),u.props.menuIsOpen||u.onMenuOpen()},u.onInputFocus=function(U){var ee=u.props,ve=ee.isSearchable,xe=ee.isMulti;u.props.onFocus&&u.props.onFocus(U),u.inputIsHiddenAfterUpdate=!1,u.announceAriaLiveContext({event:"input",context:{isSearchable:ve,isMulti:xe}}),u.setState({isFocused:!0}),(u.openAfterFocus||u.props.openMenuOnFocus)&&u.openMenu("first"),u.openAfterFocus=!1},u.onInputBlur=function(U){if(u.menuListRef&&u.menuListRef.contains(document.activeElement)){u.inputRef.focus();return}u.props.onBlur&&u.props.onBlur(U),u.onInputChange("",{action:"input-blur"}),u.onMenuClose(),u.setState({focusedValue:null,isFocused:!1})},u.onOptionHover=function(U){u.blockOptionHover||u.state.focusedOption===U||u.setState({focusedOption:U})},u.shouldHideSelectedOptions=function(){var U=u.props,ee=U.hideSelectedOptions,ve=U.isMulti;return ee===void 0?ve:ee},u.onKeyDown=function(U){var ee=u.props,ve=ee.isMulti,xe=ee.backspaceRemovesValue,Le=ee.escapeClearsValue,ze=ee.inputValue,qe=ee.isClearable,Je=ee.isDisabled,st=ee.menuIsOpen,Ct=ee.onKeyDown,bt=ee.tabSelectsValue,Dt=ee.openMenuOnFocus,Ut=u.state,Rt=Ut.focusedOption,Qt=Ut.focusedValue,pn=Ut.selectValue;if(!Je&&!(typeof Ct=="function"&&(Ct(U),U.defaultPrevented))){switch(u.blockOptionHover=!0,U.key){case"ArrowLeft":if(!ve||ze)return;u.focusValue("previous");break;case"ArrowRight":if(!ve||ze)return;u.focusValue("next");break;case"Delete":case"Backspace":if(ze)return;if(Qt)u.removeValue(Qt);else{if(!xe)return;ve?u.popValue():qe&&u.clearValue()}break;case"Tab":if(u.isComposing||U.shiftKey||!st||!bt||!Rt||Dt&&u.isOptionSelected(Rt,pn))return;u.selectOption(Rt);break;case"Enter":if(U.keyCode===229)break;if(st){if(!Rt||u.isComposing)return;u.selectOption(Rt);break}return;case"Escape":st?(u.inputIsHiddenAfterUpdate=!1,u.onInputChange("",{action:"menu-close"}),u.onMenuClose()):qe&&Le&&u.clearValue();break;case" ":if(ze)return;if(!st){u.openMenu("first");break}if(!Rt)return;u.selectOption(Rt);break;case"ArrowUp":st?u.focusOption("up"):u.openMenu("last");break;case"ArrowDown":st?u.focusOption("down"):u.openMenu("first");break;case"PageUp":if(!st)return;u.focusOption("pageup");break;case"PageDown":if(!st)return;u.focusOption("pagedown");break;case"Home":if(!st)return;u.focusOption("first");break;case"End":if(!st)return;u.focusOption("last");break;default:return}U.preventDefault()}},u.buildMenuOptions=function(U,ee){var ve=U.inputValue,xe=ve===void 0?"":ve,Le=U.options,ze=function(Je,st){var Ct=u.isOptionDisabled(Je,ee),bt=u.isOptionSelected(Je,ee),Dt=u.getOptionLabel(Je),Ut=u.getOptionValue(Je);if(!(u.shouldHideSelectedOptions()&&bt||!u.filterOption({label:Dt,value:Ut,data:Je},xe))){var Rt=Ct?void 0:function(){return u.onOptionHover(Je)},Qt=Ct?void 0:function(){return u.selectOption(Je)},pn="".concat(u.getElementId("option"),"-").concat(st);return{innerProps:{id:pn,onClick:Qt,onMouseMove:Rt,onMouseOver:Rt,tabIndex:-1},data:Je,isDisabled:Ct,isSelected:bt,key:pn,label:Dt,type:"option",value:Ut}}};return Le.reduce(function(qe,Je,st){if(Je.options){u.hasGroups||(u.hasGroups=!0);var Ct=Je.options,bt=Ct.map(function(Rt,Qt){var pn=ze(Rt,"".concat(st,"-").concat(Qt));return pn&&qe.focusable.push(Rt),pn}).filter(Boolean);if(bt.length){var Dt="".concat(u.getElementId("group"),"-").concat(st);qe.render.push({type:"group",key:Dt,data:Je,options:bt})}}else{var Ut=ze(Je,"".concat(st));Ut&&(qe.render.push(Ut),qe.focusable.push(Je))}return qe},{render:[],focusable:[]})};var D=i.value;u.cacheComponents=f_(u.cacheComponents,u3).bind(of(u)),u.cacheComponents(i.components),u.instancePrefix="react-select-"+(u.props.instanceId||++N9);var k=h_(D);u.buildMenuOptions=f_(u.buildMenuOptions,function(U,ee){var ve=U,xe=u_(ve,2),Le=xe[0],ze=xe[1],qe=ee,Je=u_(qe,2),st=Je[0],Ct=Je[1];return ze===Ct&&Le.inputValue===st.inputValue&&Le.options===st.options}).bind(of(u));var H=i.menuIsOpen?u.buildMenuOptions(i,k):{render:[],focusable:[]};return u.state.menuOptions=H,u.state.selectValue=k,u}return Ga(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(u){var D=this.props,k=D.options,H=D.value,U=D.menuIsOpen,ee=D.inputValue;if(this.cacheComponents(u.components),u.value!==H||u.options!==k||u.menuIsOpen!==U||u.inputValue!==ee){var ve=h_(u.value),xe=u.menuIsOpen?this.buildMenuOptions(u,ve):{render:[],focusable:[]},Le=this.getNextFocusedValue(ve),ze=this.getNextFocusedOption(xe.focusable);this.setState({menuOptions:xe,selectValue:ve,focusedOption:ze,focusedValue:Le})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(u){var D=this.props,k=D.isDisabled,H=D.menuIsOpen,U=this.state.isFocused;(U&&!k&&u.isDisabled||U&&H&&!u.menuIsOpen)&&this.focusInput(),U&&k&&!u.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Z4(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var u=this.props,D=u.isSearchable,k=u.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:D,isMulti:k}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(u,D){this.props.onInputChange(u,D)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(u){var D=this,k=this.state,H=k.selectValue,U=k.isFocused,ee=this.buildMenuOptions(this.props,H),ve=this.props,xe=ve.isMulti,Le=ve.tabSelectsValue,ze=u==="first"?0:ee.focusable.length-1;if(!xe){var qe=ee.focusable.indexOf(H[0]);qe>-1&&(ze=qe)}this.scrollToFocusedOptionOnUpdate=!(U&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:ee,focusedValue:null,focusedOption:ee.focusable[ze]},function(){D.onMenuOpen(),D.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:Le}})})}},{key:"focusValue",value:function(u){var D=this.props,k=D.isMulti,H=D.isSearchable,U=this.state,ee=U.selectValue,ve=U.focusedValue;if(k){this.setState({focusedOption:null});var xe=ee.indexOf(ve);ve||(xe=-1,this.announceAriaLiveContext({event:"value"}));var Le=ee.length-1,ze=-1;if(ee.length){switch(u){case"previous":xe===0?ze=0:xe===-1?ze=Le:ze=xe-1;break;case"next":xe>-1&&xe<Le&&(ze=xe+1);break}ze===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:H,isMulti:k}}),this.setState({inputIsHidden:ze!==-1,focusedValue:ee[ze]})}}}},{key:"focusOption",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",D=this.props,k=D.pageSize,H=D.tabSelectsValue,U=this.state,ee=U.focusedOption,ve=U.menuOptions,xe=ve.focusable;if(xe.length){var Le=0,ze=xe.indexOf(ee);ee||(ze=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:H}})),u==="up"?Le=ze>0?ze-1:xe.length-1:u==="down"?Le=(ze+1)%xe.length:u==="pageup"?(Le=ze-k,Le<0&&(Le=0)):u==="pagedown"?(Le=ze+k,Le>xe.length-1&&(Le=xe.length-1)):u==="last"&&(Le=xe.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:xe[Le],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:Q_(xe[Le]),tabSelectsValue:H}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(gf):Us(Us({},gf),this.props.theme):gf}},{key:"getCommonProps",value:function(){var u=this.clearValue,D=this.cx,k=this.getStyles,H=this.getValue,U=this.setValue,ee=this.selectOption,ve=this.props,xe=ve.isMulti,Le=ve.isRtl,ze=ve.options,qe=this.hasValue();return{cx:D,clearValue:u,getStyles:k,getValue:H,hasValue:qe,isMulti:xe,isRtl:Le,options:ze,selectOption:ee,setValue:U,selectProps:ve,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(u){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var D=this.state,k=D.focusedValue,H=D.selectValue,U=H.indexOf(k);if(U>-1){var ee=u.indexOf(k);if(ee>-1)return k;if(U<u.length)return u[U]}return null}},{key:"getNextFocusedOption",value:function(u){var D=this.state.focusedOption;return D&&u.indexOf(D)>-1?D:u[0]}},{key:"hasValue",value:function(){var u=this.state.selectValue;return u.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var u=this.props,D=u.isClearable,k=u.isMulti;return D===void 0?k:D}},{key:"isOptionDisabled",value:function(u,D){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(u,D):!1}},{key:"isOptionSelected",value:function(u,D){var k=this;if(D.indexOf(u)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(u,D);var H=this.getOptionValue(u);return D.some(function(U){return k.getOptionValue(U)===H})}},{key:"filterOption",value:function(u,D){return this.props.filterOption?this.props.filterOption(u,D):!0}},{key:"formatOptionLabel",value:function(u,D){if(typeof this.props.formatOptionLabel=="function"){var k=this.props.inputValue,H=this.state.selectValue;return this.props.formatOptionLabel(u,{context:D,inputValue:k,selectValue:H})}else return this.getOptionLabel(u)}},{key:"formatGroupLabel",value:function(u){return this.props.formatGroupLabel(u)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var u=this.state,D=u.ariaLiveContext,k=u.selectValue,H=u.focusedValue,U=u.focusedOption,ee=this.props,ve=ee.options,xe=ee.menuIsOpen,Le=ee.inputValue,ze=ee.screenReaderStatus,qe=H?g9({focusedValue:H,getOptionLabel:this.getOptionLabel,selectValue:k}):"",Je=U&&xe?v9({focusedOption:U,getOptionLabel:this.getOptionLabel,options:ve}):"",st=y9({inputValue:Le,screenReaderMessage:ze({count:this.countOptions()})});return"".concat(qe," ").concat(Je," ").concat(st," ").concat(D)}},{key:"renderInput",value:function(){var u=this.props,D=u.isDisabled,k=u.isSearchable,H=u.inputId,U=u.inputValue,ee=u.tabIndex,ve=u.form,xe=this.components.Input,Le=this.state.inputIsHidden,ze=H||this.getElementId("input"),qe={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!k)return jt.default.createElement(n9,ro({id:ze,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:p_,onFocus:this.onInputFocus,readOnly:!0,disabled:D,tabIndex:ee,form:ve,value:""},qe));var Je=this.commonProps,st=Je.cx,Ct=Je.theme,bt=Je.selectProps;return jt.default.createElement(xe,ro({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:st,getStyles:this.getStyles,id:ze,innerRef:this.getInputRef,isDisabled:D,isHidden:Le,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:bt,spellCheck:"false",tabIndex:ee,form:ve,theme:Ct,type:"text",value:U},qe))}},{key:"renderPlaceholderOrValue",value:function(){var u=this,D=this.components,k=D.MultiValue,H=D.MultiValueContainer,U=D.MultiValueLabel,ee=D.MultiValueRemove,ve=D.SingleValue,xe=D.Placeholder,Le=this.commonProps,ze=this.props,qe=ze.controlShouldRenderValue,Je=ze.isDisabled,st=ze.isMulti,Ct=ze.inputValue,bt=ze.placeholder,Dt=this.state,Ut=Dt.selectValue,Rt=Dt.focusedValue,Qt=Dt.isFocused;if(!this.hasValue()||!qe)return Ct?null:jt.default.createElement(xe,ro({},Le,{key:"placeholder",isDisabled:Je,isFocused:Qt}),bt);if(st){var pn=Ut.map(function(_n,fn){var Zn=_n===Rt;return jt.default.createElement(k,ro({},Le,{components:{Container:H,Label:U,Remove:ee},isFocused:Zn,isDisabled:Je,key:"".concat(u.getOptionValue(_n)).concat(fn),index:fn,removeProps:{onClick:function(){return u.removeValue(_n)},onTouchEnd:function(){return u.removeValue(_n)},onMouseDown:function($n){$n.preventDefault(),$n.stopPropagation()}},data:_n}),u.formatOptionLabel(_n,"value"))});return pn}if(Ct)return null;var En=Ut[0];return jt.default.createElement(ve,ro({},Le,{data:En,isDisabled:Je}),this.formatOptionLabel(En,"value"))}},{key:"renderClearIndicator",value:function(){var u=this.components.ClearIndicator,D=this.commonProps,k=this.props,H=k.isDisabled,U=k.isLoading,ee=this.state.isFocused;if(!this.isClearable()||!u||H||!this.hasValue()||U)return null;var ve={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return jt.default.createElement(u,ro({},D,{innerProps:ve,isFocused:ee}))}},{key:"renderLoadingIndicator",value:function(){var u=this.components.LoadingIndicator,D=this.commonProps,k=this.props,H=k.isDisabled,U=k.isLoading,ee=this.state.isFocused;if(!u||!U)return null;var ve={"aria-hidden":"true"};return jt.default.createElement(u,ro({},D,{innerProps:ve,isDisabled:H,isFocused:ee}))}},{key:"renderIndicatorSeparator",value:function(){var u=this.components,D=u.DropdownIndicator,k=u.IndicatorSeparator;if(!D||!k)return null;var H=this.commonProps,U=this.props.isDisabled,ee=this.state.isFocused;return jt.default.createElement(k,ro({},H,{isDisabled:U,isFocused:ee}))}},{key:"renderDropdownIndicator",value:function(){var u=this.components.DropdownIndicator;if(!u)return null;var D=this.commonProps,k=this.props.isDisabled,H=this.state.isFocused,U={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return jt.default.createElement(u,ro({},D,{innerProps:U,isDisabled:k,isFocused:H}))}},{key:"renderMenu",value:function(){var u=this,D=this.components,k=D.Group,H=D.GroupHeading,U=D.Menu,ee=D.MenuList,ve=D.MenuPortal,xe=D.LoadingMessage,Le=D.NoOptionsMessage,ze=D.Option,qe=this.commonProps,Je=this.state,st=Je.focusedOption,Ct=Je.menuOptions,bt=this.props,Dt=bt.captureMenuScroll,Ut=bt.inputValue,Rt=bt.isLoading,Qt=bt.loadingMessage,pn=bt.minMenuHeight,En=bt.maxMenuHeight,_n=bt.menuIsOpen,fn=bt.menuPlacement,Zn=bt.menuPosition,Gn=bt.menuPortalTarget,$n=bt.menuShouldBlockScroll,yn=bt.menuShouldScrollIntoView,Ln=bt.noOptionsMessage,br=bt.onMenuScrollToTop,Xn=bt.onMenuScrollToBottom;if(!_n)return null;var Cn=function(On){var Jt=st===On.data;return On.innerRef=Jt?u.getFocusedOptionRef:void 0,jt.default.createElement(ze,ro({},qe,On,{isFocused:Jt}),u.formatOptionLabel(On.data,"menu"))},Mn;if(this.hasOptions())Mn=Ct.render.map(function(Xt){if(Xt.type==="group"){var On=Xt.type,Jt=_s(Xt,["type"]),Qn="".concat(Xt.key,"-heading");return jt.default.createElement(k,ro({},qe,Jt,{Heading:H,headingProps:{id:Qn,data:Xt.data},label:u.formatGroupLabel(Xt.data)}),Xt.options.map(function(Bn){return Cn(Bn)}))}else if(Xt.type==="option")return Cn(Xt)});else if(Rt){var ar=Qt({inputValue:Ut});if(ar===null)return null;Mn=jt.default.createElement(xe,qe,ar)}else{var mr=Ln({inputValue:Ut});if(mr===null)return null;Mn=jt.default.createElement(Le,qe,mr)}var Hn={minMenuHeight:pn,maxMenuHeight:En,menuPlacement:fn,menuPosition:Zn,menuShouldScrollIntoView:yn},In=jt.default.createElement(P_,ro({},qe,Hn),function(Xt){var On=Xt.ref,Jt=Xt.placerProps,Qn=Jt.placement,Bn=Jt.maxHeight;return jt.default.createElement(U,ro({},qe,Hn,{innerRef:On,innerProps:{onMouseDown:u.onMenuMouseDown,onMouseMove:u.onMenuMouseMove},isLoading:Rt,placement:Qn}),jt.default.createElement(h9,{isEnabled:Dt,onTopArrive:br,onBottomArrive:Xn},jt.default.createElement(c9,{isEnabled:$n},jt.default.createElement(ee,ro({},qe,{innerRef:u.getMenuListRef,isLoading:Rt,maxHeight:Bn}),Mn))))});return Gn||Zn==="fixed"?jt.default.createElement(ve,ro({},qe,{appendTo:Gn,controlElement:this.controlRef,menuPlacement:fn,menuPosition:Zn}),In):In}},{key:"renderFormField",value:function(){var u=this,D=this.props,k=D.delimiter,H=D.isDisabled,U=D.isMulti,ee=D.name,ve=this.state.selectValue;if(!(!ee||H))if(U)if(k){var xe=ve.map(function(qe){return u.getOptionValue(qe)}).join(k);return jt.default.createElement("input",{name:ee,type:"hidden",value:xe})}else{var Le=ve.length>0?ve.map(function(qe,Je){return jt.default.createElement("input",{key:"i-".concat(Je),name:ee,type:"hidden",value:u.getOptionValue(qe)})}):jt.default.createElement("input",{name:ee,type:"hidden"});return jt.default.createElement("div",null,Le)}else{var ze=ve[0]?this.getOptionValue(ve[0]):"";return jt.default.createElement("input",{name:ee,type:"hidden",value:ze})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?jt.default.createElement(t9,{"aria-live":"polite"},jt.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),jt.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var u=this.components,D=u.Control,k=u.IndicatorsContainer,H=u.SelectContainer,U=u.ValueContainer,ee=this.props,ve=ee.className,xe=ee.id,Le=ee.isDisabled,ze=ee.menuIsOpen,qe=this.state.isFocused,Je=this.commonProps=this.getCommonProps();return jt.default.createElement(H,ro({},Je,{className:ve,innerProps:{id:xe,onKeyDown:this.onKeyDown},isDisabled:Le,isFocused:qe}),this.renderLiveRegion(),jt.default.createElement(D,ro({},Je,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Le,isFocused:qe,menuIsOpen:ze}),jt.default.createElement(U,ro({},Je,{isDisabled:Le}),this.renderPlaceholderOrValue(),this.renderInput()),jt.default.createElement(k,ro({},Je,{isDisabled:Le}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),r}(jt.Component);ng.defaultProps=A9;function R9(n){var t=L9();return function(){var i=Ii(n),u;if(t){var D=Ii(this).constructor;u=Reflect.construct(i,arguments,D)}else u=i.apply(this,arguments);return gs(this,u)}}function L9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var B9={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},k9=function(t){var r,i;return i=r=function(u){Za(k,u);var D=R9(k);function k(){var H;za(this,k);for(var U=arguments.length,ee=new Array(U),ve=0;ve<U;ve++)ee[ve]=arguments[ve];return H=D.call.apply(D,[this].concat(ee)),H.select=void 0,H.state={inputValue:H.props.inputValue!==void 0?H.props.inputValue:H.props.defaultInputValue,menuIsOpen:H.props.menuIsOpen!==void 0?H.props.menuIsOpen:H.props.defaultMenuIsOpen,value:H.props.value!==void 0?H.props.value:H.props.defaultValue},H.onChange=function(xe,Le){H.callProp("onChange",xe,Le),H.setState({value:xe})},H.onInputChange=function(xe,Le){var ze=H.callProp("onInputChange",xe,Le);H.setState({inputValue:ze!==void 0?ze:xe})},H.onMenuOpen=function(){H.callProp("onMenuOpen"),H.setState({menuIsOpen:!0})},H.onMenuClose=function(){H.callProp("onMenuClose"),H.setState({menuIsOpen:!1})},H}return Ga(k,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(U){return this.props[U]!==void 0?this.props[U]:this.state[U]}},{key:"callProp",value:function(U){if(typeof this.props[U]=="function"){for(var ee,ve=arguments.length,xe=new Array(ve>1?ve-1:0),Le=1;Le<ve;Le++)xe[Le-1]=arguments[Le];return(ee=this.props)[U].apply(ee,xe)}}},{key:"render",value:function(){var U=this,ee=this.props,ve=ee.defaultInputValue,xe=ee.defaultMenuIsOpen,Le=ee.defaultValue,ze=_s(ee,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return jt.default.createElement(t,ro({},ze,{ref:function(Je){U.select=Je},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),k}(jt.Component),r.defaultProps=B9,i};function xH(n){var t=U9();return function(){var i=_getPrototypeOf(n),u;if(t){var D=_getPrototypeOf(this).constructor;u=Reflect.construct(i,arguments,D)}else u=i.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function U9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var DH=null,F9=k9(ng);const j9=F9;var W9=Object.defineProperty,rg=Object.getOwnPropertySymbols,H9=Object.prototype.hasOwnProperty,V9=Object.prototype.propertyIsEnumerable,og=(n,t,r)=>t in n?W9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ig=(n,t)=>{for(var r in t||(t={}))H9.call(t,r)&&og(n,r,t[r]);if(rg)for(var r of rg(t))V9.call(t,r)&&og(n,r,t[r]);return n};const ag=(0,e.createContext)({publication:{},pub:{},setPublication:({pub:n,publication:t})=>{}});ag.displayName="PublishContext";const MH=n=>{const t=r=>{const i=sg();return h(n,ig(ig({},i),r))};return t.displayName=`withPublishContext(${n.name||n.displayName||"Anonymous"})`,t},sg=()=>(0,o.qp)(ag);var K9=Object.defineProperty,$9=Object.defineProperties,z9=Object.getOwnPropertyDescriptors,zu=Object.getOwnPropertySymbols,lg=Object.prototype.hasOwnProperty,ug=Object.prototype.propertyIsEnumerable,cg=(n,t,r)=>t in n?K9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vs=(n,t)=>{for(var r in t||(t={}))lg.call(t,r)&&cg(n,r,t[r]);if(zu)for(var r of zu(t))ug.call(t,r)&&cg(n,r,t[r]);return n},Gu=(n,t)=>$9(n,z9(t)),G9=(n,t)=>{var r={};for(var i in n)lg.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&zu)for(var i of zu(n))t.indexOf(i)<0&&ug.call(n,i)&&(r[i]=n[i]);return r};const Z9=()=>null,dg=n=>{var t=n,{variant:r="default",isSearchable:i=!1,className:u}=t,D=G9(t,["variant","isSearchable","className"]),k,H;const{pub:U}=sg();return(0,e.h)(j9,Gu(vs({},D),{isDisabled:D.isDisabled,className:f()("themed-select",u),components:vs({IndicatorSeparator:Z9},D.components),theme:(0,b.getSelectTheme)({primary:((k=U.theme)==null?void 0:k.background_pop_color)||U.theme_var_background_pop||"#1a1a1a",neutral0:r==="light"?"white":(H=U.theme)==null?void 0:H.web_bg_color}),isSearchable:i,styles:vs(vs({container:ee=>Gu(vs({},ee),{flex:1}),dropdownIndicator:ee=>Gu(vs({},ee),{color:"#1a1a1a"})},D.showOnlyIndicator&&{valueContainer:ee=>Gu(vs({},ee),{width:0,padding:0})}),D.styles)}))};var Y9=Object.defineProperty,J9=Object.defineProperties,X9=Object.getOwnPropertyDescriptors,fg=Object.getOwnPropertySymbols,Q9=Object.prototype.hasOwnProperty,q9=Object.prototype.propertyIsEnumerable,pg=(n,t,r)=>t in n?Y9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hg=(n,t)=>{for(var r in t||(t={}))Q9.call(t,r)&&pg(n,r,t[r]);if(fg)for(var r of fg(t))q9.call(t,r)&&pg(n,r,t[r]);return n},ex=(n,t)=>J9(n,X9(t)),Il=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const mg=2,_g=5,tx=35,nx=255,rx=({isExpired:n,isPublished:t,remainingHours:r})=>n?"POLL CLOSED":t?r>=48?`${Math.floor(r/24)} DAYS REMAINING`:r>=24?"1 DAY REMAINING":r>=2?`${r} HOURS REMAINING`:r==1?"1 HOUR REMAINING":"LESS THAN 1 HOUR REMAINING":"NOT PUBLISHED",vf=n=>n>1?`Choice ${n+1} (optional)`:`Choice ${n+1}`,ox=({question:n,expiry:t,audience:r,options:i})=>{const u=i.filter(Boolean);if(n.length<1||n.length>255)return"The question must be between 1 and 255 characters long.";if(u.length<2||u.length>5)return"Your poll must have 2 to 5 options.";if(u.some(D=>D.length<1||D.length>50))return"Each option must be between 1 and 50 characters long.";if(["all_subscribers","only_paid"].includes(r)){if(![1,24,72,168].includes(t))return"The length of your poll is invalid."}else return"Your poll audience is invalid.";return null},ix=({index:n,text:t,onChange:r,onDelete:i,showDeleteButton:u,disabled:D})=>(0,e.h)("div",{className:"poll-option-editor"},(0,e.h)("input",{type:"text",onChange:k=>{r(n,k.currentTarget.value)},value:t,disabled:D,placeholder:vf(n),maxLength:tx}),(0,e.h)("button",{className:f()("poll-remove-option",{"is-hidden":!u}),onClick:()=>i(n),disabled:D,tabIndex:u?void 0:-1},(0,e.h)(Ns.Z,null))),ax=({poll:n,isOpen:t,onClose:r,onSave:i,isPublished:u,totalVotes:D,shouldShowAudiencePicker:k})=>{let H=n.options.map(Cn=>Cn.label);H.length>1?H.length<_g&&H.push(""):H=["",""];const{payments_state:U}=(0,pd.I)()||{},ee=k&&U==="enabled"?"only_paid":"all_subscribers",[ve,xe]=(0,o.eJ)(n.question||""),[Le,ze]=(0,o.eJ)(H),[qe,Je]=(0,o.eJ)(n.expiry||24),[st,Ct]=(0,o.eJ)(n.audience||ee),[bt,Dt]=(0,o.eJ)(!1),[Ut,Rt]=(0,o.eJ)(n.votes_hidden||!1),[Qt,pn]=(0,o.eJ)(null),En=ox({question:ve,options:Le,expiry:qe,audience:st,votes_hidden:Ut}),_n=(0,o.I4)(()=>{var Cn;xe(n.question||""),ze(((Cn=n.options)==null?void 0:Cn.map(Mn=>Mn.label))||["",""]),Je(n.expiry||24),Ct(n.audience||ee),Rt(n.votes_hidden||!1),pn(null),r()},[xe,ze,Je,Ct,n,r]),fn=(0,o.I4)(({value:Cn})=>{["only_paid","all_subscribers"].includes(Cn)&&Ct(Cn)},[Ct]),Zn=st==="only_paid"?"Only paid subscribers":"All subscribers who can see this post",Gn=(0,o.I4)(({value:Cn})=>{const Mn=Number(Cn);[1,24,72,168].includes(Mn)&&Je(Mn)},[Je]),$n=qe===1?"1 hour":qe===24?"1 day":qe===72?"3 days":"1 week",yn=(0,o.I4)((Cn,Mn)=>{const ar=[...Le];ar.splice(Cn,1,Mn),Cn===ar.length-1&&ar.length<_g&&ar.push(""),ze(ar)},[Le,ze]),Ln=(0,o.I4)(Cn=>{if(Le.length<=mg||Cn>=Le.length)return;const Mn=[...Le];Mn.splice(Cn,1),Mn[Mn.length-1].length&&Mn.push(""),ze(Mn)},[Le,ze]),br=Array(Math.max(2,Le.length||0)).fill("").map((Cn,Mn)=>Le.length>Mn?Le[Mn]:Cn),Xn=Qt||u&&`This poll is part of a post that has already been published. If you modify it, ${D} existing ${D===1?"vote":"votes"} will be removed.`;return(0,e.h)(Wi.u_,{className:"poll-editor-modal",isOpen:t,onClose:r},(0,e.h)("div",{className:"poll-editor"},(0,e.h)("div",{className:"poll-editor-section question-section"},(0,e.h)("input",{className:"poll-question-editor",type:"text",value:ve,onChange:Cn=>xe(Cn.currentTarget.value),placeholder:"Enter your question...",disabled:bt,maxLength:nx})),(0,e.h)("div",{className:"poll-editor-section options-section"},(0,e.h)("div",{className:"poll-options-editor"},br.map((Cn,Mn)=>(0,e.h)(ix,{index:Mn,text:Cn,onChange:yn,onDelete:Ln,disabled:bt,showDeleteButton:br.length>mg&&(Mn<br.length-1||Cn.length>0)})))),(0,e.h)("div",{className:"poll-editor-section length-section"},(0,e.h)("div",{className:"poll-section-title"},"Length"),(0,e.h)(dg,{options:[{label:"1 hour",value:"1"},{label:"1 day",value:"24"},{label:"3 day",value:"72"},{label:"1 week",value:"168"}],isDisabled:bt,value:{label:$n,value:String(qe)},onChange:Gn})),k&&U==="enabled"&&(0,e.h)("div",{className:"poll-editor-section audience-section"},(0,e.h)("div",{className:"poll-section-title"},"Who can vote?"),(0,e.h)(dg,{options:[{label:"Only paid subscribers",value:"only_paid"},{label:"All subscribers who can see this post",value:"all_subscribers"}],isDisabled:bt,value:{label:Zn,value:st},onChange:fn})),(0,e.h)("div",{className:"poll-editor-section vote-visibility-section"},(0,e.h)(Y0.p,{checked:Ut,onChange:()=>Rt(!Ut),label:"Hide the total vote count from readers?",name:"votes-hidden"})),(0,e.h)("div",{className:"poll-editor-section action-section"},Xn&&(0,e.h)("div",{className:"edit-warning"},Xn),(0,e.h)("div",{className:"action-buttons"},(0,e.h)(aa.z,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:_n,disabled:bt},"Cancel"),(0,e.h)(r4.L,{content:En,className:f()("inverse",{disabled:En===null})},(0,e.h)(aa.z,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>Il(void 0,null,function*(){Dt(!0);try{yield i({audience:st,question:ve,options:Le.filter(Boolean),expiry:qe,votes_hidden:Ut})}catch(Cn){pn("An error occurred while saving this poll.")}Dt(!1)}),disabled:En!==null||bt},"Save"))))))},sx=({id:n,text:t,onVote:r,showVotes:i,currentVotes:u,totalVotes:D,myVote:k,canVote:H})=>{const U=(0,o.I4)(()=>Il(void 0,null,function*(){n&&(yield r(n))}),[n,r]),ee=Math.round(100*(D===0?0:u/D));return(0,e.h)("div",{className:f()("poll-option",{"show-votes":i,"hide-votes":!i,"can-vote":H,"my-vote":k}),onClick:U},i&&(0,e.h)("div",{className:"poll-vote-background",style:{width:`${ee}%`}}),(0,e.h)("div",{className:"poll-option-background"},(0,e.h)("div",{className:"poll-option-text"},t,i&&k&&(0,e.h)(gh,{className:"vote-icon"}))),i&&(0,e.h)("div",{className:"poll-percentage-text"},ee,"%"))},lx=({id:n,isEditor:t,post:r,pub:i,isVersionView:u})=>{var D,k,H;const[U,ee]=(0,o.eJ)(!1),[ve,xe]=(0,o.eJ)(!0),[Le,ze]=(0,o.eJ)(null),[qe,Je]=(0,o.eJ)(null),[st,Ct]=(0,o.eJ)(!0),[bt,Dt]=(0,o.eJ)(u!=null?u:!1),Ut=(0,ni.pm)(),Rt={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!t){const Yn=(0,v.parseQuery)(window.location.href);if(Yn&&Yn.token&&(Rt.token=Yn.token),!Rt.token&&((D=window._preloads)!=null&&D.original_url)){const Or=(0,v.parseQuery)(window._preloads.original_url);Or&&Or.token&&(Rt.token=Or.token)}}if(typeof window!="undefined"&&!t&&r.is_draft){const Yn=(0,v.getPostSlug)(window.location.href);Yn&&(0,Be.isUUID)(Yn)&&(Rt.uuid=Yn)}const Qt=(0,us.aF)()||{},pn=hg({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},Qt),{is_subscribed:En,is_admin:_n,is_contributor:fn,is_author:Zn}=pn;let{is_free_subscribed:Gn}=pn;ZI()&&(Gn=!0);const $n=fn||_n||Zn,yn=dr()(),Ln=Le&&Le.published_at&&dr()(Le.published_at).add(Le.expiry,"hour"),br=Ln&&Ln.diff(yn,"hour"),Cn=(Le==null?void 0:Le.audience)==="only_paid"?En:Gn,Mn=Le&&Le.options.some(Yn=>Yn.my_vote),ar=!!(Le!=null&&Le.is_published),mr=ar&&Ln&&Ln.isBefore(yn),Hn=t&&((Le==null?void 0:Le.post_type)!=="adhoc_email"||!ar),In=(0,o.sO)(null),Xt=!Mn&&ar&&!mr&&Cn,On=(Le==null?void 0:Le.total_votes)==1?"1 VOTE":`${Le==null?void 0:Le.total_votes} VOTES`,Jt=rx({isExpired:mr,isPublished:ar,remainingHours:br}),Qn=(0,o.I4)((...Yn)=>Il(void 0,[...Yn],function*({shouldNotSetLoading:Or}={shouldNotSetLoading:!1}){Or||xe(!0);try{const _r=yield ft()(`/api/v1/poll/${n}`).query(Rt);ze(_r.body),Je(null)}catch(_r){Je("We were unable to load this poll. Please refresh the page.")}xe(!1)}),[n,xe,ze]);(0,o.d4)(()=>{Qn()},[Qn]);const Bn=(0,o.I4)(Yn=>Il(void 0,null,function*(){try{yield ft().put(`/api/v1/poll/${n}`).send(Yn)}catch(Or){return Or}return ee(!1),xe(!0),yield Qn(),null}),[n,xe,Qn]),Dr=(0,o.I4)(Yn=>Il(void 0,null,function*(){var Or;if(!Cn&&ar&&!mr&&!Hn){(Or=In.current)==null||Or.open();return}if(!(Hn||!Xt||bt)){Dt(!0);try{yield ft().post(`/api/v1/poll/${n}/vote`).send({poll_option_id:Yn}).query(Rt),Je(null)}catch(_r){Je("We were unable to record your vote. Please refresh the page and try again."),Dt(!1);return}yield Qn({shouldNotSetLoading:!0}),Dt(!1)}}),[Hn,Xt,bt,Dt,n,Qn,Cn,ar,mr]),lr=Hn?Array(Math.max(2,((k=Le==null?void 0:Le.options)==null?void 0:k.length)||0)).fill("").map((Yn,Or)=>{var _r;return Le&&((_r=Le.options)==null?void 0:_r.length)>Or?Le.options[Or].label:vf(Or)}):(H=Le==null?void 0:Le.options)==null?void 0:H.map(Yn=>Yn.label);if(qe!==null&&!Le)return(0,e.h)("div",{className:"poll-wrapper poll-web"},(0,e.h)("div",{className:"poll-error"},qe));const Ar=t?null:`${(0,v.getPostUrl)(i,r)}#poll-${n}`;return(0,e.h)(Ne.tu,{className:"poll-wrapper poll-web",gap:24,"data-component-name":"Poll"},Ar&&(0,e.h)("div",{className:"poll-anchor-target",id:`poll-${n}`},(0,e.h)("div",{className:"poll-anchor-copy-button",onClick:Yn=>{location!=null&&location.href&&(Yn.preventDefault(),(0,b.copyToClipboard)(Ar),Ut.popToast(Or=>(0,e.h)(ni.FN,ex(hg({},Or),{text:"Link copied",Icon:dl.Z}))))}},(0,e.h)("a",{href:Ar},(0,e.h)(dl.Z,{size:20})))),Hn&&Le&&(0,e.h)(ax,{poll:Le,isOpen:U,onClose:()=>{ee(!1)},isPublished:ar,totalVotes:(Le==null?void 0:Le.total_votes)||0,onSave:Bn,shouldShowAudiencePicker:(Le==null?void 0:Le.post_type)!=="adhoc_email"}),!t&&Le&&(0,e.h)(n4,{ref:In,noCloseButton:!0,className:"poll-dialog",pub:i,post:r,user:Qt,pollId:Le.id,audience:Le.audience}),ve?(0,e.h)(Ne.tu,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},(0,e.h)(q.xv.Meta,null,"Loading...")):(0,e.h)(e.Fragment,null,Hn&&(0,e.h)("button",{className:"poll-edit",onClick:()=>{ee(!0)},disabled:ve},(0,e.h)(zI.Z,{height:20})),(0,e.h)(Ne.tu,{gap:4},(0,e.h)(Ne.gq,{className:"poll-title",alignItems:"baseline",gap:4},(Le==null?void 0:Le.audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(yu.Z,{size:16}),(0,e.h)(q.xv.Meta,{className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):(0,e.h)(q.xv.Meta,null,"POLL")),(0,e.h)(q.xv.H3,{className:"poll-question",color:"pub-primary-text"},(Le==null?void 0:Le.question)||"New Poll")),qe!==null&&(0,e.h)("div",{className:"poll-error"},qe),(0,e.h)(Ne.tu,{gap:12,className:f()("poll-options",{"no-margins":!ar})},lr.map((Yn,Or)=>{var _r,Fr,Co;return(0,e.h)(sx,{id:((_r=Le==null?void 0:Le.options[Or])==null?void 0:_r.id)||null,text:Yn,canVote:!Mn&&ar&&!mr&&(!t||(Le==null?void 0:Le.post_type)==="adhoc_email"),onVote:Dr,showVotes:Mn||mr||$n&&st,totalVotes:(Le==null?void 0:Le.total_votes)||0,currentVotes:((Fr=Le==null?void 0:Le.options[Or])==null?void 0:Fr.votes)||0,myVote:((Co=Le==null?void 0:Le.options[Or])==null?void 0:Co.my_vote)||!1})})),ar&&(0,e.h)(q.xv.Meta,{className:"poll-status"},($n||!Le.votes_hidden)&&`${On} \xB7 `,Jt,$n&&!Mn&&!mr&&(0,e.h)(e.Fragment,null," \xB7 ",(0,e.h)("span",{className:"poll-author-visibility-toggle",title:"Only the author, contributors, and admins may view results before voting.",onClick:()=>{Ct(!st)}},st?"SHOW OPTIONS":"SHOW RESULTS")))))},ux=({id:n,embeddedPolls:t})=>{const r=t.find(i=>i.id===n);return r?(0,e.h)(qr.YF,{className:"poll-email-wrapper","data-component-name":"StaticPoll"},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(qr.YF,{width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-header"},(r==null?void 0:r.audience)==="only_paid"?"SUBSCRIBER-ONLY POLL":"POLL")),(0,e.h)("tr",{className:"poll-question",width:"100%"},(0,e.h)("td",null,r.question||"New Poll")),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(qr.YF,{className:"poll-options",width:"100%"},r.options.map(({label:i,id:u},D)=>(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-option",width:"100%"},(0,e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${u}_url%%`,width:"100%"},(0,e.h)("div",{className:"poll-vote-contents"},i||vf(D))))))))))))):(0,e.h)("table",{className:"poll-wrapper"},"Something went wrong.")};var xl=It(25380);const Zu=(0,e.createContext)({isSubstack:!1,customDomain:null});Zu.displayName="DomainInfoContext";function NH(){return useContext(Zu)}function RH({value:n,children:t}){const r=useMemo(()=>n,Object.values(n));return h(Zu.Provider,{value:r},t)}var cx=Object.defineProperty,dx=Object.defineProperties,fx=Object.getOwnPropertyDescriptors,gg=Object.getOwnPropertySymbols,px=Object.prototype.hasOwnProperty,hx=Object.prototype.propertyIsEnumerable,vg=(n,t,r)=>t in n?cx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mx=(n,t)=>{for(var r in t||(t={}))px.call(t,r)&&vg(n,r,t[r]);if(gg)for(var r of gg(t))hx.call(t,r)&&vg(n,r,t[r]);return n},_x=(n,t)=>dx(n,fx(t));const gx=n=>(0,e.h)(N.l,_x(mx({},n),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(xl.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var vx=Object.defineProperty,yx=Object.defineProperties,bx=Object.getOwnPropertyDescriptors,yg=Object.getOwnPropertySymbols,Px=Object.prototype.hasOwnProperty,Ex=Object.prototype.propertyIsEnumerable,bg=(n,t,r)=>t in n?vx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Pg=(n,t)=>{for(var r in t||(t={}))Px.call(t,r)&&bg(n,r,t[r]);if(yg)for(var r of yg(t))Ex.call(t,r)&&bg(n,r,t[r]);return n},wx=(n,t)=>yx(n,bx(t));const Cx=["Subscribe","Subscribe now","Sign up","Sign up now"];function Eg({isStatic:n,pub:t,user:r,freeSignup:i,children:u,pledgesEnabled:D}){if(n)return(0,e.h)(Jd.E.Consumer,null,({isFreemail:ee,isFreeSubscribed:ve,isPledged:xe})=>u({isFreeSubscribed:ve,isSubscribed:!ee,isFullySubscribed:t.plans?!ee:!D||xe,isForPaidSubscription:!!t.plans&&ee,isPledged:xe}));const k=i||(r==null?void 0:r.is_free_subscribed),H=r==null?void 0:r.is_subscribed,U=r==null?void 0:r.is_pledged;return u({isFreeSubscribed:k,isSubscribed:H,isFullySubscribed:t.plans?H:k&&(!D||U),isForPaidSubscription:!!t.plans&&k&&!H,isPledged:U})}function yf({pub:n,user:t,now:r,isStatic:i}){return(0,e.h)(ut.vz.Consumer,null,({getSettingFor:u})=>{const D=n.payments_state==="disabled"&&!n.invite_only&&u("payment_pledges_enabled");return(0,e.h)(Eg,{isStatic:i,user:t,pub:n,pledgesEnabled:D},({isFreeSubscribed:k,isPledged:H})=>(0,Be.getSubscribeText)(n,{now:r,isFreeSubscribed:k,isPledged:H,pledgesEnabled:D}))})}class Fs extends e.Component{onSignup(t){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(t):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=(0,v.getSubscribeUrl)(this.props.pub,wx(Pg({addBase:!0,utm_medium:"web",utm_source:this.props.source||"subscribe-widget",utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:t.body.requires_confirmation?"true":""},t.body.subscription_id&&{subscription_id:t.body.subscription_id}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(t){const{pub:r,subscribeButtonAttrs:i,isStatic:u,source:D,post:k,next:H}=this.props,U={utm_medium:u?"email":"web",utm_source:D||"subscribe-widget",utm_content:k&&k.id,next:H,referring_pub_ids:u?void 0:(0,v.getQueryItem)("referring_pub_ids")};return t?u?Ei.Substitutions.ACCOUNT_URL:(0,v.getPubAccountSettingsUrl)(r,{params:U}):(0,v.getSubscribeUrl)(r,Pg({addBase:!0,root:i?i.url:u&&Ei.Substitutions.CHECKOUT_URL},U))}getButtonLabel(t,r,{isPledged:i,pledgesEnabled:u}){if(t||i)return"Subscribed";const{pub:D,subscribeButtonAttrs:k}=this.props,H=k&&k.text;if(H&&!Cx.includes(H))return H;const U=r;return(0,Be.getSubscribeText)(D,{now:!U,isFreeSubscribed:U,isPledged:i,pledgesEnabled:u})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:u,source:D,isStatic:k,forceEmailInput:H,onPrepareData:U,onError:ee},{loading:ve}){const xe=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)(ut.vz.Consumer,null,({getSettingFor:Le})=>(0,e.h)(Zu.Consumer,null,ze=>(0,e.h)(Eg,{pub:t,user:r,isStatic:k,freeSignup:i,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&Le("payment_pledges_enabled")},({isFreeSubscribed:qe,isSubscribed:Je,isFullySubscribed:st,isPledged:Ct})=>{var bt;const Dt=this.getButtonLabel(Je,qe,{isPledged:Ct,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&Le("payment_pledges_enabled")}),Ut=qe||Je;return(0,e.h)("div",{className:f()("subscribe-widget",{"is-signed-up":Ut,"is-fully-subscribed":st}),"data-component-name":"SubscribeWidget"},!H&&(Ut||k)?(0,e.h)("p",{className:"button-wrapper"},k?(0,e.h)("a",{className:f()("button subscribe-btn",st?"outline":"primary"),href:this.getHref(st),native:!k},st&&(0,e.h)(gx,{stroke:((bt=t==null?void 0:t.theme)==null?void 0:bt.background_pop_color)||(t==null?void 0:t.theme_var_background_pop)||R.substack_color,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),(0,e.h)("span",null,Dt)):(0,e.h)(aa.z,{className:"subscribe-btn",href:this.getHref(st),localNavigation:!1,variant:st?"themed-secondary":"themed-primary",leftIcon:st?(0,e.h)(xl.Z,{size:20}):null},(0,e.h)("span",null,Dt))):(0,e.h)(To.Z,{source:D||"subscribe-widget",user:r,pub:t,freeSignup:i,freeSignupEmail:u,onPrepareData:U,onSuccess:Rt=>this.onSignup(Rt),onConfirmationRequired:(t==null?void 0:t.payments_state)==="enabled"?()=>null:void 0,onError:ee,hideTerms:!0,hideLogin:!0,disabled:Ut||ve,submitButtonText:Ut?"\u2713":(0,Be.getSubscribeText)(t),useSubscribeLink:(ze==null?void 0:ze.isSubstack)||xe,utm_campaign:ze!=null&&ze.isSubstack?"reader2":xe?"cross-post":null,next:xe?window.location.href:null}))})))}}var Ox=Object.defineProperty,Sx=Object.defineProperties,Tx=Object.getOwnPropertyDescriptors,wg=Object.getOwnPropertySymbols,Ix=Object.prototype.hasOwnProperty,xx=Object.prototype.propertyIsEnumerable,Cg=(n,t,r)=>t in n?Ox(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Na=(n,t)=>{for(var r in t||(t={}))Ix.call(t,r)&&Cg(n,r,t[r]);if(wg)for(var r of wg(t))xx.call(t,r)&&Cg(n,r,t[r]);return n},Og=(n,t)=>Sx(n,Tx(t));const Dx=(n,t)=>(0,e.h)("div",{className:"subscription-widget-wrap"},(0,e.h)("div",{className:"subscription-widget show-subscribe"},(0,e.h)("div",{className:"preamble"},(0,e.h)("p",{dangerouslySetInnerHTML:{__html:n.children[0].children[0].children[0].innerHTML}})),(0,e.h)(Fs,Na({pub:t.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},t.props)))),Mx=(n,t)=>{try{const r=JSON.parse(mi()(n.getAttribute("data-attrs")));if([`${t.pub.base_url}/subscribe?`,"${ctx.pub.base_url}/subscribe?plan=founding",Ei.Substitutions.CHECKOUT_URL,Ei.Substitutions.FOUNDING_CHECKOUT_URL].includes(r.url)){const i=JSON.parse(mi()(n.getAttribute("data-attrs")));return(0,e.h)(Fs,Na({pub:t.pub,subscribeButtonAttrs:i},t.props))}}catch(r){console.error("Failed to parse button:",r)}},Ax=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const u=n.getAttribute("data-attrs");if(u){const D=JSON.parse(mi()(u));return r?(0,e.h)(g0,{label:D.label,pub:t,post:i,duration:D.duration}):(0,e.h)(_0,{label:D.label,pub:t,post:i,src:`/api/v1/audio/upload/${D.mediaUploadId}/src`,duration:D.duration,autoPlay:!1})}}catch(u){console.error("Failed to parse audio:",u)}},Nx=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const u=n.getAttribute("data-attrs");if(u){const D=JSON.parse(mi()(u));return r?(0,e.h)(g0,{label:D.label,pub:t,post:i,duration:D.duration}):(0,e.h)(_0,{label:D.label,pub:t,post:i,src:D.url,duration:D.duration,autoPlay:!1})}}catch(u){console.error("Failed to parse audio:",u)}},Rx=(n,{props:{isStatic:t}})=>{try{const r=n.getAttribute("data-attrs");if(r){const{name:i,avatarUrl:u,url:D}=JSON.parse(mi()(r));return t?(0,e.h)(XS,{name:i,avatarUrl:u,url:D}):(0,e.h)(QS,{name:i,avatarUrl:u,url:D})}}catch(r){console.error("Failed to parse audio:",r)}},Lx=n=>{try{const t=JSON.parse(n.dataset.attrs).symbol;return t?(0,e.h)(yT,{symbol:t,prependSymbol:JSON.parse(n.dataset.attrs).prependSymbol,isStatic:JSON.parse(n.dataset.attrs).isStatic}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},Bx=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{if(r){const u=n.getAttribute("data-attrs");if(u){const D=JSON.parse(mi()(u)),k=D==null?void 0:D.persistentExpression;return k?(0,e.h)("img",{src:(0,v.getLatexUrl)(k),style:{transform:"scale(0.5)"},"data-component-name":"LatexImg"}):(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 no expression found in email")}else return(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 data attributes not found")}else{const u=n.getAttribute("data-attrs"),D=JSON.parse(mi()(u)),k=D==null?void 0:D.persistentExpression;return k?(0,e.h)(Ne.gq,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px","data-component-name":"Latex"},(0,e.h)(Ne.tu,{justifyContent:"center"},(0,e.h)(fS,{inline:!1},`\\(${k}\\)`))):(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 no expression found")}}catch(u){return console.error("failed to render mathjax",u),(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 error")}},kx=n=>{try{const t=JSON.parse(n.dataset.attrs),{name:r,id:i,type:u,url:D,photo_url:k,uuid:H,isStatic:U}=t;return r?(0,e.h)(vd.default,{name:r,id:i,type:u,url:D,photo_url:k,uuid:H,isStatic:U}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},Ux=(n,t)=>{var r;try{const i=JSON.parse(mi()(n.getAttribute("data-attrs")));return i!=null&&i.isEmail?(0,e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},(0,e.h)("tbody",null,(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)(ux,{id:i.id,embeddedPolls:(r=t.props.dataForEmailRender)==null?void 0:r.embeddedPolls}))))):(0,e.h)("div",{className:"poll-embed",dataAttrs:n.getAttribute("data-attrs")},(0,e.h)(lx,{id:i.id,isEditor:!1,post:t.props.post,pub:t.pub,isVersionView:!!t.props.isVersionView}))}catch(i){return console.log("Failed to parse poll:",i),(0,e.h)(e.Fragment,null)}};function Fx(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(mi()(r));return(0,e.h)("div",{className:"community-chat",dataAttrs:r},t?(0,e.h)(mS,Na({},i)):(0,e.h)(hS,{pub:i.pub,subdomain:i.subdomain}))}catch(r){return console.error("Failed to parse chat embed:",r),(0,e.h)(e.Fragment,null)}}function jx(n,t){const{props:{isStatic:r,is_freemail:i}}=t;try{const u=n.getAttribute("data-attrs"),D=JSON.parse(mi()(u));return r?(0,e.h)(AS,Na({is_freemail:i},D)):(0,e.h)(MS,Na({},D))}catch(u){return console.error("Failed to parse chat post embed:",u),(0,e.h)(e.Fragment,null)}}function Wx(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(mi()(r));return t?(0,e.h)(zm,Na({},i)):(0,e.h)(kS,Na({},i))}catch(r){return console.error("Failed to parse chat post embed:",r),(0,e.h)(e.Fragment,null)}}const Hx=(n,t,r)=>{var i;const u=n.id,[D,,k]=u.split("-"),H=(i=r.wrapper.querySelector(`#${D}-${k}`))==null?void 0:i.nextElementSibling;return H?((0,P.isMobile)()&&(n.href="javascript:void(0)"),(0,e.h)(sm.z,{content:(0,e.h)("div",{className:"markup"},Dl(H,t,r)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard"},Dl(n,t,r))):Dl(n,t,r)},Yu=(n,t,{shallow:r}={})=>{var i,u,D;if(n.nodeName==="A"&&(n.getAttribute("rel")||n.setAttribute("rel",(i=t.pub)!=null&&i.no_follow?"nofollow ugc noopener":"")),t.pub&&n.nodeName==="P"&&(0,b.hasClass)(n,"button-wrapper")){const k=Mx(n,t);if(k)return k}return(0,b.hasClass)(n,"subscription-widget-wrap")?Dx(n,t):(0,b.hasClass)(n,"cashtag-wrap")?Lx(n):(0,b.hasClass)(n,"mention-wrap")?kx(n):t.pub&&(0,b.hasClass)(n,"native-audio-url-embed")?Nx(n,t):t.pub&&(0,b.hasClass)(n,"native-audio-embed")?Ax(n,t):t.pub&&(0,b.hasClass)(n,"native-video-embed")?jI(n,t):t.pub&&(0,b.hasClass)(n,"meeting-embed")?Rx(n,t):(0,b.hasClass)(n,"poll-embed")?Ux(n,t):(0,b.hasClass)(n,"image-gallery-embed")?KI(n,t):(0,b.hasClass)(n,"image3")?VI(n,t):(0,b.hasClass)(n,"latex-rendered")?Bx(n,t):(0,b.hasClass)(n,"community-chat")?Fx(n,t):(0,b.hasClass)(n,"community-post")?jx(n,t):(0,b.hasClass)(n,"digest-post-embed")?WI(n,t):(0,b.hasClass)(n,"comment")&&!(0,b.hasClass)(n,"template-comment")?Wx(n,t):(0,b.hasClass)(n,"referrals-tier-card")?HI(n,t):((D=(u=t.props)==null?void 0:u.post)!=null&&D.id&&(0,b.hasClass)(n,"footnote")&&(n.id&&(n.id+=`-${t.props.post.id}`),n.href&&(n.href+=`-${t.props.post.id}`)),(0,b.hasClass)(n,"footnote-anchor")?Hx(n,Yu,t):r?null:Dl(n,Yu,t))},Vx=function(n){const t={},r=Array.prototype.slice.call(n);for(const{name:i,value:u}of r)t[i]=u;return t},Kx=(n,t)=>{let r=0;return function(){const i=[].slice.call(arguments,0),u=++r>t;u&&console.error("Too many post nodes to recurse",{postId:i[2].props.post.id,depth:r});const D=n.apply(null,[...i,...u?[!0]:[]]);return r--,D}};function $x(n,t,r,i){var u,D,k;const H=f()("header-with-anchor-widget",t.className),U=r.children.length?Array.prototype.map.call(r.childNodes,ee=>Yu(ee,i)):[r.textContent];return(0,e.h)(n,Og(Na({},t),{className:H}),...U,(0,e.h)($I,{text:r.textContent,pub:i==null?void 0:i.pub,post:(u=i==null?void 0:i.props)==null?void 0:u.post,offsetTop:!0,isAboutPage:(k=(D=i==null?void 0:i.props)==null?void 0:D.isAboutPage)!=null?k:!1}))}const Dl=Kx((n,t,r,i)=>{var u,D;if(!n)throw new Error("Empty node, cannot preactify!");const k=n.nodeType===3?"span":n.nodeType===8?"x_preact_compatible_html_comment_x":n.tagName.toLowerCase(),H=n.nodeType!==1?{}:Vx(n.attributes),U=n.children&&n.children.length>0?null:n.textContent;if(i)return(0,e.h)(k,Og(Na({},H),{dangerouslySetInnerHTML:{__html:n.innerHTML}}));const ee=!!((u=n.parentElement)!=null&&u.getAttribute("data-prose-mirror-wrapper"));if(((D=r==null?void 0:r.pub)==null?void 0:D.type)!=="rss"&&ee&&["h1","h2","h3","h4"].includes(k)&&!n.className)return $x(k,H,n,r);if(U)return(0,e.h)(k,H,U);const ve=t(n,r,{shallow:!0});return ve||(0,e.h)(k,H,...Array.prototype.map.call(n.childNodes,xe=>t(xe,r)))},2500);function zx(n,t,r={}){const i=document.createElement("div");return i.setAttribute("data-prose-mirror-wrapper",1),i.innerHTML=n,Array.prototype.map.call(i.childNodes,u=>Dl(u,Yu,{wrapper:i,pub:t,props:r}))}var bf=It(96283);function Sg(n,t){var r;const[i,u]=(0,o.eJ)(typeof localStorage!="undefined"&&(r=localStorage.getItem(n))!=null?r:t);return[i,k=>{u(k),localStorage.setItem(n,k)}]}function kH(n,t){const r=useMemo(()=>JSON.stringify(t),[t]),[i,u]=Sg(n,r);return[useMemo(()=>{try{return JSON.parse(i)}catch(H){return console.error("Failed to parse stored value:",H),t}},[i,t]),H=>u(JSON.stringify(H))]}var Tg=It(16742);const Ra={button:"frontend-components-selection_popover-module__button--lynvl",popover:"frontend-components-selection_popover-module__popover--rjfPU",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--Jlk3U",icon:"frontend-components-selection_popover-module__icon--fJlTy",disabled:"frontend-components-selection_popover-module__disabled--q2o7U",explainer:"frontend-components-selection_popover-module__explainer--PBsHq",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--SCSfS"};var Gx=Object.defineProperty,Zx=Object.defineProperties,Yx=Object.getOwnPropertyDescriptors,Ju=Object.getOwnPropertySymbols,Ig=Object.prototype.hasOwnProperty,xg=Object.prototype.propertyIsEnumerable,Dg=(n,t,r)=>t in n?Gx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ys=(n,t)=>{for(var r in t||(t={}))Ig.call(t,r)&&Dg(n,r,t[r]);if(Ju)for(var r of Ju(t))xg.call(t,r)&&Dg(n,r,t[r]);return n},Ml=(n,t)=>Zx(n,Yx(t)),Jx=(n,t)=>{var r={};for(var i in n)Ig.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ju)for(var i of Ju(n))t.indexOf(i)<0&&xg.call(n,i)&&(r[i]=n[i]);return r},Al=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});function Xx(n){var t,r,i,u;const{nuxModal:D,showRestackNux:k}=(0,Tg.y)("post");return(0,e.h)(e.Fragment,null,D,((u=(i=(r=(t=n.selection)==null?void 0:t.text)==null?void 0:r.split)==null?void 0:i.call(r," "))==null?void 0:u.length)>=3&&(0,e.h)(Qx,ys({onShare:k},n)))}function Qx({pub:n,post:t,selection:r,onShare:i,onClose:u,userInteractionDisabled:D}){var k;const H=(0,us.aF)(),U=(0,ni.pm)(),ee=(0,vu.i3)(),ve=(0,Ai.XA)(),xe="has_dismissed_restack_selection_explainer",[Le]=Sg(xe),ze=(0,us.SE)();(0,o.d4)(()=>{Le==="true"&&(ze!=null&&ze.userSettings)&&!ze.userSettings.has_seen_select_to_restack_tooltip_nux&&ze.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const qe=typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0),Je=!t.is_draft&&!!H,st=!t.is_draft,Ct=()=>Al(this,null,function*(){const _n=yield(0,_o.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:t.id,publication_id:n.id,startParagraph:r.startParagraph,endParagraph:r.endParagraph,startOffset:r.startOffset,endOffset:r.endOffset}});if(_n instanceof Error)throw _n;return _n.selection.id}),bt=()=>Al(this,null,function*(){const _n=yield Ct();return(0,v.getPostUrl)(n,t,{urlParams:{r:H?H.id.toString(36):null,selection:_n,utm_campaign:"post_selection",utm_medium:"web"}})}),Dt=()=>Al(this,null,function*(){if(!Je)return;u();let _n;try{_n=yield bt()}catch(Zn){U.popToast(Gn=>(0,e.h)(ni.FN,Ml(ys({},Gn),{text:"Failed to generate quote"})));return}const fn=yield ee.open({restackUrl:_n});fn instanceof Error?(console.error(fn),U.popToast(Zn=>(0,e.h)(ni.FN,Ml(ys({},Zn),{text:"Failed to post"})))):(i(),U.popToast(Zn=>(0,e.h)(ni.FN,Ml(ys({},Zn),{text:"Note sent",cta:"View",href:(0,ae.getFeedUrl)()}))))}),Ut=()=>Al(this,null,function*(){if(!st)return;u();let _n;try{_n=yield bt()}catch(fn){U.popToast(Zn=>(0,e.h)(ni.FN,Ml(ys({},Zn),{text:"Failed to copy link to quote"})));return}(0,b.copyToClipboard)(_n),U.popToast(fn=>(0,e.h)(ni.FN,Ml(ys({},fn),{text:"Link copied to clipboard"})))}),Rt=_n=>Al(this,null,function*(){if(H)return;u();let fn;try{fn=yield Ct()}catch($n){}const Zn=(0,v.updateQuery)(document.location.href,{selection:fn}),Gn=(0,v.getSigninUrl)({redirect:Zn});(0,b.redirect)(Gn,{local_navigation:!1,event:_n})});(0,o.d4)(()=>(window.addEventListener("scroll",u,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",u,{capture:!0,once:!0})}),[u]);const Qt=(ze==null?void 0:ze.userSettings)&&!((k=ze.userSettings)!=null&&k.has_seen_select_to_restack_tooltip_nux),pn=Qt?156:40,En=()=>{ze.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)};return(0,e.h)(Ne.tu,{style:{top:qe?r.y+r.height+8:r.y-pn-8,left:r.rect.x+r.rect.width/2,transform:"translateX(-50%)",pointerEvents:D?"none":"auto",maxWidth:240},justifyContent:"center",className:Ra.popover,shadow:"md"},(0,e.h)(Ne.tu,{className:f()(Ra.popoverButtons,ve&&Ra.isMobile),radius:8,padding:Qt?8:4,gap:8},Qt&&(0,e.h)(eD,{onDismiss:En}),(0,e.h)(qx,{onClick:H?Dt:Rt,disabled:!Je&&!!H,isExplainer:Qt},(0,e.h)(bl.Z,{className:f()(Ra.icon,!Je&&Ra.disabled)}),(0,e.h)(q.xv.B4,{color:Je?"bg-light":"secondary",weight:"medium"},Je?"Restack quote":H?t.is_draft?"Cannot quote a draft":n!=null&&n.invite_only?"Cannot quote on invite-only publication":["only_paid","founding"].includes(t==null?void 0:t.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function qx(n){var t=n,{isExplainer:r}=t,i=Jx(t,["isExplainer"]);return(0,e.h)(kr.kG,ys({className:f()(Ra.button,r&&Ra.explainerButton),resetCss:!0},i))}function eD({onDismiss:n}){return(0,e.h)(Ne.tu,{className:Ra.explainer,radius:4,paddingX:16,paddingY:8,gap:4},(0,e.h)(kr.kG,{resetCss:!0,className:Ra.dismissExplainer,onClick:n},(0,e.h)(Ns.Z,{size:16,stroke:"var(--color-secondary)"})),(0,e.h)(q.xv.B4,{color:"bg-light",weight:"medium"},"New: Quote this post"),(0,e.h)(q.xv.Detail,{size:14,color:"secondary"},"Share your favorite part of this post to"," ",(0,e.h)(bf.hh,{color:"secondary",decoration:"underline",href:"https://substack.com/notes",target:"_blank"},"Substack Notes"),"."))}var tD=Object.defineProperty,nD=Object.defineProperties,rD=Object.getOwnPropertyDescriptors,Xu=Object.getOwnPropertySymbols,Mg=Object.prototype.hasOwnProperty,Ag=Object.prototype.propertyIsEnumerable,Pf=(n,t,r)=>t in n?tD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,oD=(n,t)=>{for(var r in t||(t={}))Mg.call(t,r)&&Pf(n,r,t[r]);if(Xu)for(var r of Xu(t))Ag.call(t,r)&&Pf(n,r,t[r]);return n},iD=(n,t)=>nD(n,rD(t)),aD=(n,t)=>{var r={};for(var i in n)Mg.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Xu)for(var i of Xu(n))t.indexOf(i)<0&&Ag.call(n,i)&&(r[i]=n[i]);return r},bs=(n,t,r)=>(Pf(n,typeof t!="symbol"?t+"":t,r),r),sD=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Ng=`
div.body.markup > p:not(.button-wrapper),
.pullquote > p:not(.button-wrapper),
blockquote > p:not(.button-wrapper),
li > p:not(.button-wrapper),
caption > p:not(.button-wrapper),
.footnote-content > p:not(.button-wrapper)
`,lD=".image-link.image2";class Qu extends e.Component{constructor(t,r){super(t,r),bs(this,"state",{selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1}),bs(this,"onBodyMouseDown",()=>{this.setState({selectionUserInteractionDisabled:!0})}),bs(this,"onMouseUp",()=>{this.setState((i,u)=>i.selectionUserInteractionDisabled?(i.selection&&u.trackSelection&&(0,M.j)(M.FP.POST_TEXT_SELECTED,{post_id:u.post.id,post_audience:u.post.audience,post_type:u.post.type}),{selectionUserInteractionDisabled:!1}):null)}),bs(this,"onSelectionChange",Pu()(()=>{const i=this.getSelectionState();i?this.setState({selection:i}):this.state.selection&&this.setState({selection:null})},100)),bs(this,"onDocumentClick",i=>{const u=i.target.closest(".image-link.image2");if(u&&this.originalImageState){const D=u.querySelector("img"),k=this.originalImageState.findIndex(H=>H.src===D.src);if(k>=0){i.preventDefault(),this.setState({selectedImgIndex:k});return}}if(!this.props.skipTrackClick)this.onLinkClick(i);else return null}),bs(this,"clearActiveSelection",()=>{this.setState({selection:null})}),bs(this,"closeImageViewerModal",()=>{this.setState({selectedImgIndex:null})}),this.body=(0,e.createRef)()}componentDidMount(){return sD(this,null,function*(){const t=Array.from(this.body.current.querySelectorAll(Ng));this.originalParagraphState=t.map(H=>({text:H.textContent}));const r=new URL(window.location).searchParams.get("img");let i=Array.from(this.body.current.querySelectorAll(lD));i=i.map(H=>{const U=H.querySelector("img"),ee=JSON.parse(U.getAttribute("data-attrs")),ve=ee.width/ee.height,xe=ee.resizeWidth?ee.resizeWidth/ve:ee.height,Le=ee.resizeWidth?ee.resizeWidth/xe:ve;return{element:H,image:U,attrs:ee,extraAttrs:{imageRatio:ve,resizeHeight:xe,resizeRatio:Le}}});let u=0;if(r){const H=i.find(U=>U.attrs.src===r);H&&(u=H.image.getBoundingClientRect().top-65)}const D=240,k=4;if(i=i.filter(H=>(0,v.unimginary)(H.image.src)===(0,v.unimginary)(H.element.href)),i=i.filter(H=>H.attrs.height>D&&H.extraAttrs.resizeHeight>D),i=i.filter(H=>H.extraAttrs.imageRatio<k&&H.extraAttrs.resizeRatio<k),this.originalImageState=i.map(H=>{var U;const ee=H.image.src;let ve=null;const xe=H.element.parentElement;return xe.tagName==="FIGURE"&&(ve=(U=xe.querySelector(":scope > figcaption"))==null?void 0:U.textContent),{src:ee,attrs:H.attrs,caption:ve}}),r){window.scrollTo({top:u});const H=this.originalImageState.findIndex(U=>U.attrs.src===r);H>=0&&this.setState({selectedImgIndex:H})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(t,r){return this.props.html!==t.html||this.state.selectedImgIndex!==r.selectedImgIndex||this.state.selection!==r.selection||this.state.selectionUserInteractionDisabled!==r.selectionUserInteractionDisabled}onLinkClick(t){if(!t.target.nodeName||t.target.nodeName!=="A"&&t.target.parentNode.nodeName!=="A")return;const r=t.target.nodeName==="A"?t.target:t.target.parentNode;if((0,M.j)(M.FP.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:r.href}),window.location.host===r.host){const i=(0,Be.transformDocumentLink)(r.href);i!==r.href&&(0,b.redirect)(i,{local_navigation:!1,event:t});return}t.preventDefault(),(0,Be.handleDocumentLinkClick)(r.href)}getSelectionState(){if(this.props.trackSelection&&window.getSelection)try{const t=window.getSelection();if(!t||t.isCollapsed||t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset)return;const r=this.findParentParagraph(t.anchorNode);if(!r)return;const i=this.findParentParagraph(t.focusNode);if(!i)return;const u=Array.from(this.body.current.querySelectorAll(Ng)),D=u.findIndex(xe=>xe.isSameNode(r));if(D===-1)return;const k=u.findIndex(xe=>xe.isSameNode(i));if(k===-1)return;const H=this.getCharacterOffsetParagraph(r,t.anchorNode,t.anchorOffset);if(H===null)return;const U=this.getCharacterOffsetParagraph(i,t.focusNode,t.focusOffset);if(U===null)return;const ee=D>k||D===k&&H>U,ve=t.getRangeAt(0).getBoundingClientRect();return{startParagraph:ee?k:D,endParagraph:ee?D:k,startOffset:ee?U:H,endOffset:ee?H:U,y:ve.y,height:ve.height,rect:ve,text:t.toString()}}catch(t){console.error("Failed to parse selection:",t)}}findParentParagraph(t){return t?t.nodeName==="P"?t:this.findParentParagraph(t.parentNode):null}isAncestorOf(t,r){return t===null?!1:t.isSameNode(r)?!0:this.isAncestorOf(t.parentNode,r)}getCharacterOffsetParagraph(t,r,i){var u;let D=i;for(let k=0;k<t.childNodes.length;k++){const H=t.childNodes[k];if(this.isAncestorOf(r,H))return D;H.className!=="footnote-anchor"&&(D+=((u=H.textContent)==null?void 0:u.length)||0)}return D}shouldShowImageViewerModal(){const{selectedImgIndex:t}=this.state;return t!=null}render(t){var r=t,{children:i,html:u,pub:D,skipTrackClick:k,trackSelection:H,paywall:U,isAboutPage:ee}=r,ve=aD(r,["children","html","pub","skipTrackClick","trackSelection","paywall","isAboutPage"]);const{selection:xe,selectedImgIndex:Le}=this.state;u&&(i=zx(u,D,iD(oD({},ve),{isAboutPage:ee})),i&&(u=null));const ze=i?Array.from(i).some(Je=>{var st;return((st=Je.props)==null?void 0:st.className)==="latex-rendered"}):!1,qe=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:u?{__html:u}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},i),(0,e.h)(Xx,{pub:D,post:this.props.post,selection:xe,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled}),(0,e.h)(Yd.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:Le}));return ze&&!ve.isStatic?(0,e.h)(uS,null,qe):qe}}const uD=({tabs:n,tab:t,onTabClick:r})=>(0,e.h)("div",{className:"ui-tabs"},n.map(({id:i,title:u})=>(0,e.h)("a",{className:`ui-tab ${i}-tab ${t===i?"active":""}`,onClick:()=>r&&r(i)},u)));var Rg=It(36868);const Ya={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"},Nl=(n,t)=>({logoUrl:n.podcast_art_url||n.logo_url||(0,v.getDefaultPodcastArtUrl)(),mainClickUrl:(0,v.getPodcastLandingUrl)({pub:n,section:null,addBase:!0}),buttonClickUrl:t,name:n.podcast_title||n.name,description:n.podcast_description||n.hero_text}),cD=({logoUrl:n,mainClickUrl:t,buttonClickUrl:r,name:i,description:u,showButton:D,buttonText:k,openInNewTab:H=!1})=>(0,e.h)("div",{className:Ya.childPublication},n&&(0,e.h)("img",{className:Ya.logo,src:(0,v.imginary)(n,144),alt:`${i} logo`}),(0,e.h)("div",{className:Ya.details},(0,e.h)("div",{className:Ya.info},(0,e.h)("div",{className:Ya.title},(0,e.h)("a",{className:Ya.link,href:t},i)),(0,e.h)("div",{className:Ya.description},u)),D&&(0,e.h)(kr.zx,{priority:"primary",className:Ya.subscribe,href:r,newTab:H},k))),qu=({showButton:n,items:t,openInNewTab:r=!1,buttonText:i})=>(0,e.h)("div",{"data-testid":"child-pub-container"},t.map(u=>(0,e.h)(cD,{logoUrl:u.logoUrl,mainClickUrl:u.mainClickUrl,buttonClickUrl:u.buttonClickUrl,name:u.name,description:u.description,buttonText:i,openInNewTab:r,showButton:n}))),Ef={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"};var dD=Object.defineProperty,fD=(n,t,r)=>t in n?dD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pD=(n,t,r)=>(fD(n,typeof t!="symbol"?t+"":t,r),r),ec=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});function hD(n){if(typeof window=="undefined")return!0;const t=document.createElement("div");t.innerHTML=n;for(let r=t.childNodes.length-1;r>=0;r--){const i=t.childNodes[r];if((0,b.hasClass)(i,"button-wrapper")||(0,b.hasClass)(i,"subscription-widget-wrap"))return!1}return!0}const mD=({pub:n,user:t,freeSignup:r,freeSignupEmail:i})=>{const u=n.payments_state==="enabled"&&(t!=null&&t.is_free_subscribed)&&!(t!=null&&t.is_subscribed)?"paid_upsell":"free_upsell";return(0,o.d4)(()=>{(0,M.j)(M.FP.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:n.id,type:u})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(Me,{onVisible:()=>{(0,M.j)(M.FP.ABOUT_PAGE_END_CTA_SEEN,{pub_id:n.id,type:u})}}),(0,e.h)(Ne.tu,{alignItems:"center",gap:16,padding:24,className:f()(Ef.container,"end-cta-container")},(0,e.h)("img",{src:(0,v.imginary)(n.author_photo_url||n.logo_url,64),className:Ef.authorPic}),(0,e.h)(Ne.tu,{alignItems:"center"},(0,e.h)(q.xv.H2,{lineHeight:30,align:"center"},"Subscribe to ",n.name),n.hero_text&&(0,e.h)(q.xv.Meta,{size:12,className:Ef.heroText,align:"center"},n.hero_text)),(0,e.h)(Fs,{pub:n,user:t,freeSignup:r,freeSignupEmail:i,isStatic:!1,source:"about-page-end-cta"})))};function _D({pub:n,user:t,freeSignup:r,freeSignupEmail:i,subscribeContent:u}){return typeof u!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)(Qu,{html:u,pub:n,user:t,freeSignup:r,freeSignupEmail:i,isAboutPage:!0}))}function gD({pub:n,people:t}){const r=(0,Fe.useMediaQuery)({maxWidth:540}),i=r?[[]]:[[],[]];for(let u=0;u<t.length;++u)i[r?0:u%2].push(t[u]);return(0,e.h)("div",{className:"content-people"},i.map(u=>(0,e.h)("div",{className:"people-column"},u.map(D=>(0,e.h)("div",{className:"content-person",onclick:k=>(0,fh.Q)(k,(0,v.getProfileUrl)(D,n,{utm_source:"about-page"}),{native:!0})},(0,e.h)(sa.PP,{subject:D,profile:D,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class vD extends e.Component{constructor(t,r){if(super(t,r),pD(this,"onTabClick",i=>{this.loadTab({tabId:i})}),this.state={subscribeContent:t.subscribeContent,people:t.people,tabs:[]},(t.pub.child_publications||[]).length){this.state.tabs.push({id:"about",title:"About"}),this.state.tab=this.state.tabs[0];const i=(0,Be.group_by)(t.pub.child_publications,"type");for(const u of Array.from(i.keys()).sort())this.state.tabs.push({id:u,title:`${(0,Be.toTitleCase)(u)}s`});this.state.tab=this.state.tabs.find(u=>u.id===t.sort)||this.state.tabs[0]}}componentDidMount(){return ec(this,null,function*(){if(this.props.pub.parent_publication&&this.props.pub.parent_about_page_enabled){(0,b.redirect)((0,v.getAboutUrl)(this.props.pub.parent_publication,{addBase:!0}));return}this.loadPeople(),this.loadAbout()})}loadAbout(){return ec(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:t}=yield ft().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:t})}catch(t){console.error("Failed to load about content:",t)}})}loadPeople(){return ec(this,null,function*(){if(!this.state.people)try{const{body:t}=yield ft().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:t})}catch(t){console.error("Failed to load people:",t)}})}loadTab(){return ec(this,arguments,function*({tabId:t}={}){const r=t?this.state.tabs.find(i=>i.id===t):this.state.tab;this.state.tab.id!==r.id&&(this.setState({tab:r}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,v.updateQuery)({sort:r.id})))})}renderChildPublications({pub:t,user:r,freeSignup:i},{tab:u}){let D,k;t.plans?(k=r&&r.is_subscribed,D=k):(D=i||r&&r.is_free_subscribed,k=r&&r.is_free_subscribed);const H=ve=>`${(0,v.getBaseUrl)(ve)}/?showWelcome=true`;if(u.id==="podcast")if(k){const ve=ba.getMultiPubChildPodcasts(t).map(xe=>Nl(xe,(0,v.getPodcatcherSetupUrl)(xe,{addBase:!0,user:null,section:null,noSection:null,params:null})));return(0,e.h)(qu,{pub:t,showButton:!0,buttonText:"Set up podcast",items:ve})}else{const ve=ba.getMultiPubChildPodcasts(t).map(xe=>Nl(xe,H(xe)));return(0,e.h)(qu,{pub:t,showButton:!D,buttonText:I`Subscribe`,items:ve})}const ee=(t.child_publications?t.child_publications.filter(ve=>ve.type===u.id):[]).map(ve=>Nl(ve,H(ve)));return(0,e.h)(qu,{pub:t,showButton:!D,buttonText:I`Subscribe`,items:ee})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:u,metadata:D},{subscribeContent:k,people:H,tabs:U,tab:ee}){const ve=U.length>0&&(ee==null?void 0:ee.id),xe=!ve||(ee==null?void 0:ee.id)==="about",Le=(!r||!(0,Rg.P)(r,t))&&hD(k);return(0,e.h)("div",{className:"page typography about-page typography"},D&&(0,b.setMetaData)(D),(0,e.h)("div",{className:"container"},(r==null?void 0:r.is_contributor)&&xe&&(0,e.h)(aa.z,{variant:"themed-secondary",href:(0,v.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(_l.Z,{size:20})},"Edit"),ve&&(0,e.h)(uD,{tabs:U,tab:ee.id,onTabClick:this.onTabClick}),xe&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(_D,{pub:t,user:r,freeSignup:i,freeSignupEmail:u,subscribeContent:k})),Le?(0,e.h)(mD,{pub:t,user:r,freeSignup:i,freeSignupEmail:u}):null,(H!=null?H:[]).length>0&&(0,e.h)(Ne.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(gD,{pub:t,people:H}))),ve&&["podcast","newsletter"].includes(ee.id)&&this.renderChildPublications({pub:t,user:r,freeSignup:i},{tab:ee})))}}const wf={container:"frontend-main-home-SectionLayout-module__container--CSPtP","full-width":"frontend-main-home-SectionLayout-module__full-width--Hx4bG","full-width-with-sidebar":"frontend-main-home-SectionLayout-module__full-width-with-sidebar--zhtRk","show-below":"frontend-main-home-SectionLayout-module__show-below--znqr9","three-column-width":"frontend-main-home-SectionLayout-module__three-column-width--NGumL","three-column-width-with-sidebar":"frontend-main-home-SectionLayout-module__three-column-width-with-sidebar--yum2K","one-column-two-column":"frontend-main-home-SectionLayout-module__one-column-two-column--lBSfs","one-column-two-column-one-column":"frontend-main-home-SectionLayout-module__one-column-two-column-one-column--eCeiu"},Ja=({children:n,showContentBelowOnMobile:t,stretchVertically:r,variant:i})=>(0,e.h)("div",{style:r?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:f()(wf.container,wf[i],{[wf["show-below"]]:t})},n)),Cf=({numColumns:n,paddingBottom:t,paddingTop:r})=>(0,e.h)(Ja,{variant:n===3?"three-column-width":"full-width"},(0,e.h)(qt.tu,{paddingBottom:typeof t=="number"?t:24,paddingTop:typeof r=="number"?r:24},(0,e.h)(qt.hs,{borderBottom:"detail-themed"})));var yD=Object.defineProperty,bD=Object.defineProperties,PD=Object.getOwnPropertyDescriptors,tc=Object.getOwnPropertySymbols,Lg=Object.prototype.hasOwnProperty,Bg=Object.prototype.propertyIsEnumerable,kg=(n,t,r)=>t in n?yD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ED=(n,t)=>{for(var r in t||(t={}))Lg.call(t,r)&&kg(n,r,t[r]);if(tc)for(var r of tc(t))Bg.call(t,r)&&kg(n,r,t[r]);return n},wD=(n,t)=>bD(n,PD(t)),CD=(n,t)=>{var r={};for(var i in n)Lg.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&tc)for(var i of tc(n))t.indexOf(i)<0&&Bg.call(n,i)&&(r[i]=n[i]);return r};const nc=n=>{var t=n,{stroke:r}=t,i=CD(t,["stroke"]);return(0,e.h)(N.l,wD(ED({},i),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},Ug={container:"frontend-pencraft-unstable-Silhouette-module__container--Z3aFA","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--LoRab"},la=({width:n,height:t,aspectRatio:r,className:i})=>r?(0,e.h)("div",{style:`aspect-ratio:${r}`},(0,e.h)("div",{className:f()(Ug.container,i),style:{width:n,height:t!=null?t:"100%"}})):(0,e.h)("div",{className:f()(Ug.container,i),style:{width:n,height:t}}),ma={transcriptionChunk:"frontend-components-TranscriptionText-module__transcriptionChunk--EGTI3",rowIndicator:"frontend-components-TranscriptionText-module__rowIndicator--qPF6l",hoverRow:"frontend-components-TranscriptionText-module__hoverRow--p30tM",activeRow:"frontend-components-TranscriptionText-module__activeRow--JGmX3",rowText:"frontend-components-TranscriptionText-module__rowText--uiBoy",activeWord:"frontend-components-TranscriptionText-module__activeWord--gq5t5",loadingSilhouette:"frontend-components-TranscriptionText-module__loadingSilhouette--TnTGs"};function OD({transcription:n,player:t}){const[r,i]=(0,o.eJ)(!1),[u,D]=(0,o.eJ)(),[k,H]=(0,o.eJ)(0);return(0,o.d4)(()=>{n.cdn_url&&(i(!0),ft().get(n.cdn_url).then(U=>U.text&&D(JSON.parse(U.text))).finally(()=>i(!1)))},[n]),(0,o.d4)(()=>{var U;const ee=(U=t.current)==null?void 0:U.player;if(ee){const ve=xe=>{typeof xe.target.currentTime=="number"&&H(xe.target.currentTime)};return ee.addEventListener("timeupdate",ve),()=>{ee.removeEventListener("timeupdate",ve)}}},[t]),r?(0,e.h)(e.Fragment,null,(0,e.h)(la,{width:"80%",height:"24px",className:ma.loadingSilhouette}),(0,e.h)(la,{width:"34%",height:"24px",className:ma.loadingSilhouette}),(0,e.h)(la,{width:"75%",height:"24px",className:ma.loadingSilhouette}),(0,e.h)(la,{width:"100%",height:"24px",className:ma.loadingSilhouette}),(0,e.h)(la,{width:"68%",height:"24px",className:ma.loadingSilhouette})):u!=null&&u.length?(0,e.h)(e.Fragment,null,u.map(U=>(0,e.h)(SD,{row:U,currentTime:k,onClick:()=>{var ee;(ee=t.current)!=null&&ee.player&&(t.current.player.currentTime=U.start,t.current.player.play())}}))):(0,e.h)("div",null,"No transcript...")}function SD({row:n,currentTime:t,onClick:r}){const[i,u]=(0,o.eJ)(!1);return(0,e.h)("div",{className:f()(ma.transcriptionChunk,{[ma.activeRow]:n.start<=t&&n.end>=t}),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:r},(0,e.h)("div",{className:f()(ma.rowIndicator,{[ma.hoverRow]:i})}),(0,e.h)("div",{className:ma.rowText},n.words.map(D=>D.start<=t&&D.end>=t?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:ma.activeWord},D.word)," "):`${D.word} `)))}var TD=Object.defineProperty,rc=Object.getOwnPropertySymbols,Fg=Object.prototype.hasOwnProperty,jg=Object.prototype.propertyIsEnumerable,Of=(n,t,r)=>t in n?TD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ID=(n,t)=>{for(var r in t||(t={}))Fg.call(t,r)&&Of(n,r,t[r]);if(rc)for(var r of rc(t))jg.call(t,r)&&Of(n,r,t[r]);return n},xD=(n,t)=>{var r={};for(var i in n)Fg.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&rc)for(var i of rc(n))t.indexOf(i)<0&&jg.call(n,i)&&(r[i]=n[i]);return r},Sf=(n,t,r)=>(Of(n,typeof t!="symbol"?t+"":t,r),r),DD=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Rl=({className:n=null,title:t,subtitle:r=null,reauthenticationTitle:i,publication:u,post:D,user:k,freeSignup:H=null,freeSignupEmail:U=null,email_form:ee=!1,autoFocus:ve=!1,isStatic:xe=!1,coupon:Le=null})=>{const ze=k&&k.email||U||null,qe=!!(k!=null&&k.is_subscribed&&(k!=null&&k.is_magic)),Je=(D==null?void 0:D.audience)==="founding",st=!!(k!=null&&k.is_free_subscribed||H),Ct=(0,v.getPostUrl)(u,D),bt=Le&&Le.id&&!Je;let Dt;bt?(D==null?void 0:D.type)==="podcast"?Dt="Listen to this episode with a 7-day free trial":(D==null?void 0:D.type)==="video"?Dt="Watch with a 7-day free trial":Dt=`Keep ${(0,Be.getPostCtaPresentParticiple)(D==null?void 0:D.type)} with a 7-day free trial`:qe?Dt=i:Dt=t;let Ut;return bt&&((D==null?void 0:D.type)==="podcast"?Ut="listen to this episode":(D==null?void 0:D.type)==="video"?Ut="watch this video":Ut=`keep ${(0,Be.getPostCtaPresentParticiple)(D==null?void 0:D.type)} this ${(0,Be.getPrintedPostType)(D==null?void 0:D.type)}`),(0,e.h)("div",{className:f()("paywall",n),"data-testid":"paywall","data-component-name":"Paywall"},ze&&(0,e.h)("div",{className:"paywall-intro"},"Hi ",(0,e.h)("b",null,ze)),(0,e.h)("h2",{className:"paywall-title"},Dt),r&&!bt&&(0,e.h)("p",{className:"paywall-subtitle"},r),bt&&(0,e.h)("div",{className:"paywall-free-trial-subtitle"},(0,e.h)("p",{className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)("b",null,(0,e.h)("i",null,u.name))," ","to ",Ut," and get 7 days of free access to the full post archives.")),ee?!st&&(0,e.h)("div",{className:"paywall-cta"},(0,e.h)(To.Z,{source:"post-unlock",email:ze,user:k,pub:u,freeSignup:H,freeSignupEmail:U,onSuccess:()=>document.location.reload(),hideLogin:!0,hideTerms:!0,autoFocus:ve!=null?ve:!0,submitButtonText:`Start ${(0,Be.getPostCtaPresentParticiple)(D==null?void 0:D.type,{isFinalWord:!0})}`})):(0,e.h)(MD,{coupon:Le,email:ze,isStatic:xe,post:D,postUrl:Ct,publication:u,useCoupon:bt,user:k}),!qe&&!xe&&(0,e.h)("div",{className:"paywall-login"},(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:u.subdomain,change_user:!!ze}),native:!0},LD({post:D,publication:u,isPaid:!ee})," ",(0,e.h)("b",null,ze?"Switch accounts":"Sign in"))))},MD=({coupon:n,email:t,isStatic:r,post:i,postUrl:u,publication:D,useCoupon:k,user:H})=>{const U=!!(H!=null&&H.is_founding),ee=!!(H!=null&&H.is_subscribed),ve=!!(H!=null&&H.is_subscribed&&(H!=null&&H.is_magic)),xe=(i==null?void 0:i.audience)==="founding",{exposeExperiment:Le,getExperimentVariant:ze}=(0,Ke.jc)(),qe=ze("autosubscribe_from_paywall")==="treatment";if(r){if(!D.plans)return null;const Je=xe?Ei.Substitutions.FOUNDING_CHECKOUT_URL:Ei.Substitutions.CHECKOUT_URL,st=k?`&coupon=${n.id}`:"",Ct=xe?`Upgrade to ${(0,ba.getFoundingTierName)(D)}`:k?"Start trial":(0,e.h)(yf,{pub:D,user:H,isStatic:r});return(0,e.h)(AD,{href:`${Je}simple=true&utm_source=paywall&utm_medium=email&utm_content=${i.id}&next=${u}${st}`},Ct)}return!U&&xe?D.plans?(0,e.h)(oc,{href:(0,v.getCheckoutUrl)(D,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:i?i.id:null,plan:"founding"})},`Upgrade to ${(0,ba.getFoundingTierName)(D)}`):null:ee?ve?(0,e.h)(oc,{href:(0,v.getSigninUrl)({for_pub:D.subdomain,email:t})},"Click here to sign in"):null:D.plans?H!=null&&H.email&&!k?(0,e.h)(oc,{onClick:()=>DD(void 0,null,function*(){if(yield Le("autosubscribe_from_paywall"),qe)try{yield ft().post("/api/v1/free").send({source:"paywall",email:t,first_url:s.xY,first_referrer:s.ip,current_url:s.UE,current_referrer:s.xU})}catch(Je){(0,M.j)(M.FP.PAYWALL_FREE_SIGNUP_FAILED,{reason:Je.message})}window.location.href=(0,v.getCheckoutUrl)(D,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,just_signed_up:qe})})},(0,e.h)(yf,{pub:D,user:H,isStatic:r})):(0,e.h)(oc,{href:(0,v.getCheckoutUrl)(D,{simple:!0,next:document.location.href,utm_source:k?"paywall-free-trial":"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,coupon:k?n.id:null})},k?"Start trial":(0,e.h)(yf,{pub:D,user:H,isStatic:r})):null},AD=({children:n,href:t})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{className:"button primary subscribe-btn",href:t},(0,e.h)("span",null,n))),oc=({children:n,href:t,onClick:r})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{href:t,onClick:r,native:!0},(0,e.h)(be.Z,{className:"subscribe-btn"},n)));class ND extends or.p{renderChildren(){const t=this.props,{ref:r}=t,i=xD(t,["ref"]);return(0,e.h)(Rl,ID({className:"modal-paywall"},i))}}class FH extends null{renderButtons({pub:t,post:r,isStatic:i,paywallAudience:u}){return h("div",{className:"audio-player-buttons audio-player-paywall"},h("a",{className:"primary",href:getCheckoutUrl(t,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:r?r.id:null}),native:!0},h(Button,null,h(PlayIcon,{alt:"play",isStatic:i,stroke:"#000000",fill:"#000000"}),`This episode is for ${u!=null?u:"paid subscribers"}`)))}}class RD extends Cl{constructor(){super(...arguments),Sf(this,"playbackEnabled",()=>this.props.mediaUpload.preview_duration>0),Sf(this,"cta",()=>this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?"Subscribe for full video":"Subscribe and watch"),Sf(this,"href",()=>{var t;return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||(0,v.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:(t=this.props.post)==null?void 0:t.id})})}}function LD({post:n,publication:t,isPaid:r=!0}={}){var i;return r?(n==null?void 0:n.audience)==="founding"?`Already in the ${(i=(0,ba.getFoundingTierName)(t))!=null?i:"Founding Member"} plan?`:"Already a paid subscriber?":"Already a subscriber?"}const BD=({post:n,pub:t,user:r,playerRef:i})=>{var u;const D=!(0,Be.canSeeTranscription)(r,n),k=(u=n==null?void 0:n.podcastUpload)==null?void 0:u.transcription;return k?D?(0,e.h)(Rl,{user:r,publication:t,post:n,title:"Transcriptions on this episode are for paid subscribers",reauthenticationTitle:"To see the transcription, please re-authenticate."}):(0,e.h)(OD,{transcription:k,player:i}):null};var Ll=It(43615),wi=It(39776);const Ea={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7"},Ps=({className:n,hidePlaceholder:t,imageAspectRatio:r,imageWidth:i,isBelowTheFold:u,post:D,squareImageSize:k})=>{const{getConfigFor:H}=(0,Kn.xR)(),{isMobile:U}=pa(),ee=H("show_entire_square_image"),ve=(0,Re.getCoverImageUrl)(D);if(!ve&&t)return null;const xe=!i&&!r?1.32:r,Le=i||336,ze=!!ve&&D.cover_image_is_square&&ee,qe=ze&&!!k&&!U,Je=u?"lazy":void 0;return qe?(0,e.h)(kD,{aspectRatio:xe,className:n,imageUrl:ve,loading:Je,size:k,width:Le}):(0,e.h)("div",{className:f()(n,Ea.container,{"post-preview-cover-image-container--empty":!ve}),style:`aspect-ratio: ${xe}`},ve?(0,e.h)(jn.e,{className:f()(Ea.image,{[Ea["image-square-legacy"]]:ze}),src:ve,alt:"",maxWidth:Le,imageProps:xe?{height:Math.round(Le/xe),smartCrop:!0,gravity:"center"}:{},loading:Je,style:`aspect-ratio: ${xe}`}):null)},kD=({aspectRatio:n,className:t,imageUrl:r,width:i,loading:u,size:D})=>(0,e.h)("div",{className:f()(t,Ea.container,Ea.containerSquare),style:`aspect-ratio: ${n}`},(0,e.h)("div",{className:f()(Ea["inner-wrapper"],Ea[`inner-wrapper-${D}`])},(0,e.h)(jn.e,{className:f()(Ea.image,Ea["image-square"],Ea[`image-square-${D}`]),src:r,alt:"",maxWidth:i,imageProps:{height:i,smartCrop:!0,gravity:"center"},loading:u})));var UD=It(98913),FD=It.n(UD),Wg=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const jD={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},WD=({ban:n,onReply:t,showReplyLink:r,name:i})=>{const u=dr()(n.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},i," is banned until ",u,"."," ",r&&(0,e.h)("span",null,(0,e.h)("a",{onClick:t,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function Tf({pub:n,sub:t,children:r,tab:i}){return!t||!t.email?r:(0,e.h)("a",{target:"_blank",href:(0,v.getSubscriberDetailsUrl)(n,t.email,{tab:i})},r)}const HD=({sub:n})=>n?n.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):n.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,VD=({bans:n,activeBans:t})=>n.length===0?(0,e.h)("span",null,"No previous bans"):t.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",dr()(n[0].start).standardDatetimeWithYear()," to"," ",dr()(n[0].expiry).standardDatetimeWithYear()),KD=({comment:n,pub:t,onReply:r,onBan:i,onClose:u})=>{const[D,k]=(0,o.eJ)(null),[H,U]=(0,o.eJ)(!1),[ee,ve]=(0,o.eJ)([]),[xe,Le]=(0,o.eJ)(!1),[ze,qe]=(0,o.eJ)("24h"),[Je,st]=(0,o.eJ)(null),[Ct,bt]=(0,o.eJ)(!0),Dt=(0,o.sO)(null),Ut=!!n||H,Rt=fn=>{const Zn=fn;fn.forEach(Gn=>{Zn.findIndex($n=>$n.id===Gn.id)==-1&&Zn.push(Gn)}),ve(Zn)},Qt=()=>{r(n.id),Dt.current.close()};(0,o.d4)(()=>{Dt!=null&&Dt.current&&(Ut?Dt.current.state.open||Dt.current.open():Dt.current.state.open&&Dt.current.close())},[n,H]),(0,o.d4)(()=>Wg(void 0,null,function*(){if(n){Le(!1),U(!0),ve([]),st(null),k(null);try{const fn=yield ft().get(`/api/v1/user/${n.user_id}/bans`);ve(fn.body.bans),k(fn.body.sub)}catch(fn){console.error("Failed to get bans:",fn),st(!0)}U(!1)}}),[n]);const pn=()=>Wg(void 0,null,function*(){U(!0);try{const fn=yield ft().post(`/api/v1/comment_ban/${n.id}`,{pub:t}).send({user_id:n.user_id,expiry:ze,removeAllComments:Ct});Ct&&document.location.reload(),Rt(fn.body.bans),Le(!0),U(!1),i(n,ee)}catch(fn){console.error("Failed to submit ban",fn),st(!0)}U(!1)});if(!n)return null;const En=jD[ze],_n=ee.filter(fn=>dr()(fn.expiry).isAfter(dr()()));return(0,e.h)(or.p,{ref:Dt,noExitOnClick:!0,onClose:u},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(Tf,{pub:t,sub:D},(0,e.h)(nn.fi,{photo_url:n.photo_url,size:80,banned:_n.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(Tf,{pub:t,sub:D},(0,e.h)("span",{className:"name"},n.name)),(0,e.h)(HD,{sub:D}),(0,e.h)(VD,{bans:ee,activeBans:_n}))),Je&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),H?"Loading...":(0,e.h)("form",{className:"form"},_n.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:fn=>qe(fn.target.value),value:ze},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:Ct,onInput:fn=>bt(fn.target.checked)}),"Remove ",(0,Be.guessFirstName)(n.name),"'s"," ",(0,e.h)(Tf,{pub:t,sub:D,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)(be.Z,{className:"button primary",onClick:pn},"Ban for ",En))),_n.length>0&&ee.filter(fn=>fn.user_id).map(fn=>(0,e.h)(WD,{ban:fn,showReplyLink:xe,onReply:Qt,name:n.name})))))},WH=null;var Ri=It(82622),If=It(38441),$D=It(7617);const Hg=(0,Eo.Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),zD=(0,Eo.Z)("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),GD=(0,Eo.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]]);var ZD=It(66440),YD=It(81108),JD=Object.defineProperty,XD=Object.defineProperties,QD=Object.getOwnPropertyDescriptors,Vg=Object.getOwnPropertySymbols,qD=Object.prototype.hasOwnProperty,eM=Object.prototype.propertyIsEnumerable,Kg=(n,t,r)=>t in n?JD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tM=(n,t)=>{for(var r in t||(t={}))qD.call(t,r)&&Kg(n,r,t[r]);if(Vg)for(var r of Vg(t))eM.call(t,r)&&Kg(n,r,t[r]);return n},nM=(n,t)=>XD(n,QD(t));const rM=n=>(0,e.h)(N.l,nM(tM({},n),{name:"LinearIcon",svgParams:{height:50,width:50,fill:"#5E6AD2"}}),(0,e.h)("path",{d:"M41.3,44c0.5-0.4,0.9-0.8,1.3-1.3c9.8-9.8,9.8-25.6,0-35.4c-9.8-9.8-25.6-9.8-35.4,0C6.8,7.8,6.4,8.2,6,8.7   L41.3,44z"}),(0,e.h)("path",{d:"M38.3,46.2L3.8,11.7c-0.7,1.1-1.3,2.2-1.8,3.4L34.9,48C36.1,47.5,37.2,46.9,38.3,46.2z"}),(0,e.h)("path",{d:"M31.1,49.3L0.7,18.9c-0.4,1.5-0.6,3-0.7,4.5L26.6,50C28.1,49.9,29.6,49.7,31.1,49.3z"}),(0,e.h)("path",{d:"M21.1,49.8L0.2,28.9c0.8,5.1,3.1,9.9,7,13.9C11.2,46.6,16.1,49,21.1,49.8z"}));var Es=It(31533),js=It(36250);const $g="comment-collapse-state",zg=250,La=uM(),oM=()=>{if(typeof window!="undefined"&&window.location.hash){const n=/^#comment-(\d+)/.exec(window.location.hash);if(n)return Number(n[1])}return null},iM=()=>typeof window!="undefined"&&window.location.hash==="#input",Gg=(n,t)=>{if(!n||!t||!t.length)return null;for(const r of t){if(r.id===n)return r;if(r.children&&r.children.length){const i=Gg(n,r.children);if(i)return i}}return null};function Bl(n,t){return n.map(r=>r.id===t.id?t:(r.children=Bl(r.children,t),r)).filter(r=>r)}function aM(n,t,{recurse:r=!0}={}){var i,u,D,k;return!!(n.id!==t.id||((i=n==null?void 0:n.metadata)==null?void 0:i.is_author)!==((u=t==null?void 0:t.metadata)==null?void 0:u.is_author)||((D=n==null?void 0:n.metadata)==null?void 0:D.founding)!==((k=t==null?void 0:t.metadata)==null?void 0:k.founding)||(n==null?void 0:n.body)!==(t==null?void 0:t.body)||(n==null?void 0:n.status)!==(t==null?void 0:t.status)||n.reaction!==t.reaction||n.user_banned!==t.user_banned||n.reported_by_user!==t.reported_by_user||(n.reactor_names?n.reactor_names.length:0)!==(t.reactor_names?t.reactor_names.length:0)||Object.values(n.reactions).reduce((H,U)=>H+U,0)!==Object.values(t.reactions).reduce((H,U)=>H+U,0)||r&&sM(n.children,t.children,{recurse:r}))}function sM(n,t,{recurse:r=!0}={}){if((n?n.length:0)!==(t?t.length:0))return!0;if(n)for(const i of n){const u=t.find(D=>D.id===i.id);if(!u||r&&aM(i,u,{recurse:r}))return!0}return!1}function kl(n,t,r){return(0,v.pathWithQuery)((0,v.getPostUrl)(t,n,{comments:!(0,Be.shouldUseInlineComments)(t,n)}),r)}function lM(n){return(n||"").split(`
`).filter(t=>t.trim()).map(t=>(0,e.h)("p",null,(0,e.h)(mh(),{options:{validate:{url:r=>r&&!r.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},t)))}const ic=n=>{var t,r,i,u;return{id:n.user_id,photo_url:n.photo_url,name:n.name,bestseller_tier:n.user_bestseller_tier,primary_publication:n.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((t=n.metadata)==null?void 0:t.membership_state),is_subscribed:((r=n.metadata)==null?void 0:r.membership_state)==="subscribed",is_founding:(i=n.metadata)==null?void 0:i.founding,is_author:(u=n.metadata)==null?void 0:u.is_author}};function uM(){try{return(0,Si.mM)($g,[])}catch(n){return console.error("Failed to load comment collapse state:",n),[]}}function cM(n,t){let r=!1;if(t)La.includes(n)||(r=!0,La.push(n),La.length>zg&&La.splice(0,La.length-zg));else{const i=La.indexOf(n);i>=0&&(r=!0,La.splice(i,1))}if(r)try{(0,Si.ex)($g,La)}catch(i){console.error("Failed to store comment collapse state:",i)}}function dM(n){return La.includes(n)}const fM={link:"frontend-main-comments-CommentActions-module__link--yWV0t"};var ac=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const pM=({comment:n,pub:t,user:r,post:i,reaction_token:u,commentsEnabledForPost:D,hideContextMenu:k,noRestack:H,onChange:U,startReply:ee,startEdit:ve,startReport:xe,openBan:Le,updateCommentReacted:ze})=>{var qe;const{pinned_by_user_id:Je}=n,st=!!Je,Ct=(0,o.sO)(),[bt,Dt]=(0,o.eJ)(!1),[Ut,Rt]=(0,o.eJ)(!1),[Qt,pn]=(0,o.eJ)(!1),En=()=>ac(void 0,null,function*(){if(!Qt&&window.confirm(`Are you sure you want to ${st?"unpin":"pin"} this comment?`)&&!Qt){pn(!0);try{yield ft().patch(`/api/v1/comment/${n.id}/pin`).send({pinned:!st}),U({pinned:!st}),document.location.reload()}catch(lr){alert((0,b.getNetworkErrorMessage)(lr)),pn(!1)}}}),_n=()=>ac(void 0,null,function*(){var lr;if(!bt&&window.confirm("Are you sure you want to remove this comment?")&&!bt){Dt(!0);try{yield ft().patch(`/api/v1/comment/${n.id}/status`).send({status:Ri.COMMENT_STATUS.moderator_removed}),U({suppressed:!0,status:Ri.COMMENT_STATUS.moderator_removed,body:null}),(lr=Ct.current)==null||lr.close()}catch(Ar){alert((0,b.getNetworkErrorMessage)(Ar))}Dt(!1)}}),fn=()=>ac(void 0,null,function*(){var lr;if(!Ut&&window.confirm("Are you sure you want to delete this comment?")&&!Ut){Rt(!0);try{yield ft().delete(`/api/v1/comment/${n.id}`).send(),U({status:Ri.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(lr=Ct.current)==null||lr.close()}catch(Ar){alert((0,b.getNetworkErrorMessage)(Ar))}Rt(!1)}}),Zn=()=>ac(void 0,null,function*(){const lr=(0,js.getCommentUrl)(i,n,t),Ar=`https://linear.app/substackinc/team/TPT/new?description=${n.body}%0A%0AComment%20author:%20[${n.name}](https://admin.substack.com/users/${n.user_id})%0A%0ALink:%20${lr}&status=Triage`;window.open(Ar,"_blank")}),Gn=!!(r&&r.id===n.user_id),$n=(r==null?void 0:r.is_contributor)&&(0,Ri.Ng)(n)&&n.ancestor_path==="",yn=(0,Be.canEditComment)(r,n),Ln=(r==null?void 0:r.is_contributor)&&(0,Ri.Ng)(n)&&n.ancestor_path==="",br=!Gn&&n.metadata.eligibleForGift&&!n.metadata.is_author,Xn=(r==null?void 0:r.is_contributor)&&(0,Ri.Ng)(n),Cn=!Gn&&t.moderation_enabled&&!n.reported_by_user&&!n.hidden&&!n.suppressed,Mn=Gn,ar=Xn&&!Gn,mr=Xn&&r.is_global_admin,Hn=r==null?void 0:r.is_global_admin,In=Xn&&!n.user_banned&&!Gn,Xt=Xn&&n.email&&!Gn,On=yn||Ln||br||Xt,Jt=In||Cn||ar||Mn||mr,Qn=(0,wi.default)("like_comments_enabled"),Bn=!k&&(On||Jt),Dr=`${t.base_url}/subscribe?gift=true&recipient=${n.user_id}-${(0,$0.cleanSlug)(n.name,{hashIfEmpty:!0})}&comment_id=${n.id}}`;return(0,e.h)(Ne.hs,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:"comment-actions"},!n.deleted&&[Qn&&(0,e.h)(Es.dJ,{user:r,pub:t,post:i,comment:n,height:16,countInParenthesesStyle:!0,token:u,onChange:({comment:lr})=>U(lr),onReactedChange:lr=>{ze&&ze(n.id,lr)},noSelfUpdate:!!ze}),D&&(0,e.h)(bf.hh,{onClick:()=>ee(),className:fM.link},(0,e.h)(Ne.hs,{gap:6,alignItems:"center"},(0,e.h)($D.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(q.xv.Meta,{color:"pub-secondary-text"},"Reply",((qe=n.children)==null?void 0:qe.length)>0&&` (${n.children.length})`))),!H&&(0,e.h)(mM,{pub:t,post:i,comment:n,onChange:U}),Bn&&(0,e.h)(wo.v2,{trigger:(0,e.h)(kr.hU,{priority:"secondary-theme",rounded:!1,size:20},(0,e.h)(_h.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More"},$n&&(0,e.h)(hM,{pub:t,post:i,comment:n}),yn&&(0,e.h)(wo.sN,{icon:(0,e.h)(_l.Z,null),onClick:ve},"Edit"),Ln&&(0,e.h)(wo.sN,{icon:(0,e.h)(Hg,null),onClick:En},Qt?st?"Unpinning...":"Pinning...":st?"Unpin":"Pin"),br&&(0,e.h)(wo.sN,{icon:(0,e.h)(zD,null),href:Dr},"Gift a subscription"),Hn&&(0,e.h)(wo.sN,{icon:(0,e.h)(rM,{strokeWidth:0,height:24,width:24}),onClick:Zn},"Add comment to Linear"),Xt&&(0,e.h)(wo.sN,{icon:(0,e.h)(GD,null),onClick:()=>window.open((0,v.getSubscriberDetailsUrl)(t,n.email),"_blank")},"Subscriber details"),On&&Jt&&(0,e.h)(E0.i,null),Mn&&(0,e.h)(wo.sN,{icon:(0,e.h)(ZD.Z,null),onClick:fn,priority:"destructive"},Ut?"Deleting...":"Delete"),ar&&(0,e.h)(wo.sN,{icon:(0,e.h)(YD.Z,null),onClick:_n,priority:"destructive"},bt?"Removing...":"Remove"),Cn&&(0,e.h)(wo.sN,{icon:(0,e.h)(vh.Z,null),onClick:xe,priority:"destructive"},"Report"),In&&(0,e.h)(wo.sN,{icon:(0,e.h)(yh.Z,null),onClick:Le,priority:"destructive"},"Ban or suspend user"))])};function hM({pub:n,post:t,comment:r}){const i=(0,vu.i3)();return(0,e.h)(wo.sN,{icon:(0,e.h)(bl.Z,null),onClick:()=>{i.open({restackUrl:(0,js.getCommentUrl)(t,r,n)})}},"Restack")}function mM({pub:n,post:t,comment:r,onChange:i}){const{canRestack:u,isRestacked:D,restacks:k,menuItems:H,nuxModal:U}=(0,Tg.K)({pub:n,post:t,comment:r,onRestack:ee=>{i({restacked:ee,restacks:k+(ee?1:-1)})}});if(u)return(0,e.h)("span",null,U,(0,e.h)(wo.v2,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:(0,e.h)("a",{className:f()("restack-button",D&&"restacked"),href:"javascript:void(0)"},(0,e.h)(bl.Z,null),"Restack",k>0&&` (${k})`)},H))}const _M=pM,gM=({comment:n,bodyRef:t,expandToggleClicked:r})=>{const[i,u]=(0,o.eJ)(!1),D=(n.user_banned_for_comment||n.reported_by_user)&&!i;return(0,e.h)("div",{className:"comment-body",ref:t},(0,e.h)(vM,{comment:n,showHiddenComment:i,setShowHiddenComment:u}),n.hidden?(0,e.h)("i",null,"Comment hidden"):n.deleted?(0,e.h)("i",null,"Comment deleted"):D?(0,e.h)("i",null):n.suppressed&&!i?(0,e.h)("i",null,"Comment removed"):n.type==="reply"?(0,e.h)(yM,{comment:n}):lM(n.body),(0,e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>r()},(0,e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},vM=({comment:n,showHiddenComment:t,setShowHiddenComment:r})=>{const i=(0,Ri.Ng)(n)&&(n.user_banned_for_comment||n.reported_by_user),u=n.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return i&&(0,e.h)("div",{className:"comment_notice"},(0,e.h)("i",null,u,(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>r(!t)},t?"Hide":"Show")))},yM=({comment:n})=>{const{title:t,truncated_body_text:r,date:i,bylines:u,like_count:D,comment_count:k,url:H}=n.reply;return(0,e.h)("a",{className:"reply-comment",href:(0,v.pathWithQuery)(H,{utm_source:"substack",utm_campaign:"post_reply_comment",utm_medium:"web"}),native:!0},(0,e.h)("div",{className:"reply-comment-title"},t),r&&(0,e.h)("div",{className:"reply-comment-body"},(0,Be.formatEllipsis)(r)),(0,e.h)("button",{className:"reply-comment-read-more"},"Read more"),(0,e.h)("div",{className:"reply-comment-meta"},(0,Be.getPostEmbedMeta)({date:i,bylines:u,like_count:D,comment_count:k})))},bM=gM;var xf=It(34085),Zg=It(61152),PM=Object.defineProperty,EM=Object.defineProperties,wM=Object.getOwnPropertyDescriptors,Yg=Object.getOwnPropertySymbols,CM=Object.prototype.hasOwnProperty,OM=Object.prototype.propertyIsEnumerable,Jg=(n,t,r)=>t in n?PM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,SM=(n,t)=>{for(var r in t||(t={}))CM.call(t,r)&&Jg(n,r,t[r]);if(Yg)for(var r of Yg(t))OM.call(t,r)&&Jg(n,r,t[r]);return n},TM=(n,t)=>EM(n,wM(t));const IM=n=>(0,e.h)(N.l,TM(SM({},n),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));var xM=Object.defineProperty,DM=Object.defineProperties,MM=Object.getOwnPropertyDescriptors,Xg=Object.getOwnPropertySymbols,AM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,Qg=(n,t,r)=>t in n?xM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,RM=(n,t)=>{for(var r in t||(t={}))AM.call(t,r)&&Qg(n,r,t[r]);if(Xg)for(var r of Xg(t))NM.call(t,r)&&Qg(n,r,t[r]);return n},LM=(n,t)=>DM(n,MM(t));const BM=n=>(0,e.h)(N.l,LM(RM({},n),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));var kM=Object.defineProperty,UM=Object.defineProperties,FM=Object.getOwnPropertyDescriptors,qg=Object.getOwnPropertySymbols,jM=Object.prototype.hasOwnProperty,WM=Object.prototype.propertyIsEnumerable,ev=(n,t,r)=>t in n?kM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,HM=(n,t)=>{for(var r in t||(t={}))jM.call(t,r)&&ev(n,r,t[r]);if(qg)for(var r of qg(t))WM.call(t,r)&&ev(n,r,t[r]);return n},VM=(n,t)=>UM(n,FM(t));const KM=n=>(0,e.h)(N.l,VM(HM({},n),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));var $M=It(18446),Ul=It.n($M),zM=Object.defineProperty,tv=Object.getOwnPropertySymbols,GM=Object.prototype.hasOwnProperty,ZM=Object.prototype.propertyIsEnumerable,Df=(n,t,r)=>t in n?zM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,YM=(n,t)=>{for(var r in t||(t={}))GM.call(t,r)&&Df(n,r,t[r]);if(tv)for(var r of tv(t))ZM.call(t,r)&&Df(n,r,t[r]);return n},sc=(n,t,r)=>(Df(n,typeof t!="symbol"?t+"":t,r),r);class nv extends e.Component{constructor(t,r){super(t,r),sc(this,"open",()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()}),sc(this,"close",()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()}),sc(this,"onDocumentMouseUp",i=>{var u;!(0,b.isRootOrChild)(i.target,this.portalRef.current,((u=this.props.baseRef)==null?void 0:u.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))}),sc(this,"onDocumentKeyDown",i=>{i.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))}),this.onResize=Pu()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const t=!this.state.open;t?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:t})}updateCoords(){var t,r,i,u,D,k,H;const U=(u=(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null?void 0:r.getBoundingClientRect)==null?void 0:u.call(((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef);if(U){let ee=0,ve=((D=this.props.baseRef)==null?void 0:D.current)||this.props.baseRef;for(;ve=ve==null?void 0:ve.parentElement;)ee+=ve.scrollTop;this.setState({coords:{left:U.x+(this.props.rightAlign?U.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((k=this.props.offset)==null?void 0:k.x)||0),top:U.y+ee+(((H=this.props.offset)==null?void 0:H.y)||0),width:U.width,height:U.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var t,r,i,u;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.addEventListener("mouseenter",this.open),(u=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||u.addEventListener("mouseleave",this.close)}removeMouseListeners(){var t,r,i,u;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.removeEventListener("mouseenter",this.open),(u=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||u.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(t){var r,i;const u=t==null?void 0:t.getBoundingClientRect(),D=(i=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null?void 0:i.getBoundingClientRect();if(!u||!D)return;const k=({x:xe,y:Le})=>ee<=xe&&xe<=ve&&H<=Le&&Le<=U,{top:H,bottom:U,left:ee,right:ve}=u;k({x:D.left,y:D.top})||k({x:D.right,y:D.top})||k({x:D.left,y:D.bottom})||k({x:D.right,y:D.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(t=>t())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(t=>{const r=(t==null?void 0:t.current)||t,i=Pu()(()=>this.onScroll(r),10);return r==null||r.addEventListener("scroll",i),()=>r==null?void 0:r.removeEventListener("scroll",i)})}componentShouldUpdate(t,r){return!Ul()(this.props,t)||!Ul()(this.state,r)}componentDidUpdate(t){var r,i,u,D;!Ul()(t.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),Ul()(t.baseRef,this.props.baseRef)||((i=((r=t.baseRef)==null?void 0:r.current)||t.baseRef)==null||i.removeEventListener("mouseenter",this.open),(D=((u=t.baseRef)==null?void 0:u.current)||t.baseRef)==null||D.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:t,rootElement:r,className:i},{coords:u}){return typeof window=="undefined"?null:(0,jt.createPortal)((0,e.h)("div",{style:YM({},u),className:f()("tooltip-portal",i),ref:this.portalRef},t),r||document.body)}}nv.defaultProps={scrollContainers:[]};const rv=nv;function JM({subject:n,hoverDisabled:t=!1,onClick:r}){return(0,e.h)(Ne.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(sa.Ct,{subject:n,disabled:t,utmSource:"comment"},(0,e.h)("a",{onClick:r,href:r?"javascript:void(0)":(0,ae.getReaderProfileUrl)(n)},(0,e.h)(q.xv.B4,{color:"pub-primary-text",weight:"semibold"},n.name))),(0,e.h)(kt.s,{size:"sm",tier:n.bestseller_tier,userId:n.id}))}var XM=It(44695);const ov=({post:n,pub:t,comment:r,isCollapsed:i,onProfileClick:u,userBanned:D,toggleCollapse:k,noHoverProfile:H,userPendingApproval:U})=>{var ee,ve;const xe=Je=>Je.children.length+Je.children.reduce((st,Ct)=>st+xe(Ct),0),Le=xe(r),ze=!!r.edited_at,qe=!r.hidden&&((ee=r.metadata.author_on_other_pub)==null?void 0:ee.id)!=null;return[(0,e.h)("div",{className:"comment-meta"},(0,e.h)("span",{className:"commenter-name"},r.name?(0,e.h)(JM,{subject:ic(r),hoverDisabled:H||!(0,Ri.Ng)(r)||r.hidden||i,onClick:u?()=>u(r):null}):r.hidden?(0,e.h)("i",null,"hidden"):r.deleted?(0,e.h)("i",null,"deleted"):(0,Ri.Ng)(r)?"Anonymous":"Removed",D&&(0,e.h)("span",{className:"ban-status"}," (Banned)"),U&&(0,e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${r.user_id}`,target:"_blank",rel:"noopener"}," ","(Awaiting New Commenter Approval)")),r.metadata.author_on_other_pub&&!r.metadata.is_author&&(qe?(0,e.h)(XM.Sm,{publication_id:(ve=r.metadata.author_on_other_pub)==null?void 0:ve.id},(0,e.h)(iv,{comment:r})):(0,e.h)(iv,{comment:r})),(0,e.h)("a",{className:"comment-timestamp",href:(0,js.getCommentUrl)(n,r,t),onClick:Je=>(void 0).onDateClick(Je),rel:"nofollow",native:!0},dr()(r.date).standardDateOrTime()),ze&&[(0,e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),(0,e.h)("span",{className:"edited-indicator"},(0,e.h)("em",null,"edited ",dr()(r.edited_at).standardDateOrTime()))],(0,e.h)(QM,{comment:r})),i&&(0,e.h)("div",{className:"tags-row"},(0,e.h)(be.Z,{className:"outline comment-collapse-toggle",onClick:k},"Expand comment ",Le>0?`and ${(0,Be.pluralize)(Le,"reply")}`:""))]};function iv({comment:n}){return(0,e.h)("a",{className:"commenter-publication",href:(0,v.updateQuery)(n.metadata.author_on_other_pub.base_url,{utm_source:"substack",utm_medium:"web",utm_content:"comment_metadata"}),rel:"nofollow",target:"_blank"},"Writes ",(0,e.h)("span",null," ",(0,Be.truncateText)(n.metadata.author_on_other_pub.name,32)," "))}const QM=({comment:n})=>{const[t,r]=(0,o.eJ)(!1),i=(0,o.sO)(null),u=(0,o.sO)(null),D=n.pinned_by_user_id?"pinned":n.metadata.is_author?"author":n.reactor_names.length>0?"liked":null;if(!D)return null;const k={pinned:(0,e.h)(BM,null),author:(0,e.h)(KM,null),liked:(0,e.h)(IM,null)},H={pinned:"Pinned",author:"Author",liked:`Liked by ${n.reactor_names.join(", ")}`},U=D==="pinned"&&n.pinned_by_name;return(0,e.h)("span",{ref:i,className:f()("highlight",{hover:t}),onMouseEnter:()=>U&&r(!0),onMouseLeave:()=>U&&r(!1)},k[D],(0,e.h)("span",{className:"highlight-text"},H[D]),U&&(0,e.h)(rv,{baseRef:i,hoverToggle:!0,onOpen:()=>{var ee;return(ee=u.current)==null?void 0:ee.open()},onClose:()=>{var ee;return(ee=u.current)==null?void 0:ee.close()}},(0,e.h)(Ni.Fx,{ref:u,noList:!0,className:"explanation above small thin"},"Pinned by ",(0,e.h)("span",{className:"bold"},n.pinned_by_name))))};var qM=Object.defineProperty,eA=Object.defineProperties,tA=Object.getOwnPropertyDescriptors,av=Object.getOwnPropertySymbols,nA=Object.prototype.hasOwnProperty,rA=Object.prototype.propertyIsEnumerable,sv=(n,t,r)=>t in n?qM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,lv=(n,t)=>{for(var r in t||(t={}))nA.call(t,r)&&sv(n,r,t[r]);if(av)for(var r of av(t))rA.call(t,r)&&sv(n,r,t[r]);return n},oA=(n,t)=>eA(n,tA(t)),Fl=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class iA extends e.Component{constructor(t){var r;super(t),this.state={value:(r=t.commentBeingEdited)==null?void 0:r.body,alsoShareToNotes:!1}}componentDidMount(){var t;this.props.autoFocus&&((t=this.bodyInput)==null||t.focus())}needsProfile(){const{user:t}=this.props;return!t||!t.name}onKeyDown(t){var r;if((r=this.props.user)!=null&&r.is_magic){t&&t.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,Be.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}t.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():t.key==="Enter"&&t.metaKey&&this.form.handleSubmit(t)}onInput(t){if(!(0,Be.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return Fl(this,arguments,function*({profileUpdated:t}={}){const{user:r,pub:i,post:u,parent:D,token:k}=this.props,{alsoShareToNotes:H}=this.state;if(!(0,Be.canPostComments)(r,u,i).canReply)throw yield this.showPaywall(),yield new Promise(ee=>setTimeout(ee,600)),new Nr.ew("Please sign in");if(this.needsProfile()&&!t)throw yield this.showProfileUpdate(),yield new Promise(ee=>setTimeout(ee,600)),new Nr.ew("Please update your profile");const U={body:this.bodyInput.value,token:k};try{let ee;if(H){const xe=yield ft().post("/api/v1/comment/attachment").send({type:"link",url:(0,v.getPostUrl)(i,u)});if(!(xe!=null&&xe.body))console.log("Error creating attachment");else{const Le=lv({},U);Le.attachmentIds=[xe.body.id],ee=yield ft().post("/api/v1/comment/feed").send(Le)}}D&&(U.parent_id=D.id);const ve=yield ft().post(`/api/v1/post/${u.id}/comment`).send(U);if(!(r!=null&&r.profile_set_up_at)){const{body:{count:xe}}=yield ft().get("/api/v1/user/profile_role_count");if(xe>=2)return window.location=(0,v.pathWithQuery)(`${(0,v.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,js.getCommentUrl)(u,ve.body,i)}),!1}return{notesComment:ee,res:ve}}catch(ee){throw ee.response&&ee.response.statusCode===403&&(r&&r.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),ee}})}onSuccess(t){const{res:r,notesComment:i}=t;if(r!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&i){const u=(0,ae.getFeedCommentUrl)(i.body);this.props.popToast(D=>(0,e.h)(qt.FN,oA(lv({},D),{icon:xl.Z,text:"Shared to Notes",cta:"View Now",href:u})))}this.setState({value:""}),this.props.onSuccess(r.body)}else{const u=kl(this.props.post,this.props.pub);window.location.pathname===u?window.location.reload():window.location.href=kl(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,ae.getFeedCommentUrl)(r.body)}:{})}}showFinishMagicLoginModal(){return Fl(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,M.j)(M.FP.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return Fl(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,M.j)(M.FP.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return Fl(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,M.j)(M.FP.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return Fl(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield ft().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(t){alert((0,b.getNetworkErrorMessage)(t))}}})}focus(){this.bodyInput.focus()}render({user:t,freeSignup:r,freeSignupEmail:i,pub:u,post:D,token:k,onCancel:H,autoFocus:U,commentBeingEdited:ee,saveEdit:ve,formClassName:xe,bannedFromNotes:Le},{value:ze,alsoShareToNotes:qe}){return(0,e.h)(Ne.hs,{flex:"grow",className:f()("comment-input-wrap",{comment:ee})},(0,e.h)(Nr.ZP,{ref:Je=>this.form=Je,className:f()("comment-input",xe),performSubmit:Je=>ee?ve(ze):this.postComment(Je),onSuccess:Je=>this.onSuccess(Je),noInlineErrors:!0,autoLock:!0},(0,e.h)(fl.qE,{user:t,size:32}),(0,e.h)(Ne.tu,{flex:"grow",className:"comment-input-right"},ee&&(0,e.h)(ov,{post:D,pub:u,comment:ee,isCollapsed:!1,userBanned:!1}),(0,e.h)(Zg.Z,{ref:Je=>this.bodyInput=Je&&Je.base,name:"body",placeholder:"Write a comment\u2026",autoHeight:!0,maxLines:8,value:ze||"",onInput:Je=>this.onInput(Je),onKeyDown:Je=>this.onKeyDown(Je)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(Ne.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!ze&&!H&&(0,e.h)(Ne.hs,{gap:8,alignItems:"center",justifyContent:"center"},!Le&&(0,e.h)(qt.XZ,{name:"also_feed",size:"medium",as:"div",checked:qe,onChange:()=>{this.setState({alsoShareToNotes:!qe})},withTheme:!0}),!Le&&(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},"Also share to"," ",(0,e.h)(bf.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,ae.getFeedUrl)({urlParams:{utm_content:"comment-share-checkbox"}})},"Notes"))),(H||!!ze)&&(0,e.h)(be.Z,{className:"primary",type:"submit"},ee?"Save":"Post"),H&&(0,e.h)(be.Z,{className:"cancel",onClick:H},"Cancel")))),(0,e.h)(cu.h,null,(0,e.h)(xf.EB,{ref:Je=>this.profileUpdater=Je,user:t,freeSignup:r,freeSignupEmail:i,optionalPhoto:!0,token:k,text:"Save & Post Comment",onBeforeClose:Je=>Je&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(ND,{ref:Je=>this.modalPaywall=Je,user:t,freeSignup:r,freeSignupEmail:i,publication:u,post:D,title:"Only paid subscribers can comment on this post",reauthenticationTitle:"To post a comment, please re-authenticate."}),(0,e.h)(or.p,{ref:Je=>this.finishMagicLoginModal=Je,className:"finish-magic-login-modal"},(0,e.h)("h4",null,"Check your email"),(0,e.h)("p",null,"For your security, we need to re-authenticate you."),(0,e.h)("p",null,"Click the link we sent to ",t==null?void 0:t.email,", or"," ",(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:u.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const jl=(0,qt.dd)(iA);var aA=It(702),sA=Object.defineProperty,lA=Object.defineProperties,uA=Object.getOwnPropertyDescriptors,uv=Object.getOwnPropertySymbols,cA=Object.prototype.hasOwnProperty,dA=Object.prototype.propertyIsEnumerable,Mf=(n,t,r)=>t in n?sA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ws=(n,t)=>{for(var r in t||(t={}))cA.call(t,r)&&Mf(n,r,t[r]);if(uv)for(var r of uv(t))dA.call(t,r)&&Mf(n,r,t[r]);return n},cv=(n,t)=>lA(n,uA(t)),$i=(n,t,r)=>(Mf(n,typeof t!="symbol"?t+"":t,r),r),dv=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const fv=200,fA=50,pA=140,hA=728,mA=80;function _A(){const t=Math.min(hA,document.body.clientWidth)-pA;return Math.ceil(t/fA)}const pv=_A();class gA extends e.Component{constructor(t,r){super(t,r),$i(this,"bodyRef",(0,e.createRef)(null)),$i(this,"headContainerRef",(0,e.createRef)(null)),$i(this,"openBan",()=>{this.props.banComment()}),$i(this,"setSelectedHighlight",()=>{const u=oM()===this.props.comment.id;this.setState({isSelected:u})}),$i(this,"startEdit",()=>{this.setState({editing:!0})}),$i(this,"saveEdit",i=>dv(this,null,function*(){if(this.state.editing)return yield ft().patch(`/api/v1/comment/${this.props.comment.id}`).send({body:i})})),$i(this,"onSaveEditSuccess",({edited:i})=>{this.setState({editing:!1}),this.props.onChange(Ws(Ws({},this.props.comment),i))}),$i(this,"startReport",()=>{this.setState({reporting:!0})}),$i(this,"cancelReport",()=>{this.setState({reporting:!1})}),$i(this,"onReportSuccess",()=>{this.props.onChange(cv(Ws({},this.props.comment),{reported_by_user:!0}))}),$i(this,"expandToggleClicked",()=>{const i=this.bodyRef.current;i&&(i.classList.remove("long"),i.classList.add("expanded"),(0,M.j)(M.FP.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:i.getAttribute("data-hidden-height")}))}),$i(this,"onChange",i=>{this.props.onChange?this.props.onChange(Ws(Ws({},this.props.comment),i)):document.location.href=kl(this.props.post,this.props.pub)}),$i(this,"setComment",i=>{this.setState({comment:i})}),$i(this,"setCollapsed",i=>{var u,D;if(this.setState({isCollapsed:i}),i&&((D=(u=this.headContainerRef)==null?void 0:u.current)!=null&&D.scrollIntoView)){const k=this.headContainerRef.current.getBoundingClientRect();k.top<0&&(document.documentElement.scrollTop+=k.top-mA)}this.props.retainUserCollapseState&&cM(this.props.comment.id,i)}),this.state={editing:!1,replying:!1,reporting:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&dM(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(t){var r,i;((r=t.comment)==null?void 0:r.id)!==((i=this.props.comment)==null?void 0:i.id)&&this.setSelectedHighlight(),t.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const t=/^#comment-(\d+)-reply$/.exec(window.location.hash);!t||Number(t[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return dv(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(t=>this.setState({replying:!0},t)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(t){const[r,i]=t.target.href.split("?")[0].split("#");r===window.location.href.split("?")[0].split("#")[0]&&i&&(t.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${i}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const t=this.bodyRef.current;if(!t)return;const r=t.scrollHeight-t.clientHeight;r>0&&r<fv?t.classList.add("expanded"):r>=fv&&(t.classList.add("long"),t.setAttribute("data-hidden-height",r))}render({user:t,comment:r,freeSignup:i,freeSignupEmail:u,pub:D,post:k,reaction_token:H,depth:U,collapseAtDepth:ee,onChange:ve,scrollRef:xe,retainUserCollapseState:Le,onStartReply:ze,noHoverProfile:qe,onProfileClick:Je,hideContextMenu:st,noRestack:Ct,updateCommentReacted:bt},{isSelected:Dt,replying:Ut,editing:Rt,reporting:Qt,hideAnchors:pn,isCollapsed:En}){var _n,fn;const Zn=D.community_enabled&&k&&k.write_comment_permissions!=="none",{user_banned:Gn}=r;let $n=!1;return(_n=r.metadata)!=null&&_n.is_author?$n="author":(fn=r.metadata)!=null&&fn.founding&&($n="founding"),Rt?(0,e.h)(jl,{autoFocus:!0,user:t,freeSignup:i,freeSignupEmail:u,pub:D,post:k,commentBeingEdited:r,saveEdit:this.saveEdit,token:H,onCancel:()=>this.setState({editing:!1}),onSuccess:ve?this.onSaveEditSuccess:null}):(0,e.h)("div",{className:f()("comment",{selected:Dt,"post-reply":r.type==="reply",collapsed:En}),key:`comment-${r.id}`},!pn&&[(0,e.h)("div",{id:`comment-${r.id}`,className:"comment-anchor"}),(0,e.h)("div",{id:`comment-${r.id}-reply`,className:"comment-anchor"})],(0,e.h)("table",{className:"comment-content"},(0,e.h)("tr",null,(0,e.h)("td",{className:"comment-head",ref:this.headContainerRef},(0,e.h)(sa.Ct,{subject:ic(r),disabled:qe||!(0,Ri.Ng)(r)||r.hidden||En,utmSource:"comment"},(0,e.h)(If.ZP,{subject:ic(r),pub:D,user:t,freeSignup:i,freeSignupEmail:u,token:H,isBanned:Gn,tooltip:{founding:(0,Be.foundingMemberDescription)(D),author_ons_other_pub:"Author of another publication"}[$n],badge:$n,isAuthor:r.metadata.is_author,onClick:Je?()=>Je(r):null,lazy:!0}))),(0,e.h)("td",{className:"comment-rest"},(0,e.h)(ov,{post:k,pub:D,comment:r,commentUser:ic,isCollapsed:En,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:Je,userBanned:Gn,noHoverProfile:qe,userPendingApproval:r.status===Ri.COMMENT_STATUS.new_commenter_approval_required&&t.is_admin}),(0,e.h)(bM,{comment:r,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!Ut&&(0,e.h)(_M,{comment:r,pub:D,user:t,post:k,reaction_token:H,commentsEnabledForPost:Zn,hideContextMenu:st,noRestack:Ct,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.startReport(),openBan:this.openBan,updateCommentReacted:bt})))),Ut&&Zn&&(0,e.h)(jl,{ref:yn=>this.commentInput=yn,user:t,freeSignup:i,freeSignupEmail:u,pub:D,post:k,parent:r,token:H,onCancel:()=>this.setState({replying:!1}),onSuccess:ve?yn=>{this.setState({replying:!1});const Ln=cv(Ws({},r),{children:[yn].concat(r.children)});ve(Ln)}:null}),r.childrenSummary&&(0,e.h)("div",{className:"more-replies-container"},(0,e.h)("a",{className:"more-replies",href:(0,js.getCommentUrl)(k,r,D)},r.childrenSummary)),!r.childrenSummary&&U>=pv&&!!r.children.length&&(0,e.h)(be.Z,{className:"outline continue-thread-button",href:(0,js.getCommentUrl)(k,r,D)},"Continue Thread \u2192"),!r.childrenSummary&&U<pv&&(0,e.h)(lc,{key:`comment:${r.id}`,user:t,freeSignup:i,freeSignupEmail:u,pub:D,post:k,comments:r.children,parent:r,reaction_token:H,depth:(U||0)+1,collapseAtDepth:ee,onChange:ve,isChild:!0,scrollRef:xe,retainUserCollapseState:Le,onStartReply:ze,noHoverProfile:qe,onProfileClick:Je,hideContextMenu:st,updateCommentReacted:bt,noRestack:!0}),!En&&(0,e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},(0,e.h)("div",{className:"comment-list-collapser-line"})),Qt&&(0,e.h)(aA.Z,{pub:D,comment:r,onClose:this.cancelReport,onReportSuccess:this.onReportSuccess}))}}var vA=Object.defineProperty,yA=Object.defineProperties,bA=Object.getOwnPropertyDescriptors,hv=Object.getOwnPropertySymbols,PA=Object.prototype.hasOwnProperty,EA=Object.prototype.propertyIsEnumerable,mv=(n,t,r)=>t in n?vA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wA=(n,t)=>{for(var r in t||(t={}))PA.call(t,r)&&mv(n,r,t[r]);if(hv)for(var r of hv(t))EA.call(t,r)&&mv(n,r,t[r]);return n},CA=(n,t)=>yA(n,bA(t));const OA=It(43174),SA=5,TA=1,_v=16,IA=50,xA=200;function gv(n){return n.reduce((t,r)=>t+1+gv(r.children||[]),0)}function lc({user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:u,comments:D,reaction_token:k,depth:H,collapseAtDepth:U,onChange:ee,pageSize:ve,retainUserCollapseState:xe,updateCommentReacted:Le,parent:ze,scrollRef:qe,className:Je,onStartReply:st,noHoverProfile:Ct,onProfileClick:bt,hideContextMenu:Dt,noRestack:Ut}){const Rt=ve||_v,[Qt,pn]=(0,o.eJ)(Rt),[En,_n]=(0,o.eJ)(-1),[fn,Zn]=(0,o.eJ)(null),[Gn,$n]=(0,o.eJ)(null),[yn,Ln]=(0,o.eJ)(new Set(D.map(({id:Mn})=>Mn)));if((0,o.d4)(()=>{En>=0&&window.scrollTo(window.scrollX,En)},[En]),(D||[]).length===0)return;const[br,Xn]=OA(D,({id:Mn,user_id:ar})=>yn.has(Mn)||ar===(n==null?void 0:n.id)),Cn=br.slice(0,Qt);return(0,e.h)("div",{className:f()("comment-list",Je,{"has-new-comments":Xn.length>0})},(0,e.h)(KD,{pub:i,comment:fn,onClose:()=>Zn(null),onReply:Mn=>{$n(Mn),Zn(null)},onBan:(Mn,ar)=>{ee?ee(CA(wA({},Mn),{user_banned:!0,bans:ar.concat(Mn.bans)})):document.location.href=kl(u,i)}}),Xn.length>0&&(0,e.h)(be.Z,{className:"collapsed-reply outline",onClick:()=>Ln(new Set(D.map(({id:Mn})=>Mn)))},(0,Be.pluralize)(gv(Xn),"new reply")),(0,e.h)("div",{className:"comment-list-items"},Cn.map(Mn=>(0,e.h)(gA,{banComment:()=>Zn(Mn),key:`cmt-${Mn.id}`,user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:u,comment:Mn,parent:ze,reaction_token:k,collapseAtDepth:U,depth:H||0,onChange:ee,replying:Gn===Mn.id,scrollRef:qe,retainUserCollapseState:xe,onStartReply:st,noHoverProfile:Ct,onProfileClick:bt,hideContextMenu:Dt,noRestack:Ut,updateCommentReacted:Le}))),br.length>Cn.length&&(0,e.h)(be.Z,{className:"collapsed-reply outline",onClick:()=>{_n(window.scrollY),pn(Qt+Rt)}},"Load More"))}var vv=It(70444),DA=It(35442),uc=It(85200);function MA({publication:n,siteConfigs:t={},twitterCardUrl:r=null}){var i;const{title:u,description:D}=cc(n);let k,H;return r?(k=r,H=!0):[k,H]=Nf(n,null),(0,b.setMetaData)({title:u,description:D,image:k,isLargeImage:H,pub:n,siteConfigs:t,themeColor:(i=n.theme)==null?void 0:i.web_bg_color})}function cc(n,t,r){var i,u;let D;const k=!!(0,wi.default)("publication_author_display_override")&&String((0,wi.default)("publication_author_display_override"))||((i=(0,uc.Im)(n.contributors))==null?void 0:i.owner),H=k&&!((u=n.name)!=null&&u.toLowerCase().includes(k==null?void 0:k.toLowerCase())),U=t!=null?t:n.name;return H?D=`${U} | ${k} | Substack`:D=`${U} | Substack`,{title:D,description:mi()(yv(n,r))}}function yv(n,t){var r,i,u;const D=(r=n.name)==null?void 0:r.trim();let k=D;(0,Be.endsWithPunctuation)(D)&&(k=`"${D}"`);const H=(0,uc.Im)(n.contributors);let U,ee;return n.invite_only?(U=null,ee=null):(U=(i=n.rankingDetailFreeIncluded)!=null&&i.toLowerCase().includes("readers")?n.rankingDetailFreeIncluded.toLowerCase():null,ee=n.rankingDetailFreeIncluded||n.rankingDetail),(0,uc.ab)(t!=null?t:(u=n.hero_text)==null?void 0:u.trim(),H,U,k,ee)}function Af({publication:n,post:t,siteConfigs:r={},twitterCardUrl:i=null,isCommentPage:u=!1,selection:D=null}){const k=(t==null?void 0:t.social_title)||(t==null?void 0:t.title)||n.name,{title:H,description:U}=bv(t,n,{isCommentPage:u});let ee,ve;i?(ee=i,ve=!0):D?(ee=(0,v.getPostSelectionPreviewUrl)(n,t,D),ve=!0):[ee,ve]=Nf(n,t);const xe=u&&t&&t.type!=="thread"&&t.comment_count===0||(t==null?void 0:t.type)==="restack";return(0,b.setMetaData)({title:H,socialTitle:k,searchDescription:t==null?void 0:t.search_engine_description,description:U,image:ee,isLargeImage:ve,imageHeight:D&&564,imageWidth:D&&1128,seoProps:{noindex:xe,noarchive:!!(t&&t.post_paywall_content_for_google)},isPodcast:(t==null?void 0:t.type)==="podcast",isVideo:(t==null?void 0:t.type)==="video",slug:t==null?void 0:t.slug,pub:n,post:t,siteConfigs:r})}function bv(n,t,{isCommentPage:r=!1}={}){var i,u;const D=(n==null?void 0:n.social_title)||(n==null?void 0:n.title)||t.name;let k,H;n?H=(0,Be.getPrintedByline)(t,n):H=(0,wi.default)("publication_author_display_override")||((i=(0,uc.Im)(t.contributors))==null?void 0:i.owner);const U=H&&!((u=t.name)!=null&&u.toLowerCase().includes(H==null?void 0:H.toLowerCase()));n!=null&&n.title?(k=(n==null?void 0:n.search_engine_title)||D,r&&n.type!=="thread"&&(k=`Comments - ${k}`),`${k} - by ${H}`.length<60&&(H&&U&&(k+=` - by ${H}`),`${k} - ${t.name}`.length<60&&(k+=` - ${t.name}`))):U?k=`${t.name} | ${H} | Substack`:k=`${t.name} | Substack`;let ee;return n?ee=(0,Be.postSocialDescription)(n,t):ee=yv(t),ee=mi()(ee),{title:k,description:ee}}function Nf(n,t){let r,i;return t!=null&&t.cover_image?(r=(0,v.imginary)(t.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),i=!0):n.subdomain==="numlock"?(r=(0,v.imginary)("/img/numlock_square.png?v=2",840),i=!1):(r=(0,v.getTwitterSubscribeCardUrl)(n),i=!0),[r,i]}var AA=Object.defineProperty,Pv=Object.getOwnPropertySymbols,NA=Object.prototype.hasOwnProperty,RA=Object.prototype.propertyIsEnumerable,Ev=(n,t,r)=>t in n?AA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,LA=(n,t)=>{for(var r in t||(t={}))NA.call(t,r)&&Ev(n,r,t[r]);if(Pv)for(var r of Pv(t))RA.call(t,r)&&Ev(n,r,t[r]);return n};function BA({comment:n,post:t,publication:r}){var i,u,D;const k=`${n.name} on Substack`,H=t&&r?bv(t,r,{isCommentPage:!0}).title:`${k}: "${(0,Be.truncateText)(n.body,280)}"`,U=(i=n.attachments)==null?void 0:i.find(Je=>Je.type==="image"),ee=U==null?void 0:U.imageUrl,ve=!1,xe=ve?680:void 0,Le=ve?680:void 0,ze=ee!=null?ee:ve?(0,ae.imginary)((0,vv.IY)(n.id),Le,{height:xe}):(0,v.getUserPhotoUrl)(n),qe=!ve||ee?n.body:"Subscribe to see all their notes.";return(0,e.h)(DA.Metadata,LA({},{title:H,socialTitle:k,description:qe,image:ze,imageHeight:xe,imageWidth:Le,isLargeImage:!0,siteName:r?r.name:"Substack Notes",publishedTime:n.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((u=n.reaction_count)!=null?u:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((D=n.children_count)!=null?D:0)}]}))}var wv=It(49786),Wl=It(69427),kA=Object.defineProperty,UA=(n,t,r)=>t in n?kA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FA=(n,t,r)=>(UA(n,typeof t!="symbol"?t+"":t,r),r),jA=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class Rf extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),(0,M.j)(M.FP.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),(0,M.j)(M.FP.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return jA(this,null,function*(){try{yield ft().post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(t){console.error("Failed to subscribe to email notifications:",t),alert((0,b.getNetworkErrorMessage)(t))}})}render({className:t,pub:r,post:i,user:u,freeSignup:D,freeSignupEmail:k,isStatic:H,hidden:U,truncated:ee,invisible:ve,post_reaction_token:xe,onChange:Le,showCta:ze=ee,showUnsubscribeNotice:qe,dataForEmailRender:Je={},showReactions:st=!0,gap:Ct=16}){typeof U!="boolean"&&(U=i.hidden);let bt,Dt;U?(bt="Subscribe to view",Dt=(0,v.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id})):(Dt=(0,v.getPostUrl)(r,i,{noBase:!0}),i.type!=="thread"||ee?bt=(0,Be.getPostCtaText)(i):i.comment_count?bt=`View ${i.comment_count} comments`:bt="Reply");const Ut=H&&!this.context.isAmp;return(0,e.h)(qr.YF,{className:`thread-head typography ${t||""}`},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(qr.i$,{width:"100%"},!ve&&!U&&(0,e.h)(Me,{onVisible:()=>this.onTopReached()}),(0,e.h)(qr.i$,{gap:Ct,width:"100%"},(0,e.h)(Sc,{pub:r,post:i,user:u,isStatic:H,freeSignup:D,freeSignupEmail:k,reaction_token:xe,allowEdit:!0,allowTruncate:ee,showReactions:!!ze||st,showShare:!1,showComments:!!i.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:Le,showLabel:!0}),(0,e.h)(Qu,{user:u,freeSignup:D,freeSignupEmail:k,pub:r,post:i,html:!U&&!ee&&i.body_html,isStatic:H,dataForEmailRender:Je},U?(0,e.h)("p",null,(0,e.h)("i",null,"This thread is only visible to paid subscribers of ",r.name)):ee?(0,e.h)("p",null,i.description):null),ze?(0,e.h)("a",{className:"thread-head-cta",href:Dt,native:!0},bt," \u2192"):U&&(0,e.h)("p",{className:"thread-head-cta"},(0,e.h)("a",{href:(0,v.getSubscribeUrl)(r,{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id}),className:"button primary subscribe-btn",native:!H},(0,Be.getSubscribeText)(r)),(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:r.subdomain}),className:"button",native:!0},"Sign in"))),Ut&&(0,e.h)(qr.i$,{gap:Ct,style:{width:"100%"}},(0,e.h)(qr.i$,{style:{width:"100%",textAlign:"center"}},(0,e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:Ei.Substitutions.HALF_MAGIC_COMMENTS_URL},"See the discussion")),(0,e.h)(Ko.yT,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:st},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),qe&&i.unsubscribed&&(0,e.h)("div",{className:"notifications-alert"},"Email notifications are disabled for this thread."," ",(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},"Re-enable")),!ve&&!U&&(0,e.h)(Me,{onVisible:()=>this.onBottomReached()})))))}}FA(Rf,"contextType",Jd.E);class WA extends e.Component{render(){return(0,e.h)("div",{className:"thread-head-silhouette"},(0,e.h)("div",{className:"thread-head-silhouette-head"}),(0,e.h)("div",{className:"thread-head-silhouette-content"},(0,e.h)("div",{className:"thread-head-silhouette-title"}),(0,e.h)("div",{className:"thread-head-silhouette-meta"}),(0,e.h)("div",{className:"thread-head-silhouette-body"},(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}const Lf=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})));var HA=Object.defineProperty,VA=Object.defineProperties,KA=Object.getOwnPropertyDescriptors,Cv=Object.getOwnPropertySymbols,$A=Object.prototype.hasOwnProperty,zA=Object.prototype.propertyIsEnumerable,Ov=(n,t,r)=>t in n?HA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,GA=(n,t)=>{for(var r in t||(t={}))$A.call(t,r)&&Ov(n,r,t[r]);if(Cv)for(var r of Cv(t))zA.call(t,r)&&Ov(n,r,t[r]);return n},ZA=(n,t)=>VA(n,KA(t));const YA=n=>(0,e.h)(N.l,ZA(GA({},n),{name:"MenuIcon",svgParams:{height:10,width:18}}),(0,e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));var JA=Object.defineProperty,XA=(n,t,r)=>t in n?JA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,QA=(n,t,r)=>(XA(n,typeof t!="symbol"?t+"":t,r),r);class qA extends e.Component{constructor(){super(...arguments),QA(this,"onSortCommentsClicked",t=>{this.sortMenuRef.toggle(),this.props.onSortSelected(t)})}render({sort:t,loading:r,pub:i}){const u=(0,wi.default)("like_comments_enabled");return(0,e.h)("div",{className:f()("comments-page-sort-controls",{loading:r})},(0,e.h)("div",{className:"comments-page-sort-menu"},(0,e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},(0,e.h)("span",{className:"comments-page-sort-menu-button-label"},(0,Ri.Sh)(t)),(0,e.h)(YA,{height:"6"})),(0,e.h)(Ni.ZP,{className:"comments-page-sort-menu-dropdown",ref:D=>this.sortMenuRef=D},(0,Ri.Hz)({likesEnabled:u}).map(({key:D,text:k})=>(0,e.h)(qn.Z,{className:t===D?"selected":"",onClick:()=>this.onSortCommentsClicked(D)},k)))))}}const Sv=qA;var e6=Object.defineProperty,t6=Object.defineProperties,n6=Object.getOwnPropertyDescriptors,Tv=Object.getOwnPropertySymbols,r6=Object.prototype.hasOwnProperty,o6=Object.prototype.propertyIsEnumerable,Bf=(n,t,r)=>t in n?e6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,kf=(n,t)=>{for(var r in t||(t={}))r6.call(t,r)&&Bf(n,r,t[r]);if(Tv)for(var r of Tv(t))o6.call(t,r)&&Bf(n,r,t[r]);return n},i6=(n,t)=>t6(n,n6(t)),Iv=(n,t,r)=>(Bf(n,typeof t!="symbol"?t+"":t,r),r),Hl=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const a6=30*1e3;class s6 extends e.Component{constructor(t,r){super(t,r),Iv(this,"modalRef",(0,e.createRef)(null)),Iv(this,"onWindowVisibilityChange",()=>{(0,b.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)}),this.state={},t.post&&t.post.slug===t.slug&&(this.state.post=t.post),this.state.sort=t.sort||this.state.post&&this.state.post.default_comment_sort||t.publication.default_comment_sort||"best_first",this.state.comments=t.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return Hl(this,null,function*(){var t;if((0,b.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(t=this.props.matches)!=null&&t.feedCommentUrl){const r=this.props.matches.feedCommentUrl,i=new URL(location.toString());i.searchParams.delete("feedCommentUrl"),history.replaceState({},"",i),this.props.popToast(u=>(0,e.h)(qt.FN,i6(kf({},u),{text:"Note Shared.",cta:"View Now",href:r})),{ttl:1e4})}})}componentWillUnmount(){(0,b.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(t,r){return Hl(this,null,function*(){if(t.slug!==this.props.slug||r.sort!==this.state.sort){const i=this.props.post&&this.props.post.slug===this.props.slug;yield(0,b.setState)(this,{post:i?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let i=0;(0,Ri.hO)(this.state.comments,()=>i++),this.state.post.comment_count!==i&&(this.state.post.comment_count=i,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:t}=this.state;(0,M.j)(M.FP.COMMENTS_VIEWED,{post_id:t.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(t.type==="thread"||(0,Be.canSeeComments)(this.props.user,t))&&(0,M.j)(M.FP.COMMENT_PAYWALL_SHOWN,{post_id:t.id,post_type:t.type}),t.type==="thread"&&this.props.user&&Promise.resolve(ft().post(`/api/v1/posts/${t.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),a6)}loadPost(){return Hl(this,null,function*(){if(this.state.comments&&!(0,b.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const t=this.state.comments&&this.state.comments.length>0;let r;this.state.comments&&(r=null,(0,Ri.hO)(this.state.comments,i=>{!i.deleted&&i.date&&(!r||i.date>r)&&(r=i.date)}));try{const i=this.props.slug,u=this.state.sort,D={token:this.props.post_reaction_token||"",all_comments:!0,sort:u,last_comment_at:r};this.state.post&&this.props.commentId&&(D.comment_id=this.props.commentId);const k=yield ft().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${i}`).query(D);if(this.setState({loading:!1}),i!==this.props.slug||u!==this.state.sort)return;let H=this.state.sort;!this.state.post&&k.body.default_comment_sort&&(H=k.body.default_comment_sort),(!this.state.post||!this.state.comments||k.body.comments)&&(yield(0,b.setState)(this,{post:this.state.post||k.body,comments:k.body.comments||[],sort:H}))}catch(i){console.error("Failed to load post:",i),i.statusCode===400&&(yield(0,b.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!t&&this.state.comments&&this.state.comments.length>0&&(0,b.scrollToHash)(),(0,b.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(t){this.setState({comments:Bl(this.state.comments,t)})}onSortSelected(t){this.setState({sort:t}),(0,M.j)(M.FP.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:t})}triggerShareOnLoad(){var t;(t=this.shareDialogRef)!=null&&t.current&&(0,v.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(t){var r;const{publication:i}=this.props;return((r=(i==null?void 0:i.parent_publication)||i)==null?void 0:r.subdomain)===t}render({slug:t,user:r,freeSignup:i,freeSignupEmail:u,publication:D,post_reaction_token:k,inline:H,commentId:U,selectionFromQuery:ee,freeTrialCoupon:ve,show_reaction_upsell:xe,bannedFromNotes:Le},{sort:ze,post:qe,comments:Je,notAllowedToFetchComments:st,reactionSigninComment:Ct}){if(!qe||!D.community_enabled)return!H&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(WA,null)));const bt=D.community_enabled&&qe&&qe.write_comment_permissions!=="none",Dt=st||bt&&!(0,Be.canSeeComments)(r,qe),Ut=(Rt,Qt)=>Hl(this,null,function*(){return Dv({user:r,reactionToken:k,comments:Je,id:Rt,reacted:Qt,setComments:pn=>this.setState({comments:pn}),onNeedsSignin:pn=>new Promise(En=>this.setState({reactionSigninComment:pn},()=>this.modalRef.current.open(En)))})});return(0,e.h)("div",{className:"comments-page"},U&&(Je==null?void 0:Je.length)>0?(0,e.h)(BA,{comment:Je[0],post:qe,publication:D}):(0,e.h)(Af,{post:qe,publication:D,isCommentPage:!this.props.inline,selection:ee}),(0,e.h)(Wl.ZP,{ref:this.shareDialogRef,user:r,pub:D,post:qe,reaction_token:k}),!H&&!U&&(0,e.h)("div",{className:"container"},(0,e.h)(Rf,{pub:D,post:Object.assign({},qe,{comment_url_override:(0,v.getPostUrl)(D,qe,{comments:!0})}),user:r,freeSignup:i,freeSignupEmail:u,hidden:!(0,Be.isUUID)(t)&&qe.hidden,truncated:qe.type!=="thread",post_reaction_token:k,onChange:Rt=>this.setState(Rt),showUnsubscribeNotice:!0,gap:0},(0,e.h)("div",{className:"full-container-border"}))),Dt&&(0,e.h)("div",{className:"container"},(0,e.h)(Rl,{user:r,freeSignupEmail:u,freeSignup:i,publication:D,post:qe,title:`Comments on this ${qe.type==="podcast"?"episode":"post"} are for paid subscribers`,reauthenticationTitle:"To see the comments, please re-authenticate.",coupon:ve})),qe.type==="thread"||(0,Be.canSeeComments)(r,qe)?(0,e.h)("div",{className:"container"},Je&&(0,e.h)("div",{className:"comments-heading"},(0,Be.pluralize)(qe.comment_count,"Comment",{zero_fallback:"Comments"})),Je&&Je.length>0&&!bt&&(0,e.h)(xv,{post:qe}),bt&&(0,e.h)(jl,{user:r,freeSignup:i,freeSignupEmail:u,pub:D,post:qe,token:k,autoFocus:iM(),onSuccess:Rt=>this.setState({comments:[Rt].concat(Je)}),bannedFromNotes:Le}),(!Je||Je.length>0)&&!st&&!U&&(0,e.h)(Sv,{sort:ze,loading:!Je,onSortSelected:Rt=>this.onSortSelected(Rt),pub:D}),U&&Je&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,v.getPostUrl)(D,qe,{comments:!0,commentId:U,highlightComment:!0})},"\u2B60 Return to thread"),!Je&&!st?[(0,e.h)(Lf,null),(0,e.h)(Lf,null)]:Je.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(lc,{key:`post:${qe.id}`,user:r,freeSignup:i,freeSignupEmail:u,pub:D,post:qe,comments:Je,reaction_token:k,depth:0,collapseAtDepth:H?10:Je.length>3&&ze==="most_recent_first"?TA:SA,onChange:Rt=>this.onChange(Rt),pageSize:H||this._isPub("astralcodexten")?xA:qe.type==="thread"?IA:_v,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:Ut,noRestack:!0}))]:null):null,Ct&&(0,e.h)(Es.oq,{comment:Ct,pub:D,user:r,react:()=>Ut(Ct.id,!0),modalRef:this.modalRef}),xe?(0,e.h)(wv.hF,{pub:D}):null)}}const Uf=(0,qt.dd)(s6),xv=({post:n})=>(0,e.h)("div",{className:"locked-comments"},"Commenting has been turned off for this ",(0,Be.getPrintedPostType)(n.type));function Dv(n){return Hl(this,arguments,function*({user:t,reactionToken:r,comments:i,id:u,reacted:D,setComments:k,onNeedsSignin:H}){var U;const ee=Gg(u,i);if(!ee)return;const ve=kf({},ee);(0,Es.E6)(t,ve,D),k(Bl(i.slice(0),ve));try{yield(0,Es.xl)(ve,!0,D,r)}catch(xe){if((0,Es.E6)(t,ve,!D),k(Bl(i.slice(0),kf({},ve))),((U=xe.response)==null?void 0:U.statusCode)!==401){alert((0,b.getNetworkErrorMessage)(xe));return}yield H({comment:ve})}})}const l6=({comments:n,expectedCommentCount:t,inputRef:r,post:i,pub:u,sort:D,token:k,user:H,onAddComment:U,onUpdateComment:ee,onUpdateSort:ve})=>(0,Be.canSeeComments)(H,i)?(0,e.h)("div",null,(0,e.h)(jl,{ref:r,formClassName:"tw-m-0",user:H,pub:u,post:i,token:k,onSuccess:U}),t>0&&(0,e.h)(Sv,{sort:D,loading:!n,onSortSelected:ve,pub:u}),n?(0,e.h)(lc,{comments:n,post:i,pub:u,reaction_token:k,user:H,onChange:ee,noRestack:!0}):(0,e.h)("div",{className:"tw-mt-4"},FD()(Math.min(t,5),()=>(0,e.h)(Lf,null)))):(0,e.h)(Rl,{user:H,publication:u,post:i,title:"Comments on this episode are for paid subscribers",reauthenticationTitle:"To see the comments, please re-authenticate."});var u6=It(91613),Mv=It(25597),c6=Object.defineProperty,d6=Object.defineProperties,f6=Object.getOwnPropertyDescriptors,Av=Object.getOwnPropertySymbols,p6=Object.prototype.hasOwnProperty,h6=Object.prototype.propertyIsEnumerable,Nv=(n,t,r)=>t in n?c6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,m6=(n,t)=>{for(var r in t||(t={}))p6.call(t,r)&&Nv(n,r,t[r]);if(Av)for(var r of Av(t))h6.call(t,r)&&Nv(n,r,t[r]);return n},_6=(n,t)=>d6(n,f6(t));const Rv=n=>(0,e.h)(N.l,_6(m6({},n),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));function Lv({post:n,pub:t,user:r,showDate:i,showDatetime:u,isStatic:D,className:k,postReactionToken:H,onChange:U,allowEdit:ee,hidePinning:ve,showEmailSent:xe,allowSendEmail:Le,allowMobileFooter:ze,reactors:qe,onCommentsClick:Je,useWashBackground:st,showRestackModal:Ct,setFooterShown:bt}){const Dt=(0,P.isMobile)({checkFirst4:!0}),Ut=typeof window=="undefined",Rt=(0,Kn.xR)(),Qt=(0,Be.getBylineUsers)(n),pn=u?dr()(n.post_date).standardDatetime():D?dr()(n.post_date).standardDate():dr()(n.post_date).standardDateOrTime(),{getSettingFor:En}=(0,ut.So)(),_n=t.bylines_enabled&&(0,Be.getPrintedByline)(t,n)&&n.type!=="podcast",fn=_n&&t.byline_images_enabled&&Qt.some(({photo_url:Xn})=>!!Xn),Zn=n.type!=="page",Gn=Dt&&fn&&Qt.length>2,$n=(t==null?void 0:t.community_enabled)&&n.slug&&!n.is_draft&&(0,Be.showCommentsOnPost)({publication:t,post:n}),yn=_n&&Qt.length===1&&Qt[0].is_guest&&Qt[0].primaryPublicationSubscribeUrl&&Qt[0].primaryPublicationId!==t.id&&!t.parent_publication&&!n.is_draft&&!(0,wi.default)("dont_show_guest_byline"),Ln=(0,Be.oxfordComma)(Qt.map(Xn=>D?(0,e.h)("a",{className:"byline-profile-link",href:(0,v.getProfileUrl)(Xn,t,{base:D}),onClick:Cn=>Cn.stopPropagation()},Xn.name):(0,e.h)(Ne.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(sa.Ct,{subject:Xn,utmSource:"byline"},(0,e.h)("a",{className:"byline-profile-link",href:(0,v.getProfileUrl)(Xn,t,{base:D}),onClick:Cn=>Cn.stopPropagation()},Xn.name)),!D&&(0,e.h)(kt.s,{tier:Xn.bestseller_tier,size:"sm",userId:Xn.id})))),br=!n.is_draft&&(0,u6.x)(r,{enable_restacking:!!En("enable_restacking")},n,t,D);return(0,e.h)("div",{className:f()("post-subheader",k)},(0,e.h)("div",{className:f()("left",{vertical:Gn})},fn&&(D?(0,e.h)(Ll.Pn,{pub:t,post:n}):(0,e.h)(Ll.ZP,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:Qt.map(({id:Xn,name:Cn,photo_url:Mn})=>({id:Xn,name:Cn,photo_url:Mn})),faceUtmSource:"author-byline-face",elevated:st})),(0,e.h)("div",{className:"label-stack"},_n&&(0,e.h)("div",{className:"bylines"},(0,e.h)("span",{className:"byline-names"},Ln)),yn&&(0,e.h)("div",{className:"guest-author-publication"},"Writes\xA0",(0,e.h)("a",{className:"guest-author-publication-name",href:Qt[0].primaryPublicationUrl,title:Qt[0].primaryPublicationName},Qt[0].primaryPublicationName),"\xA0\xB7\xA0",(0,e.h)("a",{className:"guest-author-publication-subscribe",href:Qt[0].primaryPublicationSubscribeUrl},"Subscribe")),(0,e.h)("div",{className:"publish-context"},n.type==="adhoc_email"?(0,e.h)(Rv,{className:"audience-icon adhoc-email-icon",height:16,isStatic:D}):Zn&&(0,Re.isPaidAudience)(n.audience)&&(0,e.h)(Mv.Z,{audience:n.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:D,thin:!0}),(i||u)&&n.post_date&&!n.is_draft&&(0,e.h)("time",{dateTime:dr()(n.post_date).toISOString()},pn),n.is_draft&&(i||u)&&"Draft"))),(0,e.h)("div",{className:"right"},Dt&&!Ut&&ze&&(0,e.h)(Ko.mt,{post:n,pub:t,user:r,isStatic:D,onChange:U,allowEdit:ee,hidePinning:ve,showEmailSent:xe,allowSendEmail:Le,hideComments:!$n,onCommentsClick:Je,showRestackButton:br,showRestackModal:Ct,setFooterShown:bt}),!Dt&&(0,e.h)(Ko._2,{post:n,pub:t,user:r,isStatic:D,style:"button",onChange:U,allowEdit:ee,hidePinning:ve,showEmailSent:xe,allowSendEmail:Le,labelStyle:"counts-or-none",hideComments:!$n,onCommentsClick:Je,position:"post-header",showRestackButton:br,showRestackModal:Ct})))}const g6=({post:n})=>(0,e.h)("a",{className:"tw-no-underline hover:tw-underline",href:(0,v.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:n.id}),native:!0},(0,e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},(0,e.h)(wl,{className:"tw-fill-pub-accent tw-stroke-0"}),(0,e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen")));var v6=It(71212),y6=It(22939),b6=It(99758),P6=Object.defineProperty,E6=Object.defineProperties,w6=Object.getOwnPropertyDescriptors,Bv=Object.getOwnPropertySymbols,C6=Object.prototype.hasOwnProperty,O6=Object.prototype.propertyIsEnumerable,kv=(n,t,r)=>t in n?P6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,S6=(n,t)=>{for(var r in t||(t={}))C6.call(t,r)&&kv(n,r,t[r]);if(Bv)for(var r of Bv(t))O6.call(t,r)&&kv(n,r,t[r]);return n},T6=(n,t)=>E6(n,w6(t));const Uv=n=>(0,e.h)(N.l,T6(S6({},n),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}));var I6=Object.defineProperty,x6=Object.defineProperties,D6=Object.getOwnPropertyDescriptors,dc=Object.getOwnPropertySymbols,Fv=Object.prototype.hasOwnProperty,jv=Object.prototype.propertyIsEnumerable,Wv=(n,t,r)=>t in n?I6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,M6=(n,t)=>{for(var r in t||(t={}))Fv.call(t,r)&&Wv(n,r,t[r]);if(dc)for(var r of dc(t))jv.call(t,r)&&Wv(n,r,t[r]);return n},A6=(n,t)=>x6(n,D6(t)),N6=(n,t)=>{var r={};for(var i in n)Fv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&dc)for(var i of dc(n))t.indexOf(i)<0&&jv.call(n,i)&&(r[i]=n[i]);return r};const R6=n=>{var t=n,{strokeWidth:r=1.5}=t,i=N6(t,["strokeWidth"]);return(0,e.h)(N.l,A6(M6({},i),{strokeWidth:r,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))};var Hv=It(46209);const Vv=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:n=>{document.location.href=`itpc://${(0,v.stripProtocol)(n)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:n=>{document.location.href=`podcast://${(0,v.stripProtocol)(n)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:n=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(n).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:n=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(n)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:n=>{document.location.href=`pktc://subscribe/${(0,v.stripProtocol)(n)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:n=>{document.location.href=`downcast://${(0,v.stripProtocol)(n)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:n=>{document.location.href=`podcastaddict://${(0,v.stripProtocol)(n)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:n=>{(0,b.copyToClipboard)(n),document.location.href=`castros://subscribe/${(0,v.stripProtocol)(n)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:n=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(n)}`}}],Kv=({className:n,pub:t,utmSource:r})=>{const i=typeof window!="undefined"?window.location.href:"",u=(0,ae.getSubscribeUrl)(t,{params:{utm_source:r,simple:!0,next:i}});return(0,e.h)(be.Z,{className:f()("primary tw-text-sm tw-font-semibold",n),href:u},(0,Be.getSubscribeText)(t))};var L6=Object.defineProperty,fc=Object.getOwnPropertySymbols,$v=Object.prototype.hasOwnProperty,zv=Object.prototype.propertyIsEnumerable,Gv=(n,t,r)=>t in n?L6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Zv=(n,t)=>{for(var r in t||(t={}))$v.call(t,r)&&Gv(n,r,t[r]);if(fc)for(var r of fc(t))zv.call(t,r)&&Gv(n,r,t[r]);return n},B6=(n,t)=>{var r={};for(var i in n)$v.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&fc)for(var i of fc(n))t.indexOf(i)<0&&zv.call(n,i)&&(r[i]=n[i]);return r},k6=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const U6=It(39776),F6=["Podcast Addict"],j6=["Apple Podcasts"],W6=["Apple Podcasts"],H6=[],V6="hide_media_download_option",K6="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",$6=({feedUrl:n,post:t,pub:r,sectionId:i,hasAccessToPrivatePodcastFeed:u,fileSrc:D})=>{const[k,H]=(0,o.eJ)(!1),[U,ee]=(0,y6.E)();return(0,e.h)("div",{className:"tw-relative"},(0,e.h)("div",{className:f()("audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",k?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:ee},(0,e.h)("span",{className:"sm:tw-hidden"},"Open in player"),(0,e.h)("span",{className:"tw-hidden sm:tw-block"},"Listen on"),(0,e.h)(b6.Z,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),(0,e.h)(z6,{feedUrl:n,menuRef:U,post:t,pub:r,sectionId:i,onToggle:H,hasAccessToPrivatePodcastFeed:u,fileSrc:D}))},z6=({feedUrl:n,menuRef:t,post:r,pub:i,sectionId:u,onToggle:D,hasAccessToPrivatePodcastFeed:k,fileSrc:H})=>{const U=(0,b.isMobileBrowser)(),ee=()=>{(0,M.j)(M.FP.PODCAST_FEED_URL_COPIED),(0,b.copyToClipboard)(n),alert("Copied")},ve=()=>{(0,M.j)(M.FP.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:n}),document.location.href=(0,v.getPostAppLinkUrl)(i==null?void 0:i.subdomain,r==null?void 0:r.slug,{redirect:"app-marketing",source:"podcast-dropdown"})};return(0,e.h)(Ni.ZP,{ref:t,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:xe})=>{(0,M.j)(M.FP.PODCAST_LISTEN_ON_CLICKED),D(xe)}},U?(0,e.h)(G6,{feedUrl:n,pub:i,onCopyFeed:ee,onClickSubstackApp:ve,hasAccessToPrivatePodcastFeed:k,fileSrc:H}):(0,e.h)(Z6,{feedUrl:n,pub:i,sectionId:u,onCopyFeed:ee,onClickSubstackApp:ve,hasAccessToPrivatePodcastFeed:k,fileSrc:H}))},Yv=({fileSrc:n})=>U6.getConfigFor(V6)?null:(0,e.h)(Vl,{onClick:()=>{(0,b.downloadSrc)((0,v.updateQuery)(n,{download:!0}))}},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(v6.Z,null)),(0,e.h)("span",null,"Download MP3")),G6=({feedUrl:n,pub:t,onCopyFeed:r,onClickSubstackApp:i,hasAccessToPrivatePodcastFeed:u,fileSrc:D})=>{var k;return(0,e.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},(0,e.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},"Listen in app"),(0,b.isIOs)()&&(0,e.h)(Vl,{onClick:i},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(Hv.Z,null)),(0,e.h)("span",null,"Substack App")),n&&Vv.filter(H=>(0,b.isIOs)()?j6.includes(H.name):F6.includes(H.name)).map(({name:H,icon:U,onClick:ee})=>(0,e.h)(Vl,{key:H,onClick:()=>{(0,M.j)(M.FP.PODCAST_APP_LINK_CLICK,{appName:H,feedUrl:n}),ee(n)}},(0,e.h)("img",{src:U,alt:`${H} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},H))),(0,e.h)(Yv,{fileSrc:D}),n?(0,e.h)("div",{className:"tw-px-2 tw-pt-2"},(0,e.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},"Private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed. ",(0,e.h)(hc,null)),(0,e.h)("div",null,(0,e.h)(pc,{className:"tw-w-full",onClick:r},(0,e.h)(Uv,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,"Copy link")))):u?(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),(0,e.h)("div",null,(0,e.h)(Jv,{pub:t}))):(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(k=t.podcast_title)!=null?k:"this podcast"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app. ",(0,e.h)(hc,null)),(0,e.h)(Kv,{className:"tw-w-full",pub:t,utmSource:"podcast_post_listen_on"})))},Z6=({feedUrl:n,pub:t,sectionId:r,onCopyFeed:i,onClickSubstackApp:u,hasAccessToPrivatePodcastFeed:D,fileSrc:k})=>{var H;const[U,ee]=(0,o.eJ)(!1),[ve,xe]=(0,o.eJ)(null),Le=()=>k6(void 0,null,function*(){try{(0,M.j)(M.FP.PODCAST_EMAIL_LINK_CLICKED),yield ft().post("/api/v1/subscription/send_podcast_email").send({section_id:r}),alert("Email sent"),ee(!0)}catch(ze){console.error("Failed to send podcast setup email:",ze),xe(ze)}});return(0,e.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},(0,e.h)(Vl,{onClick:u},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(Hv.Z,null)),(0,e.h)("span",null,"Substack App")),n&&Vv.filter(ze=>(0,b.isMac)()?W6.includes(ze.name):H6.includes(ze.name)).map(({name:ze,icon:qe,onClick:Je})=>(0,e.h)(Vl,{key:ze,onClick:()=>{(0,M.j)(M.FP.PODCAST_APP_LINK_CLICK,{appName:ze,feedUrl:n}),Je(n)}},(0,e.h)("img",{src:qe,alt:`${ze} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},ze))),(0,e.h)(Yv,{fileSrc:k})),(0,e.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},n?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Copy your RSS link and paste it in your podcast app. ",(0,e.h)(hc,null)),(0,e.h)("div",{className:"tw-flex tw-gap-2"},(0,e.h)(pc,{onClick:i},(0,e.h)(Uv,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),(0,e.h)("span",null,"Copy link")),(0,e.h)(pc,{onClick:Le,disabled:U},(0,e.h)(R6,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,"Email link"))),ve&&(0,e.h)("div",{className:"tw-mt-2 tw-text-red-600"},(0,b.getNetworkErrorMessage)(ve))):D?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),(0,e.h)("div",null,(0,e.h)(Jv,{pub:t}))):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Get a private RSS link for listening"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe to ",(H=t.podcast_title)!=null?H:"this podcast"," to get a private link for listening in your favorite podcast player. ",(0,e.h)(hc,null)),(0,e.h)(Kv,{pub:t,utmSource:"podcast_post_listen_on"}))))},Vl=n=>{var t=n,{children:r,href:i}=t,u=B6(t,["children","href"]);const D="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return i?(0,e.h)("a",Zv({className:f()("tw-no-underline",D),href:i},u),r):(0,e.h)("div",Zv({className:f()("tw-cursor-pointer",D),role:"button"},u),r)},pc=({children:n,className:t="",disabled:r=!1,onClick:i})=>(0,e.h)(be.Z,{className:f()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",t),onClick:i,disabled:r},n),hc=()=>(0,e.h)("a",{href:K6,target:"_blank",rel:"noopener",className:"tw-text-pub-accent"},"Learn about RSS."),Jv=({pub:n})=>(0,e.h)(pc,{className:"tw-w-full",onClick:()=>{}},(0,e.h)(qn.Z,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:(0,v.getPodcatcherSetupUrl)(n),onClick:()=>{}},"Set up feed")),Y6=$6;var J6=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const X6=({isFreeSubscribed:n,isSubscribed:t,pub:r,post:i,magicToken:u,onGetDuration:D,isPreview:k,playerRef:H})=>{const[U,ee]=(0,o.eJ)(null);return(0,o.d4)(()=>{if(!t&&!n)return;(()=>J6(void 0,null,function*(){const xe=yield ft().get("/api/v1/subscription/podcast_rss_url").query({token:u,section_id:i.section_id});xe.body.podcast_rss_url&&ee(xe.body.podcast_rss_url)}))()},[n,t,u]),(0,e.h)(Uu,{ref:H,feature:"Podcast",pub:r,src:i.podcast_url,duration:i.podcast_duration,autoPlay:!1,metricsPost:i,addToPodcastLink:null,onGetDuration:D,render:({currentTime:ve,isPlaying:xe,progress:Le,progressBarRef:ze,progressBarOnMouseDown:qe,remainingTime:Je,playbackRate:st,setPlaybackRate:Ct,skipBack:bt,skipForward:Dt,togglePlayback:Ut})=>(0,e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},(0,e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),(0,e.h)(mT,{isPlaying:xe,onSkipBack:bt,onSkipForward:Dt,onTogglePlayback:Ut}),(0,e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},(0,e.h)($d,{onSetPlaybackRate:Ct,playbackRate:st,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),(0,e.h)(Kd,{currentTime:ve,remainingTime:Je,containerRef:ze,progress:Le,onMouseDown:qe}),k?(0,e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):(0,e.h)(Y6,{feedUrl:U,post:i,pub:r,sectionId:i.section_id,hasAccessToPrivatePodcastFeed:t||n,fileSrc:i.podcast_url}))})},Q6=({expiry:n,podcastName:t,pub:r,postId:i})=>{const u=dr()(n).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return(0,e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},(0,e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},(0,e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),(0,e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",t," ends ",u,". To keep access and continue your support, finish setting up your subscription.")),(0,e.h)(aa.z,{look:"button",variant:"themed-primary",size:"medium",href:(0,v.getSubscribeUrl)(r,{utm_source:"continue_your_support",utm_medium:"web",utm_content:i,simple:!0,next:document.location.href})},"Continue your support"))},q6=({freeSignupEmail:n,pub:t,source:r,user:i,onSuccess:u})=>{const D=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)("div",{className:"inline-free-email-form"},(0,e.h)(To.Z,{user:i,pub:t,freeSignupEmail:n,source:r,onSuccess:u,hideLogin:!0,hideTerms:!0,useSubscribeLink:D,submitButtonText:(0,Be.getSubscribeText)(t)}))},Ff="podcast_post_header",eN=({freeSignupEmail:n,isFreeSubscribed:t,pub:r,user:i})=>{const[u,D]=(0,o.eJ)(!1),[k,H]=(0,o.eJ)(!1),U=(0,o.sO)(null),ee=r.section?r.section.description:r.podcast_description,ve=Le=>{if(r.plans){let ze=(0,v.getSubscribeUrl)(r,{just_signed_up:!0});Le.body.prompt_to_login&&(ze=`/account/login?redirect=${encodeURIComponent(ze)}&email=${encodeURIComponent(Le.body.email)}`),document.location.href=ze}else window.location.reload()},xe=(0,o.I4)(()=>{D(!u)},[D,u]);return(0,o.bt)(()=>{const Le=()=>{const qe=U.current&&U.current.scrollHeight>U.current.clientHeight;H(u||qe)};Le();const ze=(0,b.debounce)(Le);return window.addEventListener("resize",ze),()=>{window.removeEventListener("resize",ze)}},[H,U,u]),(0,e.h)("div",{className:"tw-mt-6 tw-text-center"},ee&&(0,e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},(0,e.h)("span",{ref:U,"data-testid":"podcast-description",className:f()({"podcast-description--clamped":!u})},ee),k&&(0,e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:xe},!u&&(0,e.h)("span",null,"show more"),u&&(0,e.h)("span",null," show less"))),t?(0,e.h)(be.Z,{href:(0,v.getSubscribeUrl)(r,{utm_source:Ff}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Be.getSubscribeText)(r,{isFreeSubscribed:!0})):(0,b.isMobileBrowser)()?(0,e.h)(be.Z,{href:(0,v.getSubscribeUrl)(r,{utm_source:Ff,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Be.getSubscribeText)(r)):(0,e.h)(q6,{freeSignupEmail:n,pub:r,source:Ff,user:i,onSuccess:ve}))},tN={facepile:"frontend-podcast_post_page-PodcastPostHeader-module__facepile--_7Aou"},nN=({freeSignupEmail:n,isFreeSignup:t,isPaywall:r,post:i,pub:u,magicToken:D,user:k,onChange:H,onClickCommentButton:U,onTopReached:ee,playerRef:ve})=>{var xe;const[Le,ze]=(0,o.eJ)((xe=i.podcast_duration)!=null?xe:0),qe=Rt=>{ze(Rt)},Je=!!(k!=null&&k.is_subscribed),st=!!(t||k!=null&&k.is_free_subscribed),Ct=!st||!Je&&!!u.plans,bt=Je&&(k==null?void 0:k.subscription_type)==="comp"&&dr()(k==null?void 0:k.subscription_expiry).subtract(30,"days").isBeforeNow(),Dt=st&&!Je&&(k==null?void 0:k.comp_expired_recently),Ut=(0,Be.getBylineUsers)(i).sort((Rt,Qt)=>Rt.id===u.author_id?-1:Qt.id===u.author_id?1:Rt.is_guest&&!Qt.is_guest?-1:!Rt.is_guest&&Qt.is_guest?1:(Rt.name||"").localeCompare(Qt.name||""));return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)("div",{className:"container"},(0,e.h)(rN,{post:i,podcastDuration:Le}),(0,e.h)(Lv,{allowEdit:k==null?void 0:k.is_contributor,allowMobileFooter:!0,isStatic:!1,post:i,postReactionToken:D,pub:u,showDate:!0,showDatetime:!1,user:k,onChange:H,onCommentsClick:U,useWashBackground:!0}),(0,e.h)(Me,{onVisible:ee}),r&&!(0,ba.podcastPostIsFreePreview)(i)?(0,e.h)(g6,{post:i}):(0,e.h)(X6,{isFreeSubscribed:st,isSubscribed:Je,post:i,pub:u,magicToken:D,onGetDuration:qe,isPreview:(0,ba.podcastPostIsFreePreview)(i),playerRef:ve}),u.bylines_enabled&&Ut&&Ut.length?(0,e.h)(Ne.hs,{direction:"column",gap:24,paddingTop:24},(0,e.h)(q.xv.H4,{color:"pub-primary-text"},"Appears in this episode"),Ut.map(Rt=>(0,e.h)(Ne.hs,{direction:"column",gap:24},(0,e.h)(Ne.hs,{direction:"row",alignItems:"center",gap:16},(0,e.h)(Ne.hs,null,(0,e.h)(Ll.ZP,{className:tN.facepile,maximum:1,hoverProfiles:!0,faces:[Rt],faceUtmSource:"author-byline-face-podcast",elevated:!0})),(0,e.h)(Ne.hs,{direction:"column"},(0,e.h)(Ne.gq,{gap:4,alignItems:"center"},(0,e.h)(q.xv.B4,{color:"pub-primary-text",weight:"bold"},Rt.name),(0,e.h)(kt.s,{userId:Rt.id,tier:Rt.bestseller_tier,size:"sm"})),Rt.primaryPublicationName&&(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},Rt.primaryPublicationUrl?(0,e.h)(e.Fragment,null,"Writes ",(0,e.h)("a",{style:{textDecoration:"none"},href:Rt.primaryPublicationUrl},Rt.primaryPublicationName)," ",(0,e.h)("a",{href:`${Rt.primaryPublicationUrl}/subscribe`},"Subscribe")):`Writes ${Rt.primaryPublicationName}`)))))):null,bt||Dt?(0,e.h)(Q6,{expiry:k.subscription_expiry,postId:i.id,podcastName:u.podcast_title,pub:u}):Ct?(0,e.h)(eN,{freeSignupEmail:n,isFreeSubscribed:st,pub:u,user:k}):null))};function rN({post:n,podcastDuration:t}){return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},n.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,ae.imginary)(n.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},n.post_date?dr()(n.post_date).standardDate():dr()().standardDate(),t>0&&` \u2022 ${(0,Be.formatPodcastDuration)(t)}`),n.title&&(0,e.h)("h1",{className:f()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":n.title.length<60,"tw-text-3xl sm:tw-text-3xl":n.title.length>=60&&n.title.length<110,"tw-text-2xl sm:tw-text-2xl":n.title.length>=110&&n.title.length<140,"tw-text-xl sm:tw-text-xl":n.title.length>=140})},n.title),n.subtitle&&(0,e.h)("h3",{className:f()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":n.subtitle.length<110,"tw-text-base":n.subtitle.length>=110})},n.subtitle)))}function oV({post:n,pub:t,user:r,isPaywall:i}){const u=!!(r!=null&&r.is_subscribed),D=!!(r.is_subscribed||r.is_free_subscribed),k="";return i&&!podcastPostIsFreePreview(n)?h(PodcastAudioPaywall,{post:n}):h(PodcastPostAudioPlayer,{isFreeSubscribed:D,isSubscribed:u,post:n,pub:t,magicToken:k,isPreview:podcastPostIsFreePreview(n)})}const oN=(0,Eo.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),iN=(0,Eo.Z)("FileVolume",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m7 10-3 2H2v4h2l3 2v-8Z",key:"tazg57"}],["path",{d:"M11 11c.64.8 1 1.87 1 3s-.36 2.2-1 3",key:"1yej3m"}]]),aN=({label:n,icon:t,isActive:r=!1,onClick:i,padding:u="tw-py-6 tw-px-4",useSubstackTheme:D=!1,isDisabled:k=!1})=>(0,e.h)("div",{className:f()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",u,{"tw-cursor-pointer":!k||r,"tw-cursor-not-allowed tw-opacity-50":k&&!r,"tw-border-b-pub-primary-text tw-text-pub-primary-text":r&&!D,"tw-text-pub-secondary-text":!r&&!D,"tw-border-b-substack-primary tw-text-substack-primary":r&&D,"tw-text-substack-secondary":!r&&D,"hover:tw-bg-pub-wash":!D&&!r&&!k,"hover:tw-bg-substack-wash":D&&!r&&!k}),disabled:k,onClick:k?()=>{}:i,role:"button"},typeof t=="function"?t({active:r}):t,(0,e.h)("span",null,n)),sN=({items:n,onSelect:t,activeTab:r,tabPadding:i,useSubstackTheme:u=!1,className:D})=>(0,e.h)("div",{className:f()("tw-flex",D)},n.map(({key:k,icon:H,label:U,isDisabled:ee})=>(0,e.h)(aN,{isActive:k==r,icon:H,onClick:()=>{t(k)},padding:i,label:U,useSubstackTheme:u,isDisabled:ee}))),lN=({activeTab:n,commentCount:t,onClickTab:r,loadedWithHeaderLink:i,transcription:u})=>{const[D,k]=(0,o.eJ)(i);return(0,o.d4)(()=>{if(typeof window=="undefined"||D){k(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${n}`):window.location.hash=`#${n}`},[n]),(0,e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},(0,e.h)("div",{className:"container"},(0,e.h)(sN,{items:[{key:"details",icon:(0,e.h)(oN,{height:18}),label:"Episode details"},{key:"comments",icon:({active:H})=>(0,e.h)(id.Z,{className:f()("tw-fill-transparent",H?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:t===0?"Comments":t===1?"1 comment":`${t} comments`},...u?[{key:"transcription",icon:(0,e.h)(iN,{height:18}),label:"Transcript"}]:[]],onSelect:r,activeTab:n})))},uN=({children:n,href:t})=>(0,e.h)(e.Fragment,null,(0,e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{href:t,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},n))))),cN=({post:n,compAlreadyExpired:t=!1})=>{const r=`${Ei.Substitutions.CHECKOUT_URL}&utm_medium=email&utm_campaign=continue_your_support&utm_content=${n.id}`;return(0,e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",{align:"center",className:"tw-leading-5"},(0,e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),(0,e.h)("br",null),t?(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",(0,e.h)("br",null),"Continue your support to access paid-only content."):(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",(0,e.h)("br",null),"charged until your free trial ends on ",Ei.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(uN,{href:r},"Subscribe now"))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})))};var mc=It(43498);const Kl={container:"frontend-components-CrossPostBlurb-module__container--U8kba",podcastContainer:"frontend-components-CrossPostBlurb-module__podcastContainer--w0Cjq",attribution:"frontend-components-CrossPostBlurb-module__attribution--EmzLg",icon:"frontend-components-CrossPostBlurb-module__icon--BXDY0",pub:"frontend-components-CrossPostBlurb-module__pub--NCtMB"};var dN=Object.defineProperty,fN=Object.defineProperties,pN=Object.getOwnPropertyDescriptors,Xv=Object.getOwnPropertySymbols,hN=Object.prototype.hasOwnProperty,mN=Object.prototype.propertyIsEnumerable,Qv=(n,t,r)=>t in n?dN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,_N=(n,t)=>{for(var r in t||(t={}))hN.call(t,r)&&Qv(n,r,t[r]);if(Xv)for(var r of Xv(t))mN.call(t,r)&&Qv(n,r,t[r]);return n},gN=(n,t)=>fN(n,pN(t));const vN=({postType:n,crossPostInfo:{introText:t,crossPostedPub:r,crossPostingByLine:i}})=>{const u=i[0];return(0,e.h)(Ne.tu,{className:f()(Kl.container,n==="podcast"&&Kl.podcastContainer),paddingLeft:16,gap:20,paddingTop:12,paddingBottom:20},(0,e.h)(Ne.hs,{className:Kl.attribution,gap:4,alignItems:"center"},(0,e.h)(mc.Z,{className:Kl.icon,height:16})," ",(0,e.h)(q.xv.Meta,{color:"pub-accent"},"Cross-post from"," ",(0,e.h)("a",{className:Kl.pub,href:(0,ae.getBaseUrl)(r)},r.name))),(0,e.h)(q.xv.B2,null,t," - ",(0,e.h)(vd.default,gN(_N({},u),{type:"user",uuid:"",isStatic:!1,isEditorContext:!1}))))};var yN=Object.defineProperty,bN=Object.defineProperties,PN=Object.getOwnPropertyDescriptors,_c=Object.getOwnPropertySymbols,qv=Object.prototype.hasOwnProperty,e1=Object.prototype.propertyIsEnumerable,t1=(n,t,r)=>t in n?yN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,EN=(n,t)=>{for(var r in t||(t={}))qv.call(t,r)&&t1(n,r,t[r]);if(_c)for(var r of _c(t))e1.call(t,r)&&t1(n,r,t[r]);return n},wN=(n,t)=>bN(n,PN(t)),CN=(n,t)=>{var r={};for(var i in n)qv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&_c)for(var i of _c(n))t.indexOf(i)<0&&e1.call(n,i)&&(r[i]=n[i]);return r};const jf=n=>{var t=n,{stroke:r="black"}=t,i=CN(t,["stroke"]);return(0,e.h)(N.l,wN(EN({},i),{name:"ThreadIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:r,"stroke-linejoin":"round"}))};var ON=Object.defineProperty,SN=Object.defineProperties,TN=Object.getOwnPropertyDescriptors,gc=Object.getOwnPropertySymbols,n1=Object.prototype.hasOwnProperty,r1=Object.prototype.propertyIsEnumerable,o1=(n,t,r)=>t in n?ON(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,IN=(n,t)=>{for(var r in t||(t={}))n1.call(t,r)&&o1(n,r,t[r]);if(gc)for(var r of gc(t))r1.call(t,r)&&o1(n,r,t[r]);return n},xN=(n,t)=>SN(n,TN(t)),DN=(n,t)=>{var r={};for(var i in n)n1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&gc)for(var i of gc(n))t.indexOf(i)<0&&r1.call(n,i)&&(r[i]=n[i]);return r};const i1=n=>{var t=n,{stroke:r="black",height:i=19,width:u=19}=t,D=DN(t,["stroke","height","width"]);return(0,e.h)(N.l,xN(IN({},D),{name:"VideoIcon",svgParams:{height:i,width:u,viewBox:"2 2 15 15"}}),(0,e.h)("g",{fill:"transparent"},(0,e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M4 7H15",stroke:r}),(0,e.h)("path",{d:"M4.5 4L7.5 7",stroke:r}),(0,e.h)("path",{d:"M8 4L11 7",stroke:r}),(0,e.h)("path",{d:"M11.5 4L14.5 7",stroke:r})))};var Wf=It(50615),MN=It(12297),AN=It.n(MN),NN=Object.defineProperty,RN=Object.defineProperties,LN=Object.getOwnPropertyDescriptors,a1=Object.getOwnPropertySymbols,BN=Object.prototype.hasOwnProperty,kN=Object.prototype.propertyIsEnumerable,s1=(n,t,r)=>t in n?NN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,UN=(n,t)=>{for(var r in t||(t={}))BN.call(t,r)&&s1(n,r,t[r]);if(a1)for(var r of a1(t))kN.call(t,r)&&s1(n,r,t[r]);return n},FN=(n,t)=>RN(n,LN(t));const l1=n=>(0,e.h)(N.l,FN(UN({},n),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),(0,e.h)("g",null,(0,e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));var jN=Object.defineProperty,WN=Object.defineProperties,HN=Object.getOwnPropertyDescriptors,vc=Object.getOwnPropertySymbols,u1=Object.prototype.hasOwnProperty,c1=Object.prototype.propertyIsEnumerable,d1=(n,t,r)=>t in n?jN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,VN=(n,t)=>{for(var r in t||(t={}))u1.call(t,r)&&d1(n,r,t[r]);if(vc)for(var r of vc(t))c1.call(t,r)&&d1(n,r,t[r]);return n},KN=(n,t)=>WN(n,HN(t)),$N=(n,t)=>{var r={};for(var i in n)u1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&vc)for(var i of vc(n))t.indexOf(i)<0&&c1.call(n,i)&&(r[i]=n[i]);return r};const zN=n=>{var t=n,{color:r="#B6B6B6",height:i=18}=t,u=$N(t,["color","height"]);return(0,e.h)(N.l,KN(VN({},u),{height:i,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:r,fill:"none"}),(0,e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:r,stroke:r}))};var GN=It(15440);const f1=(0,Eo.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var ZN=Object.defineProperty,YN=Object.defineProperties,JN=Object.getOwnPropertyDescriptors,p1=Object.getOwnPropertySymbols,XN=Object.prototype.hasOwnProperty,QN=Object.prototype.propertyIsEnumerable,h1=(n,t,r)=>t in n?ZN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,qN=(n,t)=>{for(var r in t||(t={}))XN.call(t,r)&&h1(n,r,t[r]);if(p1)for(var r of p1(t))QN.call(t,r)&&h1(n,r,t[r]);return n},e8=(n,t)=>YN(n,JN(t));const t8=n=>(0,e.h)(N.l,e8(qN({},n),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(f1,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var n8=It(11762),r8=It(11628);class o8 extends e.Component{onShare(t){this.props.position&&(0,M.j)(M.FP.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(t&&t.stopPropagation(),this.props.sharedShareDialog?t.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:t,linkClassName:r,user:i,pub:u,post:D,reaction_token:k,height:H,onChange:U,isStatic:ee,children:ve,sharedShareDialog:xe,noIcon:Le}){let ze;return D.share_url_override?ze=D.share_url_override:ee?D?ze=Ei.Substitutions.SHARE_URL:ze=Ei.Substitutions.SHARE_PUB_URL:ze="javascript:void(0)",(0,e.h)("span",{className:t},(0,e.h)("a",{href:ze,onClick:qe=>this.onShare(qe),className:r},!Le&&(0,e.h)(r8.Z,{className:"recommend-icon post-meta-icon",isStatic:ee,height:H,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:ee?1:1.5}),ve),!ee&&!xe&&(0,e.h)(Wl.ZP,{ref:qe=>this.modal=qe,user:i,pub:u,post:D,reaction_token:k,onChange:U}))}}const i8=({children:n,content:t,baseRef:r=void 0,portalClass:i="",className:u="",style:D=void 0})=>{const k=(0,o.sO)(null),H=(0,o.sO)(null);return t?(0,e.h)("div",{ref:k,className:u,style:D},n,(0,e.h)(rv,{baseRef:r||k,hoverToggle:!0,onOpen:()=>{var U;return(U=H.current)==null?void 0:U.open()},onClose:()=>{var U;return(U=H.current)==null?void 0:U.close()},className:i},(0,e.h)(Ni.Fx,{ref:H,noList:!0,className:"explanation"},t))):n};var a8=It(73413),s8=Object.defineProperty,l8=Object.defineProperties,u8=Object.getOwnPropertyDescriptors,m1=Object.getOwnPropertySymbols,c8=Object.prototype.hasOwnProperty,d8=Object.prototype.propertyIsEnumerable,Hf=(n,t,r)=>t in n?s8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Vf=(n,t)=>{for(var r in t||(t={}))c8.call(t,r)&&Hf(n,r,t[r]);if(m1)for(var r of m1(t))d8.call(t,r)&&Hf(n,r,t[r]);return n},_1=(n,t)=>l8(n,u8(t)),f8=(n,t,r)=>(Hf(n,typeof t!="symbol"?t+"":t,r),r);const{getPaidOrFoundingTierNameForPost:p8}=It(6378),h8=46438;class m8 extends e.Component{constructor(t,r){if(super(t,r),f8(this,"withAuthorLine",(i,u)=>{const{pub:D,post:k,showAuthor:H,showPhoto:U}=i,ee=k.type==="adhoc_email",ve=(0,Be.getBylineUsers)(k).length,xe=ve===1,Le=xe&&(0,Be.getBylineUsers)(k)[0],ze=xe&&Le.is_guest&&!(0,wi.default)("dont_show_guest_byline")&&!ee,qe=i.showDate||i.showDatetime,Je=!k.is_published&&!i.inThreadHead&&qe&&!ee,st=i.isFreePreview&&i.showAudience&&qe&&!ee,Ct=(0,Re.isFoundingAudience)(k.audience)&&i.showAudience&&!st&&qe&&!ee,bt=(0,Re.isPaidAudience)(k.audience)&&i.showAudience&&!Ct&&!st&&qe&&!ee,Dt=(0,Ko.F6)({pub:D,post:k,showAuthor:H,showPhoto:U});return(0,e.h)(qr.YF,{width:"100%",className:f()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(qr.i$,null,(0,e.h)(qr.zK,{gap:4},(0,e.h)(q.xv.Meta,{color:"primary",className:v0.A.postAuthor},ve>0?(0,Be.oxfordComma)((0,Be.getBylineUsers)(k).map(Ut=>(0,e.h)(q.xv.Meta,{as:"a",href:(0,v.getProfileUrl)(Ut,D,{base:i.isStatic}),color:"primary",style:"text-decoration: none"},Ut.name))):(0,Be.getPrintedByline)(D,k))),(0,e.h)(qr.zK,{gap:4},(0,e.h)(q.xv.Meta,null,(i.showDate||i.showDatetime)&&k.post_date&&(0,e.h)("time",{dateTime:dr()(k.post_date).toISOString()},dr()(k.post_date).standardDate())),bt&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(q.xv.Meta,null,"\u2219"),(0,e.h)(q.xv.Meta,{color:"accent-purple"},"Paid")),Ct&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(q.xv.Meta,null,"\u2219"),(0,e.h)(q.xv.Meta,{color:"accent-purple"},p8(D,k))),st&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(q.xv.Meta,null,"\u2219"),(0,e.h)(q.xv.Meta,{color:"accent-purple"},"Preview")),ze&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(q.xv.Meta,null,"\u2219"),(0,e.h)(q.xv.Meta,null,"Guest post")),Je&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(q.xv.Meta,null,"\u2219"),(0,e.h)(q.xv.Meta,null,"Draft"))))),Dt&&(0,e.h)("td",{align:"right"},(0,e.h)(qr.zK,{gap:4},ve>0&&(0,Be.getBylineUsers)(k).map((Ut,Rt)=>Rt<4&&(0,e.h)("a",{href:(0,v.getProfileUrl)(Ut,D,{base:i.isStatic})},(0,e.h)(qr.NS,{src:Ut.photo_url,size:ve>1?32:40})))))))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const i=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:i.matches};const u=D=>{this.unmounted||this.setState({isMobileWidth:D.matches})};i.addEventListener?i.addEventListener("change",u):i.addListener&&i.addListener(u)}}componentWillUnmount(){this.unmounted=!0}render({pub:t,post:r,showAuthor:i,showPhoto:u,fromPostPage:D}){return(0,Ko.F6)({pub:t,post:r,showAuthor:i,showPhoto:u})||(0,Ko.Cz)({pub:t,post:r,showAuthor:i})||(0,Ko.z5)({pub:t,post:r,showAuthor:i})?this.withAuthorLine(this.props,this.state):(0,e.h)(g8,_1(Vf({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:D?"post-header-compact":"post-preview"}))}}const _8=({shouldShowFullWidthUfi:n,isMobileWidth:t,children:r})=>n?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},r):t?r:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},r),pV=({additionalCommentCount:n,user:t,pub:r,post:i,showReactions:u,showComments:D,reaction_token:k,onChange:H,shareTooltipText:U,fromPostPage:ee,onClickCommentButton:ve,reactors:xe,isStatic:Le,base_url:ze,className:qe,showShare:Je})=>{u=u&&r.community_enabled&&i.slug&&!i.is_draft;const st=useMediaQuery({maxWidth:540}),{getSettingFor:Ct}=usePublicationSettings(),bt=!Le&&(i==null?void 0:i.id)&&r.community_enabled&&!i.is_draft&&i.slug,Dt=sum(Object.values((i==null?void 0:i.reactions)||{})),Ut=bt&&!!Dt&&u,Rt=!i.is_draft&&canPostBeRestacked(t,{enable_restacking:!!Ct("enable_restacking")},i,r,!1),Qt=Rt;return h(_8,{shouldShowFullWidthUfi:Qt,isMobileWidth:st},h(PostUfi,{style:"button",post:i,pub:r,user:t,postReactionToken:k,hideReactions:!u||st&&Rt,hideComments:!D||st&&Rt,hideSavePost:st&&Rt,hideShare:!Je||st&&Rt,useShareLabel:st&&!Qt,labelStyle:st&&!Qt?"labels":"counts-or-none",onChange:H,additionalCommentCount:n,showShare:Je,onCommentsClick:ve,position:Qt?"post-footer-full-width":"post-footer",showRestackButton:Rt}),Ut&&h(Fragment,null,(Qt||st)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(Kf,{postId:i.id,totalLikes:Dt,reactors:Hs(xe,t,!!i.reaction,r),loading:!xe,hoverProfiles:!0,enableModal:!0,showFaces:r.post_reaction_faces_enabled}))))};function g1({pub:n,post:t,user:r,reactors:i,secondaryFaces:u}){var D;return(0,e.h)(Kf,{postId:t.id,totalLikes:Math.max((D=t.reactions["\u2764"])!=null?D:0,(i!=null?i:[]).length),reactors:Hs(i,r,!!t.reaction,n),secondaryFaces:Hs(u,r,!!t.restacked,n),totalRestacks:t.restacks||0,loading:!i,hoverProfiles:!0,enableModal:!0,showFaces:n.post_reaction_faces_enabled})}function hV(n){const{post:t,user:r,pub:i}=n,{result:u,isLoading:D}=useFetch({pathname:`/api/v1/post/${t.id}/reactors`,auto:!0,deps:[t.id]}),{result:k,isLoading:H}=useFetch({pathname:`/api/v1/post/${t.id}/restackers`,auto:!0,deps:[t.id]});return h(g1,Vf({reactors:Hs(u,r,!!t.reaction,i),secondaryFaces:Hs(k,r,!!t.restacked,i)},n))}function Hs(n,t,r,i){if(!n)return[];if(t){const u=n.findIndex(D=>D.id===t.id);r&&(t.subscription_visibility!=="private"||i.id===h8)&&t.activity_likes_enabled&&u<0?n.splice(0,0,{id:t.id,name:t.name,photo_url:t.photo_url}):!r&&u>=0&&n.splice(u,1)}return n}function g8({additionalCommentCount:n=0,className:t,user:r,pub:i,post:u,showAudience:D=!1,showDate:k=!1,showEmailSent:H=!1,showDatetime:U=!1,showReactions:ee=!0,showComments:ve=!0,showShare:xe=!1,showRestack:Le=!1,showPublicationName:ze=!1,hidePinning:qe=!1,reaction_token:Je,onClick:st,onChange:Ct,isStatic:bt=!1,isFreePreview:Dt=!1,allowSendEmail:Ut=!1,allowEdit:Rt=!1,shareTooltipText:Qt,showPins:pn,sharedShareDialog:En,showUpdatedIcons:_n,editOnRightSide:fn=!1,onClickCommentButton:Zn,reactors:Gn,showAuthor:$n,showPhoto:yn,fromPostPage:Ln,isMobileWidth:br,actionBarStyle:Xn="post-header-compact"}){var Cn;const Mn=[i].concat(i.child_publications).find(_r=>_r.id===u.publication_id),ar=Hs(Gn,r,!!u.reaction,i),mr=Xn==="post-footer",Hn=mr?20:Xn==="post-preview"?14:18,In=Xn==="post-header-large"?20:Xn==="post-preview"?16:Xn==="thread-head"||mr?14:18;let Xt;u.comment_url_override?Xt=u.comment_url_override:bt?Xt=`${Ei.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:Xt=(0,v.getPostUrl)(i,u,{comments:!0});const On=n+((Cn=u.comment_count)!=null?Cn:0),Jt=ve&&!Dt&&(0,Be.showCommentsOnPost)({publication:i,post:u})&&u.type!=="restack",Qn=ee&&!Dt&&!["adhoc_email","restack"].includes(u.type),Bn=(k||U)&&u.post_date&&!u.is_draft,Dr=H?!!u.email_sent_at:null,lr=(0,hh.S)({user:r,noBase:!1}),Ar=_r=>{var Fr;(Fr=_r.post)!=null&&Fr.reaction&&r&&lr({user:r}),Ct(_r)},Yn=(0,e.h)(Es.dJ,{user:r,pub:i,post:u,token:Je,onChange:Ar,height:In,isStatic:bt,isFreePreview:Dt,alt:"Like",buttonStyle:mr,className:"post-meta-icon like-reaction-button",hideReactionCount:mr&&!bt}),Or=[H&&Dr&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(l1,{className:"post-meta-icon",height:Hn,isStatic:bt})},pn&&u.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(n8.Z,{className:"post-meta-icon",isStatic:bt})},u.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(Rv,{className:"post-meta-icon",isStatic:bt})}:D&&(0,Re.isPaidAudience)(u.audience)&&{className:"audience-lock",content:(0,e.h)(zN,{color:"#666666",height:Hn,isStatic:bt})},(0,Ko.Er)({pub:i,post:u,showAuthor:$n,showPhoto:yn,isMobileWidth:br})&&{className:"author",content:(0,Be.getBylineUsers)(u).length>0?(0,Be.oxfordComma)((0,Be.getBylineUsers)(u).map(_r=>(0,e.h)(sa.Ct,{disabled:bt,subject:_r,utmSource:"byline"},(0,e.h)("a",{href:(0,v.getProfileUrl)(_r,i,{base:bt}),onClick:Fr=>Fr.stopPropagation()},_r.name)))):(0,Be.getPrintedByline)(i,u)},ze&&{className:"post-publication-name",content:i.name},_n&&!fn&&Rt&&!bt&&r&&r.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:_r=>_r.stopPropagation(),content:(0,e.h)(Wf.l,{pub:i,post:u,iconHeight:Hn,hidePinning:qe,user:r,emailSent:Dr,allowSendEmail:Ut,showUpdatedIcons:_n})},Bn&&{className:"post-date",title:dr()(u.post_date).toISOString(),content:(0,e.h)(q.xv.Meta,null,(0,e.h)("time",{dateTime:dr()(u.post_date).toISOString()},(0,Ko.fh)({post:u,showDatetime:U,isStatic:bt,fromPostPage:Ln,showReactions:Qn})))},(Mn==null?void 0:Mn.community_enabled)&&u.slug&&Qn&&!u.is_draft&&{className:"icon",onClick:_r=>_r.stopPropagation(),content:!mr&&!bt&&ar.length?(0,e.h)(i8,{portalClass:"facepile-tooltip",content:(0,e.h)(Kf,{postId:u.id,totalLikes:AN()(Object.values(u.reactions)),reactors:ar,loading:!Gn})},Yn):Yn},r&&{className:"icon",onClick:_r=>_r.stopPropagation(),content:(0,e.h)(v8,{post:u,isPostFooter:mr,isStatic:bt,lucideIconHeight:In,onChange:Ct})},(Mn==null?void 0:Mn.community_enabled)&&u.slug&&Jt&&!u.is_draft&&{className:"icon",onClick:_r=>_r.stopPropagation(),content:(0,e.h)("a",{className:mr?"post-meta-button button":"",href:Xt,native:Mn&&(0,v.isPublishPath)(document.location.pathname,Mn),onClick:Zn},(0,e.h)(id.Z,{className:"comment-icon post-meta-icon",isStatic:bt,height:In,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:bt?1:1.5,ampProps:{layout:"fixed"}}),!On&&mr&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),On>0&&(0,e.h)("span",{className:"comment-count"},(0,Be.numberToString)(On)))},Le&&!mr&&{className:"icon",onClick:_r=>_r.stopPropagation(),content:(0,e.h)("a",{href:Ei.Substitutions.RESTACK_URL,className:mr?"button post-meta-button":void 0},(0,e.h)(t8,{className:"recommend-icon post-meta-icon",isStatic:bt,height:In,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:bt?1:1.5,ampProps:{layout:"fixed"}}),mr&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},xe&&u.audience!=="only_free"&&!u.is_draft&&!Dt&&{className:"icon",onClick:_r=>_r.stopPropagation(),content:(0,e.h)(o8,{user:r,pub:Mn,post:u,reaction_token:Je,height:In,onChange:Ct,isStatic:bt,sharedShareDialog:En,position:Xn==="post-footer"?"post-footer":"post-header",linkClassName:mr?"button post-meta-button":void 0},mr&&(0,e.h)("span",{className:"meta-button-label"},"Share"),Qt&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},Qt)))},(!_n||fn)&&Rt&&!bt&&r&&r.is_contributor&&{className:"icon edit-icon",onClick:_r=>_r.stopPropagation(),content:(0,e.h)(Wf.l,{pub:i,post:u,iconHeight:Hn,hidePinning:qe,user:r,emailSent:Dr,allowSendEmail:Ut,showUpdatedIcons:_n})}].filter(_r=>!!_r);return bt?(0,e.h)("table",{className:f()("post-meta custom",{big:mr},t),cellpadding:"0",cellspacing:"0",onClick:st},(0,e.h)("tr",null,Or.map(({className:_r,title:Fr,onClick:Co,content:Zr})=>(0,e.h)("td",{className:f()("post-meta-item",_r),title:Fr,onClick:Co},Zr)))):(0,e.h)("div",{className:f()("post-meta post-meta-actions-web custom",{big:mr},t),onClick:st},Or.map(({className:_r,title:Fr,onClick:Co,content:Zr})=>(0,e.h)("div",{className:f()("post-meta-item",_r),title:Fr,onClick:Co},Zr)))}function Kf({className:n,postId:t,reactors:r,secondaryFaces:i,totalLikes:u,totalRestacks:D,loading:k,hoverProfiles:H,enableModal:U,showFaces:ee}){const ve=u>0?(0,Be.pluralize)(u,"Like"):"";let xe="";return D>0&&(xe=`${(0,Be.pluralize)(D,"Restack")}`),(0,e.h)(Ll.ZP,{className:n,loading:k,faces:r,secondaryFaces:i,pileLabel:ve,modalLabel:ve,secondaryLabel:xe,secondaryHref:(0,vv.Oi)(t,{noBase:a8.L,urlParams:{utm_source:"substack",utm_content:"facepile-restacks"}}),totalCount:u,totalRestacks:D,hoverProfiles:H,enableModal:U,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,M.j)(M.FP.POST_REACTIONS_MODAL_VIEWED,{post_id:t})},showFaces:ee})}function v8({post:n,isPostFooter:t,isStatic:r,isSaved:i,lucideIconHeight:u,onChange:D}){const{onSave:k,isSaved:H}=(0,Ko.vk)({post:n,isSaved:n.is_saved}),U=()=>{const ee=k();D({post:_1(Vf({},n),{is_saved:ee})})};return(0,e.h)("a",{className:f()("post-meta-save-button",t?"post-meta-button button":"",{isSaved:H}),href:r&&Ei.Substitutions.SAVE_POST_URL,onClick:U},(0,e.h)(GN.Z,{isStatic:r,height:u,stroke:"#757575",strokeWidth:r?1:1.5}),t&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}const y8=(0,Eo.Z)("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]);var b8=Object.defineProperty,P8=Object.defineProperties,E8=Object.getOwnPropertyDescriptors,v1=Object.getOwnPropertySymbols,w8=Object.prototype.hasOwnProperty,C8=Object.prototype.propertyIsEnumerable,y1=(n,t,r)=>t in n?b8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,O8=(n,t)=>{for(var r in t||(t={}))w8.call(t,r)&&y1(n,r,t[r]);if(v1)for(var r of v1(t))C8.call(t,r)&&y1(n,r,t[r]);return n},S8=(n,t)=>P8(n,E8(t));const T8=n=>(0,e.h)(N.l,S8(O8({},n),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(y8,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var I8=Object.defineProperty,x8=Object.defineProperties,D8=Object.getOwnPropertyDescriptors,b1=Object.getOwnPropertySymbols,M8=Object.prototype.hasOwnProperty,A8=Object.prototype.propertyIsEnumerable,P1=(n,t,r)=>t in n?I8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,N8=(n,t)=>{for(var r in t||(t={}))M8.call(t,r)&&P1(n,r,t[r]);if(b1)for(var r of b1(t))A8.call(t,r)&&P1(n,r,t[r]);return n},R8=(n,t)=>x8(n,D8(t));const L8=n=>(0,e.h)(N.l,R8(N8({},n),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(w0,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),E1=({post:n})=>{const t=(0,ut.So)().getSettingFor("enable_prev_next_nav"),r=(0,Ai.XA)();return!t||!(n!=null&&n.previous_post_slug)&&!(n!=null&&n.next_post_slug)?null:(0,e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},(0,e.h)("div",null,n.previous_post_slug&&(0,e.h)(Ko.Ng,{icon:(0,e.h)(T8,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,M.j)(M.FP.PREVIOUS_POST_LINK_CLICKED,{post_id:n.id}),(0,y.route)(`/p/${n.previous_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},"Previous"))),(0,e.h)("div",null,n.next_post_slug&&(0,e.h)(Ko.Ng,{icon:(0,e.h)(L8,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,M.j)(M.FP.NEXT_POST_LINK_CLICKED,{post_id:n.id}),(0,y.route)(`/p/${n.next_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},"Next"))))};var B8=Object.defineProperty,k8=Object.defineProperties,U8=Object.getOwnPropertyDescriptors,yc=Object.getOwnPropertySymbols,w1=Object.prototype.hasOwnProperty,C1=Object.prototype.propertyIsEnumerable,O1=(n,t,r)=>t in n?B8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,F8=(n,t)=>{for(var r in t||(t={}))w1.call(t,r)&&O1(n,r,t[r]);if(yc)for(var r of yc(t))C1.call(t,r)&&O1(n,r,t[r]);return n},j8=(n,t)=>k8(n,U8(t)),W8=(n,t)=>{var r={};for(var i in n)w1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&yc)for(var i of yc(n))t.indexOf(i)<0&&C1.call(n,i)&&(r[i]=n[i]);return r};const H8=n=>{var t=n,{stroke:r="black",height:i=19,width:u=19}=t,D=W8(t,["stroke","height","width"]);return(0,e.h)(N.l,j8(F8({},D),{name:"AdhocEmailIcon",svgParams:{height:i,width:u,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:r}),(0,e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:r}))};var V8=Object.defineProperty,K8=Object.defineProperties,$8=Object.getOwnPropertyDescriptors,bc=Object.getOwnPropertySymbols,S1=Object.prototype.hasOwnProperty,T1=Object.prototype.propertyIsEnumerable,I1=(n,t,r)=>t in n?V8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,z8=(n,t)=>{for(var r in t||(t={}))S1.call(t,r)&&I1(n,r,t[r]);if(bc)for(var r of bc(t))T1.call(t,r)&&I1(n,r,t[r]);return n},G8=(n,t)=>K8(n,$8(t)),Z8=(n,t)=>{var r={};for(var i in n)S1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&bc)for(var i of bc(n))t.indexOf(i)<0&&T1.call(n,i)&&(r[i]=n[i]);return r};const Y8=n=>{var t=n,{stroke:r="black",height:i=19,width:u=19}=t,D=Z8(t,["stroke","height","width"]);return(0,e.h)(N.l,G8(z8({},D),{name:"NewsletterIcon",svgParams:{height:i,width:u,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3.5 3.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 7.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 11.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 15.5H12",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}))};var J8=Object.defineProperty,Pc=Object.getOwnPropertySymbols,x1=Object.prototype.hasOwnProperty,D1=Object.prototype.propertyIsEnumerable,M1=(n,t,r)=>t in n?J8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Vs=(n,t)=>{for(var r in t||(t={}))x1.call(t,r)&&M1(n,r,t[r]);if(Pc)for(var r of Pc(t))D1.call(t,r)&&M1(n,r,t[r]);return n},X8=(n,t)=>{var r={};for(var i in n)x1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Pc)for(var i of Pc(n))t.indexOf(i)<0&&D1.call(n,i)&&(r[i]=n[i]);return r};const Q8=n=>{var t=n,{postType:r}=t,i=X8(t,["postType"]);switch(r){case"newsletter":return(0,e.h)(Y8,Vs({},i));case"adhoc_email":return(0,e.h)(H8,Vs({},i));case"thread":return(0,e.h)(jf,Vs({},i));case"podcast":return(0,e.h)(Bo,Vs({},i));case"video":return(0,e.h)(i1,Vs({},i));case"restack":return(0,e.h)(mc.Z,Vs({},i));default:return console.warn(`Unrecognized post type: [${r}]`),null}};var q8=Object.defineProperty,A1=Object.getOwnPropertySymbols,eR=Object.prototype.hasOwnProperty,tR=Object.prototype.propertyIsEnumerable,N1=(n,t,r)=>t in n?q8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,R1=(n,t)=>{for(var r in t||(t={}))eR.call(t,r)&&N1(n,r,t[r]);if(A1)for(var r of A1(t))tR.call(t,r)&&N1(n,r,t[r]);return n},nR=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Ec=500,rR={PUBLICATION:"publication",CHOOSE:"choose"},oR=({pubToRecommendBack:n,recommendingPub:t,recommendedPubs:r,setStep:i,close:u,setLoading:D,source:k})=>{const[H,U]=(0,o.eJ)(null);(0,o.d4)(()=>{var ve;H==null&&(r!=null&&r.find(({id:xe})=>xe===n.id))&&U((ve=r==null?void 0:r.find(({id:xe})=>xe===n.id))==null?void 0:ve.blurb)},[H,r,n.id]);const ee=(0,Be.getByLine)(n);return(0,e.h)("div",{className:"add-recommending-pub-modal-container"},(0,e.h)(cr.Z,{pub:n,logo_url:n.logo_url,size:84}),(0,e.h)("h2",null,"Recommend ",n.name),n.hero_text&&(0,e.h)("p",{className:"pub-hero-text"},n.hero_text),(0,e.h)("p",{className:"pub-author-subs"},ee?`By ${ee}`:null,ee&&n.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,n.rankingDetail),(0,e.h)("p",{className:"why-recommend"},"Why are you recommending ",n.name,"? (optional)"),(0,e.h)("textarea",R1({placeholder:"Share why your readers might enjoy it...",onChange:ve=>{U(ve.target.value)},value:H},Zg.J)),(0,e.h)("div",{className:"footer"},(0,e.h)("p",{className:"learn-more"},"Recommendations are shown to readers after they subscribe to your publication."," ",(0,e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{(0,M.j)(M.FP.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},(0,e.h)("u",null,"Learn more"))),(0,e.h)("button",{className:f()("continue-button button primary",{disabled:((H==null?void 0:H.length)||0)>Ec}),disabled:((H==null?void 0:H.length)||0)>Ec,title:((H==null?void 0:H.length)||0)>Ec?`Please enter a description shorter than ${Ec} characters`:"",onClick:()=>nR(void 0,null,function*(){yield ft().put("/api/v1/recommendations").send(R1({recommended_publication_id:n.id,recommending_publication_id:t.id,source:k||"recommendation_notification_email",suggested:!1},!!H&&{description:H.length>=2?H:null})),r!=null&&r.filter(({id:ve})=>ve!==n.id).length?u():i(rR.CHOOSE),D?(D(!0),u()):((0,b.redirect)("/publish/settings/recommendations"),(0,ds.ZP)(`Started recommending ${n.name}`,{timeout:1500}))})},"Continue")))};var iR=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const aR=({pub:n})=>{const[t,r]=(0,o.eJ)(!0),[i,u]=(0,o.eJ)(null),[D,k]=(0,o.eJ)(!1),H=(0,o.sO)(null),U=()=>{H.current.close()};if((0,o.d4)(()=>{!i&&t&&(()=>iR(void 0,null,function*(){try{const xe=(yield ft().get("/api/v1/publication_user/default")).body;if(u(xe),!xe||xe.id===n.id){k(!0),r(!1);return}const Le=yield ft().get(`/api/v1/recommendations/from/${xe.id}/to/${n.id}`);k(!!Le.body),r(!1)}catch(ve){console.error("Failed to load recommend cta: ",ve)}}))()},[n,t,r,i,u]),!(t||D||i&&i.invite_only))return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"end-of-post-recommend-cta-container"},(0,e.h)(cr.Z,{pub:n,size:54,openInNewTab:!0,logo_url:n.logo_url}),(0,e.h)("h3",{className:"publication-name"},"Recommend ",n.name," to the readers of ",i.name),(0,e.h)("p",{className:"publication-hero-text"},n.hero_text),(0,e.h)(be.Z,{className:f()({primary:!0,"subscribe-button":!0}),onClick:()=>{(0,M.j)(M.FP.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:n,recommending_pub_id:i==null?void 0:i.id}),H.current.isOpen()?H.current.close():H.current.open()}},"Recommend")),(0,e.h)(sR,{pubToRecommend:n,recommendingPub:i,setLoading:r,setStep:U,ref:H}))};class sR extends or.p{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return(0,e.h)(oR,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:t=>{this.props.setLoading(t),(0,ds.ZP)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var lR=It(86804),L1=It(92630),uR=Object.defineProperty,cR=Object.defineProperties,dR=Object.getOwnPropertyDescriptors,B1=Object.getOwnPropertySymbols,fR=Object.prototype.hasOwnProperty,pR=Object.prototype.propertyIsEnumerable,k1=(n,t,r)=>t in n?uR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hR=(n,t)=>{for(var r in t||(t={}))fR.call(t,r)&&k1(n,r,t[r]);if(B1)for(var r of B1(t))pR.call(t,r)&&k1(n,r,t[r]);return n},mR=(n,t)=>cR(n,dR(t));const _R=n=>(0,e.h)(N.l,mR(hR({},n),{name:"WarningIcon",svgParams:{viewBox:"-2 -2 18 18"}}),(0,e.h)("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8S12.418 0 8 0zM9 12H7v-2h2V12zM9 8H7V4h2V8z"})),Ks={outlineWrapper:"frontend-components-FoundingPlanPriceInput-module__outlineWrapper--vbdll",outlineWrapperWithWarning:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperWithWarning--OeRIn",warningContainer:"frontend-components-FoundingPlanPriceInput-module__warningContainer--RO2Fw",outlineWrapperSelected:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperSelected--xUFzY",amountInput:"frontend-components-FoundingPlanPriceInput-module__amountInput--F5mTT",amountInputDeselected:"frontend-components-FoundingPlanPriceInput-module__amountInputDeselected--BClJR"},bV=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:u,disableInput:D=!1,onChangeAmount:k})=>{const H=useRef(null),U=useCallback(Le=>{k(Le.toString().replace(/[^\d.]/g,""))},[k]),[ee,ve]=useState(!1);useEffect(()=>{t&&(H.current.focus(),H.current.select())},[H,t]),useEffect(()=>{ve(i.metadata.minimum&&(isZeroDecimalCurrency(i.currency)?n:n*100)<=i.metadata.minimum&&t)},[n]);const xe=centsToPriceString(100,i.currency).replace(/\d/g,"");return h(FlexColumn,{className:"fancy-founding-input"},h(FlexRow,{className:"outer-price-select",alignItems:"center"},h("div",{className:"unified-input"},h(FlexBox,{className:"currency-symbol",justifyContent:"center",alignItems:"center"},h(Text,{size:14,color:"secondary"},xe)),h("input",{disabled:D,ref:H,id:"",type:"text","aria-label":"",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:Le=>{Le.key==="ArrowUp"?(U(Number(n||i.amount/100)+5),setTimeout(()=>{H.current.selectionStart=H.current.selectionEnd=H.current.value.length},0)):Le.key==="ArrowDown"&&(!n||n>=5)&&(U(Number(n||i.amount/100)-5),setTimeout(()=>{H.current.selectionStart=H.current.selectionEnd=H.current.value.length},0))},onInput:Le=>{const ze=Le.target;U(ze.value)}})),h(Text,{className:"year-label",size:14,lineHeight:20,color:"secondary"},"/ year")),ee&&h(Text,{size:14,lineHeight:20,color:"error",weight:"bold",className:"founding-error"},`Must be greater than ${xe}${isZeroDecimalCurrency(i.currency)?i.metadata.minimum:i.metadata.minimum/100}`))},gR=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:u,showDuration:D=!0,disableInput:k=!1,onChangeAmount:H})=>{const U=(0,o.sO)(null),ee=(0,o.I4)(xe=>{H(xe.toString().replace(/[^\d.]/g,""))},[H]),ve=i.metadata.minimum&&((0,Be.isZeroDecimalCurrency)(i.currency)?n:n*100)<i.metadata.minimum&&t;return(0,o.bt)(()=>{U.current&&(U.current.style.width="1px",U.current.style.width=`${U.current.scrollWidth}px`,U.current.scrollLeft=0)},[n,U]),(0,o.d4)(()=>{t&&(U.current.focus(),U.current.select())},[U,t]),(0,e.h)("span",{className:f()(Ks.outlineWrapper,{[Ks.outlineWrapperSelected]:r&&t,[Ks.outlineWrapperWithWarning]:ve})},(0,Be.centsToPriceString)(100,i.currency).replace("1",""),(0,e.h)("input",{disabled:k,ref:U,className:f()(Ks.amountInput,{[Ks.amountInputDeselected]:!t}),id:"money-variable-amount",type:"text","aria-label":"founding member amount",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:xe=>{xe.key==="ArrowUp"?(ee(Number(n||i.amount/100)+5),setTimeout(()=>{U.current.selectionStart=U.current.selectionEnd=U.current.value.length},0)):xe.key==="ArrowDown"&&(!n||n>=5)&&(ee(Number(n||i.amount/100)-5),setTimeout(()=>{U.current.selectionStart=U.current.selectionEnd=U.current.value.length},0))},onInput:xe=>{const Le=xe.target;ee(Le.value)}}),(0,e.h)("input",{name:"amount",type:"hidden",value:typeof n=="string"?(Number(n)||0)*100:i.amount}),D&&i.interval!=="forever"&&(u?` per ${i.interval}`:`/${i.interval}`),ve&&(0,e.h)("div",{className:Ks.warningContainer},(0,e.h)(L1.u,{text:`Amount must be greater than ${(0,Be.centsToPriceString)(i.metadata.minimum,i.currency)}`,dangerouslySetTooltipZIndex:12},(0,e.h)(_R,{stroke:"white",height:20,fill:"red",strokeWidth:1}))))};var vR=Object.defineProperty,U1=Object.getOwnPropertySymbols,yR=Object.prototype.hasOwnProperty,bR=Object.prototype.propertyIsEnumerable,F1=(n,t,r)=>t in n?vR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,PR=(n,t)=>{for(var r in t||(t={}))yR.call(t,r)&&F1(n,r,t[r]);if(U1)for(var r of U1(t))bR.call(t,r)&&F1(n,r,t[r]);return n};const ER=n=>(0,e.h)(N.l,PR({name:"CheckmarkBrokenCircleIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M14.6667 7.38656V7.99989C14.6659 9.4375 14.2004 10.8363 13.3396 11.9878C12.4788 13.1392 11.2689 13.9815 9.89028 14.3892C8.51166 14.7968 7.03821 14.7478 5.68969 14.2496C4.34116 13.7514 3.18981 12.8306 2.40735 11.6246C1.62488 10.4186 1.25323 8.99193 1.34783 7.55743C1.44242 6.12293 1.99818 4.75744 2.93223 3.6646C3.86628 2.57177 5.12856 1.81014 6.53083 1.49332C7.9331 1.1765 9.40022 1.32145 10.7134 1.90656","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M14.6667 2.66669L8 9.34002L6 7.34002","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var wR=Object.defineProperty,j1=Object.getOwnPropertySymbols,CR=Object.prototype.hasOwnProperty,OR=Object.prototype.propertyIsEnumerable,W1=(n,t,r)=>t in n?wR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,SR=(n,t)=>{for(var r in t||(t={}))CR.call(t,r)&&W1(n,r,t[r]);if(j1)for(var r of j1(t))OR.call(t,r)&&W1(n,r,t[r]);return n};const TR=n=>(0,e.h)(N.l,SR({name:"CircleCrossIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M8.00004 14.6666C11.6819 14.6666 14.6667 11.6819 14.6667 7.99998C14.6667 4.31808 11.6819 1.33331 8.00004 1.33331C4.31814 1.33331 1.33337 4.31808 1.33337 7.99998C1.33337 11.6819 4.31814 14.6666 8.00004 14.6666Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M10 6L6 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M6 6L10 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var IR=Object.defineProperty,xR=Object.defineProperties,DR=Object.getOwnPropertyDescriptors,H1=Object.getOwnPropertySymbols,MR=Object.prototype.hasOwnProperty,AR=Object.prototype.propertyIsEnumerable,V1=(n,t,r)=>t in n?IR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,NR=(n,t)=>{for(var r in t||(t={}))MR.call(t,r)&&V1(n,r,t[r]);if(H1)for(var r of H1(t))AR.call(t,r)&&V1(n,r,t[r]);return n},RR=(n,t)=>xR(n,DR(t));const K1=n=>(0,e.h)(N.l,RR(NR({},n),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:n.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"}))))),$1=n=>{try{return n!=null&&n.text?JSON.parse(n==null?void 0:n.text).error:"Something went wrong"}catch(t){return"Something went wrong"}},$f=n=>{var t;return((t=n==null?void 0:n.metadata)==null?void 0:t.founding)==="yes"||(n==null?void 0:n.id.includes("founding"))},ai={container:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__container--h0NUk",closeModal:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__closeModal--BTBok",subscribeButton:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__subscribeButton--YUyLO",radio:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__radio--HWCWT",circle:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__circle--BzRf4",selectedPlan:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__selectedPlan--TDQaA",planRow:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planRow--JyRia",publicationIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__publicationIcon--Vw7_m",benefitIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__benefitIcon--_cHY4",planOptions:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planOptions--poLpI",fancyStripe:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fancyStripe--iBwGQ",cardOnFileIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__cardOnFileIcon--qZGEa",tos_text:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__tos_text--WQNU8",fullWidth:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fullWidth--dXsZT",inputWrapper:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__inputWrapper--eN00v",spacing:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__spacing--j9imu",clickable:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__clickable--RWWu0"};var LR=Object.defineProperty,BR=Object.defineProperties,kR=Object.getOwnPropertyDescriptors,z1=Object.getOwnPropertySymbols,UR=Object.prototype.hasOwnProperty,FR=Object.prototype.propertyIsEnumerable,G1=(n,t,r)=>t in n?LR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$l=(n,t)=>{for(var r in t||(t={}))UR.call(t,r)&&G1(n,r,t[r]);if(z1)for(var r of z1(t))FR.call(t,r)&&G1(n,r,t[r]);return n},wc=(n,t)=>BR(n,kR(t)),Cc=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Z1=({selected:n})=>(0,e.h)("span",{className:f()(ai.circle,n&&ai.selectedPlan)}),jR=({pub:n,includeHeaderCloseButton:t,close:r})=>{const i=n.logo_url||n.author_photo_url,u=()=>{(0,b.redirect)((0,v.pathWithQuery)((0,ae.getBaseUrl)(n),{utm_source:"suggest",utm_campaign:n.id}),{newTab:!0})};return(0,e.h)(Ne.tu,{justifyContent:"center",alignItems:"center",gap:16},t&&(0,e.h)(Ns.Z,{className:ai.closeModal,onClick:r}),(0,e.h)("img",{src:(0,ae.imginary)(i,40*2,{height:40*2,smartCrop:!0}),className:ai.publicationIcon,onClick:u}),(0,e.h)("div",{onClick:u,className:ai.clickable},(0,e.h)(q.xv,{as:"h3",size:20,font:"text",lineHeight:24,color:"pub-primary-text",align:"center"},"Choose a plan for ",n.name||n.author_name)))},WR=({plan:n,selected:t,currentPrice:r,foundingOnChange:i,setSelected:u})=>(0,e.h)(Ne.gq,{as:"label",alignItems:"center",gap:8,className:ai.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:u,className:ai.radio}),(0,e.h)(Z1,{selected:t}),(0,e.h)(q.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},(0,Be.getPlanTitle)(n)),(0,e.h)("span",null,(0,e.h)(q.xv,{as:"span",weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20,className:f()(ai.inputWrapper,{[ai.spacing]:t})},(0,e.h)(gR,{amount:r!=null?r:0,disableInput:!t,isSelected:t,outlineOnSelect:!0,plan:n,showDuration:!1,onChangeAmount:i}),(0,e.h)(q.xv,null,"per year")))),Y1=({plan:n,selected:t,isFreePlan:r,setSelected:i})=>{const u=r?"None":(0,Be.getPlanTitle)(n),D=r?"":(0,b.planToString)(n);return(0,e.h)(Ne.gq,{as:"label",alignItems:"center",gap:8,className:ai.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:i,className:ai.radio}),(0,e.h)(Z1,{selected:t}),(0,e.h)(q.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},u),(0,e.h)(q.xv,{weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20},D))},J1=({benefit:n,ineligible:t})=>(0,e.h)(Ne.gq,{alignItems:"center",justifyContent:"center",gap:8},(0,e.h)(Ne.gq,{className:ai.benefitIcon},t?(0,e.h)(TR,{width:16,height:16}):(0,e.h)(ER,{width:16,height:16})),(0,e.h)(q.xv,{size:14,lineHeight:20,weight:"normal",font:"text",color:"pub-secondary-text",style:{textDecoration:t?"line-through":"none",overflow:"hidden"}},n)),HR=({plans:n,selectedPlan:t,paidBenefits:r,freeBenefits:i,foundingPlanPrice:u,setSelectedPlan:D,setFoundingPlanPrice:k})=>{const H=t==="free";return(0,e.h)(Ne.tu,{alignItems:"start",justifyContent:"start",gap:16,className:ai.planOptions},n==null?void 0:n.map(U=>{const ee=$f(U),ve=U.id===t;return ee?(0,e.h)(WR,{plan:U,currentPrice:u,selected:ve,foundingOnChange:k,setSelected:()=>D(U.id)}):(0,e.h)(Y1,{plan:U,selected:ve,isFreePlan:!1,setSelected:()=>D(U.id)})}),(0,e.h)(Y1,{plan:null,selected:t==="free",isFreePlan:!0,setSelected:()=>D("free")}),r.map(U=>(0,e.h)(J1,{benefit:U,ineligible:t==="free"})),H&&(i==null?void 0:i.map(U=>(0,e.h)(J1,{benefit:U,ineligible:!1}))))},VR=({stripeCard:n,cardLast4:t})=>(0,e.h)(Ne.tu,{gap:12,className:ai.fullWidth},(0,e.h)(Ne.tu,{className:ai.fancyStripe,alignItems:"center",justifyContent:"center"},t?(0,e.h)("div",{className:"input card-on-file"},(0,e.h)(Ne.gq,{paddingTop:12,paddingBottom:12,gap:12},(0,e.h)(K1,{className:ai.cardOnFileIcon}),(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},t?`**** **** **** ${t}`:"Use card on file"))):n&&(0,e.h)(Nr.GP,{className:"input",card:n}))),KR=({pub:n})=>(0,e.h)(q.xv.B4,{color:"pub-secondary-text",align:"center"},"By subscribing you agree to"," ",(0,e.h)("a",{className:ai.tos_text,target:"_blank",rel:"noopener",href:(0,v.pathWithQuery)("/tos",{utm_source:"subscribe"})},"Substack's Terms of Use"),", ",(0,e.h)("a",{className:ai.tos_text,target:"_blank",rel:"noopener",href:(0,v.getPrivacyUrl)({pub:n,utm_source:"subscribe"})},"our Privacy Policy")," ","and"," ",(0,e.h)("a",{className:ai.tos_text,target:"_blank",rel:"noopener",href:(0,v.updateQuery)(`${(0,v.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe"})},"our Information collection notice")),$R=({pub:n,isFreeSubscribed:t,loading:r,freePlanSelected:i,allowFreePlanReselection:u,onSuccess:D})=>{let k="Subscribe";return r?k="Subscribing...":i&&(k=t?"You're already on the free plan":"Continue without paying"),(0,e.h)(e.Fragment,null,(0,e.h)(kr.zx,{priority:"primary-theme",className:ai.subscribeButton,onClick:D,disabled:r||!u&&i&&t},k),(0,e.h)(KR,{pub:n}))},zR=({error:n})=>(0,e.h)(q.xv.B4,{align:"center",color:"error"},n),GR=({isFreeSubscribed:n,pub:t,recommendingPubId:r,user:i,cardLast4:u,stripe_publishable_key:D,email:k,includeHeaderCloseButton:H=!1,source:U,sameDomain:ee=!0,allowFreePlanReselection:ve=!0,onClose:xe,onSuccess:Le,subscribe_auth_token:ze})=>{const[qe,Je]=(0,o.eJ)(""),[st,Ct]=(0,o.eJ)({}),[bt,Dt]=(0,o.eJ)(!1),[Ut,Rt]=(0,o.eJ)(null),[Qt,pn]=(0,o.eJ)(null),[En,_n]=(0,o.eJ)(""),[fn,Zn]=(0,o.eJ)(0),[Gn,$n]=(0,o.eJ)(!1),yn=(0,o.sO)(null),Ln={publication_id:t.id,source:U};r&&(Ln.recommending_publication_id=r,Ln.recommended_publication_id=t.id),(0,o.d4)(()=>{var Xt,On;const Jt=(0,Nr.lQ)(D,t),Qn=Jt&&(0,Nr.UD)(Jt);Rt(Jt),pn(Qn);const Bn={};(Xt=t==null?void 0:t.plans)==null||Xt.forEach(Dr=>{$f(Dr)?Zn(Dr==null?void 0:Dr.amount):Dr.interval==="year"&&Je(Dr.id),Bn[Dr.id]=Dr}),Bn.free={id:"free"},qe||Je((On=t==null?void 0:t.plans[0])==null?void 0:On.id),Ct(Bn),(0,M.j)(M.FP.PLAN_PURCHASE_BOX_SEEN,$l({},Ln))},[t,i==null?void 0:i.has_saved_payment]);const br=()=>Cc(void 0,null,function*(){return Ut?yield Ut.createToken(Qt):{token:null,error:{message:""}}}),Xn=()=>Cc(void 0,null,function*(){var Xt;const On=st[qe];let Jt;if(!u){const{token:Dr,error:lr}=yield br();if(lr)return Dt(!1),_n(lr&&lr.message),(0,M.j)(M.FP.PLAN_PURCHASE_BOX_STRIPE_ERROR,{type:lr&&lr.type,code:lr&&lr.code,decline_code:lr&&lr.decline_code,reason:lr&&lr.message}),{subscription_id:null,error:lr};Jt=Dr}const Qn={email:k,captcha_response:Gn&&((Xt=yn==null?void 0:yn.current)==null?void 0:Xt.getResponse()),amount:$f(On)?fn*100:On.amount,stripe_token:Jt,plan:On.id};return ee||(Qn.subscribe_to_pub_id=t.id,Qn.subscribe_auth_token=ze),{subscription_id:(yield ft().post(`/api/v1/subscription?utm_source=${U!=null?U:"plan-purchase-box"}`).send(Qn)).body.subscription_id,error:null}}),Cn=()=>Cc(void 0,null,function*(){try{return(yield ft().get("/api/v1/subscription/last4")).body.last4}catch(Xt){return""}}),Mn=Xt=>{Zn(Xt.toString().replace(/[^\d.]/g,""))},ar=Xt=>{Je(Xt)},mr=()=>Cc(void 0,null,function*(){if(qe==="free"){(0,M.j)(M.FP.PLAN_PURCHASE_BOX_SUBMITTED,wc($l({},Ln),{plan_id:"free"})),xe();return}Dt(!0);try{const{subscription_id:Xt,error:On}=yield Xn();if(On){Dt(!1);return}(0,M.j)(M.FP.PLAN_PURCHASE_BOX_SUBMITTED,wc($l({},Ln),{plan_id:qe}));const Jt=u||(yield Cn());Le(Jt,Xt)}catch(Xt){if(Xt.response)switch(Xt.response.statusCode){case 400:_n($1(Xt.response));break;case 401:$n(!0);break;default:_n("Something went wrong. Please try again."),(0,M.j)(M.FP.PLAN_PURCHASE_BOX_ERROR,wc($l({},Ln),{errorMessage:$1(Xt.response)}))}else _n("Something went wrong. Please try again."),(0,M.j)(M.FP.PLAN_PURCHASE_BOX_ERROR,wc($l({},Ln),{errorMessage:Xt.message}))}Dt(!1)}),Hn=()=>{xe()},In=qe==="free";return(0,e.h)(Ne.tu,{justifyContent:"center",alignItems:"center",gap:32,className:ai.container},(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(jR,{pub:t,close:Hn,includeHeaderCloseButton:H}),(0,e.h)(HR,{plans:t.plans,paidBenefits:t==null?void 0:t.paid_subscription_benefits,freeBenefits:t==null?void 0:t.free_subscription_benefits,selectedPlan:qe,foundingPlanPrice:fn,setSelectedPlan:ar,setFoundingPlanPrice:Mn}),(0,e.h)(Ne.tu,{justifyContent:"center",alignItems:"center",gap:0},En&&(0,e.h)(zR,{error:En}),Gn&&(0,e.h)(lR.Z,{ref:yn}),!In&&(0,e.h)(VR,{cardLast4:u,stripeCard:Qt}),(0,e.h)(Wi.mz,{alignment:"center",includeDivider:!1,primaryButton:(0,e.h)($R,{pub:t,loading:bt,freePlanSelected:In,isFreeSubscribed:n,allowFreePlanReselection:ve,onSuccess:mr})})))};var ZR=It(55886);const wa={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--Yce7g",form:"frontend-components-SubscribePrompt-module__form--HqYBK",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--E1_n0",emailInput:"frontend-components-SubscribePrompt-module__emailInput--rslUF",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--OPDpP",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--BGgpW",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--eAS5i",signInLink:"frontend-components-SubscribePrompt-module__signInLink--zy99q",background:"frontend-components-SubscribePrompt-module__background--WF3cB",error:"frontend-components-SubscribePrompt-module__error--ZTiN5"};var YR=Object.defineProperty,X1=Object.getOwnPropertySymbols,JR=Object.prototype.hasOwnProperty,XR=Object.prototype.propertyIsEnumerable,Q1=(n,t,r)=>t in n?YR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,QR=(n,t)=>{for(var r in t||(t={}))JR.call(t,r)&&Q1(n,r,t[r]);if(X1)for(var r of X1(t))XR.call(t,r)&&Q1(n,r,t[r]);return n},qR=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const eL=300,tL=({pub:n,post:t,isTest:r,stripe_publishable_key:i})=>{const[u,D]=(0,o.eJ)(!1),[k,H]=(0,o.eJ)(!1),[U,ee]=(0,o.eJ)(!1),[ve,xe]=(0,o.eJ)(""),[Le,ze]=(0,o.eJ)([]),[qe,Je]=(0,o.eJ)(200),[st,Ct]=(0,o.eJ)(0),[bt,Dt]=(0,o.eJ)(!1),[Ut,Rt]=(0,o.eJ)(!1),Qt=(0,o.sO)(null),{exposeExperiment:pn,getExperimentVariant:En}=(0,Ke.jc)(),_n=(0,Ai.XA)(),fn=!_n&&En("post_page_modal_subscription_upsell"),Zn=fn&&n.payments_state==="enabled",Gn=Zn&&fn==="treatment",$n=`pub-${n.id}-subscribe-prompt-next-shown-at`,yn=`pub-${n.id}-takeover-next-shown-at`,Ln=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,br=document.getElementsByClassName("available-content"),Xn=br.length>0?br[0].scrollHeight:0;let Cn=600;Cn=Math.max(Math.min(Cn,Xn-Ln),600);const Mn=()=>{var Yn;const{height:Or,width:_r}=((Yn=Qt.current)==null?void 0:Yn.getBoundingClientRect())||{height:0,width:0};Je(typeof window!="undefined"&&window&&Qt.current?(window.innerHeight-Or)/2:200),Ct(typeof window!="undefined"&&window&&Qt.current?(window.innerWidth-_r)/2:0)};Mn(),(0,o.d4)(()=>{typeof window!="undefined"&&Mn()},[bt]);const[ar,mr]=(0,o.eJ)(Ln+Math.max(qe,Cn)),[Hn,In]=(0,o.eJ)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[Xt,On]=(0,o.eJ)("absolute"),[Jt,Qn]=(0,o.eJ)(Xt==="fixed"||Hn>ar-Ln),Bn=Xt==="fixed"?60:Math.min(Math.max((Hn-ar+Ln)/(Ln-qe)*60,0),60),Dr=(0,o.I4)(()=>{!_n&&Hn>=ar-eL&&H(!0)},[Hn,_n,ar,qe,H]);(0,o.d4)(()=>{if(r)return;let Yn=!0;Xn<=1.5*Ln&&(D(!0),Yn=!1);let Or=null;if(document!=null&&document.referrer){try{Or=new URL(document.referrer)}catch(_r){}((Or==null?void 0:Or.hostname)==="news.ycombinator.com"||(Or==null?void 0:Or.hostname)==="hckrnews.com")&&(D(!0),Yn=!1)}(0,Si.mM)($n)>Date.now()&&D(!0),typeof window!="undefined"&&(window!=null&&window.Stripe)&&Rt(!0)},[]),(0,o.d4)(()=>{Jt&&(u||((0,M.j)(M.FP.SUBSCRIBE_PROMPT_SHOWN,{post_id:t.id}),(0,Si.ex)($n,dr()().add(1,"hour").valueOf()),(0,Si.ex)(yn,dr()().add(1,"hour").valueOf())))},[Jt,u]),(0,o.d4)(()=>{k&&((0,M.j)(M.FP.SUBSCRIBE_PROMPT_DISMISSED,{post_id:t.id}),(0,Si.ex)($n,dr()().add(1,"day").valueOf()),(0,Si.ex)(yn,dr()().add(1,"hour").valueOf()))},[k]);const lr=Yn=>{window.location.href=(0,v.getPostUrl)(n,t,{urlParams:{subscribe_prompt:Yn}})},Ar=(0,o.I4)(Yn=>qR(void 0,null,function*(){var Or,_r,Fr,Co,Zr;if(!U){ee(!0),ze([]),(0,M.j)(M.FP.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:t.id});try{const io=yield ft().post("/api/v1/free").send({email:Yn,source:"post-subscribe-prompt"});Zn&&pn("post_page_modal_subscription_upsell"),Gn?Dt(!0):n.payments_state!=="enabled"&&!n.has_recommendations?lr("free"):document.location.href=(0,v.getSubscribeUrl)(n,QR({utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:t&&t.id,simple:!0,just_signed_up:!0,next:(0,v.getPostUrl)(n,t),requires_confirmation:io.body.requires_confirmation?"true":""},io.body.subscription_id&&{subscription_id:io.body.subscription_id}))}catch(io){(_r=(Or=io==null?void 0:io.response)==null?void 0:Or.body)!=null&&_r.error&&typeof io.response.body.error=="string"?ze([io.response.body.error]):(Co=(Fr=io==null?void 0:io.response)==null?void 0:Fr.body)!=null&&Co.errors&&Array.isArray(io.response.body.errors)&&io.response.body.errors.length>0&&typeof((Zr=io.response.body.errors[0])==null?void 0:Zr.msg)=="string"&&ze(io.response.body.errors.map(ua=>ua.msg))}finally{ee(!1)}}}),[t,n,U,ee]);return(0,o.d4)(()=>{if(u||k)return;const Yn=()=>{const Or=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),_r=Or-Hn;_r>0&&Xt==="absolute"&&Or>ar-qe&&On("fixed"),_r<0&&Xt==="fixed"&&(On("absolute"),mr(Hn+qe)),_r<0&&Xt==="absolute"&&Or<ar-Ln&&mr(Ln+Math.max(qe,Cn,Hn)),In(Or),(Xt==="fixed"||_r>0&&Or>ar-Ln)&&Qn(!0)};return window.addEventListener("scroll",Yn),window.addEventListener("resize",Yn),()=>{window.removeEventListener("scroll",Yn),window.removeEventListener("resize",Yn)}},[Xt,ar,mr,Hn,In,Qn]),(0,o.d4)(()=>{if(u||k)return;const Yn=Or=>{Or.key==="Escape"&&H(!0)};return window.addEventListener("keydown",Yn),()=>{window.removeEventListener("keydown",Yn)}},[u,k,H]),u||k?(0,e.h)(e.Fragment,null):(0,e.h)(e.Fragment,null,!Ut&&Gn&&(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(Ne.tu,{ref:Qt,className:wa.subscribeDialog,style:{top:Xt==="absolute"?`${ar}px`:`${qe}px`,left:`${st}px`,position:Xt},alignItems:"center"},bt?(0,e.h)(GR,{email:ve,pub:n,stripe_publishable_key:i,isFreeSubscribed:!0,includeHeaderCloseButton:!0,allowFreePlanReselection:!0,onClose:()=>lr("free"),onSuccess:()=>lr("paid"),source:"subscribe-prompt"}):(0,e.h)(e.Fragment,null,(0,e.h)(Ne.gq,{justifyContent:"center",alignItems:"end",paddingBottom:20},(0,e.h)("div",{className:wa.pictureBox},(0,e.h)(fl.qE,{user:{photo_url:n.author_photo_url},size:64,className:wa.authorIcon}),n.logo_url&&(0,e.h)(ZR.t,{src:n.logo_url,size:24,className:wa.childPublicationIcon,alt:n.name}))),(0,e.h)(q.xv.H4,{paddingBottom:4,align:"center",color:"pub-primary-text"},"Discover more from ",n.name),(0,e.h)(q.xv.B4,{color:"pub-secondary-text",paddingBottom:n.rankingDetail?4:24,align:"center"},n.hero_text),n.rankingDetail&&(0,e.h)(q.xv.Detail,{paddingBottom:24,color:"pub-secondary-text"},n.rankingDetailFreeSubscriberCount),(0,e.h)("form",{className:wa.form,onSubmit:Yn=>{Yn.preventDefault(),Ar(ve)}},(0,e.h)("input",{className:wa.emailInput,placeholder:"Type your email...",value:ve,disabled:U,onChange:Yn=>{Yn.stopPropagation(),Yn.preventDefault(),xe(Yn.currentTarget.value)}}),(0,e.h)("div",{id:"error-container"},Le&&Le.map(Yn=>(0,e.h)("div",{className:wa.error},Yn))),(0,e.h)(kr.zx,{type:"submit",disabled:U,grow:!0,priority:"primary-theme"},"Subscribe")),(0,e.h)(Ne.gq,{gap:8,alignItems:"center",justifyContent:"center",className:wa.dismissButton,onClick:()=>H(!0)},(0,e.h)(q.xv.B4,{weight:"semibold",color:"pub-secondary-text"},"Continue reading"),(0,e.h)(ll.Z,null)),(0,e.h)(q.xv.B4,{align:"center",className:wa.signInLink,weight:"semibold",color:"pub-primary-text"},(0,e.h)("a",{onClick:()=>{(0,M.j)(M.FP.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:t.id}),(0,b.redirect)((0,v.getSigninUrl)({for_pub:n.subdomain,redirect:(0,v.getPostUrl)(n,t)}))},style:{cursor:"pointer"}},"Sign in")," ")," ")),Bn>0&&(0,e.h)("div",{className:wa.background,onClick:Dr,style:{opacity:`${Bn}%`}}))};function nL({postId:n,onClose:t}){return(0,o.d4)(()=>{(0,M.j)(M.FP.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:n})},[]),(0,e.h)(Wi.u_,{isOpen:!0,onClose:t},(0,e.h)(Wi.xB,{includeClose:!0,onClose:t}),(0,e.h)(Wi.fe,null,(0,e.h)(Ne.tu,{alignItems:"center",gap:24},(0,e.h)(Ne.tu,{style:{textAlign:"center"},justifyContent:"center",gap:8},(0,e.h)(Wi.r6,null,"Listen to this post"),(0,e.h)(q.xv,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),(0,e.h)(rL,null))),(0,e.h)(Wi.mz,{includeDivider:!0,alignment:"center",primaryButton:(0,e.h)(aa.z,{variant:"primary",href:(0,v.getAppStoreRedirectUrl)({utm_source:"web",utm_campaign:"tts-modal"}),onClick:()=>(0,M.j)(M.FP.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:n})},"Get the app")}))}function rL(){const n="/img/main/tts-dialog";return(0,e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},(0,e.h)("source",{src:`${n}/nux.mp4`,type:"video/mp4"}),(0,e.h)("img",{width:374,height:233,src:`${n}/1x.png`,srcset:Array.from(oL(1,4)).map(t=>`${n}/${t}x.png ${t}x`).join(", ")}))}function*oL(n,t){for(let r=n;r<t;r++)yield r}var iL=Object.defineProperty,aL=Object.defineProperties,sL=Object.getOwnPropertyDescriptors,q1=Object.getOwnPropertySymbols,lL=Object.prototype.hasOwnProperty,uL=Object.prototype.propertyIsEnumerable,zf=(n,t,r)=>t in n?iL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zl=(n,t)=>{for(var r in t||(t={}))lL.call(t,r)&&zf(n,r,t[r]);if(q1)for(var r of q1(t))uL.call(t,r)&&zf(n,r,t[r]);return n},Oc=(n,t)=>aL(n,sL(t)),_a=(n,t,r)=>(zf(n,typeof t!="symbol"?t+"":t,r),r),Gf=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Zf="focus-comment-input",cL=["details","comments"],dL=(n,t)=>n&&!n.invite_only&&t&&t.has_publication&&!t.is_admin&&!t.is_contributor&&!t.is_public_admin&&(0,Rg.P)(t,n),fL=(n,t,r,i)=>n.payments_state==="enabled"?!(t!=null&&t.is_subscribed):t!=null&&t.is_free_subscribed&&n.payments_state==="disabled"&&!n.invite_only?!i&&r&&!(t!=null&&t.is_pledged):!(t!=null&&t.is_free_subscribed);class Yf extends e.Component{constructor(t,r){var i,u;super(t,r),_a(this,"onTopReached",U=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,M.jJ)({post:this.props.post,hasPaywall:U,surface:"publication"}),this.props.user&&!this.props.noPageview&&Promise.resolve(ft().post(`/api/v1/posts/${this.props.post.id}/seen`)))}),_a(this,"onCommentButtonClicked",U=>{if(this.props.post.type==="podcast"){U.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var ee;(ee=this.podcastCommentInput.current)==null||ee.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(U.stopPropagation(),U.preventDefault(),document.dispatchEvent(new CustomEvent(Zf)))}),_a(this,"handleClickTab",U=>{this.setState({activeTab:U}),U==="comments"&&!this.state.podcastComments&&this.loadComments()}),_a(this,"handleAddPodcastComment",U=>{this.setState({podcastComments:[U].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})}),_a(this,"handleUpdatePodcastComments",U=>{let ee=0;const ve=(Le,ze)=>Le.map(qe=>qe.id===ze.id?(ze.status==="deleted"?ee-=1:ee+=ze.children.length-qe.children.length,ze):Oc(zl({},qe),{children:ve(qe.children,ze)})),xe=ve(this.state.podcastComments,U);this.setState({podcastComments:xe,addedPodcastComments:this.state.addedPodcastComments+ee})}),_a(this,"handleUpdateSortPodcastComments",U=>{(0,M.j)(M.FP.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:U}),this.setState({commentSort:U},()=>{this.loadComments()})});const D=(0,b.getUrlHash)();this.state={autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(i=t.post.default_comment_sort)!=null?i:"best_first",activeTab:cL.includes(D)?D:"details",loadedWithHeaderLink:typeof window!="undefined"&&((u=window.location.hash)==null?void 0:u.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null},!t.paywall&&!t.post.hidden&&t.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=_L(t.post.body_html),this.state.truncated=t.truncateAt?mL(t.post.body_html,t.truncateAt,t.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,v.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,v.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.podcastPlayer=(0,e.createRef)(),this.shouldShowRecommendCta=dL(t.pub,t.user);const H=(typeof window!="undefined"&&window._preloads.publicationSettings||{}).enable_post_page_conversion===!0;this.shouldShowSubscribePrompt=t.post.type==="newsletter"&&H&&!t.disableSubscribePrompt&&!t.paywall&&!t.freeSignup&&!t.user&&!D&&!t.readerIsSearchCrawler}loadReactors(){return Gf(this,null,function*(){const[t,r]=yield Promise.all([ft().get(`/api/v1/post/${this.props.post.id}/reactors`),ft().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:t.body,restackers:r.body})})}componentDidMount(){return Gf(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,Be.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,M.j)(M.FP.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,M.K8)({post:this.props.post});const t=(0,v.getQueryItem)("subscribe_prompt");t&&(t==="paid"?this.props.popToast(r=>(0,e.h)(qt.FN,Oc(zl({},r),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(r=>(0,e.h)(qt.FN,Oc(zl({},r),{text:`Subscribed to ${this.props.pub.name}`}))))})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return Gf(this,null,function*(){const t={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const r=yield ft().get(`/api/v1/post/${this.props.post.id}/comments`).query(t);this.setState({podcastComments:r.body.comments})}catch(r){alert((0,b.getNetworkErrorMessage)(r))}})}triggerShare({fromEmail:t}={}){t?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(t){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,M.xG)({post:this.props.post,hasPaywall:t,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:t,user:r,pub:i,getSettingFor:u}=this.props,{canShowSubscribeFooterAfterPost:D}=this.state;return t&&D?fL(i,r,u("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const t=document.createElement("div");t.innerHTML=this.props.post.body_html;const r=this.props.pub.post_preview_limit||Be.DEFAULT_PREVIEW_LIMIT;let i="",u=!1;for(let D=t.childNodes.length-1;D>=0;D--){const k=t.childNodes[D];if(i+=k.textContent,i.length>r){u=!0;break}}return u}render({commentsEnabled:t,user:r,pub:i,post:u,freeSignup:D,freeSignupEmail:k,reaction_token:H,invisible:U,paywall:ee,onChange:ve,hideTitle:xe,noTitleLink:Le,showComments:ze,fromPostPage:qe,freeTrialCoupon:Je,showRestackModal:st,stripe_publishable_key:Ct,crossPostInfo:bt},{activeTab:Dt,loadedWithHeaderLink:Ut,truncated:Rt,coupon:Qt,autoPlay:pn,autoPlayVoiceOver:En,podcastComments:_n,commentSort:fn,addedPodcastComments:Zn,reactors:Gn,restackers:$n}){var yn,Ln,br,Xn,Cn,Mn;const ar=(0,wi.default)("like_posts_enabled"),mr=(0,wi.default)("allow_podcast_transcription");let Hn=null;(r&&(r.is_subscribed||r.is_free_subscribed)||D||i.podcast_feed_url||(Ln=(yn=u.section)==null?void 0:yn.podcastSettings)!=null&&Ln.podcast_feed_url)&&(Hn=(0,v.getPodcatcherSetupUrl)(i));const In=!ee||ee&&this.shouldTrackPaywallPostSeen(),Xt=u.type==="video"&&(ee?RD:Cl),On=u.type==="podcast"&&t,Jt=u.comment_count+Zn,Qn=this.shouldShowUFI(),Bn=ny(u),Dr=Gn?Gn.length>0:!1;let lr="paid subscribers";return u.audience==="founding"&&(lr=`subscribers in the ${(br=(0,ba.getFoundingTierName)(i))!=null?br:"Founding Member"} plan`),(0,e.h)("article",{className:f()(`typography ${u.type}-post post`,{"tw-p-0":u.type==="podcast"}),ref:this.containerRef},(r==null?void 0:r.is_contributor)&&(u==null?void 0:u.id)&&(u==null?void 0:u.type)==="page"&&(0,e.h)(aa.z,{variant:"themed-secondary",href:(0,ae.getEditPostUrlById)(i,u.id,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(_l.Z,{size:20})},"Edit"),(0,e.h)(gL,{post:u,user:r,onChange:ve}),(0,e.h)(Wl.ZP,{ref:this.shareDialogRef,user:r,pub:i,post:u,reaction_token:H,source:"email-share"}),this.shouldShowSubscribePrompt&&(0,e.h)(tL,{pub:i,post:u,stripe_publishable_key:Ct}),u.videoUpload&&Xt&&(0,e.h)(Xt,{mediaUpload:u.videoUpload,pub:i,post:u,autoPlay:pn,restorePlaybackLocation:!0,reaction_token:H}),u.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(nN,{bylinesEnabled:i.bylines_enabled,commentCount:Jt,commentsEnabled:t,freeSignupEmail:k,isFreeSignup:D,isLikesEnabled:ar,isPaywall:ee,post:u,pub:i,magicToken:H,renderEditButton:()=>(0,e.h)(Wf.l,{pub:i,post:u,iconHeight:18,user:r,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:r,onChange:ve,onClickCommentButton:t?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached,playerRef:this.podcastPlayer}),On&&(0,e.h)(lN,{activeTab:Dt,loadedWithHeaderLink:Ut,commentCount:Jt,onClickTab:this.handleClickTab,transcription:(Xn=u.podcastUpload)==null?void 0:Xn.transcription,playerRef:this.podcastPlayer})):(0,e.h)(e.Fragment,null,(0,e.h)(Sc,{user:r,pub:i,post:u,isOnPostPage:!0,freeSignup:D,freeSignupEmail:k,reaction_token:H,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:xe,noTitleLink:Le,onChange:ve,hideDate:u.type==="page",hideAudience:u.type==="page",showReactions:ar,showComments:ze,showLabel:!0,showUpdatedIcons:!0,fromPostPage:qe,onClickCommentButton:this.onCommentButtonClicked,reactors:Gn,showRestackModal:st}),!U&&In&&(0,e.h)(Me,{onVisible:()=>this.onTopReached(ee)}),(u.has_voiceover||!!u.voiceoverUpload)&&(0,e.h)(_T,{pub:i,post:u,mediaUploadId:u.voiceover_upload_id,duration:(Cn=u.voiceoverUpload)==null?void 0:Cn.duration,autoPlay:En,href:u.canonical_url,isPaywalled:!u.voiceover_upload_id}),!u.voiceoverUpload&&En&&Bn&&(0,e.h)(nL,{postId:u.id,onClose:()=>{(0,M.j)(M.FP.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:u.id}),this.setState({autoPlayVoiceOver:!1})}})),bt?(0,e.h)(vN,{postType:u.type,crossPostInfo:bt}):null,(u.type!=="podcast"||Dt==="details"||!t)&&(0,e.h)("div",{className:f()({"container container--podcast-post container--podcast-post-with-ufi":u.type==="podcast"})},(0,e.h)("div",{className:"available-content"},(0,e.h)(Qu,{html:Rt||u.body_html,pub:i,trackSelection:!0,user:r,freeSignup:D,freeSignupEmail:k,post:u,paywall:ee,showing_behind_paywall:!!u.post_paywall_content_for_google})),u.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)(Qu,{html:u.post_paywall_content_for_google,pub:i,trackSelection:!1,user:r,freeSignup:D,freeSignupEmail:k,post:u,paywall:ee})),!U&&In&&(0,e.h)(Me,{onVisible:()=>this.onBottomReached(ee)}),ee&&!u.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,(0,e.h)(Rl,zl({user:r,freeSignupEmail:k,freeSignup:D,publication:i,post:u,fromPostPage:qe,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Je:null},Object.assign({title:`${u.type==="video"&&((Mn=u.videoUpload)==null?void 0:Mn.preview_duration)>0?"The full":"This"} ${(0,Be.getPrintedPostType)(u.type)} is for ${lr}`,reauthenticationTitle:"To read this, please re-authenticate."},ee))),(0,e.h)(E1,{post:u})):Rt?(0,e.h)("p",null,(0,e.h)(be.Z,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",I`show full post`)):!["page"].includes(u==null?void 0:u.type)&&(0,e.h)(e.Fragment,null,Qn&&(0,e.h)(pL,{pub:i,post:u,user:r,freeSignup:D,freeSignupEmail:k}),!Qn&&this.shouldShowRecommendCta&&(0,e.h)(aR,{pub:i}),(0,wi.default)("like_posts_enabled")&&i.community_enabled&&Dr&&(0,e.h)(qt.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(g1,{post:u,pub:i,user:r,reactors:Gn,secondaryFaces:$n})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(Ko.Mp,{post:u,pub:i,user:r,onChange:ve})),(0,e.h)(E1,{post:u})),u.show_guest_bios&&u.type!=="podcast"&&(0,e.h)(hL,{user:r,pub:i,post:u})),u.type==="podcast"&&Dt==="comments"&&t&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(l6,{comments:_n,expectedCommentCount:Jt,post:u,pub:i,sort:fn,token:H,user:r,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})),mr&&u.type==="podcast"&&Dt==="transcription"&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(BD,{post:u,pub:i,user:r,playerRef:this.podcastPlayer})))}}_a(Yf,"contextType",va),_a(Yf,"displayName","Post");const Jf=(0,qt.dd)((0,ut.us)(Yf)),pL=({pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:u,overridePledgesEnabled:D})=>{const{getSettingFor:k}=(0,ut.So)(),H=n.payments_state==="disabled"&&!n.invite_only&&(k("payment_pledges_enabled")||D),U=n.payments_state==="enabled"&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_subscribed)?"paid_upsell":H&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?"pledge_upsell":"free_upsell";(0,o.d4)(()=>{(0,M.j)(M.FP.POST_END_CTA_RENDERED,{pub_id:n.id,post_id:t.id,type:U})},[n.id,t.id,U]);const ee=(0,Be.getByLine)(n);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(Me,{onVisible:()=>{(0,M.j)(M.FP.POST_END_CTA_SEEN,{pub_id:n.id,post_id:t.id,type:U})}}),(0,e.h)("h3",null,H&&(r!=null&&r.is_free_subscribed)?"Support ":"Subscribe to ",n.name),(0,e.h)("p",{className:"end-cta-author-subs"},ee?`By ${ee}`:null,ee&&n.rankingDetail?" \xB7 ":null,n.rankingDetail),n.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},n.hero_text),H&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?(0,e.h)(kr.zx,{priority:"primary-theme",onClick:()=>{(0,M.j)(M.FP.POST_END_CTA_CLICKED,{type:"pledge"}),(0,b.redirect)((0,ae.getSubscribeUrl)(n,{utm_source:"post-end-cta"}),{local_navigation:!1})}},"Pledge your support"):(0,e.h)(Fs,{pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:u,isStatic:!1,source:"post-end-cta"}))},ey=({pub:n})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${n&&n.bylines_enabled&&n.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),Sc=({allowEdit:n,allowSendEmail:t,allowTruncate:r,base_url:i,children:u,className:D,hideAudience:k,hideDate:H,hideTitle:U,hidePinning:ee,noTitleLink:ve,isStatic:xe,isFreePreview:Le,is_draft:ze,onChange:qe,post:Je,pub:st,reaction_token:Ct,showComments:bt,showDatetime:Dt,showEmailSent:Ut,showReactions:Rt,showShare:Qt,showSubtitle:pn,showPhoto:En,showLabel:_n,showRestack:fn,showCommentRestack:Zn,hideAuthor:Gn,user:$n,utm_source:yn,showUpdatedIcons:Ln,fromPostPage:br,onClickCommentButton:Xn,reactors:Cn,inThreadHead:Mn,publishedPost:ar,compEndsSoon:mr,compEndedRecently:Hn,siteConfigValues:In={},eligibleForTTS:Xt,showRestackModal:On,showIcon:Jt,isOnPostPage:Qn})=>{const Bn=(0,P.isMobile)({checkFirst4:!0}),Dr=typeof r=="number"?r:45,lr=Je.title&&Je.title.length>Dr,Ar=ze?Je.draft_title:Je.title,Yn=[(Jt||Je.type==="thread")&&(0,e.h)(Q8,{postType:Je.type,isStatic:xe,height:15,className:Je.type}),lr&&r?(0,Be.truncateWords)(Ar,Dr):Ar],Or=ze?Je.draft_subtitle:Je.subtitle;Je.section_id&&st.sections&&st.sections.length&&(Je.section=st.sections.find(ri=>ri.id===Je.section_id));const _r=!["page"].includes(Je==null?void 0:Je.type),Fr=_r&&xe&&mr&&(In==null?void 0:In.continue_support_cta_in_newsletter_emails),Co=ny(Je)||Xt||Je.voiceoverUpload,Zr=_r&&xe;let io;Je.post_url_override?io=Je.post_url_override:xe?io=Ei.Substitutions.POST_TITLE_URL:io=`${(0,ae.getPostUrl)(st,Je)}${yn?`?utm_source=${yn}`:""}`;const ua=`${st.base_url+(Je.section?(0,ae.getSectionUrl)(st,{section:Je.section}):"")}/?utm_source=substack&utm_medium=menu`;return(0,e.h)("div",{className:f()("post-header",D)},_n&&(st.parent_publication||Je.section)&&(0,e.h)(qt.hs,{className:"post-label"},(0,e.h)(qt.xv.Meta,{as:"a",size:14,href:ua},st.parent_publication?st.name:Je.section.name)),Fr&&(0,e.h)(cN,{post:Je,compAlreadyExpired:Hn}),!U&&(0,e.h)("h1",{className:f()("post-title",Je.is_published?"published":Je.type==="restack"?"email-only-cross-post":Je.type==="adhoc_email"?"adhoc":"unpublished")},ve?Yn:(0,e.h)("a",{href:io},Yn)),pn&&Or&&(0,e.h)("h3",{className:"subtitle"},Or),Qn&&!xe?(0,e.h)(qt.tu,{paddingBottom:16},(0,e.h)(qt.tu,{paddingY:16},(0,e.h)(yL,{post:Je,pub:st})),Bn?br&&(0,e.h)(Ko.mt,{post:Je,pub:st,user:$n,isStatic:xe,postReactionToken:Ct,onChange:qe,allowEdit:n,hidePinning:ee,showEmailSent:Ut,allowSendEmail:t,hideComments:!bt,onCommentsClick:Xn,showRestackModal:On}):(0,e.h)(Ko.Mp,{post:Je,pub:st,user:$n,onChange:qe,showRestackModal:On})):(0,e.h)(e.Fragment,null,_r&&!xe&&!ar&&!Mn?(0,e.h)(Lv,{className:"meta-subheader",pub:st,post:Je,user:$n,showDate:!H,showDatetime:Dt,isStatic:xe,postReactionToken:Ct,onChange:qe,allowEdit:n,hidePinning:ee,showEmailSent:Ut,allowSendEmail:t,allowMobileFooter:br,reactors:Cn,onCommentsClick:Xn,showRestackModal:On}):_r&&!xe&&ar?(0,e.h)(Ko._2,{post:Je,pub:st,user:$n,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Ct,showEmailSent:Ut,hideShare:!Qt||Je.type==="restack",hideComments:Je.type==="restack",hideSavePost:Je.type==="restack",hideReactions:Je.type==="restack",showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,preambleConfig:{showAudience:!k,showDate:!H,showDatetime:Dt,showAuthor:!Gn},position:"publisher-post-list"}):Mn&&!xe?(0,e.h)(Ko._2,{post:Je,pub:st,user:$n,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Ct,hideSavePost:!0,showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,onChange:qe,preambleConfig:{showAudience:!k,showDate:!H,showDatetime:Dt,showAuthor:!Gn},position:"publisher-post-list"}):_r?(0,e.h)(m8,{user:$n,pub:st,post:Je,showDate:!H,showDatetime:Dt,showEmailSent:Ut,showAudience:!k,showReactions:!Zr&&Rt,showComments:!Zr&&bt,showShare:!Zr&&Qt,showRestack:!Zr&&fn,reaction_token:Ct,onChange:qe,isStatic:xe,isFreePreview:Le,sharedShareDialog:!0,base_url:i,allowSendEmail:t,allowEdit:n,showAuthor:!Gn,showPhoto:En,hidePinning:ee,showUpdatedIcons:Ln,inThreadHead:Mn,fromPostPage:br,onClickCommentButton:Xn,reactors:Cn}):(0,e.h)("div",{className:"spacer",style:{height:24}}),_r&&Zr&&(0,e.h)(Ko.yT,{customization:{showShare:Qt,showComments:bt,showReactions:Rt,showListen:!fn&&!Le&&Co,showSave:!fn,showRestack:fn,showCommentRestack:Zn}})),u)};class Tc extends e.Component{constructor(){super(...arguments),_a(this,"onClick",t=>{const r=this.getLink();this.props.onClick&&this.props.onClick(),!this.props.disableInteractive&&(0,b.redirect)(r,{event:t})}),_a(this,"getLink",()=>{var t;return this.props.linkToComments?(0,ae.getPostUrl)(this.props.pub,this.props.post,{comments:this.props.linkToComments}):((t=this.props.post)==null?void 0:t.type)==="video"?(0,v.updateQuery)(this.props.post.canonical_url,{autoPlay:!0}):this.props.utm?(0,ae.pathWithQuery)(this.props.post.canonical_url,this.props.utm):this.props.post.canonical_url})}getMaxTitleLength(){let t=this.props.maxTitleLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=140),t}getMaxDescriptionLength(){let t=this.props.maxDescriptionLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=152),t}render({className:t,post:r,pub:i,user:u,showDate:D,hideShare:k,authorInMeta:H,imageAssetSize:U,imageAspectRatio:ee,onChange:ve,linkToComments:xe,showPublicationName:Le,isBigPost:ze,showPins:qe,hideDescription:Je,hideAuthor:st,isBelowTheFold:Ct}){const bt=this.getLink(),Dt=typeof window=="undefined"||(0,wi.default)("like_posts_enabled"),Ut=!st&&!H&&(i==null?void 0:i.bylines_enabled)&&(0,Be.getPrintedByline)(i,r),Rt=this.props.showCoverImage&&((0,Re.getCoverImageUrl)(r)||!this.props.coverImageOptional);!U&&!ee&&(ee=1.32);const Qt=U||336,pn=(0,Be.getBylineUsers)(r);return(0,e.h)("div",{className:f()("post-preview",t,{"has-image":Rt,"has-author-line":!H}),onClick:this.onClick},(0,e.h)(qt.tu,{className:"post-preview-container"},Rt&&r.type==="restack"&&(0,e.h)(qt.hs,{className:"post-preview-restack",alignItems:"center",gap:4,paddingBottom:8},(0,e.h)(mc.Z,{height:ze?26:16,className:"restack"}),(0,e.h)(qt.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)(qt.hs,{className:"post-preview-content-container",gap:4},Rt&&(0,e.h)(Ps,{className:"post-preview-image",imageAspectRatio:ee,post:r,imageWidth:Qt,isBelowTheFold:Ct}),(0,e.h)("div",{className:"post-preview-content"},(i==null?void 0:i.parent_publication)&&ze&&(0,e.h)(qt.hs,{className:"post-label"},(0,e.h)(qt.xv.Meta,{as:"a",size:14,href:`${i.base_url}/?utm_source=substack&utm_medium=menu`},i.name)),!Rt&&r.type==="restack"&&(0,e.h)(qt.hs,{className:"post-preview-restack",alignItems:"center",gap:4},(0,e.h)(mc.Z,{height:ze?26:16,className:"restack"}),(0,e.h)(qt.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)("a",{href:bt,className:`post-preview-title ${r.type}`},r.type==="thread"&&(0,e.h)(jf,{height:ze?26:17,className:"thread"}),r.type==="podcast"&&(0,e.h)(Bo,{height:ze?26:17,className:"podcast"}),r.type==="video"&&(0,e.h)(i1,{height:ze?26:19,width:ze?26:19,className:"video"}),xe&&r.type!=="thread"&&"Comments on: ",(0,Be.truncateWords)(r.title,this.getMaxTitleLength())),!Je&&(0,e.h)("a",{href:bt,className:"post-preview-description"},mi()((0,Be.truncateWords)(r.description,this.getMaxDescriptionLength()))),Ut&&(0,e.h)("div",{className:"post-preview-author"},pn.length>0?(0,Be.oxfordComma)(pn.map(En=>(0,e.h)(sa.Ct,{subject:En,utmSource:"byline"},(0,e.h)("a",{href:(0,v.getProfileUrl)(En,i),onClick:_n=>_n.stopPropagation()},En.name)))):(0,Be.getPrintedByline)(i,r)),i&&(0,e.h)(Ko._2,{pub:i,post:r,user:u,hideShare:r.type==="restack"||k,hideReactions:r.type==="restack"||!Dt,hideComments:r.type==="restack"||!(0,Be.showCommentsOnPost)({publication:i,post:r}),hideSavePost:r.type==="restack",showRestackButton:r.type!=="restack",hideFeedRestackButton:r.type==="restack",allowEdit:r.type!=="restack",editButtonIsLast:!0,labelStyle:"counts-or-none",style:"compressed",onChange:ve,showPreamble:!0,preambleConfig:{showPins:qe,showAudience:!0,showDate:D,showAuthor:r.type!=="restack"&&!st&&!Ut&&H,showPublicationName:Le,showCrossPostedPublicationName:!0},position:"post-list"})))))}}_a(Tc,"contextType",Kn.QA);const ty=({className:n,pub:t})=>(0,e.h)("div",{className:`post-preview-silhouette has-image ${n||""}`},(0,e.h)("div",{className:"post-preview-silhouette-image"}),(0,e.h)("div",{className:"post-preview-silhouette-content"},(0,e.h)("div",{className:"post-preview-silhouette-title"}),(0,e.h)("div",{className:"post-preview-silhouette-description"}),t&&t.bylines_enabled&&(0,e.h)("div",{className:"post-preview-silhouette-author"}),(0,e.h)("div",{className:"post-preview-silhouette-meta"}))),hL=({user:n,pub:t,post:r})=>{const i=(0,Be.getBylineUsers)(r).filter(u=>u.is_guest);return i.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),i.map(u=>{const D=(0,Be.guessFirstName)(u.name);let k=u.primaryPublicationSubscribeUrl;k&&(n!=null&&n.email)&&(k=(0,v.updateQuery)(k,{email:n.email,autoSubmit:!0,utm_source:"substack",utm_campaign:"guest_post_bio",utm_medium:"web"}));const H=(0,v.updateQuery)((0,ae.getReaderProfileUrl)(u),{utm_campaign:"guest_post_bio",utm_medium:"web"}),U=If.ZP.hasCustomProfilePhoto(u);return(0,e.h)("div",{className:f()("post-contributor-bio",{"post-contributor-bio-no-text":!u.bio}),"data-user-id":u.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},U&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(sa.Ct,{subject:u,utmSource:"byline"},(0,e.h)(If.ZP,{size:52,user:n,pub:t,subject:u}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},u.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!u.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),(0,e.h)(qt.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(sa.Ct,{subject:u,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:H,native:!0},u.name)),(0,e.h)(kt.s,{size:"sm",tier:u.bestseller_tier,userId:u.id})),u.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},u.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},k&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:k,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},"Subscribe to ",D)))))))))))}))};class CV extends null{render({renderPost:t,posts:r,hideFirstHeading:i,className:u,top:D,children:k}){return r=r.slice(0).sort((H,U)=>dayjs(U.post_date)-dayjs(H.post_date)),h("div",{className:`calendared-post-list ${u||""}`},D,flat(this.renderByHeading(r,"year",(H,U)=>[!U.isSameNow("year")&&h("h2",{date:U},U.year()),this.renderByHeading(H,"month",(ee,ve)=>[!(ve.isSameNow("year")&&ve.isSameNow("month"))&&h("h3",{date:U},get_month_name(ve)," ",!ve.isSameNow("year")&&ve.year()),ee.map(xe=>t(xe,r.indexOf(xe),r))])]),1/0).filter(H=>H).filter((H,U,ee)=>!i||U>=ee.findIndex(ve=>!ve.props||!ve.props.date)),k)}renderByHeading(t,r,i){return Array.from(group_by(t,u=>dayjs(u.post_date)[r]())).sort((u,D)=>D[0]-u[0]).map(([,u])=>i(u,dayjs(u[0].post_date)))}}function mL(n,t=1e4,r=t){if(typeof window=="undefined")return null;const i=document.createElement("div");if(i.innerHTML=n,i.textContent.length<t||i.childNodes.length<=1)return null;do i.removeChild(i.lastChild);while(i.childNodes.length>1&&i.textContent.length>r);return i.innerHTML}function _L(n,t=500){if(typeof window=="undefined")return!1;const r=document.createElement("div");r.innerHTML=n;let i="",u=!1;for(let D=r.childNodes.length-1;D>=0;D--){const k=r.childNodes[D];if((0,b.hasClass)(k,"button-wrapper")||(0,b.hasClass)(k,"subscription-widget-wrap")){u=!0;break}if(i+=k.textContent,i.length>t)break}return!u}function gL({post:n,user:t,onChange:r}){const{onSave:i}=(0,Ko.vk)({post:n,isSaved:!1});return(0,o.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,v.updateQuery)({action:null})),t)){const D=i();r({post:Oc(zl({},n),{is_saved:D})})}},[]),null}function ny(n){var t;return(t=n.audio_items)==null?void 0:t.some(r=>r.type==="tts")}const vL=new Intl.DateTimeFormat(void 0,{dateStyle:"medium"});function yL({post:n,pub:t}){const{publishedBylines:r=[]}=n,i=t.bylines_enabled&&(0,Be.getPrintedByline)(t,n)&&n.type!=="podcast",u=i&&t.byline_images_enabled&&r.some(({photo_url:k})=>!!k),D=n.type!=="page";return(0,e.h)(qt.hs,{justifyContent:"start",gap:12,alignItems:"center"},u&&(0,e.h)(qt.hs,null,(0,e.h)(Ll.ZP,{faces:r,hoverProfiles:!0,maximum:4,reverse:!0})),(0,e.h)(qt.tu,null,i&&(0,e.h)(qt.xv.Meta,{color:"pub-primary-text"},(0,e.h)(Gd.M,{array:r,formatter:k=>(0,e.h)(sa.Ct,{subject:k,utmSource:"byline"},(0,e.h)(qt.xv,{as:"a",href:(0,ae.getReaderProfileUrl)(k),decoration:"hover-underline"},k.name)),limit:4})),(0,e.h)(qt.hs,{gap:4},(0,e.h)(qt.xv.Meta,{color:"pub-secondary-text"},vL.format(dr()(n.post_date).toDate())),D&&(0,Re.isPaidAudience)(n.audience)&&(0,e.h)(qt.xv.Meta,{color:"pub-secondary-text"},"\u2219 Paid"))))}var bL=Object.defineProperty,ry=Object.getOwnPropertySymbols,PL=Object.prototype.hasOwnProperty,EL=Object.prototype.propertyIsEnumerable,Xf=(n,t,r)=>t in n?bL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qf=(n,t)=>{for(var r in t||(t={}))PL.call(t,r)&&Xf(n,r,t[r]);if(ry)for(var r of ry(t))EL.call(t,r)&&Xf(n,r,t[r]);return n},ws=(n,t,r)=>(Xf(n,typeof t!="symbol"?t+"":t,r),r),wL=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class $s extends e.Component{constructor(t,r){if(super(t,r),ws(this,"onTabClick",i=>u=>{u.preventDefault(),this.loadTab(i)}),ws(this,"onSearchInput",i=>{this.state.tab.id==="search"&&this.loadTab("search",i.target.value||"")}),ws(this,"onSearchKeyDown",i=>{this.state.tab.id==="search"&&i.key==="Escape"&&(i.target.blur(),this.loadTab(this.state.tabs[0].id))}),ws(this,"onPostClicked",(i,u,D,k)=>{(0,M.j)(M.FP.ARCHIVE_PAGE_POST_CLICKED,{post_id:u,tab:this.state.tab.id,rank_in_feed:D,source:k!=null?k:this.props.source})}),ws(this,"onSearchBlur",i=>{this.state.tab.id==="search"&&!i.target.value&&this.loadTab(this.state.tabs[0].id,"")}),ws(this,"loadTab",(i,u)=>wL(this,null,function*(){const D=this.state.tabs.find(ve=>ve.id===i);let k=!1;if(D.id==="search"&&typeof u=="string"&&D.query!==u&&(k=!0,D.query=u,D.posts=null,D.fullyLoaded=!1,D.loading=!1,D.loadingError=null),D.id!==this.state.tab.id?(this.setState({tab:D},()=>{D.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,v.updateQuery)({sort:D.id,search:D.query||null}))):k&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,v.updateQuery)({search:D.query||null})),D.loading||D.fullyLoaded)return;if(D.id==="search"&&!D.query){D.posts=[],D.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const H=(0,Be.randomString)();if(D.loading=H,D.loadingError=null,this.setState({tabs:this.state.tabs}),D.id==="search"&&D.query&&(yield new Promise(ve=>setTimeout(ve,300)),D.loading!==H))return;!this.state.tabs.find(ve=>ve.posts||ve.fullyLoaded||ve.loading||ve.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(ve=>setTimeout(ve,this.props.delayFirstLoad)));const ee=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const ve=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),xe=(yield ft().get(ee).query(Qf(Qf(Qf({sort:D.id==="search"?"new":D.id,search:D.id==="search"?D.query:"",offset:(D.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(D.loading!==H)return;D.posts=D.posts?D.posts.concat(xe):xe,D.fullyLoaded=xe.length<ve||this.props.maxPosts&&D.posts.length>=this.props.maxPosts}catch(ve){console.error("Failed to load tab:",ve),D.loadingError=ve}D.loading=!1,this.setState({tabs:this.state.tabs})})),ws(this,"onChange",({post:i})=>{i&&((0,b.stateTransaction)(this,u=>{let D=!1;const k=u.tabs.map(H=>H.posts).filter(H=>Array.isArray(H));for(const H of k){const U=H.findIndex(ee=>ee.id===i.id);U!==-1&&(H[U]=i,D=!0)}D&&this.setState({tabs:u.tabs})}),this.props.onChange&&this.props.onChange(i))}),!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(t){(t.hideTop!==this.props.hideTop||t.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var t,r;let i=[];i.push({id:"new",title:this.props.newTitle||"New",posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||i.push({id:"top",title:this.props.topTitle||"Top",posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(t=this.props.pub)!=null&&t.community_enabled&&((r=this.props.pub)!=null&&r.has_community_content)&&i.push({id:"community",title:this.props.communityTitle||"Community",posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),i=this.props.sortTabs&&this.props.sortTabs(i)||i,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&i.push({id:"search",title:"Search",posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const u=i.find(D=>D.id===this.props.sort)||this.props.search&&i.find(D=>D.id==="search")||i[0];return{tabs:i,tab:u}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:t,className:r,disableInteractive:i,emptyMessage:u="No posts",filterPosts:D,hideAuthor:k,hideSearchTab:H,hideShare:U,isBelowTheFold:ee,isPodcast:ve,maxPosts:xe,maxTitleLength:Le,pinnedPosts:ze,profile:qe,pub:Je,renderLoading:st,renderPosts:Ct,renderTabs:bt,renderSeeAll:Dt,showMonthDividers:Ut,showPins:Rt,showPublicationName:Qt,source:pn,user:En},{tabs:_n,tab:fn}){const Zn=Ut&&fn.id==="new",Gn=_n.find(Xt=>Xt.id==="search"),$n=_n.find(Xt=>Xt.id==="community");let yn=Array.isArray(fn.posts)?fn.posts.filter(Xt=>!(Je&&fn.id==="top"&&Xt.top_exclusions.includes(Je.id))).filter(Xt=>Je!=null&&Je.section&&(ze!=null&&ze.length)?!ze.find(On=>On.id===Xt.id):!0).filter(Xt=>!Be.hidePaidPostsFor.includes(Je==null?void 0:Je.subdomain)||Xt.audience==="everyone"||(En==null?void 0:En.is_subscribed)).filter(D||(()=>!0)):[];Je!=null&&Je.section&&(ze!=null&&ze.length)&&["new","top"].includes(fn.id)&&(yn=[...ze,...yn]);const Ln=yn.length===0,br=!yn&&!fn.loadingError,Xn=yn.some&&yn.some(Xt=>Xt.cover_image);let Cn;qe&&(Cn=new Map(qe.publicationUsers.map(Xt=>[Xt.publication.id,Xt.publication])));const Mn=xe?yn.slice(0,xe):yn,ar=Ct?Ct({posts:Mn,linkToComments:fn===$n,onClickPost:({event:Xt,post:On,index:Jt,source:Qn})=>this.onPostClicked(Xt,On.id,Jt,Qn),postGroups:Zn?CL(Mn):null}):[];if(!Ct){let Xt;Mn.forEach((On,Jt)=>{if(Zn){const Qn=As()(On.post_date).format("MMMM YYYY");Qn!==Xt&&(Jt!==0&&ar.push((0,e.h)("h3",null,Qn)),Xt=Qn)}ar.push((0,e.h)(Tc,{key:On.id,className:"portable-archive-post",post:On,pub:Je||Cn&&Cn.get(On.publication_id),user:En,showDate:!0,showCoverImage:Xn,authorInMeta:(0,Be.getBylineUsers)(On).length<=1&&t!==!1,linkToComments:fn===$n,onChange:this.onChange,disableInteractive:i,showPins:Rt,showPublicationName:Qt,hideAuthor:k,onClick:Qn=>this.onPostClicked(Qn,On.id,Jt,pn),maxTitleLength:Le,hideShare:U,isBelowTheFold:ee}))})}const mr=ve?(0,ae.getPodcastArchiveUrl)({pub:Je,section:Je.section,params:{sort:fn.id,search:fn.query}}):(0,v.getArchiveUrl)(Je,{params:{sort:fn.id,search:fn.query}}),Hn=Dt?Dt({url:mr}):(0,e.h)("a",{className:"portable-archive-all",href:mr,native:!0},"See all ",(0,e.h)(Dn,{height:12,width:12})),In=st?st():Array.from(new Array(this.getFetchLimit())).map(()=>(0,e.h)(ty,{pub:Je}));return(0,e.h)("div",{className:f()("portable-archive",r,{"empty-list":Ln})},bt&&bt({activeTabId:fn.id,isSearching:fn===Gn,showSearch:!!(Gn&&!H),searchInputProps:{value:Gn==null?void 0:Gn.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:Xt=>{this.searchInput=Xt},tabs:_n.filter(Xt=>!Xt.hidden),onClick:Xt=>{this.loadTab(Xt)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(_n[0].id)}}),!bt&&(0,e.h)("div",{className:"portable-archive-tabs"},fn===Gn?(0,e.h)("div",{className:"portable-archive-search-bar"},(0,e.h)(nc,{className:"portable-archive-search-bar-icon"}),(0,e.h)("input",{ref:Xt=>this.searchInput=Xt,className:"portable-archive-search-bar-input",type:"text",placeholder:"Search\u2026",value:fn.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur}),(0,e.h)(x.Z,{className:"portable-archive-search-bar-close",onClick:this.onTabClick(_n[0].id)})):(0,e.h)(e.Fragment,null,_n.filter(Xt=>!Xt.hidden).map(({id:Xt,title:On})=>(0,e.h)("a",{className:`portable-archive-tab ${Xt}-tab ${fn.id===Xt?"active":""}`,onClick:this.onTabClick(Xt)},(0,e.h)("span",{className:"portable-archive-tab-content"},On))),Gn&&!H&&(0,e.h)("a",{className:"portable-archive-tab search-tab",href:"javascript:void(0)",onClick:this.onTabClick("search")},(0,e.h)(nc,null)))),(0,e.h)("div",{className:"portable-archive-list"},fn.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},"Failed to load posts"):yn.length===0&&!fn.loading?(0,e.h)("p",{className:"portable-archive-empty"},fn.id!=="search"?u:fn.query?"No results":`Search ${Je?Je.name:""}`):(0,e.h)(e.Fragment,null,ar,!xe&&!br&&!fn.loading&&!fn.fullyLoaded&&(0,e.h)(Me,{threshold:640,onVisible:()=>this.loadTab(fn.id,fn.query)})),fn.loading||br?In:xe&&yn.length>=xe&&Hn))}}const CL=n=>{let t;const r=[];return n.forEach((i,u)=>{const D=As()(i.post_date).format("MMMM YYYY");D!==t?(u===0?r.push({label:"",posts:[i]}):r.push({label:D,posts:[i]}),t=D):r[r.length-1].posts.push(i)}),r},oy={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"},OL=({tabs:n,activeTabId:t,onClick:r})=>(0,e.h)(Ne.gq,{gap:8},n.map(i=>(0,e.h)(SL,{onClick:()=>{r(i.id)},active:i.id===t},i.title))),SL=({active:n,onClick:t,children:r})=>(0,e.h)("div",{className:f()(oy.pillTab,{[oy.pillTabActive]:n}),role:"button",onClick:t},r),qf=(0,e.createContext)({url:"",linkToComments:!1}),Gl=3/2,iy=16/9,TL=(0,jt.forwardRef)(({variant:n},t)=>["grid","grid-groups"].includes(n)?(0,e.h)(qt.tu,{gap:12,ref:t},(0,e.h)(la,{aspectRatio:Gl}),(0,e.h)(qt.tu,{gap:8},(0,e.h)(la,{height:24,width:"70%"}),(0,e.h)(la,{height:20,width:"90%"}),(0,e.h)(la,{height:20,width:"50%"}))):n==="list"?(0,e.h)(qt.tu,{gap:8,ref:t},(0,e.h)(la,{height:28,width:"60%"}),(0,e.h)(la,{height:24,width:"80%"}),(0,e.h)(la,{height:20,width:"20%"})):null),ay={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"},sy=(0,jt.forwardRef)(({postCount:n,variant:t},r)=>(0,e.h)("div",{className:f()({[ay.loadingContainerGrid]:["grid","grid-groups"].includes(t),[ay.loadingContainerList]:t==="list"}),ref:r},Array.from(new Array(n)).map(()=>(0,e.h)(TL,{variant:t})))),Zl={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"};var IL=Object.defineProperty,xL=Object.defineProperties,DL=Object.getOwnPropertyDescriptors,ly=Object.getOwnPropertySymbols,ML=Object.prototype.hasOwnProperty,AL=Object.prototype.propertyIsEnumerable,uy=(n,t,r)=>t in n?IL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,NL=(n,t)=>{for(var r in t||(t={}))ML.call(t,r)&&uy(n,r,t[r]);if(ly)for(var r of ly(t))AL.call(t,r)&&uy(n,r,t[r]);return n},RL=(n,t)=>xL(n,DL(t));const Ic=({children:n,communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:u,isPodcast:D,maxPosts:k,pinnedPosts:H,newPosts:U,pub:ee,search:ve,sectionId:xe,showMonthDividers:Le,sort:ze,sortTabs:qe,source:Je,user:st,variant:Ct="list"})=>(0,e.h)($s,{communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:u,isPodcast:D,maxPosts:k,newPosts:U,pinnedPosts:H,pub:ee,renderPosts:({posts:bt,linkToComments:Dt,onClickPost:Ut,postGroups:Rt})=>Rt?Rt.map(({label:Qt,posts:pn})=>(0,e.h)(e.Fragment,null,Qt&&(0,e.h)(e.Fragment,null,(0,e.h)(Cf,{paddingTop:8,paddingBottom:8}),(0,e.h)(qt.xv.Meta,{className:Zl.monthHeader,color:"pub-accent",paddingBottom:24},Qt)),n({posts:pn,linkToComments:Dt,onClickPost:Ut}))):n({posts:bt,linkToComments:Dt,onClickPost:Ut}),renderLoading:()=>(0,e.h)(sy,{variant:Ct,postCount:k!=null?k:7}),renderSeeAll:({url:bt})=>Ct==="grid-groups"?null:(0,e.h)(qt.gq,{paddingTop:16},(0,e.h)(qt.zx,{href:bt,rightIcon:(0,e.h)(ll.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},"See all")),renderTabs:({activeTabId:bt,isSearching:Dt,tabs:Ut,searchInputProps:Rt,searchRef:Qt,showSearch:pn,onClick:En,onClickSearch:_n,onClickSearchClose:fn})=>Ct==="grid-groups"?null:Dt?(0,e.h)(qt.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(qt.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(nc,{height:16,className:Zl.searchIcon}),(0,e.h)("input",RL(NL({},Rt),{ref:Qt,type:"text",placeholder:"Search...",className:Zl.searchInput}))),(0,e.h)("div",{role:"button",onClick:fn,className:Zl.iconButton},(0,e.h)(x.Z,{height:20}))):(0,e.h)(qt.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(OL,{activeTabId:bt,tabs:Ut,onClick:En}),pn&&(0,e.h)("div",{role:"button",onClick:_n,className:Zl.iconButton},(0,e.h)(nc,{height:20}))),sectionId:xe,search:ve,showMonthDividers:Le,sort:ze,sortTabs:qe,source:Je,stateInUrl:!0,user:st}),cy=(0,e.createContext)({alwaysShowActions:!1}),LL=({justified:n,post:t,pub:r,user:i,onChange:u})=>{const D=t.type==="restack";return(0,e.h)(Ko._2,{allowEdit:!D,editButtonIsLast:!0,hideComments:!(0,Be.showCommentsOnPost)({publication:r,post:t})||D,hideReactions:!r.community_enabled||D,hideShare:D,isStatic:!1,justified:n,labelStyle:"counts-or-none",post:t,pub:r,hideFeedRestackButton:D,showRestackButton:!D,style:"compressed",user:i,onChange:u,position:"pub-preview"})},Xa={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"},zs=({clamp:n,post:t,pub:r,showPin:i})=>{const u=(0,Be.getBylineUsers)(t);return(0,e.h)(qt.xv.Meta,{className:Xa.textContainer,color:"pub-secondary-text",clamp:n},i&&(0,e.h)("div",{className:Xa.icon},(0,e.h)(Hg,{size:12})),(0,Re.isPaidAudience)(t.audience)&&(0,e.h)("div",{className:f()(Xa.icon,n&&Xa.iconClamped)},(0,e.h)(Mv.Z,{audience:t.audience,size:12})),t.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:Xa.pub},"Published on ",t.restacked_pub_name),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:Xa.date,dateTime:dr()(t.post_date).toISOString()},(0,Ko.fh)({post:t,showDatetime:!1})),t.type!=="restack"&&u.length>0&&r.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,Be.oxfordComma)(u.map(D=>n?(0,e.h)("a",{className:Xa.link,href:(0,v.getProfileUrl)(D,r),onClick:k=>k.stopPropagation()},D.name):(0,e.h)(sa.Ct,{subject:D,utmSource:"byline"},(0,e.h)("a",{className:Xa.link,href:(0,v.getProfileUrl)(D,r),onClick:k=>k.stopPropagation()},D.name))),{noBreakSpace:!0})))},Yl=({align:n,clamp:t,lineHeight:r=20,maxLength:i=152,paddingBottom:u,post:D,size:k=14})=>{const{url:H}=(0,o.qp)(qf);return(0,e.h)(qt.tu,{paddingBottom:u},(0,e.h)(qt.xv,{as:"a",align:n,href:H,clamp:t,color:"pub-secondary-text",font:"text",size:k,lineHeight:r},mi()((0,Be.truncateWords)(D.description,i))))};var BL=It(98961);const Jl={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"},Gs=({align:n,clamp:t,lineHeight:r=30,maxLength:i=140,paddingBottom:u,post:D,size:k=20})=>{const{url:H,linkToComments:U}=(0,o.qp)(qf),ee=k>=28;return(0,e.h)(qt.tu,{paddingBottom:u},(0,e.h)(qt.xv,{as:"a",href:H,align:n,clamp:t,font:"pub-headings",lineHeight:r,size:k,weight:"semibold","data-testid":"post-preview-title"},D.type==="thread"&&(0,e.h)(jf,{height:ee?26:17,className:Jl.icon}),D.type==="podcast"&&(0,e.h)(Bo,{height:ee?26:17,className:Jl.icon}),D.type==="video"&&(0,e.h)(BL.Z,{height:ee?26:19,width:ee?26:19,className:f()(Jl.icon,Jl.iconVideo,Jl[`iconVideo-${k}`]),strokeWidth:1.8}),U&&D.type!=="thread"&&"Comments on: ",(0,Be.truncateWords)(D.title,i)))},xc={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"};var kL=Object.defineProperty,UL=Object.defineProperties,FL=Object.getOwnPropertyDescriptors,dy=Object.getOwnPropertySymbols,jL=Object.prototype.hasOwnProperty,WL=Object.prototype.propertyIsEnumerable,fy=(n,t,r)=>t in n?kL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,HL=(n,t)=>{for(var r in t||(t={}))jL.call(t,r)&&fy(n,r,t[r]);if(dy)for(var r of dy(t))WL.call(t,r)&&fy(n,r,t[r]);return n},VL=(n,t)=>UL(n,FL(t));const py=({actions:n,isSmall:t,post:r,pub:i})=>{const{isTablet:u}=pa(),D=!!(0,Re.getCoverImageUrl)(r);return(0,e.h)("div",{className:f()(xc.container,{[xc.containerNoImage]:!D})},D&&(0,e.h)(Ps,{className:xc.image,imageAspectRatio:t?Gl:iy,imageWidth:1280,isBelowTheFold:!1,post:r,squareImageSize:"large"}),(0,e.h)(qt.tu,{className:xc.content,alignItems:"center",justifyContent:"center",paddingX:D?32:64,paddingY:D?24:64},(0,e.h)(Gs,{post:r,align:"center",size:u?24:32,lineHeight:u?36:40,clamp:3,paddingBottom:8}),(0,e.h)(Yl,{post:r,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(zs,{post:r,pub:i}),(0,e.h)(qt.tu,{paddingTop:20},n({justified:!1}))))},KL=n=>(0,e.h)(py,VL(HL({},n),{isSmall:!0})),$L={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"},zL=({actions:n,hideImage:t,post:r,pub:i})=>(0,e.h)(qt.tu,null,!t&&(0,e.h)(Ps,{post:r,className:$L.image,imageWidth:1250,imageAspectRatio:Gl,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(qt.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(Gs,{post:r,align:"center",size:32,lineHeight:40,clamp:4,paddingBottom:8}),(0,e.h)(Yl,{post:r,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(zs,{post:r,pub:i}),(0,e.h)(qt.tu,{paddingTop:16},n({justified:!1})))),ep={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui",containerNoImage:"frontend-main-home-PostPreview-PostPreviewListing-module__containerNoImage--AXgbN",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"},GL=({actions:n,hideImage:t,post:r,pub:i,showPin:u})=>{const{isMobile:D}=pa();let k=!!i.community_enabled;return t&&!D&&(k=!1),(0,e.h)("div",{className:f()(ep.container,{[ep.containerNoImage]:t})},(0,e.h)(qt.tu,{gap:8},(0,e.h)(Gs,{clamp:3,post:r,size:D?16:20,lineHeight:D?24:30}),(0,e.h)(Yl,{clamp:2,post:r,size:14,lineHeight:t?24:20}),(0,e.h)(zs,{post:r,pub:i,showPin:u})),!t&&(r.cover_image?(0,e.h)(Ps,{className:ep.image,post:r,imageWidth:D?150:320,imageAspectRatio:D?1:Gl,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),n({justified:k}))},ZL={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"},YL=({actions:n,post:t,pub:r})=>{const i=!!r.community_enabled;return(0,e.h)(qt.tu,{padding:8},(0,e.h)(qt.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(qt.tu,{flex:"grow"},(0,e.h)(Gs,{post:t,clamp:2,size:14,lineHeight:20,paddingBottom:4}),(0,e.h)(zs,{clamp:1,post:t,pub:r})),(0,e.h)(Ps,{className:ZL.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:t})),n({justified:i}))},JL={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"},XL=({actions:n,hidePlaceholder:t,post:r,pub:i})=>{const u=!!i.community_enabled;return(0,e.h)(qt.tu,null,r.cover_image&&(0,e.h)(Ps,{post:r,className:JL.image,imageWidth:1250,imageAspectRatio:iy,isBelowTheFold:!1,hidePlaceholder:t,squareImageSize:"large"}),(0,e.h)(qt.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(qt.tu,{gap:8,paddingBottom:12},(0,e.h)(Gs,{post:r,size:24,lineHeight:36,clamp:3}),(0,e.h)(Yl,{post:r,size:14,lineHeight:20,clamp:3}),(0,e.h)(zs,{post:r,pub:i})),n({justified:u})))},QL={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"},qL=({actions:n,post:t,pub:r})=>{const{isMobile:i}=pa(),u=!!r.community_enabled;return(0,e.h)(qt.tu,{padding:i?0:8},(0,e.h)(Ps,{post:t,className:QL.image,imageWidth:600,imageAspectRatio:Gl,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(qt.tu,{paddingTop:12,flex:"grow"},(0,e.h)(qt.tu,{gap:8,flex:"grow",paddingBottom:12},(0,e.h)(Gs,{clamp:3,post:t,size:16,lineHeight:24}),(0,e.h)(Yl,{clamp:1,post:t}),(0,e.h)(zs,{post:t,pub:r})),n({justified:u})))},Dc={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu"},e7={jumbo:py,"jumbo-small":KL,large:zL,listing:GL,mini:YL,"mobile-hero":XL,square:qL},Mc=({disableInteractive:n,hideImage:t,linkToComments:r,variant:i,post:u,pub:D,showPin:k,testid:H,user:U,utm:ee,onChange:ve,onClick:xe})=>{const{alwaysShowActions:Le}=(0,o.qp)(cy),ze=e7[i];if(!ze)return(0,e.h)("div",null,"PostPreview: ",i," not implemented");const qe=t7({linkToComments:!!r,post:u,pub:D,utm:ee}),Je=st=>{xe&&xe(st),!n&&(0,b.redirect)(qe,{event:st})};return(0,e.h)(qf.Provider,{value:{url:qe,linkToComments:!!r}},(0,e.h)(qt.tu,{className:f()(Dc.container,{[Dc.containerWithBackground]:["large","jumbo","jumbo-small"].includes(i)}),"data-testid":H,radius:4,onClick:Je},(0,e.h)(ze,{hideImage:t,post:u,pub:D,showPin:k,actions:({justified:st})=>u.type==="restack"?null:(0,e.h)(qt.tu,{className:f()(Dc.actions,{[Dc["actions--always-show"]]:Le})},(0,e.h)(LL,{justified:st,post:u,pub:D,user:U,onChange:ve}))})))},t7=({linkToComments:n,post:t,pub:r,utm:i})=>n?(0,ae.getPostUrl)(r,t,{comments:!0}):t.type==="video"?(0,v.updateQuery)(t.canonical_url,{autoPlay:!0}):i?(0,ae.pathWithQuery)(t.canonical_url,i):t.canonical_url,Ba={container:"frontend-main-home-PostsLayout-module__container--ZMlBv","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"};var n7=Object.defineProperty,r7=Object.defineProperties,o7=Object.getOwnPropertyDescriptors,Ac=Object.getOwnPropertySymbols,hy=Object.prototype.hasOwnProperty,my=Object.prototype.propertyIsEnumerable,_y=(n,t,r)=>t in n?n7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qa=(n,t)=>{for(var r in t||(t={}))hy.call(t,r)&&_y(n,r,t[r]);if(Ac)for(var r of Ac(t))my.call(t,r)&&_y(n,r,t[r]);return n},Xl=(n,t)=>r7(n,o7(t)),gy=(n,t)=>{var r={};for(var i in n)hy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ac)for(var i of Ac(n))t.indexOf(i)<0&&my.call(n,i)&&(r[i]=n[i]);return r};const Ci=n=>{const{flex:t,hideImages:r,linkToComments:i,posts:u,pub:D,showSectionPins:k,source:H,user:U,utm:ee,variant:ve,onChange:xe,onClickPost:Le}=n;return ve==="two-three-two"?(0,e.h)(a7,Qa({},n)):ve==="two-small-three-medium"?(0,e.h)(i7,Qa({},n)):["mini-row","three-column-mini-row"].includes(ve)?(0,e.h)(s7,Qa({},n)):(0,e.h)("div",{style:t==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:f()(Ba.container,Ba[ve])},u.map((ze,qe)=>(0,e.h)(e.Fragment,null,qe>0&&["one-column-list","two-column-list","three-column-grid","large-listing-listing-column","square-square-column"].includes(ve)&&(0,e.h)(qt.gq,{className:Ba.divider,borderBottom:"detail-themed"}),[2,4].includes(qe)&&ve==="five-up"&&(0,e.h)(qt.gq,{className:Ba.divider,borderBottom:"detail-themed"}),qe%3===0&&qe>0&&["three-column-grid"].includes(ve)&&(0,e.h)(qt.gq,{className:Ba["long-divider"],borderBottom:"detail-themed"}),qe>0&&["mini-row","three-column-mini-row"].includes(ve)&&(0,e.h)(qt.gq,{className:Ba.divider,paddingY:16,alignItems:"center"},(0,e.h)(qt.gq,{borderLeft:"detail-themed"})),(0,e.h)(Mc,{testid:["large-listing-listing-column","two-small-one-large"].includes(ve)?`magazine-spot-${qe+1}`:void 0,hideImage:r,linkToComments:i,post:ze,pub:D,showPin:k&&ze.is_section_pinned,user:U,utm:ee,variant:vy(ve,qe),onChange:xe,onClick:Le&&H?Je=>{Le({event:Je,post:ze,index:qe,source:H})}:void 0}))),ve==="two-small-one-large"&&(0,e.h)(qt.gq,{borderBottom:"detail-themed"})))},i7=n=>{const t=n,{posts:r}=t,i=gy(t,["posts"]),u=r.slice(0,3),D=r.slice(3);return(0,e.h)(Ja,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(Ci,Xl(Qa({},i),{flex:"grow",variant:"large-listing-listing-column",posts:u,hideImages:!0})),(0,e.h)(Ci,Xl(Qa({},i),{flex:"grow",variant:"square-square-column",posts:D,hideImages:!1})))},a7=n=>{const t=n,{posts:r}=t,i=gy(t,["posts"]),u=r.slice(0,3),D=r.slice(3,5),k=r.slice(5);return(0,e.h)(Ja,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(Ci,Xl(Qa({},i),{flex:"grow",variant:"large-listing-listing-column",posts:u,hideImages:!0})),(0,e.h)(Ci,Xl(Qa({},i),{flex:"grow",variant:"square-square-column",posts:D,hideImages:!1})),(0,e.h)(Ci,Xl(Qa({},i),{flex:"grow",variant:"square-square-column",posts:k,hideImages:!1})))},s7=n=>{const{linkToComments:t,posts:r,pub:i,source:u,user:D,utm:k,variant:H,onChange:U,onClickPost:ee}=n,ve=H==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:f()(Ba.container,Ba[H])},r.slice(0,ve).map((xe,Le)=>(0,e.h)(e.Fragment,null,Le>0&&(0,e.h)(qt.gq,{className:Ba.divider,paddingY:16,alignItems:"center"},(0,e.h)(qt.gq,{borderLeft:"detail-themed"})),(0,e.h)(Mc,{linkToComments:t,post:xe,pub:i,user:D,utm:k,variant:vy(H,Le),onChange:U,onClick:ee&&u?ze=>{ee({event:ze,post:xe,index:Le,source:u})}:void 0}))),H==="two-small-one-large"&&(0,e.h)(qt.gq,{borderBottom:"detail-themed"})))},vy=(n,t)=>n==="square-square-column"?"square":n==="large-listing-listing-column"?t===0?"large":"listing":n==="two-small-one-large"?t===0?"large":"square":n==="two-column-list"?"listing":n==="five-up"?t===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(n)?"mini":"square",l7={container:"frontend-main-archive_page-module__container--Brctc"};function Ql({children:n,title:t,pub:r,user:i,freeSignup:u,freeSignupEmail:D,sort:k,search:H,newPosts:U,topPosts:ee,communityPosts:ve,searchPosts:xe,sectionId:Le,isPodcast:ze,metadata:qe}){const{getConfigFor:Je}=(0,Kn.xR)(),st=!!Je("updated_archives"),Ct=!!(r!=null&&r.theme);return(0,e.h)(S.ze,{value:{hasThemedBackground:Ct}},qe&&(0,b.setMetaData)(qe),(0,e.h)("div",{className:f()("archive-page typography",{"use-theme-bg":Ct,[l7.container]:st})},(0,e.h)("div",{className:"container"},t&&(0,e.h)("h2",null,t),st?(0,e.h)(Ic,{communityPosts:ve,communityTitle:"Discussion",freeSignup:u,freeSignupEmail:D,isPodcast:ze,newPosts:U,pub:r,search:H,searchPosts:xe,sectionId:Le,showMonthDividers:!0,sort:k,source:"archive",topPosts:ee,user:i,variant:"list"},({posts:bt,linkToComments:Dt,onClickPost:Ut})=>(0,e.h)(Ci,{hideImages:r.theme.hide_images_from_list,linkToComments:Dt,posts:bt,pub:r,user:i,variant:"two-column-list",onChange:()=>{},onClickPost:Ut})):(0,e.h)($s,{communityTitle:"Discussion",user:i,freeSignup:u,freeSignupEmail:D,pub:r,sort:k,search:H,newPosts:U,topPosts:ee,communityPosts:ve,searchPosts:xe,stateInUrl:!0,sectionId:Le,source:"archive",isPodcast:ze,showMonthDividers:!0}),n)))}var u7=Object.defineProperty,c7=(n,t,r)=>t in n?u7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,d7=(n,t,r)=>(c7(n,typeof t!="symbol"?t+"":t,r),r),tp=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class f7 extends e.Component{constructor(t,r){super(t,r),d7(this,"likesEnabled",(0,wi.default)("like_posts_enabled")),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,ds.ZP)(this.props.notify_user)}componentDidMount(){return tp(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return tp(this,null,function*(){if(!this.state.hasMore)return;(yield(0,b.stateLock)(this,"loading",r=>tp(this,[r],function*({hasMore:i,posts:u}){if(i){u=u||[];try{const k=(yield ft().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:u.length})).body;u=u.concat(k),i=k.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(k),this.setState({posts:u,hasMore:i})}catch(D){console.error(D)}return i}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(t){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!t||t.filter(u=>(0,Re.isPaidAudience)(u.audience)&&!u.hidden).length===0)return;const r="__cookie_checked",i=(0,v.parseQuery)(window.location.search);i[r]||(i[r]="true",window.location.search=`?${(0,v.serializeQuery)(i)}`)}onChange({post:t}){if(t){const r=(this.state.posts||[]).map(i=>i.id).indexOf(t&&t.id);r!==-1&&(this.state.posts[r]=t,this.setState({posts:this.state.posts}))}}render({user:t,pub:r,freeSignup:i,freeSignupEmail:u,preloadedPosts:D,hide_intro_popup:k,children:H,blurbs:U,noBalanceHeroText:ee},{posts:ve,hasMore:xe,share_on_load:Le}){const ze=[];for(const qe of ve||D||[])qe.hidden?Array.isArray(ze[ze.length-1])?ze[ze.length-1].push(qe):ze.push([qe]):ze.push(qe);return(0,e.h)("div",{className:"classic-home-page"},(0,e.h)(Wl.ZP,{ref:qe=>this.shareDialog=qe,user:t,pub:r}),(0,e.h)(se,{freeSignup:i,freeSignupEmail:u,user:t,post:null,publication:r,hidden:k||Le,blurbs:U,noBalance:ee}),r&&r.subdomain==="sinocism"&&(0,e.h)("div",{className:"sinocism-hero-small"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"hero-text"},(0,e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,e.h)("div",{className:"hero-left"},(0,e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,e.h)("div",{className:"review-footer"},(0,e.h)("h3",null,"Evan Osnos"),(0,e.h)("p",null,"New Yorker correspondent and ",(0,e.h)("br",null),"National Book Award winner"))))),(0,e.h)("div",{className:"post-list"},ze.length===0&&!xe&&(0,e.h)("div",{className:"container-border coming-soon"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Coming soon"))),ze.map((qe,Je)=>Array.isArray(qe)?this.renderHiddenPosts(qe,Je):this.renderPost(qe,Je)),xe?(0,e.h)("div",{className:"post-loader"},(0,e.h)("div",{className:"container"},(0,e.h)(Me,{ref:qe=>this.loader=qe,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,e.h)("p",null,"Loading more posts\u2026")))):r.has_posts&&ve&&ve.length>0&&(0,e.h)("div",{className:"container"},(0,e.h)("a",{className:"archive-link button invis",href:(0,v.getBaseArchiveUrl)(r)},"View archive"))),H)}renderPost(t){return(0,e.h)("div",{className:"container-border post-list-post"},(0,e.h)("div",{className:"container"},t.type==="thread"?(0,e.h)(Rf,{post:t,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,e.h)(Jf,{post:t,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:r=>this.onChange(r),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(t,r){let i,u;return r===0?(i=t.slice(0,1),u=t.slice(1)):t.length<=3?(i=t,u=[]):(i=t.slice(0,2),u=t.slice(2)),(0,e.h)(p7,{user:this.props.user,pub:this.props.pub,posts:i,collapsedPosts:u,onChange:D=>this.onChange(D)})}}class p7 extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,M.j)(M.FP.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:t,pub:r,posts:i,collapsedPosts:u,onChange:D},{showing:k}){return(0,e.h)("div",{className:`container-border post-list-hidden-posts ${k?"showing":""}`},(0,e.h)("div",{className:"container"},i.map(H=>(0,e.h)(Sc,{user:t,pub:r,post:H,onChange:D})),u.length>0&&(0,e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},k?"hide":`+${u.length} more`),u.map(H=>(0,e.h)(Sc,{className:"collapsed",user:t,pub:r,post:H,utm_source:"home",onChange:D}))))}}var h7=It(2405);function np(){const n=t=>{var r,i;(t.data==="3pc.supported"||t.data==="3pc.unsupported")&&(t.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(D=>{const k=D.querySelector(".tiktok-iframe");k.classList.add("visible"),D.querySelector(".tiktok-wrap.static").classList.add("hidden");const H=D.querySelector(".fallback-failure");H.classList.add("no-border");try{(k.contentDocument||k.contentWindow.document).readyState=="complete"&&H.classList.add("visible")}catch(U){}k.onload=()=>{H.classList.add("visible")},k.onerror=()=>{H.classList.add("visible")},k.onabort=()=>{H.classList.add("visible")}}),(i=(r=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:r.forEach)==null||i.call(r,u=>u.remove()))};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}}function OV(){useEffect(np,[])}var rp=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class m7 extends e.Component{constructor(t,r){super(t,r),this.onVisible=u=>{const D=`${u} Seen`;this.state.post&&(this.state[D]||(this.setState({[D]:!0}),(0,M.j)(D,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var u;const D=document.querySelectorAll('article.post input[type="email"]'),k=((u=this.state.user)==null?void 0:u.email)||this.props.freeSignupEmail;k&&D.forEach(H=>H.value=k),this.setState({embeddedEmailInputsFilled:!0})};const{user:i}=t;t.post?this.state={post:t.post,user:i,introText:t.introText,crossPostedPub:t.crossPostedPub,crossPostingByLine:t.crossPostingByLine,userWithCrossPostedPubContext:t.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.crossPostedPublicationSettings,crossPostedSiteConfig:t.crossPostedSiteConfig}:this.state={user:i}}componentDidMount(){return rp(this,null,function*(){(0,b.scrollToHash)(),this.cleanUpTikTokEnhanceListener=np(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this)}componentDidUpdate(t){return rp(this,null,function*(){this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}loadPost(){return rp(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,b.scrollToHash)());else try{const t=yield ft().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,b.setState)(this,{post:t.body.post,introText:t.body.intro_text,crossPostedPub:t.body.crossPostedPub,crossPostingByLine:t.body.crossPostingByLine,userWithCrossPostedPubContext:t.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.body.crossPostedPublicationSettings,crossPostedSiteConfig:t.body.crossPostedSiteConfig}),(0,b.scrollToHash)()}catch(t){console.error("Failed to load post:",t),alert((0,b.getNetworkErrorMessage)(t))}})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:t,freeSignupEmail:r,publication:i},{post:u,user:D,introText:k,crossPostedPub:H,crossPostingByLine:U,userWithCrossPostedPubContext:ee,crossPostedPublicationSettings:ve,crossPostedSiteConfig:xe}){const Le=(u==null?void 0:u.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:f()("single-post-container")},(0,e.h)("div",{className:f()({container:!Le})},(0,e.h)("div",{className:"single-post"},(0,e.h)(Af,{post:u,publication:i}),u&&ve&&xe?(0,e.h)(ut.Iz,{settings:ve},(0,e.h)(Kn.vC,{siteConfigs:xe},(0,e.h)(h7.uL,{crossPost:{crossPostedPub:H}},(0,e.h)(Jf,{ref:ze=>{this.post=ze},user:ee,post:u,pub:H,freeSignup:t,freeSignupEmail:r,paywall:!1,noTitleLink:!0,onChange:ze=>this.setState(ze),fromPostPage:!0,crossPostInfo:{introText:k,crossPostedPub:H,crossPostingByLine:U,userWithCrossPostedPubContext:ee}})))):(0,e.h)(ey,{pub:i}))),i.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(Me,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)($s,{user:D,freeSignup:t,freeSignupEmail:r,pub:i,maxPosts:3,filterPosts:ze=>ze.id!==(u==null?void 0:u.id),stateInUrl:!0,sortTabs:ze=>{const qe=ze.findIndex(Je=>Je.id==="top");if(qe!==-1)return[ze[qe]].concat(ze.filter((Je,st)=>st!==qe))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}class _7 extends e.Component{constructor(t,r){super(t,r),this.state={freeSignup:t.freeSignup,freeSignupEmail:t.freeSignupEmail,success:!1}}componentDidMount(){(0,b.preloadImage)((0,v.imginary)("/img/substack_wordmark.png",200));const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&(this.emailInput.value=t)}onPrepareData(t){this.props.pub.plans&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(t){this.setState({freeSignup:!0,freeSignupEmail:t.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=`${this.props.pub.base_url}/subscribe?just_signed_up=true`)}onError(t){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(r){console.error("Failed to close subscribe window:",r)}this.subscribeWindow=null}}render({pub:t,user:r,no_border:i},{freeSignup:u,freeSignupEmail:D,loading:k,success:H}){const U=D||r&&r.email;return(0,e.h)("div",{className:`embed-page ${i?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},t.logo_url&&(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,v.imginary)(t.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${t.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)(po,{text:t.name}))),(0,e.h)("p",{className:"publication-tagline"},!!t.hero_text&&(0,e.h)(po,{text:t.hero_text})),t.invite_only?(0,e.h)(Nr.ZP,{className:"subscription-request-form",ref:ee=>this.form=ee,noInlineErrors:!0,action:(0,v.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,v.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:ee=>{this.setState({loading:!1}),alert((0,b.getNetworkErrorMessage)(ee,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:s.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:s.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:s.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:s.xU}),!!U&&(0,b.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:f()(H?"secondary":"primary"),type:"email",name:"email",ref:ee=>this.emailInput=ee,readOnly:!!(U||k),disabled:!!(k||H||U),autoFocus:!U&&!(0,b.isMobileBrowser)(),placeholder:I`Type your email…`}),(0,e.h)(be.Z,{className:f()("rightButton",H?"secondary":"primary"),type:"submit",disabled:!!(k||H),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},H?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(Fs,{source:"embed",pub:t,user:r,freeSignup:u,freeSignupEmail:D,forceEmailInput:!0,onPrepareData:ee=>this.onPrepareData(ee),onSignup:ee=>this.onSignup(ee),onError:ee=>this.onError(ee)}),(r||u)&&(0,e.h)("p",null,(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,v.getSignoutUrl)({redirect:document.location.href,for_pub:t.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,v.getSubstackUrl)()}/?utm_source=embed&utm_content=${t.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:ee=>this.img=ee,className:"substack-watermark",src:(0,v.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,v.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,v.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}var g7=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const v7=({pub:n,slug:t})=>{var r;const[i,u]=(0,o.eJ)(null);(0,o.d4)(()=>{function k(){return g7(this,null,function*(){try{const H=yield ft().get(`/api/v1/posts/${t}`);u(H.body)}catch(H){console.error("Failed to load post:",H),H.status===404?alert("Post not found"):alert((0,b.getNetworkErrorMessage)(H))}})}k()},[t]);let D=!1;return typeof window!="undefined"&&(D=((r=(0,v.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)(Uu,{feature:"Podcast",pub:n,post:i,src:i.podcast_url,autoPlay:D,metricsPost:i,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})};class y7 extends e.Component{render(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}}var b7=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const P7=({pub:n,slug:t})=>{var r;const[i,u]=(0,o.eJ)(null);(0,o.d4)(()=>{function k(){return b7(this,null,function*(){try{const H=yield ft().get(`/api/v1/posts/${t}`);u(H.body)}catch(H){console.error("Failed to load post:",H),H.status===404?alert("Post not found"):alert((0,b.getNetworkErrorMessage)(H))}})}k()},[t]);let D=!1;return typeof window!="undefined"&&(D=((r=(0,v.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(Cl,{mediaUpload:i.videoUpload,pub:n,post:i,autoPlay:D})):(0,e.h)("div",{className:"loading-container"})};var E7=Object.defineProperty,w7=Object.defineProperties,C7=Object.getOwnPropertyDescriptors,yy=Object.getOwnPropertySymbols,O7=Object.prototype.hasOwnProperty,S7=Object.prototype.propertyIsEnumerable,by=(n,t,r)=>t in n?E7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,T7=(n,t)=>{for(var r in t||(t={}))O7.call(t,r)&&by(n,r,t[r]);if(yy)for(var r of yy(t))S7.call(t,r)&&by(n,r,t[r]);return n},I7=(n,t)=>w7(n,C7(t));const Py=n=>(0,e.h)(N.l,I7(T7({},n),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var x7=Object.defineProperty,D7=Object.defineProperties,M7=Object.getOwnPropertyDescriptors,Ey=Object.getOwnPropertySymbols,A7=Object.prototype.hasOwnProperty,N7=Object.prototype.propertyIsEnumerable,wy=(n,t,r)=>t in n?x7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,R7=(n,t)=>{for(var r in t||(t={}))A7.call(t,r)&&wy(n,r,t[r]);if(Ey)for(var r of Ey(t))N7.call(t,r)&&wy(n,r,t[r]);return n},L7=(n,t)=>D7(n,M7(t));const B7=n=>(0,e.h)(N.l,L7(R7({},n),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:n.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var k7=Object.defineProperty,U7=Object.defineProperties,F7=Object.getOwnPropertyDescriptors,Cy=Object.getOwnPropertySymbols,j7=Object.prototype.hasOwnProperty,W7=Object.prototype.propertyIsEnumerable,Oy=(n,t,r)=>t in n?k7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,H7=(n,t)=>{for(var r in t||(t={}))j7.call(t,r)&&Oy(n,r,t[r]);if(Cy)for(var r of Cy(t))W7.call(t,r)&&Oy(n,r,t[r]);return n},V7=(n,t)=>U7(n,F7(t));const K7=n=>(0,e.h)(N.l,V7(H7({},n),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));var $7=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});function z7(){var n;return typeof window!="undefined"?((n=window._preloads)==null?void 0:n.file)||{}:{}}function G7(n,t){return`${n.title.toLowerCase().replace(/\s/g,"_")}.${t.toLowerCase()}`}function Z7({file:n=z7(),pub:t}){const[r,i]=(0,o.eJ)(null);return(0,o.d4)(()=>(()=>$7(this,null,function*(){if(!n.fileKey){const u=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);u.redirected&&(window.location.href=u.url);const D=yield u.json();i(D)}}))(),[n.fileKey]),(0,e.h)(Y7,{file:r||n,pub:t})}function Y7({file:n,pub:t}){var r;if(!n.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const i=(r=n.file_key)==null?void 0:r.split(".").pop().toUpperCase(),u=(0,Be.numberToHumanFileSize)(n.num_bytes),D=G7(n,i);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,v.getBaseUrl)(t)}/p/${n.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${n.thumbnail&&n.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:n.thumbnail||`${(0,v.getBaseUrl)(t)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},n.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},u," \u2219 ",i," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,v.getBaseUrl)(t)}/api/v1/file/panels/${n.file_key}`},(0,e.h)(K7,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(Py,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:D,href:`${(0,v.getBaseUrl)(t)}/api/v1/file/${n.file_key}`},(0,e.h)(B7,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},D)),(0,e.h)(Py,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var J7=Object.defineProperty,X7=(n,t,r)=>t in n?J7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Sy=(n,t,r)=>(X7(n,typeof t!="symbol"?t+"":t,r),r),Q7=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class op extends e.Component{constructor(){super(...arguments),Sy(this,"acceptInvite",()=>Q7(this,null,function*(){var t,r;try{const i=yield ft().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(t=i.body)!=null&&t.postUrl?location.href=(r=i.body)==null?void 0:r.postUrl:(0,b.redirect)(`/invite-success/${this.props.matches.id}`)}catch(i){const u=(0,b.getNetworkErrorMessage)(i);this.setState({error:u})}}))}componentDidMount(){this.props.user||(0,b.redirectToLogin)()}render({pub:t,post:r,user:i,freeSignup:u,freeSignupEmail:D,inviteToPost:k,primaryEligiblePublications:H,switchAccountRedirectUrl:U},{error:ee}){if(ee)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,ee));const ve=k&&r&&r.type==="podcast",xe=ve&&i?"Fill out your profile for your podcast appearance":ve&&!i?"Set up your profile for your podcast appearance":k&&i?"Set up your profile":k&&!i?"Fill out your profile":`Your invite to ${t.name}`,Le=ve?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":k?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",ze=k?"Update Profile & Accept Invite":"Accept Invite",qe=i?"Already a writer?":"Already have an account?",Je=i?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,xe),(0,e.h)("p",null,Le),(0,e.h)(xf._0,{pageTitle:"",user:i,freeSignup:u,freeSignupEmail:D,needsPhoto:!1,optionalPhoto:k,isPostInvite:k,primaryEligiblePublications:H,onSuccess:this.acceptInvite,text:ze}),k&&U&&(0,e.h)("div",{className:"invite-switch-account"},qe," ",(0,e.h)("a",{href:U},Je)))}}Sy(op,"defaultProps",{inviteToPost:!1,primaryEligiblePublications:[]});class q7 extends e.Component{renderNotAvailable(t,{time:r=!1}={}){const i=r?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),t,(0,e.h)("p",null,"Sorry, ",i,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(To.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe",hideLogin:!0,hideTerms:!0})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,eB(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:t,t:r,user:i,freeSignupEmail:u,viral_gift_data:D}){const{sender_name:k,count_remaining:H,sender_id:U}=D,ee=(0,Be.getGiftValueText)(t.plans),ve=ee?` (value: ${ee})`:"",xe=`Accept ${k||"your friend"}'s gift`,Le=`A three-month subscription to ${t.name}${ve}`,ze=(0,b.setMetaData)({title:xe,description:Le,image:t.logo_url});if(!r||!H)return this.renderNotAvailable(ze);let qe=null;i&&i.id==U&&(qe=this.renderForSender());let Je="",st=u||"";i&&!qe&&(Je=i.name,st=i.email);const Ct=`${H} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},qe,ze,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,k||"Your friend"," would like to give you a free, three-month subscription. ",ve),(0,e.h)("p",null,(0,e.h)("b",null,Ct)),(0,e.h)(Nr.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:Je}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:st}),(0,e.h)("input",{type:"hidden",value:r,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)(be.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function eB(n){return n.name?n.name.trim().split(/\s+/g)[0]:n.email.split("@")[0]}var tB=It(39693),nB=It.n(tB);const Ty=({pub:n,section:t,isPodcast:r})=>{let i,u;return r&&n.podcast_title?({title:i}=cc(n,n.podcast_title),u=n.podcast_description):t?{title:i,description:u}=cc(n,`${t.name} | ${n.name}`,t.description):{title:i,description:u}=cc(n),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:md()((0,_d.hd)(n),{json:!0,isScriptContext:!0})}}),(0,b.setMetaData)({title:i,description:u}))},Iy=({blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,isPodcast:u,noBalanceHeroText:D,pub:k,referralCode:H,showWelcome:U,user:ee})=>{const ve=(0,o.sO)(!1),xe=(0,o.sO)(null);return(0,o.d4)(()=>{(0,v.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({action:null})),ve.current=!0),ve.current&&xe.current&&xe.current.open(),typeof window!="undefined"&&U&&(0,b.removeQueryParam)("showWelcome")},[U]),(0,e.h)(e.Fragment,null,(0,e.h)(Wl.ZP,{ref:Le=>xe.current=Le,pub:k,user:ee}),(0,e.h)(se,{blurbs:n,freeSignup:t,freeSignupEmail:r,hidden:i||ve.current,isAudio:u,noBalance:D,post:null,publication:k,referralCode:H,showOnMount:U,user:ee}))};var rB=It(78718),xy=It.n(rB),oB=Object.defineProperty,iB=Object.defineProperties,aB=Object.getOwnPropertyDescriptors,Dy=Object.getOwnPropertySymbols,sB=Object.prototype.hasOwnProperty,lB=Object.prototype.propertyIsEnumerable,My=(n,t,r)=>t in n?oB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ay=(n,t)=>{for(var r in t||(t={}))sB.call(t,r)&&My(n,r,t[r]);if(Dy)for(var r of Dy(t))lB.call(t,r)&&My(n,r,t[r]);return n},Ny=(n,t)=>iB(n,aB(t));const MV=null,Ry=["newspaper","magaziney","magazine-5"],AV={editorial:{id:"editorial",label:"Editorial",defaultHeroID:"newspaper"}},ip={newspaper:{id:"newspaper",label:"Feature",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1},presetID:"editorial"},magaziney:{id:"magaziney",label:"Newspaper",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1},presetID:"editorial"},"magazine-5":{id:"magazine-5",label:"Magazine",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1},presetID:"editorial"}},uB=Ry.map(n=>({value:n,label:ip[n].label})),NV=({presetID:n})=>uB.filter(t=>!n||ip[t.value].presetID===n),cB=Ry.reduce((n,t)=>Ny(Ay({},n),{[t]:ip[t].postCount}),{}),Ly=["list","grid","grid-groups"],By={list:{id:"list",label:"List",postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:"Grid",postCount:{desktop:9,tablet:9,mobile:7}},"grid-groups":{id:"grid-groups",label:"Groups (sections or tags)",postCount:{desktop:9,tablet:9,mobile:7}}},dB=Ly.reduce((n,t)=>Ny(Ay({},n),{[t]:By[t].postCount}),{}),RV=()=>Ly.map(n=>({value:n,label:By[n].label}));var fB=Object.defineProperty,pB=Object.defineProperties,hB=Object.getOwnPropertyDescriptors,ky=Object.getOwnPropertySymbols,mB=Object.prototype.hasOwnProperty,_B=Object.prototype.propertyIsEnumerable,Uy=(n,t,r)=>t in n?fB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Fy=(n,t)=>{for(var r in t||(t={}))mB.call(t,r)&&Uy(n,r,t[r]);if(ky)for(var r of ky(t))_B.call(t,r)&&Uy(n,r,t[r]);return n},jy=(n,t)=>pB(n,hB(t));const Wy=({noFirstImage:n,posts:t,pub:r,user:i,utm:u,onChange:D})=>{const k={pub:r,user:i,utm:u,onChange:D};return(0,e.h)(Ci,jy(Fy({},k),{variant:n?"two-three-two":"five-up",posts:t}))},gB=n=>(0,e.h)(Wy,jy(Fy({},n),{noFirstImage:!0})),vB={link:"frontend-main-home-MetaLink-module__link--b9iM0"},Nc=({children:n,href:t,testid:r})=>(0,e.h)(qt.xv.Meta,{className:vB.link,color:"pub-primary-text",as:"a",native:!0,href:t,"data-testid":r},n),Hy=({pub:n})=>(0,e.h)(qt.gq,{justifyContent:"space-between"},(0,e.h)(qt.xv.Meta,{size:12,color:"pub-primary-text"},"Most Popular"),(0,e.h)(Nc,{href:(0,v.getArchiveUrl)(n,{params:{sort:"top"}})},"View all"));var yB=Object.defineProperty,bB=Object.defineProperties,PB=Object.getOwnPropertyDescriptors,Vy=Object.getOwnPropertySymbols,EB=Object.prototype.hasOwnProperty,wB=Object.prototype.propertyIsEnumerable,Ky=(n,t,r)=>t in n?yB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ap=(n,t)=>{for(var r in t||(t={}))EB.call(t,r)&&Ky(n,r,t[r]);if(Vy)for(var r of Vy(t))wB.call(t,r)&&Ky(n,r,t[r]);return n},sp=(n,t)=>bB(n,PB(t));const $y=({noFirstImage:n,posts:t,topPosts:r,pub:i,user:u,utm:D,onChange:k})=>{const H={pub:i,user:u,utm:D,onChange:k},{isTablet:U,isMobile:ee}=pa();return ee?null:(0,e.h)(Ja,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(Ci,sp(ap({},H),{variant:n?"two-small-three-medium":"two-small-one-large",posts:t,flex:"grow"})),r&&(0,e.h)(qt.tu,{gap:12},(0,e.h)(Hy,{pub:i}),(0,e.h)(Ci,sp(ap({},H),{flex:"grow",variant:U?"mini-row":"one-column-list",posts:r.slice(0,U?3:5)}))))},CB=n=>(0,e.h)($y,sp(ap({},n),{noFirstImage:!0})),OB=({posts:n,pub:t,user:r,utm:i,onChange:u})=>n.length?(0,e.h)(Mc,{pub:t,user:r,utm:i,onChange:u,variant:"mobile-hero",post:n[0]}):null;var SB=Object.defineProperty,TB=Object.defineProperties,IB=Object.getOwnPropertyDescriptors,zy=Object.getOwnPropertySymbols,xB=Object.prototype.hasOwnProperty,DB=Object.prototype.propertyIsEnumerable,Gy=(n,t,r)=>t in n?SB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,MB=(n,t)=>{for(var r in t||(t={}))xB.call(t,r)&&Gy(n,r,t[r]);if(zy)for(var r of zy(t))DB.call(t,r)&&Gy(n,r,t[r]);return n},AB=(n,t)=>TB(n,IB(t));const Zy=({isSmall:n,posts:t,pub:r,user:i,utm:u,onChange:D})=>t.length?(0,e.h)(Ja,{variant:n?"three-column-width":"full-width"},(0,e.h)(Mc,{pub:r,user:i,utm:u,onChange:D,variant:n?"jumbo-small":"jumbo",post:t[0]})):null,NB=n=>(0,e.h)(Zy,AB(MB({},n),{isSmall:!0}));var RB=Object.defineProperty,Rc=Object.getOwnPropertySymbols,Yy=Object.prototype.hasOwnProperty,Jy=Object.prototype.propertyIsEnumerable,Xy=(n,t,r)=>t in n?RB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,LB=(n,t)=>{for(var r in t||(t={}))Yy.call(t,r)&&Xy(n,r,t[r]);if(Rc)for(var r of Rc(t))Jy.call(t,r)&&Xy(n,r,t[r]);return n},BB=(n,t)=>{var r={};for(var i in n)Yy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Rc)for(var i of Rc(n))t.indexOf(i)<0&&Jy.call(n,i)&&(r[i]=n[i]);return r};const kB={magaziney:$y,"magazine-5":Wy,newspaper:Zy},UB=n=>{var t=n,{firstPostMissingImage:r,bodyVariant:i,isMobile:u,variant:D}=t,k=BB(t,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let H=kB[D];return u?H=OB:D==="newspaper"&&i==="list"?H=NB:D==="magaziney"&&r?H=CB:D==="magazine-5"&&r&&(H=gB),H?(0,e.h)(H,LB({},k)):(console.error("Component not found, add one to HomeHero"),null)};var FB=Object.defineProperty,jB=Object.defineProperties,WB=Object.getOwnPropertyDescriptors,Qy=Object.getOwnPropertySymbols,HB=Object.prototype.hasOwnProperty,VB=Object.prototype.propertyIsEnumerable,qy=(n,t,r)=>t in n?FB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,KB=(n,t)=>{for(var r in t||(t={}))HB.call(t,r)&&qy(n,r,t[r]);if(Qy)for(var r of Qy(t))VB.call(t,r)&&qy(n,r,t[r]);return n},$B=(n,t)=>jB(n,WB(t));function zB({pub:n,user:t,freeSignup:r,freeSignupEmail:i,className:u=""}){return(0,e.h)("div",{className:f()("home-sitemap",u)},(0,e.h)("h4",{className:"home-sitemap-title"},n.name),r||t&&t.is_free_subscribed?!(t&&t.is_subscribed)&&n.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,v.getSubscribeUrl)(n,{utm_source:"home-sitemap"}),native:!0},(0,Be.getSubscribeText)(n)):null:(0,e.h)(To.Z,{className:"home-sitemap-signup-form",source:"home-sitemap",user:t,pub:n,freeSignup:r,freeSignupEmail:i,onSuccess:D=>{D.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,v.pathWithQuery)("/account/login",{redirect:document.location.href,email:D.body.email})},30):n.plans?document.location.href=(0,v.pathWithQuery)("/subscribe",$B(KB({next:document.location.href,later:!0,just_signed_up:!0},D.body.subscription_id&&{subscription_id:D.body.subscription_id}),{requires_confirmation:D.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(n==null?void 0:n.payments_state)==="enabled"?()=>null:void 0,hideLogin:!0,hideTerms:!0}),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,v.getAboutUrl)(n),native:!!n.parent_publication_id},"About"),(0,e.h)("a",{href:(0,v.getBaseArchiveUrl)(n)},"Archive"),n.has_recommendations&&(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(n),native:!0},"Recommendations"),n.can_have_sitemap&&(0,e.h)("a",{href:(0,v.getSitemapUrl)(n),native:!0},"Sitemap")))}var GB=Object.defineProperty,ZB=Object.defineProperties,YB=Object.getOwnPropertyDescriptors,eb=Object.getOwnPropertySymbols,JB=Object.prototype.hasOwnProperty,XB=Object.prototype.propertyIsEnumerable,tb=(n,t,r)=>t in n?GB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,QB=(n,t)=>{for(var r in t||(t={}))JB.call(t,r)&&tb(n,r,t[r]);if(eb)for(var r of eb(t))XB.call(t,r)&&tb(n,r,t[r]);return n},qB=(n,t)=>ZB(n,YB(t)),nb=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const ek=(n,t,r,i,{trackOnly:u=!1}={})=>()=>nb(void 0,null,function*(){if((0,M.j)(M.FP.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!u)try{yield ft().post("/api/v1/free").send({email:r.email,source:"recommendations_page",other_publication_id:n.id}),i(n)}catch(D){alert("Something went wrong")}}),tk=(n,t,r,{trackOnly:i=!1}={})=>()=>nb(void 0,null,function*(){if((0,M.j)(M.FP.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!i)try{yield ft().delete("/api/v1/free").send({publication_id:n.id,source:"recommendations_page"}),r(n)}catch(u){alert("Something went wrong")}}),rb=({recommendations:n})=>{if(!n||Object.keys(n).length<=1)return n;const t=JSON.parse(JSON.stringify(n));for(let r=Object.keys(t).length-1;r>0;r--){const i=Math.floor(Math.random()*(r+1)),u=t[r];t[r]=t[i],t[i]=u}return t},nk=({pub:n,recommendations:t,allSubscribedPubs:r,fullySubscribedPubs:i,user:u})=>{const D=n.author_photo_url,k=n.author_name,[H,U]=(0,o.eJ)(r),ee=Le=>{U([...H,Le])},ve=Le=>{U(H.filter(({id:ze})=>ze!==Le.id))},xe=(0,jt.useMemo)(()=>rb({recommendations:t}),[t]);return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,"Recommended by ",(0,Be.getByLine)(n)||n.name),(0,e.h)("div",{className:"recommended-publications-container"},xe.map((Le,ze)=>{const qe=Le.recommendedPublication;if(!qe)return;const Je=`${(0,v.getBaseUrl)(qe)}/?utm_source=recommendations_page&utm_campaign=${n.id}`,st=(0,v.getSubscribeUrl)(qe,{addBase:!0,utm_source:"recommendations_page"}),Ct=(0,Be.getByLine)(qe),bt=i.map(({id:Dt})=>Dt).includes(qe.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:Je,onClick:()=>{(0,M.j)(M.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:qe.id,recommending_publication_id:n.id})}},(0,e.h)(cr.Z,{pub:qe,size:48,logo_url:qe.logo_url||qe.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},qe.name),!!Ct&&(0,e.h)("div",{className:"publication-author"},"By ",Ct))),H.map(({id:Dt})=>Dt).includes(qe.id)?(0,e.h)(be.Z,{onClick:tk(qe,n,ve,{trackOnly:bt}),href:bt?(0,v.getPubAccountSettingsUrl)(qe,{addBase:!0}):null,className:"unsubscribe"},"Subscribed"):(0,e.h)(be.Z,{onClick:ek(qe,n,u,ee,{trackOnly:!(u!=null&&u.email)}),href:u!=null&&u.email?null:st},"Subscribe")),(0,e.h)("div",{className:"publication-suggestion-text-area"},(qe.editorial_bio||qe.hero_text)&&(0,e.h)("div",{className:"publication-description"},qe.editorial_bio||qe.hero_text)),Le.description&&(0,e.h)(rk,{content:Le.description,author:(0,Be.getByLine)(n)||n.name}))))}))))},rk=({author:n,content:t})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},t),(0,e.h)("p",{className:"blurb-author"},"- ",n)),ok=({recommendations:n,numRecommendations:t,pub:r,user:i,render:u,renderRecommendation:D})=>{const H=(0,jt.useMemo)(()=>rb({recommendations:n}),[n]).map(U=>(0,e.h)(ik,{recommendation:U,pub:r,signedIn:!!i,render:D}));return(0,o.d4)(()=>{(0,M.j)(M.FP.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:n.map(({recommendedPublication:U})=>U.id)})},[n]),u?u({recommendations:H,canManage:!!(i!=null&&i.is_admin),manageUrl:(0,v.getPublishSettingsRecommendationsUrl)(r),hasMore:t>n.length,hasMoreUrl:(0,v.getRecommendationsPageUrl)(r),recommendationsCount:t}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(r)},"Recommendations"),i!=null&&i.is_admin?(0,e.h)("a",{href:(0,v.getPublishSettingsRecommendationsUrl)(r),native:!0},"Manage"):t>n.length?(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(r),native:!0},"View all ",t):null),H)},ik=({recommendation:n,pub:t,signedIn:r,render:i})=>{const{recommendedPublication:u}=n,D=(0,v.getPubUrl)(u,{params:{utm_source:"homepage_recommendations",utm_campaign:t.id},signedIn:r}),k=()=>{(0,M.j)(M.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:t.id,recommended_publication_id:u.id,source:"homepage-recommendations"})},H={pub:u,logo_url:u.logo_url,href:D,openInNewTab:!0,belowTheFold:!0};return i?i({pubIconProps:H,pubName:u.name,pubAuthor:u.author.name,url:D,onClick:k}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:k},(0,e.h)(cr.Z,qB(QB({},H),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:D,target:"_blank",onClick:k},u.name),(0,e.h)("div",{className:"pub-author"},u.author.name)))))},ob=ok;var ak=It(7739),sk=It.n(ak),lk=Object.defineProperty,uk=Object.defineProperties,ck=Object.getOwnPropertyDescriptors,ib=Object.getOwnPropertySymbols,dk=Object.prototype.hasOwnProperty,fk=Object.prototype.propertyIsEnumerable,ab=(n,t,r)=>t in n?lk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pk=(n,t)=>{for(var r in t||(t={}))dk.call(t,r)&&ab(n,r,t[r]);if(ib)for(var r of ib(t))fk.call(t,r)&&ab(n,r,t[r]);return n},hk=(n,t)=>uk(n,ck(t));const mk=n=>(0,e.h)(N.l,hk(pk({},n),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));var _k=Object.defineProperty,sb=Object.getOwnPropertySymbols,gk=Object.prototype.hasOwnProperty,vk=Object.prototype.propertyIsEnumerable,lb=(n,t,r)=>t in n?_k(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ub=(n,t)=>{for(var r in t||(t={}))gk.call(t,r)&&lb(n,r,t[r]);if(sb)for(var r of sb(t))vk.call(t,r)&&lb(n,r,t[r]);return n};const cb=({homepageLinks:n,pub:t,renderGroup:r,renderLink:i})=>{const u=sk()(n,"group"),D=Kr()(Object.keys(u),k=>u[k][0].rank);return(0,e.h)(e.Fragment,null,D.map(k=>(0,e.h)(yk,{group:k,items:u[k],pub:t,newTab:!0,renderGroup:r,renderLink:i})))},yk=({group:n,items:t,newTab:r,pub:i,renderGroup:u,renderLink:D})=>{const k=[];let H=null;r&&(H="_blank",k.push("noopener")),(!i||i!=null&&i.no_follow)&&k.push("ugc nofollow");const U={rel:k.join(" "),target:H},ee=(0,e.h)(e.Fragment,null,t.map(({title:ve,url:xe,subtitle:Le,subtitleUrl:ze,edit:qe,className:Je})=>D?D({title:ve,url:xe,subtitle:Le,linkProps:U}):(0,e.h)("div",{className:f()("home-right-col",Je)},qe?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:xe,native:!0},ve),(0,e.h)(be.Z,{className:"button secondary show-on-hover",href:qe,title:"edit"},(0,e.h)(mk,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",ub({className:"home-right-col-title",href:xe,native:!0},U),ve),Le&&(0,e.h)("a",ub({className:"home-right-col-sub",href:ze||xe,native:!0},U),Le))));return u?u({title:n,links:ee}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},n),ee)},db={pubLogo:"frontend-main-home-BodySidebar-module__pubLogo--ylrSp",container:"frontend-main-home-BodySidebar-module__container--u_pp1"};var bk=Object.defineProperty,Pk=Object.defineProperties,Ek=Object.getOwnPropertyDescriptors,fb=Object.getOwnPropertySymbols,wk=Object.prototype.hasOwnProperty,Ck=Object.prototype.propertyIsEnumerable,pb=(n,t,r)=>t in n?bk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ql=(n,t)=>{for(var r in t||(t={}))wk.call(t,r)&&pb(n,r,t[r]);if(fb)for(var r of fb(t))Ck.call(t,r)&&pb(n,r,t[r]);return n},eu=(n,t)=>Pk(n,Ek(t));const Ok=({freeSignup:n,freeSignupEmail:t,homepageLinks:r,numRecommendations:i,pub:u,recommendations:D,user:k})=>{const{isMobile:H}=pa();return(0,e.h)(qt.tu,{gap:40,className:db.container},!H&&(0,e.h)(qt.tu,{gap:24},(0,e.h)(qt.tu,{gap:8},u.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:db.pubLogo,src:(0,v.imginary)(u.logo_url,88),alt:u.name}),(0,e.h)(lp,null,u.name),u.hero_text&&(0,e.h)(qt.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},u.hero_text)),!(k!=null&&k.is_subscribed)&&(0,e.h)(Fs,{pub:u,user:k,freeSignup:n,freeSignupEmail:t,isStatic:!1,source:"magaziney-home-page"})),!!(D!=null&&D.length)&&u.show_recs_on_homepage&&(0,e.h)(Sk,{numRecommendations:i,pub:u,recommendations:D,user:k}),r&&(0,e.h)(Tk,{homepageLinks:r,pub:u}))},lp=({children:n})=>(0,e.h)(qt.xv,{size:16,lineHeight:24,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},n),Sk=({recommendations:n,numRecommendations:t,pub:r,user:i})=>(0,e.h)(ob,{recommendations:n,numRecommendations:t,pub:r,user:i,render:({recommendations:u,canManage:D,manageUrl:k,hasMore:H,hasMoreUrl:U,recommendationsCount:ee})=>(0,e.h)(qt.tu,{gap:16},(0,e.h)(qt.gq,{alignItems:"center",borderBottom:"detail-themed",justifyContent:"space-between",paddingBottom:8},(0,e.h)(lp,null,"Recommendations"),D?(0,e.h)(Nc,{href:k},"Manage"):H?(0,e.h)(Nc,{href:U,testid:"homepage-recommendations-view-all"},"View all ",ee):null),(0,e.h)(qt.tu,{gap:24,"data-testid":"homepage-recommendations"},u)),renderRecommendation:({url:u,onClick:D,pubIconProps:k,pubName:H,pubAuthor:U})=>{const ee={href:u,onClick:D,target:"_blank",rel:"noopener"};return(0,e.h)(qt.gq,{gap:16,alignItems:"center","data-testid":"homepage-recommendation"},(0,e.h)(cr.Z,eu(ql({},k),{size:40,noMargin:!0})),(0,e.h)(qt.tu,null,(0,e.h)(qt.xv,eu(ql({},ee),{as:"a",color:"pub-primary-text",font:"pub-headings",lineHeight:20,size:14,weight:"semibold"}),H),(0,e.h)(qt.xv.B4,eu(ql({},ee),{as:"a",color:"pub-secondary-text",size:12}),U)))}}),Tk=({homepageLinks:n,pub:t})=>(0,e.h)(qt.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(cb,{homepageLinks:n,pub:t,renderGroup:({title:r,links:i})=>(0,e.h)(qt.tu,{gap:16},(0,e.h)(qt.gq,{alignItems:"center",borderBottom:"detail-themed",paddingBottom:8},(0,e.h)(lp,null,r)),(0,e.h)(qt.tu,{gap:8},i)),renderLink:({title:r,url:i,subtitle:u,linkProps:D})=>(0,e.h)(qt.tu,null,(0,e.h)(qt.xv.B4,eu(ql({},D),{as:"a",href:i,color:"pub-secondary-text"}),r),u&&(0,e.h)(qt.xv.B4,eu(ql({},D),{as:"a",href:i,color:"pub-secondary-text"}),u))})),Ik=(0,Eo.Z)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"14",key:"8pmw4r"}],["rect",{width:"7",height:"7",x:"3",y:"3",key:"i95qnx"}],["line",{x1:"14",x2:"21",y1:"4",y2:"4",key:"1jpd8k"}],["line",{x1:"14",x2:"21",y1:"9",y2:"9",key:"z1w1u5"}],["line",{x1:"14",x2:"21",y1:"15",y2:"15",key:"evly31"}],["line",{x1:"14",x2:"21",y1:"20",y2:"20",key:"v5or0t"}]]);var xk=It(71708);const tu={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"};var Dk=Object.defineProperty,Mk=Object.defineProperties,Ak=Object.getOwnPropertyDescriptors,Lc=Object.getOwnPropertySymbols,hb=Object.prototype.hasOwnProperty,mb=Object.prototype.propertyIsEnumerable,_b=(n,t,r)=>t in n?Dk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,qa=(n,t)=>{for(var r in t||(t={}))hb.call(t,r)&&_b(n,r,t[r]);if(Lc)for(var r of Lc(t))mb.call(t,r)&&_b(n,r,t[r]);return n},Zs=(n,t)=>Mk(n,Ak(t)),gb=(n,t)=>{var r={};for(var i in n)hb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Lc)for(var i of Lc(n))t.indexOf(i)<0&&mb.call(n,i)&&(r[i]=n[i]);return r},Nk=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Bc=n=>"email_from_name"in n,Rk=n=>{var t;const[r,i]=(0,o.eJ)((t=n.postsByGroupId)!=null?t:{}),[u,D]=(0,o.eJ)(!1),k=n,{posts:H,bodyPostGroups:U,hasEmptyGroupOptions:ee,setHasInvalidGroupSelection:ve}=k,xe=gb(k,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,o.d4)(()=>{const Je=st=>Nk(void 0,null,function*(){const Ct=qa({},r);for(const bt of st){const Dt={limit:6};if(Bc(bt)?Dt.section_id=bt.id:Dt.post_tag_id=bt.id,!Ct[bt.id]){const{body:Ut}=yield ft().get("/api/v1/archive").query(Dt);Ct[bt.id]=Ut}}Ul()(Ct,r)||(i(Ct),D(!1))});Object.keys(r).length===0&&U&&(U==null?void 0:U.length)>0&&(D(!0),Je(U))},[U,i,r]);const Le=(0,o.I4)(Je=>{var st;const Ct=(st=Je.post_tag_id)!=null?st:Je.section_id;if(!Ct)throw new Error("Must supply section_id or post_tag_id");r&&r[Ct]||ft().get("/api/v1/archive").query(qa({limit:3},Je)).then(({body:bt})=>{i(Zs(qa({},r),{[Ct]:bt}))})},[r,i]),ze=[H.slice(0,3),H.slice(3,6),H.slice(6)],qe=(0,o.I4)(Je=>!r||r&&Object.keys(r).length===0||!r[Je]?null:r[Je].slice(0,3),[r]);return ee||!U||(U==null?void 0:U.length)===0?ve?(ve(!0),(0,e.h)(vb,{message:"No groups selected"})):(0,e.h)(qt.tu,null,(0,e.h)(up,{pub:n.pub}),(0,e.h)(Ci,Zs(qa({},xe),{variant:"three-column-grid",posts:ze.slice(U!=null&&U.length?U==null?void 0:U.length:0).flat()}))):(0,e.h)("div",{className:tu.homePageGroupsGrid},U.map(Je=>{const st=qe(Je.id);return(0,e.h)(qt.tu,{paddingBottom:24},(0,e.h)(up,{pub:n.pub,row:Je}),(0,e.h)(Lk,Zs(qa({},xe),{posts:H,loadingSync:u,groupModel:Je,postsForId:st,setHasInvalidGroupSelection:ve,onIntersectCallback:()=>{const Ct=Bc(Je)?{section_id:Je.id}:{post_tag_id:Je.id};Le(Ct)}})))}),U.length<3?(0,e.h)(qt.tu,null,(0,e.h)(up,{pub:n.pub}),(0,e.h)(Ci,Zs(qa({},xe),{variant:"three-column-grid",posts:ze.slice(U!=null&&U.length?U==null?void 0:U.length:0).flat()}))):null)},vb=({groupModel:n,message:t})=>(0,e.h)(qt.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(qt.tu,{alignItems:"center",justifyContent:"center",className:f()(tu.homePageGroupsGrid,n?tu.emptyGroupView:tu.emptyRowsView)},(0,e.h)(Ik,{className:tu.emptyContentIcon}),t&&(0,e.h)(qt.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},t),n&&(0,e.h)(qt.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",Bc(n)?"section":"tag"," to include it on your homepage."))),up=({row:n,pub:t})=>{var r;const{isMobile:i}=pa();let u="/archive";return n&&(u=Bc(n)?(0,ae.getSectionUrl)(t,{section:n}):(0,ae.getPostTagUrl)(t,n)),(0,e.h)(qt.tu,{paddingBottom:12,paddingX:i?0:8},(0,e.h)(qt.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(qt.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(r=n==null?void 0:n.name)!=null?r:"Recent posts"),(0,e.h)(Nc,{href:u},"See all")))},Lk=n=>{const t=n,{onIntersectCallback:r,groupModel:i,loadingSync:u,postsForId:D,setHasInvalidGroupSelection:k}=t,H=gb(t,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[U,ee]=(0,xk.Z)();return(0,o.d4)(()=>{ee!=null&&ee.isIntersecting&&!u&&r()},[ee==null?void 0:ee.isIntersecting,r,u]),D?D.length===0?k?(k(!0),(0,e.h)(vb,{groupModel:i})):(0,e.h)(Ci,Zs(qa({},H),{variant:"three-column-grid",posts:H.posts.slice(0,3)})):(0,e.h)(Ci,Zs(qa({},H),{variant:"three-column-grid",posts:D})):(0,e.h)(sy,{postCount:3,variant:"grid-groups",ref:U})};var Bk=Object.defineProperty,kk=Object.defineProperties,Uk=Object.getOwnPropertyDescriptors,kc=Object.getOwnPropertySymbols,yb=Object.prototype.hasOwnProperty,bb=Object.prototype.propertyIsEnumerable,Pb=(n,t,r)=>t in n?Bk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,cp=(n,t)=>{for(var r in t||(t={}))yb.call(t,r)&&Pb(n,r,t[r]);if(kc)for(var r of kc(t))bb.call(t,r)&&Pb(n,r,t[r]);return n},dp=(n,t)=>kk(n,Uk(t)),Fk=(n,t)=>{var r={};for(var i in n)yb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&kc)for(var i of kc(n))t.indexOf(i)<0&&bb.call(n,i)&&(r[i]=n[i]);return r};const jk={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},Wk={grid:"three-column-grid",list:"two-column-list"},Hk={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},Vk=n=>{var t=n,{freeSignup:r,freeSignupEmail:i,hideImagesFromList:u,homepageLinks:D,numRecommendations:k,posts:H,pub:U,recommendations:ee,showSiteMap:ve,source:xe,user:Le,utm:ze,variant:qe,onChange:Je,bodyPostGroups:st,postsByGroupId:Ct}=t,bt=Fk(t,["freeSignup","freeSignupEmail","hideImagesFromList","homepageLinks","numRecommendations","posts","pub","recommendations","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:Dt}=pa(),Ut=dB[qe][Dt],Rt=qe==="list"&&(u||H.slice(0,Ut).every(Qt=>!Qt.cover_image));return(0,e.h)("div",null,(0,e.h)(Ja,{variant:jk[qe],showContentBelowOnMobile:!0},(0,e.h)(Ic,dp(cp({},bt),{maxPosts:Ut,newPosts:H,pub:U,user:Le,variant:qe}),({posts:Qt,linkToComments:pn,onClickPost:En})=>{const _n={hideImages:Rt,linkToComments:pn,posts:Qt,pub:U,source:xe,user:Le,utm:ze,onChange:Je,onClickPost:En};return qe==="grid-groups"?(0,e.h)(Rk,dp(cp({},_n),{bodyPostGroups:st,postsByGroupId:Ct,setHasInvalidGroupSelection:bt.setHasInvalidGroupSelection,hasEmptyGroupOptions:bt.hasEmptyGroupOptions})):(0,e.h)(Ci,dp(cp({},_n),{variant:Wk[qe]}))}),(0,e.h)(Ok,{freeSignup:r,freeSignupEmail:i,homepageLinks:D,numRecommendations:k,pub:U,recommendations:ee,user:Le})),ve&&(0,e.h)(Ja,{variant:Hk[qe]},(0,e.h)(zB,{pub:U,user:Le,freeSignup:r,freeSignupEmail:i})))};var Kk=Object.defineProperty,$k=Object.defineProperties,zk=Object.getOwnPropertyDescriptors,Uc=Object.getOwnPropertySymbols,Eb=Object.prototype.hasOwnProperty,wb=Object.prototype.propertyIsEnumerable,Cb=(n,t,r)=>t in n?Kk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Gk=(n,t)=>{for(var r in t||(t={}))Eb.call(t,r)&&Cb(n,r,t[r]);if(Uc)for(var r of Uc(t))wb.call(t,r)&&Cb(n,r,t[r]);return n},Zk=(n,t)=>$k(n,zk(t)),Yk=(n,t)=>{var r={};for(var i in n)Eb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Uc)for(var i of Uc(n))t.indexOf(i)<0&&wb.call(n,i)&&(r[i]=n[i]);return r};const Jk=n=>{var t=n,{columns:r=4,posts:i,pub:u}=t,D=Yk(t,["columns","posts","pub"]);const{isMobile:k}=pa();return k?null:(0,e.h)(Ja,{variant:r===3?"three-column-width":"full-width"},(0,e.h)(qt.tu,{gap:12},(0,e.h)(Hy,{pub:u}),(0,e.h)(Ci,Zk(Gk({},D),{pub:u,posts:i,variant:r===3?"three-column-mini-row":"mini-row"}))))},Fc={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"};var Xk=Object.defineProperty,Qk=Object.defineProperties,qk=Object.getOwnPropertyDescriptors,jc=Object.getOwnPropertySymbols,Ob=Object.prototype.hasOwnProperty,Sb=Object.prototype.propertyIsEnumerable,Tb=(n,t,r)=>t in n?Xk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,eU=(n,t)=>{for(var r in t||(t={}))Ob.call(t,r)&&Tb(n,r,t[r]);if(jc)for(var r of jc(t))Sb.call(t,r)&&Tb(n,r,t[r]);return n},tU=(n,t)=>Qk(n,qk(t)),nU=(n,t)=>{var r={};for(var i in n)Ob.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&jc)for(var i of jc(n))t.indexOf(i)<0&&Sb.call(n,i)&&(r[i]=n[i]);return r};const rU="modular-home-posts",oU=n=>{var t;const r=n,{alwaysShowActions:i,bodyPostGroups:u,postsByGroupId:D,pub:k,showSiteMap:H,theme:U,user:ee,utm:ve}=r,xe=nU(r,["alwaysShowActions","bodyPostGroups","postsByGroupId","pub","showSiteMap","theme","user","utm"]),{posts:Le,topPosts:ze,onChange:qe}=E2(xy()(n,["newPosts","pinnedPosts","topPosts"])),{breakpoint:Je,isMobile:st}=pa();if(Le.length===0)return(0,e.h)(iU,null);const Ct=Le[0],bt=ze==null?void 0:ze.filter(En=>!Ct||En.id!==Ct.id),Dt=!((t=Le[0])!=null&&t.cover_image);let Ut=cB[U.home_hero][Je];Dt&&["magaziney","magazine-5"].includes(U.home_hero)&&["desktop","tablet"].includes(Je)&&(Ut+=2);let Rt=U.home_hero;Le.length<Ut+1&&(Rt="newspaper",Ut=1);const Qt=Le.length>=Ut+1,pn=["newspaper","feature"].includes(Rt)&&U.home_posts==="list";return(0,e.h)(cy.Provider,{value:{alwaysShowActions:i}},(0,e.h)(qt.tu,{className:Fc.container},(0,e.h)(qt.tu,{gap:32,paddingTop:!Qt&&st?24:0},Qt&&(0,e.h)(UB,{firstPostMissingImage:Dt,bodyVariant:U.home_posts,isMobile:st,posts:Le.slice(0,Ut),pub:k,topPosts:bt,user:ee,utm:ve,variant:Rt,onChange:qe}),U.home_show_top_posts&&bt&&Rt!=="magaziney"&&Qt&&(0,e.h)(Jk,{columns:pn?3:4,posts:bt,pub:k,user:ee,utm:ve,onChange:qe})),(0,e.h)(qt.tu,{className:Fc.bodyContainer,id:rU},Qt&&(0,e.h)(Cf,{numColumns:pn?3:4}),(0,e.h)(Vk,tU(eU({},xe),{hideImagesFromList:U.hide_images_from_list,posts:Qt?Le.slice(Ut):Le,pub:k,showSiteMap:H,source:`${U.home_hero}-${U.home_posts}-home`,user:ee,utm:ve,variant:U.home_posts,onChange:qe,bodyPostGroups:u,postsByGroupId:D,hasEmptyGroupOptions:n.hasEmptyGroupOptions})))))},iU=()=>(0,e.h)(qt.tu,{className:f()(Fc.container,Fc["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon");var aU=Object.defineProperty,sU=Object.defineProperties,lU=Object.getOwnPropertyDescriptors,Wc=Object.getOwnPropertySymbols,Ib=Object.prototype.hasOwnProperty,xb=Object.prototype.propertyIsEnumerable,Db=(n,t,r)=>t in n?aU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,uU=(n,t)=>{for(var r in t||(t={}))Ib.call(t,r)&&Db(n,r,t[r]);if(Wc)for(var r of Wc(t))xb.call(t,r)&&Db(n,r,t[r]);return n},cU=(n,t)=>sU(n,lU(t)),dU=(n,t)=>{var r={};for(var i in n)Ib.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Wc)for(var i of Wc(n))t.indexOf(i)<0&&xb.call(n,i)&&(r[i]=n[i]);return r};const fU=n=>{var t=n,{blurbs:r,freeSignup:i,freeSignupEmail:u,hide_intro_popup:D,noBalanceHeroText:k,notify_user:H,pinnedPosts:U,pub:ee,referralCode:ve,showWelcome:xe,user:Le,postTags:ze,sections:qe,hasEmptyGroupOptions:Je,postsByGroupId:st}=t,Ct=dU(t,["blurbs","freeSignup","freeSignupEmail","hide_intro_popup","noBalanceHeroText","notify_user","pinnedPosts","pub","referralCode","showWelcome","user","postTags","sections","hasEmptyGroupOptions","postsByGroupId"]),bt;(0,o.d4)(()=>{H&&typeof window!="undefined"&&(0,ds.ZP)(H)},[H]);const Dt=!!(U&&U.length>0),Ut=nB()((bt=ee.theme.body_post_groups)==null?void 0:bt.map(Rt=>{var Qt,pn,En,_n;return Rt.tag_id?(pn=(Qt=Rt.post_tag)!=null?Qt:ze==null?void 0:ze.find(fn=>fn.id===Rt.tag_id))!=null?pn:null:Rt.section_id&&(_n=(En=Rt.section)!=null?En:qe==null?void 0:qe.find(fn=>fn.id===Rt.section_id))!=null?_n:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(Ty,{pub:ee}),(0,e.h)(oU,cU(uU({},Ct),{alwaysShowActions:!1,bodyPostGroups:Ut,freeSignup:i,freeSignupEmail:u,hasEmptyGroupOptions:Je,pinnedPosts:U,postsByGroupId:st,pub:ee,showSiteMap:Dt,theme:ee.theme,user:Le})),(0,e.h)(Iy,{blurbs:r,freeSignup:i,freeSignupEmail:u,hide_intro_popup:D,noBalanceHeroText:k,pub:ee,referralCode:ve,showWelcome:xe,user:Le}))};var pU=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});function hU({showModal:n,onClose:t,existingPub:r,pub:i}){return(0,e.h)(Wi.u_,{isOpen:n,onClose:t,className:"twitter-quitter-modal"},(0,e.h)(q.xv.H2,{weight:"bold"},r?"Tell your followers they can find you on Substack.":"Your Substack is live! Tell your followers about it."),(0,e.h)("div",{className:"subtext"},(0,e.h)(q.xv.B3,{className:"body",color:"secondary"},"Let your followers on Twitter know you are now writing on Substack.")),(0,e.h)("div",{className:"modal-done"},(0,e.h)(kr.zx,{onClick:()=>pU(this,null,function*(){(0,M.j)(M.FP.SHARE_LINK_CLICKED,{name:"twitter",source:"twitter-quitter"});const u=r?"I'm writing on @substackinc. Subscribe to me there.":"I've started a @substackinc. Subscribe to me there.",D=(0,v.getBaseUrl)(i),k=(0,v.pathWithQuery)("https://twitter.com/share",{url:D,text:u});window.open(k,"_blank"),t()}),priority:"primary",style:{backgroundColor:"#1da1f2",width:"100%"},leftIcon:(0,e.h)(Un.Z,{fill:"white"})},"Share")))}const mU=hU,Mb=({podcastSettings:n})=>{var t,r;return(0,e.h)("div",{className:"section-header"},(0,e.h)("div",{className:"section-logo-and-name"},n.artUrl&&(0,e.h)(e.Fragment,null,(0,e.h)("img",{className:"logo desktop-only",src:(0,v.imginary)(n.artUrl,72*2),alt:(t=n.title)!=null?t:void 0}),(0,e.h)("img",{className:"logo mobile-only",src:(0,v.imginary)(n.artUrl,48*2),alt:(r=n.title)!=null?r:void 0})),(0,e.h)("h2",null,n.title)),(0,e.h)("p",null,n.description))},_U=({section:n})=>(0,e.h)("div",{className:"section-header"},(0,e.h)("div",{className:"section-logo-and-name"},n.logo_url&&(0,e.h)(e.Fragment,null,(0,e.h)("img",{className:"logo desktop-only",src:(0,v.imginary)(n.logo_url,72*2),alt:n.name}),(0,e.h)("img",{className:"logo mobile-only",src:(0,v.imginary)(n.logo_url,48*2),alt:n.name})),(0,e.h)("h2",null,n.name)),(0,e.h)("p",null,n.description));var gU=Object.defineProperty,Ab=Object.getOwnPropertySymbols,vU=Object.prototype.hasOwnProperty,yU=Object.prototype.propertyIsEnumerable,fp=(n,t,r)=>t in n?gU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bU=(n,t)=>{for(var r in t||(t={}))vU.call(t,r)&&fp(n,r,t[r]);if(Ab)for(var r of Ab(t))yU.call(t,r)&&fp(n,r,t[r]);return n},nu=(n,t,r)=>(fp(n,typeof t!="symbol"?t+"":t,r),r),pp=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class PU extends e.Component{constructor(t,r){super(t,r),nu(this,"loadPinnedPosts",()=>(0,b.stateTransaction)(this,i=>pp(this,null,function*(){var u;if(i.pinnedPosts)return;let D=ft().get("/api/v1/archive").query(bU({sort:"pinned",sectionId:(u=this.props.pub.section)==null?void 0:u.id},this.props.pub.multiple_pins?{}:{limit:1})).then(k=>k.body);this.setState({pinnedPosts:D});try{D=yield D,D.length===0&&(D=null)}catch(k){console.error("Failed to fetch pinned posts:",k),D=null}this.setState({pinnedPosts:D})}))),nu(this,"loadLatestChildPosts",()=>(0,b.stateTransaction)(this,(i,u)=>pp(this,null,function*(){if(u.pub.child_publications.length===0||i.latestChildPosts)return;let D=ft().get("/api/v1/posts/latest_child_posts").then(k=>k.body);try{D=yield D,D.length===0&&(D=null)}catch(k){console.error("Failed to fetch child publications:",k),D=null}this.setState({latestChildPosts:D})}))),nu(this,"loadHomepageLinks",()=>(0,b.stateTransaction)(this,(i,u)=>pp(this,null,function*(){if(!(i.homepageLinks||u.pub.section))try{const D=yield ft().get("/api/v1/homepage_links").then(k=>k.body);this.setState({homepageLinks:D})}catch(D){console.error("Failed to fetch homepage links:",D)}}))),nu(this,"onChange",({post:i})=>{i&&(0,b.stateTransaction)(this,u=>{let D=!1;const k=[u.pinnedPosts,u.latestChildPosts].filter(H=>Array.isArray(H));for(const H of k){const U=H.findIndex(ee=>ee.id===i.id);U!==-1&&(H[U]=i,D=!0)}D&&this.setState({pinnedPosts:u.pinnedPosts,latestChildPosts:u.latestChildPosts})})}),nu(this,"_hidePrivatePosts",()=>{const{user:i,pub:u}=this.props;return!(i&&i.is_subscribed)&&Be.hidePaidPostsFor.includes(u==null?void 0:u.subdomain)}),this.state={pinnedPosts:this.props.pinnedPosts,latestChildPosts:this.props.latestChildPosts,homepageLinks:this.props.homepageLinks}}componentDidMount(){this.triggerTwitterQuitterOnLoad(),this.loadPinnedPosts(),this.loadLatestChildPosts(),this.loadHomepageLinks(),this.setShowWelcome()}setShowWelcome(){typeof window!="undefined"&&this.props.showWelcome&&(this.setState({showWelcome:!0}),(0,b.removeQueryParam)("showWelcome"))}triggerTwitterQuitterOnLoad(){let t=!1,r=!1;(0,v.getQueryItem)("twitter_quitter")&&(window.history.replaceState({},document.title,(0,v.updateQuery)({twitter_quitter:null})),t=!0),(0,v.getQueryItem)("existing_pub")&&(window.history.replaceState({},document.title,(0,v.updateQuery)({existing_pub:null})),r=!0),this.setState({showTwitterQuitterModal:t,existingPubTwitterQuitterModal:r})}render({children:t,disableInteractive:r,freeSignup:i,freeSignupEmail:u,includePinnedPosts:D,isPodcast:k,newPosts:H,numRecommendations:U,pub:ee,recommendations:ve,search:xe,sort:Le,user:ze},{pinnedPosts:qe,homepageLinks:Je,showTwitterQuitterModal:st,existingPubTwitterQuitterModal:Ct}){var bt;const{section:Dt}=ee;if(Dt&&k&&!Dt.is_podcast)return(0,e.h)(qt.xv.H1,null,"Podcast not found");const Ut=!Array.isArray(qe);let Rt,Qt;const pn=qe;Ut||(Qt=new Set(qe.map(Zn=>Zn.id)),[Rt,...qe]=qe);const En=!Dt&&Je&&Je.length>0,_n=!!(ve!=null&&ve.length)&&ee.show_recs_on_homepage,fn=En||_n;return(0,e.h)(e.Fragment,null,t,(0,e.h)(mU,{showModal:!!st,existingPub:!!Ct,onClose:()=>this.setState({showTwitterQuitterModal:!1}),pub:ee}),Ut?(0,e.h)(ty,{className:"home-big-post",pub:ee}):!Rt&&!Dt?(0,e.h)("div",{className:"container"},(0,e.h)("p",{className:"home-coming-soon"},"Coming soon")):[Dt&&k?(0,e.h)(Mb,{podcastSettings:(0,fs.getSectionPodcastSettings)({pub:ee,section:Dt})}):Dt?(0,e.h)(_U,{section:Dt}):k?(0,e.h)(Mb,{podcastSettings:(0,fs.getPubPodcastSettings)({pub:ee})}):(0,e.h)(Tc,{className:"home-big-post",post:Rt,pub:ee,user:ze,showDate:!0,showCoverImage:!0,coverImageOptional:!0,authorInMeta:(0,Be.getBylineUsers)(Rt).length<=1,maxTitleLength:ee.subdomain==="sinocism"?69:92,maxDescriptionLength:ee.subdomain==="sinocism"?240:280,imageAssetSize:900,onChange:this.onChange,disableInteractive:r,isBigPost:!0}),(0,e.h)("div",{className:f()("container home-container",{"has-right-column":fn})},(0,e.h)("div",{className:"home-posts"},Array.isArray(qe)&&qe.length>0&&!k&&(0,e.h)("div",{className:"home-posts-pinned"},qe.map(Zn=>(0,e.h)(Tc,{className:"home-posts-post",post:Zn,pub:ee,user:ze,showDate:!0,showCoverImage:!0,onChange:this.onChange,disableInteractive:r}))),(0,e.h)("div",{className:"home-posts-columns"},(0,e.h)($s,{className:"home-posts-column-left",disableInteractive:r,emptyMessage:k&&"No episodes",filterPosts:Zn=>Dt?!0:this._hidePrivatePosts()&&Zn.audience!=="everyone"?!1:D?!0:(0,Be.shouldHidePostFromArchive)(Zn)?!1:!Qt.has(Zn.id),freeSignup:i,freeSignupEmail:u,isBelowTheFold:!0,isPodcast:k,maxPosts:7,newPosts:H,onChange:this.onChange,pinnedPosts:pn,pub:ee,search:xe,sectionId:(bt=ee==null?void 0:ee.section)==null?void 0:bt.id,showPins:!!Dt,sort:Le,source:"homepage",stateInUrl:!0,user:ze}),fn&&(0,e.h)("div",{className:"home-right-column"},_n&&(0,e.h)(ob,{recommendations:ve,numRecommendations:U,pub:ee,user:ze}),(0,e.h)(cb,{homepageLinks:Je,pub:ee}))))),(0,e.h)("div",{className:"full-container-border mobile-only"})])}}const Nb={container:"frontend-main-home-SectionPage-module__container--W1M1c",logo:"frontend-main-home-SectionPage-module__logo--pPmSx"},Rb=({logoUrl:n,name:t,description:r})=>(0,e.h)(qt.tu,{gap:12,paddingTop:32,paddingBottom:24},n&&(0,e.h)("img",{className:Nb.logo,src:(0,v.imginary)(n,72*2),alt:t}),(0,e.h)(qt.xv.H1,{font:"pub-headings",color:"pub-primary-text"},t),(0,e.h)(qt.xv.B3,{color:"pub-secondary-text"},r));var EU=Object.defineProperty,wU=Object.defineProperties,CU=Object.getOwnPropertyDescriptors,Hc=Object.getOwnPropertySymbols,Lb=Object.prototype.hasOwnProperty,Bb=Object.prototype.propertyIsEnumerable,kb=(n,t,r)=>t in n?EU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ub=(n,t)=>{for(var r in t||(t={}))Lb.call(t,r)&&kb(n,r,t[r]);if(Hc)for(var r of Hc(t))Bb.call(t,r)&&kb(n,r,t[r]);return n},Fb=(n,t)=>wU(n,CU(t)),OU=(n,t)=>{var r={};for(var i in n)Lb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Hc)for(var i of Hc(n))t.indexOf(i)<0&&Bb.call(n,i)&&(r[i]=n[i]);return r};const hp=n=>{var t=n,{blurbs:r,disableInteractive:i,freeSignup:u,freeSignupEmail:D,hide_intro_popup:k,isPodcast:H,newPosts:U,noBalanceHeroText:ee,notify_user:ve,pinnedPosts:xe,pub:Le,referralCode:ze,search:qe,section:Je,sort:st,showWelcome:Ct,user:bt,utm:Dt}=t,Ut=OU(t,["blurbs","disableInteractive","freeSignup","freeSignupEmail","hide_intro_popup","isPodcast","newPosts","noBalanceHeroText","notify_user","pinnedPosts","pub","referralCode","search","section","sort","showWelcome","user","utm"]),Rt,Qt;const{getConfigFor:pn}=(0,Kn.xR)(),En=!!pn("updated_archives");if((0,o.d4)(()=>{ve&&typeof window!="undefined"&&(0,ds.ZP)(ve)},[ve]),!Je&&!H)return console.warn("Should be either a section or podcast or both"),null;const _n=Fb(Ub({},Ut),{disableInteractive:i,freeSignup:u,freeSignupEmail:D,pinnedPosts:xe,newPosts:U,pub:Le,user:bt});let fn=null;return H&&(fn=Je?(0,fs.getSectionPodcastSettings)({pub:Le,section:Je}):(0,fs.getPubPodcastSettings)({pub:Le})),(0,e.h)("div",{className:f()("home-page",{[Nb.container]:En})},(0,e.h)(Ty,{pub:Le,section:Je,isPodcast:H}),En?(0,e.h)(e.Fragment,null,fn?(0,e.h)(Rb,{name:(Rt=fn.title)!=null?Rt:"",description:(Qt=fn.description)!=null?Qt:"",logoUrl:fn.artUrl}):Je&&(0,e.h)(Rb,{name:Je.name,description:Je.description,logoUrl:Je.logo_url}),(0,e.h)(Cf,null),(0,e.h)(Ic,{isPodcast:H,maxPosts:7,newPosts:U,pinnedPosts:xe,pub:Le,search:qe,sectionId:Je==null?void 0:Je.id,sort:st,user:bt,variant:"list"},({posts:Zn,linkToComments:Gn,onClickPost:$n})=>(0,e.h)(Ci,{hideImages:Le.theme.hide_images_from_list,linkToComments:Gn,posts:Zn,pub:Le,showSectionPins:!0,user:bt,utm:Dt,variant:"two-column-list",onChange:()=>{},onClickPost:$n}))):(0,e.h)(PU,Fb(Ub({},_n),{isPodcast:H,section:Je})),(0,e.h)(Iy,{blurbs:r,freeSignup:u,freeSignupEmail:D,hide_intro_popup:k,isPodcast:H,noBalanceHeroText:ee,pub:Le,referralCode:ze,showWelcome:Ct,user:bt}))};var SU=Object.defineProperty,TU=(n,t,r)=>t in n?SU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,jb=(n,t,r)=>(TU(n,typeof t!="symbol"?t+"":t,r),r),Wb=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class IU extends e.Component{constructor(){super(...arguments),jb(this,"state",{loading:!0,invites:[]}),jb(this,"onSuccess",()=>Wb(this,null,function*(){alert("Invite sent!"),document.location.reload()}))}componentDidMount(){if(!this.hasInvites()){(0,b.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:t,user:r}=this.props;return t.invite_only?r&&r.is_contributor?!0:!(!(t.subscriber_invites>0)||!(r&&r.is_subscribed)):!1}loadInvites(){return Wb(this,null,function*(){try{const t=yield ft().get("/api/v1/publication/invite");this.setState({invites:t.body,loading:!1})}catch(t){console.error("Failed to fetch invites:",t),alert((0,b.getNetworkErrorMessage)(t))}})}render({pub:t,user:r},{loading:i,invites:u}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const D=r&&r.is_contributor,k=Math.max(r&&r.invites,u.length),H=Math.max(k,t.subscriber_invites),U=H-k;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,t.name," is invite-only, but you\u2019ve been granted"," ",D?"an infinite number of invites":(0,Be.pluralize)(H,"invite")," to give out."),(U>0||D)&&[!D&&(0,e.h)("h5",null,"You have ",(0,Be.pluralize)(U,"invite")," left"),(0,e.h)(Nr.ZP,{ref:ee=>this.form=ee,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)(be.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],i&&k>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):u.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,u.sort((ee,ve)=>new Date(ve.created_at)-new Date(ee.created_at)).map(ee=>(0,e.h)("li",null,ee.inviteeUser&&ee.inviteeUser.name||""," on"," ",dr()(ee.created_at).standardDate())))]:null))}}function xU({pub:n,post:t}){return(0,e.h)(Ne.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(Ne.tu,{alignItems:"center",gap:4},(0,e.h)(Ne.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(q.xv.H1,null,"You rejected your invite to ",n.name)),(0,e.h)(q.xv.B3,null,"If you change your mind, you can accept from your email invitation."),t.is_published?(0,e.h)(q.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,v.getPostUrl)(n,t)},t.title)):null),(0,e.h)(kr.zx,{href:n.base_url},`Go to ${n.name}`))}function DU({pub:n,user:t,post:r,freeSignup:i,freeSignupEmail:u}){const D=(0,o.sO)(null),k=()=>D.current&&D.current.open();if(!r)return(0,e.h)(Ne.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",n.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(qn.Z,{onClick:k},"profile is up to date")),(0,e.h)(xf.EB,{ref:D,user:t,freeSignup:i,freeSignupEmail:u,needsPhoto:!0})));const H=r.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",U="Your profile is set up and good to go!";return(0,e.h)(Ne.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(Ne.tu,{alignItems:"center",gap:4},(0,e.h)(Ne.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(q.xv.H1,null,H)),(0,e.h)(q.xv.B3,null,U)),(0,e.h)(kr.zx,{href:n.base_url},`Go to ${n.name}`))}const MU=(0,Eo.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var AU=It(78041),NU=(n=>(n.feedCtaDismissKey="feed-dashboard-cta.dismissed",n.publicationNotesTabAnnouncement="pub-notes-tab-announcement.dismissed",n.createChatInviteDraft2CtaKey="create-chat-invite-draft-2.dismissed",n.createChatInviteDraftCtaKey="create-chat-invite-draft.dismissed",n.newDashboardAnnouncement="new-dashboard-announcement.dismissed",n.enablePaid="enable-paid.dismissed",n))(NU||{}),RU=(n=>(n.post="post",n))(RU||{}),LU=(n=>(n.DIRECT_EMAIL="direct_email",n.POST_REPLY="post_reply",n))(LU||{}),BU=(n=>(n.SENT="sent",n.REJECTED="rejected",n.NEEDS_REVIEW="needs_review",n.FAILED="failed",n))(BU||{});const zi={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",headerWrapper:"frontend-main-leaderboard-module__headerWrapper--f9bYD",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",rewardBox:"frontend-main-leaderboard-module__rewardBox--xxpgK",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"};var kU=Object.defineProperty,UU=Object.defineProperties,FU=Object.getOwnPropertyDescriptors,Hb=Object.getOwnPropertySymbols,jU=Object.prototype.hasOwnProperty,WU=Object.prototype.propertyIsEnumerable,Vb=(n,t,r)=>t in n?kU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,HU=(n,t)=>{for(var r in t||(t={}))jU.call(t,r)&&Vb(n,r,t[r]);if(Hb)for(var r of Hb(t))WU.call(t,r)&&Vb(n,r,t[r]);return n},VU=(n,t)=>UU(n,FU(t));const mp=(n,t)=>{(0,M.j)(M.FP.SHARE_LINK_CLICKED,{name:t,source:"leaderboard"}),n&&(n.startsWith("http")?window.open(n,"_blank"):document.location.href=n)},KU=({isSelected:n,tier:t})=>(0,e.h)(Ne.tu,{className:zi.rewardBox,border:"detail-themed",radius:8,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:n?"var(--color-accent-themed)":void 0}},(0,e.h)(Ne.gq,{gap:4,alignItems:"center"},new Array(t.display_order).fill(0).map(()=>(0,e.h)(f1,{size:20,fill:"var(--color-accent-themed)",stroke:"var(--color-accent-themed)"}))),(0,e.h)(q.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},t.reward_type==="custom"?t.reward_description:R0[t.reward_type]),(0,e.h)(q.xv.Meta,{weight:"semibold",style:{color:n?"var(--color-accent-themed)":void 0}},n?"You're here!":`${t.num_referrals_required} Referrals`)),Kb=({user:n,rank:t,referrals:r,isSelf:i,isHighlighted:u})=>(0,e.h)("a",{href:(0,ae.getProfileUrlById)(n.id,n.name),className:zi.referrerLink},(0,e.h)(Ne.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:i||u?"detail-themed":"transparent",radius:8,paddingLeft:12,paddingY:i?16:8,paddingRight:20,justifyContent:"space-between",className:f()(zi.referrerRow,{[zi.referrerRowInverted]:!i})},(0,e.h)(Ne.gq,{gap:8,alignItems:"center"},(0,e.h)(q.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},t,"."),(0,e.h)(sa.Ct,{subject:n,dontStopPropagation:!1},(0,e.h)(fl.qE,{size:36,user:n})),(0,e.h)(q.xv.B4,{color:"primary-themed",weight:"semibold"},n.name)),(0,e.h)(q.xv.B4,{color:"primary-themed",weight:"semibold"},r))),$U=({pub:n,user:t})=>{const r=(0,ni.pm)(),{result:i,isLoading:u}=(0,_o.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0});if((0,o.d4)(()=>{!u&&!i&&(0,b.redirect)((0,ae.getBaseUrl)(n))},[i,u,n]),u||!i)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:D,tiers:k,top_referrers:H,current_user_can_share:U,current_user_id:ee}=i,ve=t==null?void 0:t.is_admin,xe=t==null?void 0:t.is_contributor,Le=(0,ae.pathWithQuery)((0,ae.getBaseUrl)(n),{r:ee==null?void 0:ee.toString(36)});let ze,qe;k.find((st,Ct)=>{const bt=(D==null?void 0:D.referrals)||0,Dt=k[Ct+1];bt>=st.num_referrals_required&&(!Dt||bt<Dt.num_referrals_required)&&(ze=st,qe=Dt)});let Je="";return!ze&&D?Je=`You have ${D.referrals} referrals \u2014 only ${k[0].num_referrals_required-D.referrals} more referrals to earn your first reward!`:ze&&qe&&D?Je=`You\u2019ve referred ${D.referrals} readers! You\u2019ve qualified for the Tier ${ze.display_order} reward. Invite ${qe.num_referrals_required-D.referrals} more readers to earn the Tier ${qe.display_order} reward!`:ze&&!qe&&D&&(Je=`You\u2019ve referred ${D.referrals} readers! You\u2019re number #${D.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(Ne.tu,{gap:64,className:zi.wrapper},(ve||xe)&&(0,e.h)(Ne.tu,{border:"detail-themed",gap:16,paddingX:24,paddingY:16,radius:8},(0,e.h)(Ne.tu,{gap:4},(0,e.h)(q.xv.Meta,{color:"pub-primary-text"},ve?"Admin View":"Contributor View"),(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},ve?"A view of your leaderboard as it appears to your subscribers. Note: As an admin your referrals will not appear on the leaderboard.":"A view of your leaderboard as it appears to your subscribers. Note: As a contributor your referrals will not appear on the leaderboard.")),ve&&(0,e.h)(kr.zx,{priority:"secondary-theme",outline:"none",href:"/publish/settings#referrals",localNavigation:!1},"Edit Referral Settings")),(0,e.h)(Ne.tu,{alignItems:"center"},(0,e.h)(Ne.tu,{gap:24,className:zi.headerWrapper,alignItems:"center"},(0,e.h)(Pl.x,null,(0,e.h)(bd.F,{pub:n,size:64})),(0,e.h)(Ne.tu,{alignItems:"center",gap:4},(0,e.h)(q.xv,{className:zi.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},U?`Refer friends to ${n.name}`:`Subscribe and invite friends to ${n.name}`),(0,e.h)(q.xv.B3,{color:"pub-secondary-text",textAlign:"center",className:zi.introText},"Show your support by sharing ",n.name," and earn rewards for your referrals.")),!U&&!(xe||ve)&&(0,e.h)(Ne.tu,{style:{width:"100%"}},(0,e.h)(kr.zx,{grow:!0,priority:"primary-theme",href:(0,ae.pathWithQuery)("/subscribe",{next:(0,ae.getLeaderboardUrl)(n,{addBase:!0})}),localNavigation:!1},"Subscribe")))),(U||xe||ve)&&(0,e.h)(Ne.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(Ne.gq,{style:{width:"100%"}},(0,e.h)(qt.oi,{className:zi.copyLinkInput,readOnly:!0,value:Le}),(0,e.h)(kr.zx,{className:zi.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,M.j)(M.FP.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,b.copyToClipboard)(Le),r.popToast(st=>(0,e.h)(ni.FN,VU(HU({},st),{Icon:xl.Z,text:"Link copied to clipboard"})))}},"Copy link")),(0,e.h)(Ne.hs,{className:zi.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(kr.zx,{className:zi.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(Un.Z,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>mp((0,ae.pathWithQuery)("https://twitter.com/share",{url:Le,text:n.name}),"twitter")},"Twitter"),(0,e.h)(kr.zx,{className:zi.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(AU.Z,{height:20,width:20}),onClick:()=>mp((0,ae.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Le}),"facebook")},"Facebook"),(0,e.h)(kr.zx,{className:zi.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(l1,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>mp((0,ae.pathWithQuery)("mailto:",{subject:n.name,body:Le}),"email")},"Email"))),(0,e.h)(Ne.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(q.xv.H3,{font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(Ne.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},k.map(st=>(0,e.h)(KU,{key:st.display_order,tier:st,isSelected:st.display_order===(ze==null?void 0:ze.display_order)}))),U&&D&&(0,e.h)(Ne.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(Kb,{user:t,isSelf:!0,referrals:D.referrals,rank:D.rank}),(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},Je))),(0,e.h)(Ne.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(q.xv.H3,{font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(H==null?void 0:H.length)===0&&(0,e.h)(Ne.tu,{alignItems:"center",justifyContent:"center",textAlign:"center",paddingX:48,sizing:"border-box",style:{width:"100%",minHeight:350},gap:4,border:"detail-themed",radius:8},(0,e.h)(MU,{size:22,stroke:"var(--color-secondary-themed)"}),(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},`No referrers yet. Be the first on ${n.name}'s leaderboard by helping them find new readers.`)),(H==null?void 0:H.length)>0&&(0,e.h)(Ne.tu,{gap:8,style:{width:"100%"}},(0,e.h)(Ne.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(q.xv.Meta,{weight:"semibold"},"Referrer"),(0,e.h)(q.xv.Meta,{weight:"semibold"},"Referrals")),H==null?void 0:H.map(st=>(0,e.h)(Kb,{key:st.user.id,user:st.user,isHighlighted:st.user.id===(t==null?void 0:t.id),rank:st.rank,referrals:st.referrals})))))))},zU=(0,Eo.Z)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),GU=(0,Eo.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Gi={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"},$b=({pub:n})=>{const t=()=>{const r=(0,v.getQueryItem)("referrer"),i=r!=null?r:(0,v.getPubUrl)(n);(0,b.redirect)(i,{local_navigation:!1})};return(0,e.h)(kr.hU,{onClick:t,className:Gi.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(Ns.Z,{className:Gi.closeIcon}))},Ys=({pub:n,user_id:t,user_profile_photo_url:r,children:i})=>(0,wi.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(Ne.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)(bd.F,{className:Gi.pubLogo,pub:n,size:112}),i):(0,e.h)(Ne.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:Gi.avatarWithPubLogo},(0,e.h)(fl.qE,{className:Gi.avatar,user:{id:t,photo_url:r},size:112}),(n.logo_url||n.cover_photo_url)&&(0,e.h)(bd.F,{className:Gi.pubIcon,pub:n,size:40})),i),ZU=({pub:n,user:t,settings:r})=>{var i;const{selected_event_type:{price:u,subscriber_price:D,founding_price:k,currency:H,description_html:U,duration:ee,num_availabilities:ve},user_name:xe}=r;let Le=u,ze=null;t!=null&&t.is_subscribed&&D&&(Le=D,ze="SUBSCRIBER DISCOUNT"),t!=null&&t.is_founding&&k&&(Le=k,ze=`${(0,ba.getFoundingTierName)(n).toUpperCase()} DISCOUNT`),(0,o.d4)(()=>{var bt,Dt;(0,M.j)(M.FP.MEETING_PAGE_VIEWED,{publication_id:n.id,user_id:t.id,referrer:(bt=(0,v.getQueryItem)("referrer"))!=null?bt:null,source:(Dt=(0,v.getQueryItem)("source"))!=null?Dt:null})},[]);const qe=(i=(0,v.getQueryItem)("referrer"))!=null?i:void 0,Je=(0,v.updateQuery)("/meetings/book",{referrer:qe}),st=ve>0,Ct=U?{__html:U.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)($b,{pub:n}),(0,e.h)(Ne.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(Ne.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(Ys,{pub:n,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(q.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(q.xv.H2,{align:"center",paddingTop:4},(0,wi.getConfigFor)("meetings_embed_publication_name")?n.name:xe))),(0,e.h)(Ne.tu,{bg:"primary",className:f()(Gi.offer,{[Gi.unavailable]:!st}),radius:8,shadow:"xl",padding:20},ze&&(0,e.h)("div",{className:Gi.displayedBadge},ze),(0,e.h)(Ne.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(Ne.tu,null,Le&&H&&ee&&(0,e.h)(e.Fragment,null,(0,e.h)(q.xv.H3,{color:st?"primary":"secondary"},ee,"-minute meeting"),(0,e.h)(q.xv.B4,{color:st?"primary":"secondary",paddingTop:4},Le<u&&(0,e.h)("span",{className:Gi.originalPrice},(0,Be.centsToPriceString)(u,H)),(0,Be.centsToPriceString)(Le,H)," \xB7"," ",st?ve>50?"Many availabilities":`${(0,Be.pluralize)(ve,"slot")} available this month`:"No slots available in the next week"))),st?(0,e.h)(zU,{className:Gi.check,size:28}):(0,e.h)(GU,{size:28,className:Gi.disabledCheck})),(0,e.h)(q.xv.B4,{color:"secondary"},(0,e.h)("div",{className:Gi.description,dangerouslySetInnerHTML:Ct}))),(0,e.h)(kr.zx,{className:Gi.button,disabled:!st,grow:!0,localNavigation:!1,href:Je},st?"Continue to book":"No meetings available"))))},zb={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"};var YU=Object.defineProperty,JU=Object.defineProperties,XU=Object.getOwnPropertyDescriptors,Gb=Object.getOwnPropertySymbols,QU=Object.prototype.hasOwnProperty,qU=Object.prototype.propertyIsEnumerable,Zb=(n,t,r)=>t in n?YU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,eF=(n,t)=>{for(var r in t||(t={}))QU.call(t,r)&&Zb(n,r,t[r]);if(Gb)for(var r of Gb(t))qU.call(t,r)&&Zb(n,r,t[r]);return n},tF=(n,t)=>JU(n,XU(t));const nF=(n,t,r)=>{var i,u,D,k,H,U,ee,ve,xe,Le,ze,qe,Je,st,Ct,bt,Dt,Ut,Rt,Qt,pn,En,_n,fn,Zn,Gn,$n,yn,Ln,br,Xn,Cn,Mn;return!((i=n.location)!=null&&i.location)&&!((u=n.location)!=null&&u.join_url)?t&&r?{href:(0,ae.getMeetingOrderUrl)(r,n.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(D=n.location)==null?void 0:D.join_url,copyContent:(k=n.location)==null?void 0:k.join_url,label:"Join Zoom"},zoom_conference:{href:(H=n.location)==null?void 0:H.join_url,copyContent:(U=n.location)==null?void 0:U.join_url,label:"Join Zoom"},google:{href:(ee=n.location)==null?void 0:ee.join_url,copyContent:(ve=n.location)==null?void 0:ve.join_url,label:"Join Meet"},google_conference:{href:(xe=n.location)==null?void 0:xe.join_url,copyContent:(Le=n.location)==null?void 0:Le.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(ze=n.location)==null?void 0:ze.location}`,copyContent:(qe=n.location)==null?void 0:qe.location,label:(Je=n.location)==null?void 0:Je.location},outbound_call:{href:null,label:`${(0,Be.guessFirstName)(n.user_name)} will call you at ${(st=n.location)==null?void 0:st.location}`},microsoft_teams:{href:(Ct=n.location)==null?void 0:Ct.join_url,copyContent:(bt=n.location)==null?void 0:bt.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(Dt=n.location)==null?void 0:Dt.join_url,copyContent:(Ut=n.location)==null?void 0:Ut.join_url,label:"Join Teams"},webex:{href:(Rt=n.location)==null?void 0:Rt.join_url,copyContent:(Qt=n.location)==null?void 0:Qt.join_url,label:"Join Webex"},webex_conference:{href:(pn=n.location)==null?void 0:pn.join_url,copyContent:(En=n.location)==null?void 0:En.join_url,label:"Join Webex"},gotomeeting:{href:(_n=n.location)==null?void 0:_n.join_url,copyContent:(fn=n.location)==null?void 0:fn.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(Zn=n.location)==null?void 0:Zn.join_url,copyContent:(Gn=n.location)==null?void 0:Gn.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(yn=($n=n.location)==null?void 0:$n.location)!=null?yn:"Unknown"},ask_invitee:{href:null,label:(br=(Ln=n.location)==null?void 0:Ln.location)!=null?br:"Unknown"},custom:{href:null,label:(Cn=(Xn=n.location)==null?void 0:Xn.location)!=null?Cn:"Unknown"}}[(Mn=n.location)==null?void 0:Mn.type]||{}},rF=({order:n,isStatic:t=!1,pub:r=null})=>{const i=(0,ni.pm)(),{href:u,label:D,copyContent:k}=nF(n,t,r),H=(0,e.h)(q.xv.B3,{align:"right"},u?(0,e.h)("a",{href:u},D):D);return t||!k?H:(0,e.h)(Ne.gq,{gap:4,alignItems:"center"},H,(0,e.h)(kr.hU,{size:24,onClick:()=>{(0,b.copyToClipboard)(k),i.popToast(U=>(0,e.h)(ni.FN,tF(eF({},U),{Icon:dl.Z,text:"Invite link copied"})))}},(0,e.h)(gd,{height:20})))},oF=({order:n,pub:t})=>{const r=dr()(n.start_time),i=dr()(n.end_time),u=`${r.format("MMMM D, YYYY")} at ${r.format("h:mm A z")}`,D=i.diff(r,"minute");return(0,e.h)(Ne.tu,{gap:8,className:zb.meetingDetails},(0,e.h)(Ne.gq,{justifyContent:"space-between",gap:8},(0,e.h)(q.xv.B3,{weight:"bold"},"Time"),(0,e.h)(q.xv.B3,null,u)),(0,e.h)(Ne.gq,{justifyContent:"space-between",gap:8},(0,e.h)(q.xv.B3,{weight:"bold"},"Length"),(0,e.h)(q.xv.B3,null,D," minutes")),(0,e.h)(Ne.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(q.xv.B3,{weight:"bold"},"Location"),(0,e.h)(rF,{order:n,pub:t})),(0,e.h)(q.xv.B3,{align:"center",className:zb.description,paddingTop:16},(0,e.h)("i",null,n.description)))},iF=({booking:n,settings:t,pub:r})=>{const i=(0,wi.getConfigFor)("meetings_embed_publication_name")?r.name:n.user_name;return n.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(Ys,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(q.xv.H2,{align:"center"},"Your meeting with ",i," has been cancelled")),n.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(q.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(q.xv.B4,{align:"center",paddingBottom:32},n.cancellation_reason)),n.refunded_at&&(0,e.h)(q.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),t.enabled&&(0,e.h)(q.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,ae.getMeetingsUrl)(r,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(Ys,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(q.xv.H2,{align:"center"},"Your meeting with ",i," has been ",n.num_rebookings>0?"rebooked":"booked")),(0,e.h)(Ne.tu,{gap:16,alignItems:"center"},(0,e.h)(oF,{order:n,pub:r}),(0,e.h)(q.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),n.refunded_at&&(0,e.h)(q.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(kr.zx,{onClick:()=>{const u=(0,v.getQueryItem)("referrer"),D=u!=null?u:(0,v.getPubUrl)(r);(0,b.redirect)(D,{local_navigation:!1})}},"Done")))};var _p=It(44043);const aF=(0,Eo.Z)("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),sF=(0,Eo.Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Cs={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"};var Yb=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const lF=({onFileSelected:n,dragCTA:t="Drag file here",dropCTA:r=(0,e.h)("a",{className:Cs.browse,href:"javascript:void(0)"},"browse"),acceptableTypes:i,dropEvent:u,pickEvent:D,loading:k,className:H,multiple:U=!1,addMode:ee=!1})=>{const[ve,xe]=(0,o.eJ)(!1),Le=(0,o.sO)(),ze=st=>{st.preventDefault(),xe(!0)},qe=st=>{st.preventDefault(),xe(!1)},Je=st=>Yb(void 0,null,function*(){var Ct,bt,Dt,Ut;st.preventDefault(),u&&(0,M.j)(u),xe(!1);let Rt,Qt;if(((bt=(Ct=st.dataTransfer)==null?void 0:Ct.items)==null?void 0:bt.length)>0){const pn=Array.from(st.dataTransfer.items);for(const En of pn)if(En.kind!=="file"){alert("Please only drag files!");return}Rt=st.dataTransfer.items[0].getAsFile(),Qt=pn.map(En=>En.getAsFile())}else if(((Ut=(Dt=st.dataTransfer)==null?void 0:Dt.files)==null?void 0:Ut.length)>0)Rt=st.dataTransfer.files[0],Qt=st.dataTransfer.files;else{alert("Something went wrong!");return}U?yield n(Qt):yield n(Rt)});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:f()(Cs.dragArea,H,{[Cs.dragActive]:ve,"test-drag-active":ve}),onDragEnter:ze,onDragOver:ze,onDragLeave:qe,onDrop:Je,onClick:()=>Le.current.click(),"aria-label":"File Picker"},ee?(0,e.h)(aF,{size:20,className:Cs.icon}):(0,e.h)(sF,{size:32,className:Cs.icon}),(0,e.h)("p",{className:Cs.text},k?"Loading...":ve?"Release to upload":ee?"Add another image":(0,e.h)(e.Fragment,null,t," or ",r))),(0,e.h)("input",{className:f()(Cs.file,"file-picker-input"),ref:Le,type:"file",name:"file",accept:i,multiple:U,onInput:st=>Yb(void 0,null,function*(){D&&(0,M.j)(D);const Ct=st.target.files;Ct&&Ct[0]&&(U?yield n(Ct):yield n(Ct[0]))})}))},uF={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"},Jb=({className:n,children:t,detail:r,label:i,alignment:u="vertical",error:D=!1})=>{const k=u==="vertical"?cF:dF;return(0,e.h)(k,{className:n,detail:r,error:D,label:i},jt.Children.map(t,H=>(0,jt.isValidElement)(H)?(0,e.cloneElement)(H,{error:D}):H))},cF=({children:n,className:t,detail:r,error:i,label:u})=>(0,e.h)(Ne.tu,{className:t,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(q.xv.B4,{weight:"semibold",as:"div",color:i?"error":"primary",paddingBottom:8},u),n),r&&(0,e.h)(Xb,{detail:r,error:i})),dF=({children:n,className:t,detail:r,error:i,label:u})=>(0,e.h)(Ne.gq,{className:t,justifyContent:"space-between",alignItems:"center"},(0,e.h)(Ne.tu,{gap:4},u&&(0,e.h)(fF,{label:u,error:i}),r&&(0,e.h)(Xb,{detail:r,error:i})),n),fF=({label:n,error:t})=>(0,e.h)(q.xv.B4,{weight:"semibold",className:uF.label,color:t?"error":"primary"},n),Xb=({detail:n,error:t})=>(0,e.h)(q.xv.B4,{color:t?"error":"secondary"},n),ea={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"};var gp=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const pF=({stripe_publishable_key:n,onComplete:t,user:r,pub:i,booking:u,settings:D})=>{const[k,H]=(0,o.eJ)(u.name),[U,ee]=(0,o.eJ)(u.description),[ve,xe]=(0,o.eJ)(null),[Le,ze]=(0,o.eJ)(null),[qe,Je]=(0,o.eJ)(null),[st,Ct]=(0,o.eJ)(null),[bt,Dt]=(0,o.eJ)(!1),[Ut,Rt]=(0,o.eJ)(null);(0,o.d4)(()=>{const Xn=(0,Nr.lQ)(n,i),Cn=Xn&&(0,Nr.UD)(Xn);ze(Xn),Je(Cn)},[i,n,ze,Je]),(0,o.d4)(()=>{(0,M.j)(_p.F.MEETING_ORDER_PAGE_VIEWED,{user_id:r.id,publication_id:i.id})},[]),(0,o.d4)(()=>{(()=>gp(void 0,null,function*(){var Cn;const Mn=yield ft().get("/api/v1/subscription/last4");(Cn=Mn.body)!=null&&Cn.last4&&Ct(Mn.body.last4)}))()},[i]);const Qt=D.selected_event_type,{price:pn,duration:En,subscriber_price:_n,founding_price:fn,currency:Zn}=Qt;let Gn=pn;r.is_subscribed&&_n&&(Gn=_n),r.is_founding&&fn&&(Gn=fn);const $n=!!(r!=null&&r.has_saved_payment),yn=(0,o.I4)(()=>gp(void 0,null,function*(){return Le?yield Le.createToken(qe):{token:null,error:{message:""}}}),[Le,qe]),Ln=(0,o.I4)(()=>gp(void 0,null,function*(){var Xn,Cn,Mn,ar;Dt(!0),Rt(null);let mr;if(!$n){const{token:Xt,error:On}=yield yn();if(On){Dt(!1),Rt(On&&On.message),(0,M.j)(_p.F.MEETING_MISSING_PAYMENT,{type:On&&On.type,code:On&&On.code,decline_code:On&&On.decline_code,reason:On&&On.message});return}mr=Xt}const Hn=new FormData;Hn.append("name",k),Hn.append("description",U),mr&&Hn.append("stripe_token",JSON.stringify(mr)),ve&&Hn.append("attachment",ve);const In=Intl.DateTimeFormat().resolvedOptions().timeZone;In&&Hn.append("timezone",In),(0,M.j)(_p.F.MEETING_SUBMIT_PRESSED,{publication_id:i.id,user_id:r.id});try{const Xt=yield ft().post("/api/v1/meetings/book").send(Hn);history.pushState({},"",`/meetings/book/${Xt.body.order_id}`),t("schedule",xy()(Xt.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(Xt){(Cn=(Xn=Xt.response)==null?void 0:Xn.body)!=null&&Cn.error?Rt((ar=(Mn=Xt.response)==null?void 0:Mn.body)==null?void 0:ar.error):Rt("Something went wrong.")}Dt(!1)}),[k,U,yn,ve,Dt,Rt]),br=!!k&&!!U;return(0,e.h)(e.Fragment,null,(0,e.h)(Ys,{pub:i,user_id:D.user_id,user_profile_photo_url:D.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(qt.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(qt.xv.H2,{align:"center",paddingTop:4},(0,wi.getConfigFor)("meetings_embed_publication_name")?i.name:D.user_name),(0,e.h)(qt.xv.B3,{align:"center",paddingTop:8},Gn<pn&&(0,e.h)("span",{className:ea.originalPrice},(0,Be.centsToPriceString)(pn,Zn)),(0,Be.centsToPriceString)(Gn,Zn)," \xB7 ",En,"-minute meeting"))),(0,e.h)(qt.tu,{gap:32},(0,e.h)(Jb,{alignment:"vertical",label:"Your name"},(0,e.h)(qt.oi,{name:"name",value:k,onChange:Xn=>H(Xn.target.value),placeholder:"Name...",disabled:bt,maxLength:500})),(0,e.h)(Jb,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(qt.gx,{name:"description",value:U,onChange:Xn=>ee(Xn.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:bt})),ve?(0,e.h)("div",null,(0,e.h)(qt.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(qt.gq,{className:ea.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(Ns.Z,{onClick:()=>xe(null),className:ea.fileRemoveIcon,height:24}),(0,e.h)(qt.xv.B3,{className:ea.fileName},ve.name))):(0,e.h)("div",null,(0,e.h)(qt.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(lF,{className:ea.filePicker,onFileSelected:Xn=>xe(Xn),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:ea.checkoutBox},$n&&(0,e.h)(qt.gq,{className:ea.savedCard,padding:12,gap:12},(0,e.h)(K1,{className:ea.cardOnFileIcon}),(0,e.h)(qt.xv.B4,null,st?`**** **** **** ${st}`:"Use card on file")),!$n&&qe&&(0,e.h)(Nr.GP,{className:ea.input,card:qe}),Ut&&(0,e.h)(qt.xv.B4,{paddingTop:12,className:ea.errorContainer},Ut),(0,e.h)(qt.hs,{paddingTop:12},(0,e.h)(L1.u,{text:D.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:bt||br&&D.enabled,preferPlacement:"top-center",className:ea.errorTooltip},(0,e.h)(qt.zx,{className:ea.button,grow:!0,type:"submit",onClick:Ln,disabled:bt||!br||!D.enabled},bt?"Loading...":"Book meeting"))))),(0,e.h)(qt.xv,{className:ea.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",i.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vp=function(n,t){return vp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var u in i)i.hasOwnProperty(u)&&(r[u]=i[u])},vp(n,t)};function ru(n,t){vp(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ou=function(){return ou=Object.assign||function(t){for(var r,i=1,u=arguments.length;i<u;i++){r=arguments[i];for(var D in r)Object.prototype.hasOwnProperty.call(r,D)&&(t[D]=r[D])}return t},ou.apply(this,arguments)};function hF(n,t){t===void 0&&(t={});var r=t.insertAt;if(!(!n||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",r==="top"&&i.firstChild?i.insertBefore(u,i.firstChild):i.appendChild(u),u.styleSheet?u.styleSheet.cssText=n:u.appendChild(document.createTextNode(n))}}var mF=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;hF(mF);var Js;(function(n){n.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",n.EVENT_TYPE_VIEWED="calendly.event_type_viewed",n.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",n.EVENT_SCHEDULED="calendly.event_scheduled"})(Js||(Js={}));var Qb=function(n){var t=n.url,r=n.prefill,i=r===void 0?{}:r,u=n.pageSettings,D=u===void 0?{}:u,k=n.utm,H=k===void 0?{}:k,U=n.embedType,ee=D.backgroundColor,ve=D.hideEventTypeDetails,xe=D.hideLandingPageDetails,Le=D.primaryColor,ze=D.textColor,qe=D.hideGdprBanner,Je=i.customAnswers,st=i.date,Ct=i.email,bt=i.firstName,Dt=i.guests,Ut=i.lastName,Rt=i.location,Qt=i.name,pn=H.utmCampaign,En=H.utmContent,_n=H.utmMedium,fn=H.utmSource,Zn=H.utmTerm,Gn=H.salesforce_uuid,$n=t.indexOf("?"),yn=$n>-1,Ln=t.slice($n+1),br=yn?t.slice(0,$n):t,Xn=[yn?Ln:null,ee?"background_color="+ee:null,ve?"hide_event_type_details=1":null,xe?"hide_landing_page_details=1":null,Le?"primary_color="+Le:null,ze?"text_color="+ze:null,qe?"hide_gdpr_banner=1":null,Qt?"name="+encodeURIComponent(Qt):null,Rt?"location="+encodeURIComponent(Rt):null,bt?"first_name="+encodeURIComponent(bt):null,Ut?"last_name="+encodeURIComponent(Ut):null,Dt?"guests="+Dt.map(encodeURIComponent).join(","):null,Ct?"email="+encodeURIComponent(Ct):null,st&&st instanceof Date?"date="+_F(st):null,pn?"utm_campaign="+encodeURIComponent(pn):null,En?"utm_content="+encodeURIComponent(En):null,_n?"utm_medium="+encodeURIComponent(_n):null,fn?"utm_source="+encodeURIComponent(fn):null,Zn?"utm_term="+encodeURIComponent(Zn):null,Gn?"salesforce_uuid="+encodeURIComponent(Gn):null,U?"embed_type="+U:null,"embed_domain=1"].concat(Je?vF(Je):[]).filter(function(Cn){return Cn!==null}).join("&");return br+"?"+Xn},_F=function(n){var t=n.getMonth()+1,r=n.getDate(),i=n.getFullYear();return[i,t<10?"0"+t:t,r<10?"0"+r:r].join("-")},gF=/^a\d{1,2}$/,vF=function(n){var t=Object.keys(n).filter(function(r){return r.match(gF)});return t.length?t.map(function(r){return r+"="+encodeURIComponent(n[r])}):[]},qb=function(n){ru(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(){return(0,jt.createElement)("div",{className:"calendly-spinner"},(0,jt.createElement)("div",{className:"calendly-bounce1"}),(0,jt.createElement)("div",{className:"calendly-bounce2"}),(0,jt.createElement)("div",{className:"calendly-bounce3"}))},t}(jt.Component),yF={minWidth:"320px",height:"630px"},bF=function(n){ru(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=Qb({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return(0,jt.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||yF},this.state.isLoading&&(0,jt.createElement)(qb,null),(0,jt.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(jt.Component),PF=function(n){ru(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=Qb({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return(0,jt.createElement)(jt.Fragment,null,this.state.isLoading&&(0,jt.createElement)(qb,null),(0,jt.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(jt.Component),eP=function(n){return n.open?(0,jt.createPortal)((0,jt.createElement)("div",{className:"calendly-overlay"},(0,jt.createElement)("div",{onClick:n.onModalClose,className:"calendly-close-overlay"}),(0,jt.createElement)("div",{className:"calendly-popup"},(0,jt.createElement)("div",{className:"calendly-popup-content"},(0,jt.createElement)(PF,ou({},n)))),(0,jt.createElement)("button",{className:"calendly-popup-close",onClick:n.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),n.rootElement):null},UV=function(n){ru(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(r){r.preventDefault(),this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,jt.createElement)(jt.Fragment,null,(0,jt.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),(0,jt.createElement)(eP,ou({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(jt.Component),FV=function(n){ru(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(){this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,jt.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},(0,jt.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&(0,jt.createElement)("span",null,"powered by Calendly")),(0,jt.createElement)(eP,ou({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(jt.Component),tP="message";function EF(n){var t=n||{},r=t.onDateAndTimeSelected,i=t.onEventScheduled,u=t.onEventTypeViewed,D=t.onProfilePageViewed;(0,jt.useEffect)(function(){var k=function(H){var U=H.data.event;U===Js.DATE_AND_TIME_SELECTED?r&&r(H):U===Js.EVENT_SCHEDULED?i&&i(H):U===Js.EVENT_TYPE_VIEWED?u&&u(H):U===Js.PROFILE_PAGE_VIEWED&&D&&D(H)};return window.addEventListener(tP,k),function(){window.removeEventListener(tP,k)}},[n])}var wF=It(56288),CF=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const OF=({booking:n,onComplete:t,settings:r,pub:i})=>{const u="calendly",[D,k]=(0,o.eJ)(!1),[H,U]=(0,o.eJ)(!1),{duration:ee}=r.selected_event_type,ve=(0,wi.getConfigFor)("meetings_embed_publication_name")?i.name:n.user_name,xe=(0,Fe.useMediaQuery)({maxWidth:698});return EF({onEventScheduled:Le=>CF(void 0,null,function*(){var ze,qe,Je;const st=(Je=(qe=(ze=Le.data)==null?void 0:ze.payload)==null?void 0:qe.event)==null?void 0:Je.uri;k(!0);try{const Ct=yield ft().put(`/api/v1/meetings/order/${n.order_id}`).send({calendly_event_uri:st});yield new Promise(bt=>setTimeout(bt,2e3)),t("confirmation",Ct.body)}catch(Ct){U(!0)}})}),H?(0,e.h)(Ys,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(q.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):D?(0,e.h)(Ne.hs,{justifyContent:"center"},(0,e.h)(wF.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(Ys,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(q.xv.H2,{align:"center"},n.num_rebookings>0?"Rebook":"Book"," your meeting with ",ve),(0,e.h)(q.xv.B3,{align:"center",paddingTop:8},"Schedule your ",ee,"-minute meeting"))),typeof window!="undefined"&&n.calendly_scheduling_uri&&(0,e.h)(bF,{iframeTitle:u,url:`${n.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:n.name,email:n.email,customAnswers:{a1:n.description}},styles:{minWidth:"320px",height:"700px",marginTop:xe?"0px":"-66px"}}))};var SF=Object.defineProperty,Vc=Object.getOwnPropertySymbols,nP=Object.prototype.hasOwnProperty,rP=Object.prototype.propertyIsEnumerable,oP=(n,t,r)=>t in n?SF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Xs=(n,t)=>{for(var r in t||(t={}))nP.call(t,r)&&oP(n,r,t[r]);if(Vc)for(var r of Vc(t))rP.call(t,r)&&oP(n,r,t[r]);return n},TF=(n,t)=>{var r={};for(var i in n)nP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Vc)for(var i of Vc(n))t.indexOf(i)<0&&rP.call(n,i)&&(r[i]=n[i]);return r};const IF=n=>{var t=n,{step:r}=t,i=TF(t,["step"]);switch(r){case"order":return(0,e.h)(pF,Xs({},i));case"schedule":return(0,e.h)(OF,Xs({},i));case"confirmation":return(0,e.h)(iF,Xs({},i))}},iP=({stripe_publishable_key:n,pub:t,user:r,order:i,order_id:u,settings:D})=>{const k=u?i.calendly_scheduling_uri?"schedule":"confirmation":"order",[H,U]=(0,o.eJ)(k),[ee,ve]=(0,o.eJ)(Xs({name:r.name,email:r.email,description:""},i)),xe=IF({step:H,booking:ee,settings:D,order:i,onComplete:(Le,ze)=>{ve(Xs(Xs({},ee),ze)),U(Le)},pub:t,stripe_publishable_key:n,user:r,orderId:u});return(0,e.h)(e.Fragment,null,(0,e.h)($b,{pub:t}),(0,e.h)(Ne.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(Ne.tu,{paddingX:24,gap:32,style:{width:H==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},xe)))},xF=({subdomain:n})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,b.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,v.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,v.getDiscoverSearchUrl)({query:n,params:{searching:"publication"}})},'Search Substack for "',n,'"'))));var DF=It(66141),aP=It(19696);function MF(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function jV({user:n,pathname:t="/inbox"}){const[r,i]=MF(),u=dP();if(r||!u||n!=null&&n.reader_installed_at&&u==="ios"&&(t.startsWith("/notes")||t.includes("/note/")))return null;const D=()=>{track(EVENTS.APP_BANNER_DISMISSED),i()},k=U=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})},H=n!=null&&n.reader_installed_at?`substack:/${t}`:u==="android"?getPlayStoreUrl():getAppStoreUrl();return h(lP,{className:"app-banner-fixed"},h(sP,{surface:"reader"}),h(cP,null),h(uP,null,h("div",null,"Get the full experience")),h("a",{href:H,className:"app-banner-cta",onClick:k},"Get app"),h("button",{className:"reader2-button-reset",onClick:D},h(X,{size:16,className:"app-banner-x-out"})))}function AF({post:n,subdomain:t}){const r=dP();if(!(0,P.isMobile)({checkFirst4:!0})||!r)return null;const i=(0,v.getPostAppLinkUrl)(t,n.slug,{redirect:"app-store",source:"post-banner"}),u=()=>{(0,M.j)(M.FP.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(lP,null,(0,e.h)(sP,{surface:"post"}),(0,e.h)(cP,null),(0,e.h)(uP,null,(0,e.h)("div",null,n.type==="podcast"?"Listen":n.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:i,onClick:u},"Open app"))}function sP({surface:n}){return(0,o.d4)(()=>{(0,M.j)(M.FP.APP_BANNER_VIEWED,{surface:"post"})},[]),null}const lP=(0,aP.L)("app-banner"),uP=(0,aP.L)("app-banner-text");function cP(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(le.Z,{height:16}))}function dP(){return(0,P.isIos)()?"ios":(0,P.isAndroid)()?"android":null}var NF=Object.defineProperty,RF=Object.defineProperties,LF=Object.getOwnPropertyDescriptors,fP=Object.getOwnPropertySymbols,BF=Object.prototype.hasOwnProperty,kF=Object.prototype.propertyIsEnumerable,pP=(n,t,r)=>t in n?NF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,UF=(n,t)=>{for(var r in t||(t={}))BF.call(t,r)&&pP(n,r,t[r]);if(fP)for(var r of fP(t))kF.call(t,r)&&pP(n,r,t[r]);return n},FF=(n,t)=>RF(n,LF(t));const WV=n=>h(SvgIcon,FF(UF({},n),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"})),HV=null,Kc=({children:n,dismissKey:t,dismissDurationInSeconds:r,beforeDismiss:i,className:u,level:D="info"}={})=>{const[k,H]=(0,DF.Z)(t,r,i);if(!k)return(0,e.h)("div",{className:f()("banner",D,u)},n,(0,e.h)(x.Z,{width:12,height:12,className:"banner-close",onClick:U=>{U.preventDefault(),U.stopPropagation(),H()}}))},VV=null,KV=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(Kc,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),$V=({action:n="connect"})=>{const{getConfigFor:t}=useSiteConfigs(),[r,i]=useState(!1);return r||!t("twitter_connect_flows_enabled")?null:h(Kc,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),n==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),n==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>i(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>track(EVENTS.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},jF=()=>(0,e.h)(Kc,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{ft().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},"Welcome to Substack!"),(0,e.h)("br",null),(0,e.h)("p",null,`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`),(0,e.h)("br",null),(0,e.h)("p",null,`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)),zV=({children:n,className:t,level:r="info",onClose:i}={})=>{const[u,D]=useState(!1);if(!(u&&r!=="error"))return h("div",{className:classnames("banner",r,t)},n,r!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:k=>{k.preventDefault(),k.stopPropagation(),i&&i(),D(!0)}}))},GV=({featureName:n,featureLink:t,preText:r,linkedText:i,postText:u,children:D})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:n})},[n]);const k=isMobileBrowser();return h(Kc,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!k&&D,h("p",{className:"new-feature-banner-text"},r," ",h("a",{href:t,native:!0,onClick:()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:n})}},i)," ",u))};var WF=It(65207),HF=Object.defineProperty,VF=Object.defineProperties,KF=Object.getOwnPropertyDescriptors,hP=Object.getOwnPropertySymbols,$F=Object.prototype.hasOwnProperty,zF=Object.prototype.propertyIsEnumerable,mP=(n,t,r)=>t in n?HF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,GF=(n,t)=>{for(var r in t||(t={}))$F.call(t,r)&&mP(n,r,t[r]);if(hP)for(var r of hP(t))zF.call(t,r)&&mP(n,r,t[r]);return n},ZF=(n,t)=>VF(n,KF(t));const YF=n=>(0,e.h)(N.l,ZF(GF({},n),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(WF.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var JF=Object.defineProperty,XF=Object.defineProperties,QF=Object.getOwnPropertyDescriptors,_P=Object.getOwnPropertySymbols,qF=Object.prototype.hasOwnProperty,ej=Object.prototype.propertyIsEnumerable,gP=(n,t,r)=>t in n?JF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tj=(n,t)=>{for(var r in t||(t={}))qF.call(t,r)&&gP(n,r,t[r]);if(_P)for(var r of _P(t))ej.call(t,r)&&gP(n,r,t[r]);return n},nj=(n,t)=>XF(n,QF(t));const rj=n=>(0,e.h)(N.l,nj(tj({},n),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));var oj=It(7775),ij=It(74957);const yp={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"};var aj=Object.defineProperty,sj=Object.defineProperties,lj=Object.getOwnPropertyDescriptors,vP=Object.getOwnPropertySymbols,uj=Object.prototype.hasOwnProperty,cj=Object.prototype.propertyIsEnumerable,yP=(n,t,r)=>t in n?aj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,iu=(n,t)=>{for(var r in t||(t={}))uj.call(t,r)&&yP(n,r,t[r]);if(vP)for(var r of vP(t))cj.call(t,r)&&yP(n,r,t[r]);return n},bP=(n,t)=>sj(n,lj(t));const PP="https://twitter.com",EP=()=>{const n=(0,ni.pm)();return(t,r=null)=>n.popToast(i=>(0,e.h)(ni.FN,bP(iu({},i),{className:yp.toast,text:t,cta:r})))},dj=({post:n,publication:t,autoSharedOnTwitter:r,showAfter:i,publicationTwitterScreenName:u,authorVersion:D})=>{const k=(0,o.sO)(null),[H,U]=(0,o.eJ)(!0),ee=EP();(0,o.d4)(()=>{r&&ee("Post shared to Twitter",u?(0,e.h)("a",{className:yp.cta,href:`${PP}/${u}`,target:"_blank",rel:"noopener"},"View"):null)},[]);const ve=()=>{U(!1)};return!H&&i?i:(0,e.h)(or.Z,{testID:"share-modal",openByDefault:!0,className:f()("force-light-theme",yp.modal),ref:k,variant:"structured",modalTitle:`Share your ${D?"substack:":"post:"}`,modalFooter:(0,e.h)(aa.z,{variant:D?"primary":"secondary",look:"button",onClick:xe=>{xe.preventDefault(),k.current.close()}},D?"View Dashboard":"View post"),onBeforeClose:ve},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)(xl.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,D?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!D&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)(pj,{modalRef:k})),(0,e.h)(fj,{post:n,publication:t,hideEmailOption:!D,trackingParams:{sd:"pf"},autoSharedOnTwitter:r,authorVersion:D})))},fj=({post:n,publication:t,hideEmailOption:r=!1,trackingParams:i,autoSharedOnTwitter:u,authorVersion:D})=>{const k=D?(0,v.getBaseUrl)(t):n.canonical_url,H=ee=>{(0,M.j)(M.FP.SHARE_LINK_CLICKED,{name:ee,post_id:n==null?void 0:n.id,source:"fullscreen-author-share-dialog"})},U=EP();return(0,e.h)(e.Fragment,null,(0,e.h)(au,{onClick:()=>{H("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,v.serializeQuery)({u:(0,v.updateQuery)(k,iu({utm_source:"facebook"},i))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(rj,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!u&&(0,e.h)(au,{onClick:()=>{H("twitter"),window.open(`${PP}/share?${(0,v.serializeQuery)({url:(0,v.updateQuery)(k,iu({utm_source:"twitter"},i))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(Un.Z,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(au,{onClick:()=>{(0,b.copyToClipboard)((0,v.updateQuery)(k,i)),H("copy"),U("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(oj.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!r&&(0,e.h)(au,{onClick:()=>{H("email"),window.open(`mailto:?${(0,v.serializeQuery)({subject:D?`Check out ${t.name}`:n.title,body:(0,v.updateQuery)(k,iu({utm_source:"email"},i))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(ij.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!D&&(0,e.h)(au,{onClick:()=>{H("media-assets"),window.open(`${(0,v.getPostUrl)(t,n)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(YF,{stroke:"#404040",fill:"white"}),"View media assets")))},au=n=>(0,e.h)("a",bP(iu({},n),{native:!0})),pj=({modalRef:n})=>{var t,r,i;let u="";typeof window!="undefined"&&(u=window.location.host);const D=(t=document.head.querySelector('meta[property="og:image"]'))==null?void 0:t.content,k=(r=document.head.querySelector('meta[property="og:title"]'))==null?void 0:r.content,H=(i=document.head.querySelector('meta[property="og:description"]'))==null?void 0:i.content;return(0,e.h)("div",{onClick:()=>{n.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},D&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:D,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},u),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},k),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},H)))},hj=dj;var mj=Object.defineProperty,_j=Object.defineProperties,gj=Object.getOwnPropertyDescriptors,wP=Object.getOwnPropertySymbols,vj=Object.prototype.hasOwnProperty,yj=Object.prototype.propertyIsEnumerable,CP=(n,t,r)=>t in n?mj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,OP=(n,t)=>{for(var r in t||(t={}))vj.call(t,r)&&CP(n,r,t[r]);if(wP)for(var r of wP(t))yj.call(t,r)&&CP(n,r,t[r]);return n},bj=(n,t)=>_j(n,gj(t)),Pj=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});const Ej=({pub:n,pubsToRecommend:t})=>{const[r,i]=(0,o.eJ)(!0),[u,D]=(0,o.eJ)(!0),[k,H]=(0,o.eJ)((t||[]).reduce((ze,qe)=>bj(OP({},ze),{[qe.id]:!0}),{})),U=()=>{i(!r),D(!1)},ee=ze=>{const qe=OP({},k);qe[ze]=!qe[ze],H(qe)},ve=()=>Pj(void 0,null,function*(){try{const ze=Object.keys(k).filter(qe=>k[qe]===!0).map(qe=>Number(qe));yield ft().put("/api/v1/recommendations/multiple").send({recommending_publication_id:n.id,recommended_publication_ids:ze,source:"post_publish_cta",suggested:ze.map(()=>!0)}),ze.length&&(0,ds.ZP)(`Recommended ${(0,Be.pluralize)(ze.length,"publication")}`,{timeout:1500}),U()}catch(ze){console.error("Failed to add recommendations: ",ze),U()}});let xe,Le;return t!=null&&t.length&&(xe=(Object.values(k).filter(ze=>ze===!0)||[]).length,Le=`Do you want to recommend ${t[0].name}${t.length>1?` and ${t.length-1} other ${(0,Be.pluralize)(t.length-1,"publication",{just_word:!0})}`:""}?`),(0,e.h)(e.Fragment,null,u?(0,e.h)(Wi.u_,{isOpen:r,onClose:U},(0,e.h)(Wi.xB,{onClose:U,title:Le}),(0,e.h)(Wi.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},"Since you embedded"," ",t.length>1?`${t.length} publications`:t[0].name," on your post, we thought you might want to recommend them to your readers"),t&&t.length&&t.map((ze,qe)=>(0,e.h)("div",{className:f()("recommend-publication-container",{last:qe===t.length-1}),onClick:()=>ee(ze.id)},(0,e.h)(cr.Z,{pub:ze,size:40,logo_url:ze.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,v.getBaseUrl)(ze),target:"_blank"},ze.name),(0,e.h)("p",{className:"author-name"},(0,Be.getByLine)(ze))),(0,e.h)(Y0.p,{checked:k[ze.id]?k[ze.id]:!1}))))),(0,e.h)(Wi.mz,{alignment:"center",primaryButton:(0,e.h)(aa.z,{onClick:ve,variant:"primary"},xe===0?"Continue":`Recommend ${(0,Be.pluralize)(xe,"publication")}`),secondaryButton:(0,e.h)(aa.z,{onClick:U,variant:"secondary"},"Maybe later")})):null)};class wj extends e.Component{isSubscribed(){const{user:t}=this.props;return t&&t.is_subscribed}isFreeSubscribed(){const{freeSignup:t,user:r}=this.props;return t||r&&r.is_free_subscribed&&!r.is_contributor}onFreeSubscribe(t){if(this.props.publication.plans){let r=(0,v.getSubscribeUrl)(this.props.publication,{just_signed_up:!0});t.body.prompt_to_login&&(r=`/account/login?redirect=${encodeURIComponent(r)}&email=${encodeURIComponent(t.body.email)}`),document.location.href=r}else window.location.reload()}render({publication:t,user:r,freeSignupEmail:i,features:u}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!t.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Ready for more?"),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,v.getSubscribeUrl)(t,{utm_source:"ready-for-more"}),native:!0},(0,e.h)(be.Z,{className:"primary"},(0,e.h)("b",null,(0,Be.getSubscribeText)(t))))):(0,e.h)(To.Z,{user:r,pub:t,freeSignupEmail:i,source:"subscribe_footer",onSuccess:this.onFreeSubscribe.bind(this),hideLogin:!0,hideTerms:!0,submitButtonText:(0,Be.getSubscribeText)(t)})))}}var Cj=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});function JV(n,t={}){n=n||getQueryItem("selection");const{isLoading:r,error:i,result:u}=useFetch({pathname:`/api/v1/post_selection/${n}`,auto:!!n,deps:[n]});return{isLoading:r,error:i,postSelection:u!=null?u:null,highlightSelection:()=>{u&&SP(u,t)}}}function Oj(n){return Cj(this,arguments,function*(t,r={}){t=t||(0,v.getQueryItem)("selection");let i=null;try{i=yield(0,_o.rd)(`/api/v1/post_selection/${t}`,{})}catch(u){}i&&SP(i,r)})}function SP(n,t={}){var r,i;if(t.ignoreSafari&&(0,b.isSafari)()||!n.text)return;const u=(i=(r=/^[^.]+\./.exec(n.text))==null?void 0:r[0])!=null?i:n.text;if(!u)return;const D=`#:~:text=${encodeURIComponent(u)}`;history.replaceState({},document.title,D),document.location.hash=D}var Sj=Object.defineProperty,TP=Object.getOwnPropertySymbols,Tj=Object.prototype.hasOwnProperty,Ij=Object.prototype.propertyIsEnumerable,IP=(n,t,r)=>t in n?Sj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,xj=(n,t)=>{for(var r in t||(t={}))Tj.call(t,r)&&IP(n,r,t[r]);if(TP)for(var r of TP(t))Ij.call(t,r)&&IP(n,r,t[r]);return n};const Dj=n=>{const{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:u,pub:D,search:k,sort:H,sortTabs:U,source:ee,user:ve}=n,{getConfigFor:xe}=(0,Kn.xR)();return xe("updated_archives")?(0,e.h)(qt.xu,{paddingY:24},(0,e.h)(Ic,{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:u,pub:D,search:k,sort:H,sortTabs:U,source:ee,user:ve},({posts:ze,linkToComments:qe,onClickPost:Je})=>(0,e.h)(Ci,{hideImages:D.theme.hide_images_from_list,linkToComments:qe,posts:ze,pub:D,user:ve,variant:"two-column-list",onChange:()=>{},onClickPost:Je}))):(0,e.h)($s,xj({},n))};var Mj=Object.defineProperty,Aj=Object.defineProperties,Nj=Object.getOwnPropertyDescriptors,xP=Object.getOwnPropertySymbols,Rj=Object.prototype.hasOwnProperty,Lj=Object.prototype.propertyIsEnumerable,bp=(n,t,r)=>t in n?Mj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Bj=(n,t)=>{for(var r in t||(t={}))Rj.call(t,r)&&bp(n,r,t[r]);if(xP)for(var r of xP(t))Lj.call(t,r)&&bp(n,r,t[r]);return n},kj=(n,t)=>Aj(n,Nj(t)),Qs=(n,t,r)=>(bp(n,typeof t!="symbol"?t+"":t,r),r),$c=(n,t,r)=>new Promise((i,u)=>{var D=U=>{try{H(r.next(U))}catch(ee){u(ee)}},k=U=>{try{H(r.throw(U))}catch(ee){u(ee)}},H=U=>U.done?i(U.value):Promise.resolve(U.value).then(D,k);H((r=r.apply(n,t)).next())});class DP extends e.Component{constructor(t,r){super(t,r),Qs(this,"updateSubscribeTakeover",()=>{const u=this.props.publication.id,D=`pub-${u}-subscribe-prompt-next-shown-at`,k=`pub-${u}-takeover-next-shown-at`,H=(0,Si.mM)(k),U=!H||Date.now()>=H;(0,b.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(U&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),(0,Si.ex)(D,dr()().add(1,"hour").valueOf()),(0,Si.ex)(k,dr()().add(1,"hour").valueOf())):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})}),Qs(this,"onChangeComment",u=>{this.setState({comments:Bl(this.state.comments,u)})}),Qs(this,"onVisible",u=>{const D=`${u} Seen`;this.state.post&&(this.state[D]||(this.setState({[D]:!0}),(0,M.j)(D,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))}),Qs(this,"_inlineComments",()=>{const{inlineComments:u,publication:D}=this.props;return u||(0,Be.shouldUseInlineComments)(D,this.state.post||this.props.post)}),Qs(this,"fillEmbeddedEmailInputs",()=>{var u;const D=document.querySelectorAll('article.post input[type="email"]'),k=((u=this.state.user)==null?void 0:u.email)||this.props.freeSignupEmail;if(k)for(const H of D)H.value=k;this.setState({embeddedEmailInputsFilled:!0})});let{user:i}=t;t.postPreview&&(i=kj(Bj({},i),{is_draft:!1,is_subscribed:t.postPreview!=="free",is_founding:t.postPreview==="founding"})),t.post&&[t.post.slug,t.post.uuid].filter(u=>u).includes(t.slug)&&!this.shouldRedirectToComments(t.post)?this.state={post:t.post,comments:t.renderedComments,user:i}:this.state={post:null,comments:null,user:i}}componentDidMount(){return $c(this,null,function*(){(0,b.scrollToHash)(),this.cleanUpTikTokEnhanceListener=np();const t=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(r=>r).includes(this.props.slug)&&this.props.post;this.shouldRedirectToComments(t)?this.redirectToComments(t):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished&&((0,b.removeQueryParam)("justPublished"),(0,b.preloadImage)(Nf(this.props.publication,this.props.post)[0])),(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,b.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,b.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,b.removeQueryParam)("showRestackModal"),this.props.action&&(0,b.removeQueryParam)("action"),this.props.showWelcome||(0,b.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.selectionFromQuery&&Oj(this.props.selectionFromQuery)})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this),(0,b.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(t){return $c(this,null,function*(){t.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(t){if(t&&t.type==="thread")return!0}redirectToComments(t){(0,y.route)((0,v.getPostUrl)(this.props.publication,t,{comments:!0,noBase:!0}),!0)}loadPost(){return $c(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(t=>t).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>(0,b.scrollToHash)());else{this.setState({post:null,comments:null});try{const t=yield ft().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview});this.shouldRedirectToComments(t.body)?this.redirectToComments(t.body):(yield(0,b.setState)(this,{post:t.body,comments:t.body.comments}),(0,b.scrollToHash)())}catch(t){console.error("Failed to load post:",t),t.status===404?this.setState({notFound:!0}):alert((0,b.getNetworkErrorMessage)(t))}}})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({slug:t,freeSignup:r,freeSignupEmail:i,publication:u,reaction_token:D,hide_intro_popup:k,freewallVariant:H,unlock:U,sort:ee,search:ve,children:xe,showWelcome:Le,justPublished:ze,autoSharedOnTwitter:qe,readerIsSearchCrawler:Je,postPreview:st,truncatedPost:Ct,selectionFromQuery:bt,embeddedPublications:Dt,siteConfigs:Ut={},freeTrialCoupon:Rt,showRestackModal:Qt,action:pn,publicationSettings:En,show_reaction_upsell:_n,stripe_publishable_key:fn,bannedFromNotes:Zn},{comments:Gn,notFound:$n,post:yn,user:Ln,showSubscribeTakeover:br}){const Xn=this._inlineComments(),Cn=yn!=null&&yn.audience?(0,Re.userHasFullAccessToPost)(Ln,yn):!0,Mn=(Ln==null?void 0:Ln.is_subscribed)&&Cn,ar=yn&&yn.slug&&yn.slug!=="coming-soon"&&yn.type!=="page",mr=(0,Be.commentsEnabledForPost)({publication:u,post:yn}),Hn=(0,Be.showCommentsOnPost)({publication:u,post:yn}),In=Mn||(Ln==null?void 0:Ln.is_free_subscriber)||r,On=(U||(yn==null?void 0:yn.free_unlock_required))&&!In&&["treatment_short","treatment_long"].includes(H),Jt=Ln&&Ln.is_contributor&&(yn==null?void 0:yn.slug)=="coming-soon"&&!(En!=null&&En.seen_coming_soon_explainer);On&&(Ct?yn.body_html=Ct.body_html:yn.truncatedBody&&(yn.body_html=yn.truncatedBody));const Qn=(yn==null?void 0:yn.type)==="podcast",Bn=!(yn!=null&&yn.hidden)&&((0,Be.isUUID)(t)||Mn||Je||yn&&!(0,Re.isPaidAudience)(yn.audience)&&!On||yn&&!yn.slug&&!On),Dr=!Bn||(Ln==null?void 0:Ln.is_contributor)&&yn&&(0,Re.isPaidAudience)(yn.audience),lr=ze&&(Ln==null?void 0:Ln.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(yn.type);return(0,e.h)("div",null,pn==="restack-comment"&&(0,e.h)(jj,{post:yn,pub:u}),(0,e.h)(Fj,{pub:u,post:yn}),(Le||br)&&(0,e.h)(se,{freeSignup:r,freeSignupEmail:i,user:Ln,post:yn,publication:u,hidden:k||On}),yn&&u&&(0,e.h)(AF,{user:Ln,subdomain:u.subdomain,post:yn}),Jt&&(0,e.h)(jF,null),(0,e.h)("div",{className:f()("single-post-container")},(0,e.h)("div",{className:f()({container:!Qn})},(0,e.h)("div",{className:"single-post"},(0,e.h)(Af,{post:yn,publication:u,selection:bt,siteConfigs:Ut}),yn?(0,e.h)(Jf,{ref:Ar=>{this.post=Ar},commentsEnabled:mr,postPreview:st,showComments:Hn,user:Ln,post:yn,pub:u,freeSignup:r,freeSignupEmail:i,reaction_token:D,disableSubscribePrompt:Le&&!(k||On),paywall:Bn?!1:On?{email_form:!0,autoFocus:!1,title:`Subscribe for free to ${u.name} to unlock this ${yn.type==="podcast"?"episode":"post"}`}:!0,noTitleLink:!0,onChange:Ar=>this.setState(Ar),fromPostPage:!0,freeTrialCoupon:Rt,showRestackModal:!!Qt,stripe_publishable_key:fn,readerIsSearchCrawler:Je}):$n?(0,e.h)("p",{className:"main-loader"},"Post not found"):(0,e.h)(ey,{pub:u}),xe)),ar&&Bn&&[Hn&&!Qn&&(0,e.h)(Uj,{commentsEnabled:mr,comments:Gn,post:yn,slug:t,user:Ln,freeSignup:r,freeSignupEmail:i,publication:u,reaction_token:D,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:Xn,selectionFromQuery:bt,onChange:Ar=>this.setState(Ar),bannedFromNotes:Zn}),u.has_posts&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(Me,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(Dj,{user:Ln,freeSignup:r,freeSignupEmail:i,pub:u,maxPosts:!Dr&&!Mn&&!(In&&!u.plans)?3:10,filterPosts:Ar=>Ar.id!==yn.id,sort:ee,search:ve,stateInUrl:!0,sortTabs:Ar=>{const Yn=Ar.findIndex(Or=>Or.id==="top");if(Yn!==-1)return[Ar[Yn]].concat(Ar.filter((Or,_r)=>_r!==Yn))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!Dr&&[(0,e.h)(Me,{onVisible:()=>this.onVisible("Subscribe Footer")}),(0,e.h)(wj,{publication:u,user:Ln,freeSignupEmail:i,freeSignup:r})]],lr?(0,e.h)(hj,{post:yn,autoSharedOnTwitter:qe==="true",publicationTwitterScreenName:u.twitter_screen_name,publication:u,showAfter:Dt!=null&&Dt.length?(0,e.h)(Ej,{pub:u,pubsToRecommend:Dt}):null}):null,_n?(0,e.h)(wv.hF,{pub:u}):null))}}class Uj extends e.Component{constructor(t,r){super(t,r),Qs(this,"modalRef",(0,e.createRef)(null)),this.inputRef=(0,e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:t.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(Zf,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(Zf,this.handleFocusInput)}render({commentsEnabled:t,inlineComments:r,post:i,user:u,freeSignup:D,freeSignupEmail:k,publication:H,reaction_token:U,onVisible:ee,onChangeComment:ve,selectionFromQuery:xe,slug:Le,onChange:ze,bannedFromNotes:qe},{comments:Je,reactionSigninComment:st}){if(r)return(0,e.h)("div",null,(0,e.h)("div",{className:"full-container-border"}),(0,e.h)(Uf,{slug:Le,user:u,freeSignupEmail:k,freeSignup:D,post:i,publication:H,post_reaction_token:U,selectionFromQuery:xe,initialComments:Je,inline:!0,onChange:ze}));const Ct=(bt,Dt)=>$c(this,null,function*(){return Dv({user:u,reactionToken:U,comments:Je,id:bt,reacted:Dt,setComments:Ut=>this.setState({comments:Ut}),onNeedsSignin:Ut=>new Promise(Rt=>this.setState({reactionSigninComment:Ut},()=>this.modalRef.current.open(Rt)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(t||i.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},i.comment_count>0?(0,Be.pluralize)(i.comment_count,"Comment"):"Comments"),(0,e.h)(Me,{onVisible:()=>ee("Post Comments Footer")}),t&&(0,e.h)(jl,{user:u,freeSignup:D,freeSignupEmail:k,pub:H,post:i,token:U,ref:this.inputRef,bannedFromNotes:qe}),Je.length>0&&!t&&(0,e.h)(xv,{post:i}),Je&&Je.length>0&&H.community_enabled&&(0,e.h)(lc,{className:"post-page-root-comment-list",key:`post:${i.id}`,user:u,freeSignup:D,freeSignupEmail:k,pub:H,post:i,comments:Je,reaction_token:U,onChange:ve,updateCommentReacted:Ct,noRestack:!0}),t&&i.comment_count>(Je||[]).length&&(0,e.h)("a",{className:"more-comments",href:kl(i,H)},(0,Be.pluralize)(i.comment_count-(Je||[]).length,"more comment"),"\u2026"),st&&(0,e.h)(Es.oq,{comment:st,pub:H,user:u,react:()=>Ct(st.id,!0),modalRef:this.modalRef})))}}const Fj=({pub:n,post:t})=>{if(t)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:md()((0,_d.Rg)(n,t),{json:!0,isScriptContext:!0})}})};function jj({pub:n,post:t}){const r=(0,vu.i3)();return(0,o.d4)(()=>{r.open({restackUrl:(0,v.getPostUrl)(n,t)})},[]),null}var Wj=Object.defineProperty,Hj=Object.defineProperties,Vj=Object.getOwnPropertyDescriptors,MP=Object.getOwnPropertySymbols,Kj=Object.prototype.hasOwnProperty,$j=Object.prototype.propertyIsEnumerable,AP=(n,t,r)=>t in n?Wj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zj=(n,t)=>{for(var r in t||(t={}))Kj.call(t,r)&&AP(n,r,t[r]);if(MP)for(var r of MP(t))$j.call(t,r)&&AP(n,r,t[r]);return n},Gj=(n,t)=>Hj(n,Vj(t));const Zj=n=>(0,e.h)(N.l,Gj(zj({},n),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"})),qs={root:"frontend-components-PressKitImage-module__root--ERwr7",tableRoot:"frontend-components-PressKitImage-module__tableRoot--UpSpd",link:"frontend-components-PressKitImage-module__link--rLFgG",image:"frontend-components-PressKitImage-module__image--MPbfI",download:"frontend-components-PressKitImage-module__download--qS9sv",imageLoading:"frontend-components-PressKitImage-module__imageLoading--QMvSN",imageEmail:"frontend-components-PressKitImage-module__imageEmail--AKxV9",text:"frontend-components-PressKitImage-module__text--qms7L"},Yj=({pub:n,post:t,style:r,text:i})=>{const[u,D]=(0,o.eJ)("");(0,o.d4)(()=>{const H=(0,v.getPressKitUrl)(n,t,r);(0,b.preloadImage)((0,v.getPressKitUrl)(n,t,r),()=>{D(H)})},[D,n,t,r]);const k=(0,jt.useCallback)(()=>{(0,M.j)(M.FP.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:t.id,type:i})},[t,i]);return(0,e.h)("a",{onClick:k,href:u,alt:"Download Image",download:!0,className:qs.link,target:"_blank"},(0,e.h)("div",{className:qs.root},(0,e.h)("div",{className:qs.download},(0,e.h)(Zj,{stroke:"#404040",fill:"white"})),!u&&(0,e.h)("div",{className:`${qs.image} ${qs.imageLoading}`,alt:"Loading"},(0,e.h)(Wa.Sv,null)),u&&(0,e.h)("img",{src:u,className:qs.image})))},QV=({pub:n,post:t,style:r,text:i,downloadUrl:u})=>h("table",{className:PressKitCss.tableRoot},h("tr",null,h("td",null,h("a",{href:u||getPressKitUrl(n,t,r),alt:"Download Image",download:!0,target:"_blank",className:PressKitCss.link},h("img",{src:getPressKitUrl(n,t,r),className:PressKitCss.imageEmail})))),h("tr",null,h("td",null,h(EmailButton,{aClassName:"button download",alt:"Download Image",download:!0,target:"_blank",href:u||getPressKitUrl(n,t,r)},h("span",null,"Download"))))),zc=Yj,Os={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",postTitle:"frontend-main-PressKitPage-module__postTitle--ftake",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH"},Jj=n=>{const t=n.themeVariables,r=t.web_bg_color||t.cover_bg_color,i=n.post.cover_image||n.publication.cover_photo_url;return(0,o.d4)(()=>{(0,M.j)(M.FP.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:n.post.id})},[n.post.id]),(0,e.h)("div",{className:Os.root},(0,e.h)(q.xv.H2,{color:"pub-primary-text",className:Os.pageTitle},"Media Assets"),(0,e.h)(q.xv.B3,{color:"pub-primary-text",className:Os.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(Ne.tu,{justifyContent:"center",className:Os.container},(0,e.h)("div",{className:Os.postTitle},(0,e.h)(q.xv.H4,{color:"pub-primary-text"},n.post.title)),(0,e.h)("div",{className:Os.divider}),(0,e.h)(Ne.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(zc,{pub:n.publication,post:n.post,style:{bgColor:r,textColor:t.print_on_web_bg_color||t.cover_print_primary||"#1a1a1a"},text:"Background Color"}),t.background_pop&&(0,e.h)(zc,{pub:n.publication,post:n.post,style:{bgColor:t.background_pop,textColor:t.print_on_pop},text:"Accent Color"}),i&&(0,e.h)(zc,{pub:n.publication,post:n.post,style:{bgImage:!0,textColor:"#ffffff"},text:"Image"}),r.toLowerCase()!=="#ffffff"?(0,e.h)(zc,{pub:n.publication,post:n.post,style:{bgColor:"#ffffff",textColor:"#404040"},text:"Black and White"}):null)),(0,e.h)("div",{className:Os.textFooter},(0,e.h)(q.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,v.getPublishSettingsUrl)(n.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},NP=({sitemapHeader:n,sitemapDescription:t,sitemapLinks:r})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,b.setMetaData)({title:n,description:t}),(0,e.h)("h1",null,n),(0,e.h)("div",null,r.map(i=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:i.href,native:!0},i.text))))),RP={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"},el=It(6378),Xj=({})=>(0,e.h)("div",{className:RP.noPodcasts},"No podcasts."),Pp=(n,t,r)=>{let i=n[t.id];return i||(i=(0,v.getPodcatcherSetupUrl)(t,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!r||!r.is_free_subscribed,params:{utm_source:"all-podcasts"}})),i},Qj=({pub:n,user:t,idToMagicLink:r,openInNewTab:i})=>n.subdomain!=="thebulwark"?null:(0,e.h)(q.xv.B3,{paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:Pp(r!=null?r:{},n,t),target:i?"_blank":void 0,rel:"noopener"},"Click here")," ","to set up your podcast app for everything in one feed."),qj=({pub:n,user:t,idToMagicLink:r={},openInNewTab:i=!1,newFormatting:u=!1})=>{const D=[];el.isMultiPub(n)?el.getMultiPubChildPodcasts(n).forEach(ve=>{const xe=Nl(ve,Pp(r,ve,t));D.push(xe)}):el.getSectionPodcasts(n)&&el.getSectionPodcasts(n).forEach(ve=>{var xe,Le;if(!f2({pub:n,section:ve}))return;const ze=(0,fs.getSectionPodcastSettings)({pub:n,section:ve});if(!ze.title)return;const qe={logoUrl:(xe=ze.artUrl)!=null?xe:void 0,mainClickUrl:(0,v.getPodcastLandingUrl)({pub:n,section:ve,addBase:!0}),buttonClickUrl:r[ve.id]||(0,v.getPodcatcherSetupUrl)(n,{section:ve,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!t||!t.is_free_subscribed,params:{utm_source:"all-podcasts"}}),name:ze.title,description:(Le=ze.description)!=null?Le:"",buttonText:"Set up podcast"};D.push(qe)}),d2(n)&&D.push(Nl(n,Pp(r,n,t)));const k=Object.keys(r).length>0||!!(t!=null&&t.is_free_subscribed);let H=D.length>1?"Podcast feeds":"Podcast feed";k&&(H=el.hasMultiplePodcasts(n)?"Private podcast feeds":"Private podcast feed");const U=(0,e.h)(Ne.tu,{radius:12,border:"detail",padding:16},el.hasPodcast(n)?(0,e.h)(e.Fragment,null,(0,e.h)(qu,{showButton:!0,items:D,openInNewTab:i,buttonText:"Set up podcast"}),(0,e.h)(Qj,{pub:n,user:t,idToMagicLink:r,openInNewTab:i})):(0,e.h)(Xj,null));return u?(0,e.h)(e.Fragment,null,(0,e.h)(q.xv.H4,{paddingTop:20,paddingBottom:8},H),U):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(q.xv.H3,{paddingTop:16,paddingBottom:16},H),U))},eW=({pub:n,user:t,idToMagicLink:r,openInNewTab:i=!1})=>(0,e.h)("div",{className:f()("page","typography",RP.container)},(0,e.h)(qj,{pub:n,user:t,idToMagicLink:r,openInNewTab:i}));function tW({slug:n,pub:t,user:r,freeSignup:i,freeSignupEmail:u,tagPagePreloads:D}){var k,H;const U=!!(t!=null&&t.theme),ee=(0,_o.ib)({pathname:`/api/v1/publication/post-tag/slug/${n}`,auto:(D==null?void 0:D.slug)!==n,initialResult:(D==null?void 0:D.slug)===n?D.postTag:null,deps:[D,n]});return(0,e.h)(S.ze,{value:{hasThemedBackground:U}},(0,e.h)("div",{className:f()("archive-page typography",{"use-theme-bg":U})},(0,e.h)("div",{className:"container"},ee.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)("h2",null,((k=ee.result)==null?void 0:k.name)||"Page not found"),(0,e.h)($s,{user:r,freeSignup:i,freeSignupEmail:u,pub:t,sort:"new",postTagId:(H=ee.result)==null?void 0:H.id,newPosts:(D==null?void 0:D.slug)===n?D.posts:null,source:"tag-archive"})))))}var nW=Object.defineProperty,Gc=Object.getOwnPropertySymbols,LP=Object.prototype.hasOwnProperty,BP=Object.prototype.propertyIsEnumerable,kP=(n,t,r)=>t in n?nW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tl=(n,t)=>{for(var r in t||(t={}))LP.call(t,r)&&kP(n,r,t[r]);if(Gc)for(var r of Gc(t))BP.call(t,r)&&kP(n,r,t[r]);return n},rW=(n,t)=>{var r={};for(var i in n)LP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Gc)for(var i of Gc(n))t.indexOf(i)<0&&BP.call(n,i)&&(r[i]=n[i]);return r};const oW=1e3*60*60*24,UP="domain-redirect-time";class iW extends e.Component{constructor(t,r){super(t,r),this.state=t.initialData||{}}componentDidUpdate(t,r){var i,u,D,k;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(tl({},this.props.initialData));const H=(u=(i=this.state.pub)==null?void 0:i.theme)==null?void 0:u.web_bg_color,U=document.documentElement;U&&H&&((k=(D=r==null?void 0:r.pub)==null?void 0:D.theme)==null?void 0:k.web_bg_color)!==H&&(U.style.background=H)}componentDidMount(){var t,r,i,u;const D=(u=(i=(r=(t=this.props)==null?void 0:t.initialData)==null?void 0:r.pub)==null?void 0:i.theme)==null?void 0:u.web_bg_color,k=document.documentElement;k&&D&&(k.style.background=D);const H=this.loadedWithLikelyLoggedInParam()?"param":null;H&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:H}):this.useIframe()&&window.addEventListener("message",U=>this.handleFrameMessage(U))}shouldBlockLoginRedirect(){var t;const r=parseInt((0,Si.mM)(UP,0));return this.state.block_auto_login||!((t=this.state.pub)!=null&&t.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-r<=oW||(0,v.parseQuery)(window.location.toString()).hasOwnProperty("triedSigningIn")}handleFrameMessage(t){var r,i,u;if(((r=t.data)==null?void 0:r.type)!=="frame-state")return;const D=!this.shouldBlockLoginRedirect()&&((i=t.data)==null?void 0:i.loggedInAtSubstack);(0,M.j)(M.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(u=t.data)==null?void 0:u.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:D}),D&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:t}={}){(0,M.j)(M.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:t==="param",source:t}),(0,Si.ex)(UP,`${Date.now()}`),location.href=(0,b.getLoginRedirect)({justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!(0,v.parseQuery)(window._preloads.original_url).hasOwnProperty("lli")}useIframe(){var t,r;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((t=this.state.pub)!=null&&t.custom_domain)||(0,v.urlIsRegularlyShownInIframe)((r=window==null?void 0:window.location)==null?void 0:r.href))}render({coupon:t},{pub:r,section:i,user:u,userProfile:D,freeSignup:k,freeSignupEmail:H,posts:U,post:ee,truncatedPost:ve,pinnedPosts:xe,newPosts:Le,topPosts:ze,communityPosts:qe,communityAction:Je,searchPosts:st,postsByGroupId:Ct,inlineComments:bt,latestChildPosts:Dt,latestSectionPosts:Ut,subscribeContent:Rt,homepageLinks:Qt,recommendations:pn,numRecommendations:En,allSubscribedPubs:_n,fullySubscribedPubs:fn,sitemapHeader:Zn,sitemapDescription:Gn,sitemapLinks:$n,referralCode:yn,hide_intro_popup:Ln,post_reaction_token:br,stripe_publishable_key:Xn,viral_gift_data:Cn,campaign:Mn,referralCampaign:ar,file:mr,primaryEligiblePublications:Hn,flagged_as_spam:In,switchAccountRedirectUrl:Xt,readerIsSearchCrawler:On,commentId:Jt,selectionFromQuery:Qn,siteConfigs:Bn={},blurbs:Dr,noBalanceHeroText:lr,embeddedPublications:Ar,themeVariables:Yn,subdomainNotFound:Or,freeTrialCoupon:_r,signupForFreeVariant:Fr,people:Co,useNewSubscribePage:Zr,idToMagicLink:io,token:ua,podcast_rss_url:ri,publicationSettings:Ca,pledgePlans:es,isChatActive:Li,isMeetingsActive:Vr,optOutLegacyTheming:jo,meetingsOrder:ka,meetingsSettings:Ua,appModalOpenByDefault:ta,twitterCardUrl:Ep,tagPagePreloads:eo,initialComments:so,bannedFromNotes:Ro,intro_text:ei,crossPostedPub:Qo,crossPostingByLine:ga,userWithCrossPostedPubContext:Oa,crossPostedPublicationSettings:ts,crossPostedSiteConfig:nl}){var na;const ca=g()(this.state.comments)?this.state.comments:[];if(Or)return(0,e.h)(xF,{subdomain:Or});if(In&&!(u!=null&&u.is_global_admin))return(0,e.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,b.setMetaData)({title:"Flagged as TOS violation"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Publication Not Available"),(0,e.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,e.h)("a",{href:`${(0,v.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,e.h)("p",null,(0,e.h)("a",{href:(0,v.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const Zc=!!(r!=null&&r.theme&&!jo),Yc=(0,y.getCurrentUrl)().startsWith("/chat");return(0,e.h)(aW,{pub:r,user:u,siteConfigs:Bn,hasThemedBackground:Zc,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:Ca},(0,e.h)(MA,{publication:r,twitterCardUrl:Ep}),(0,e.h)(sW,{user:u}),(0,e.h)(lW,{user:u,pub:r}),(0,e.h)(uW,null),(0,e.h)("div",{className:f()("main typography",{"use-theme-bg":Zc,"should-flex":Yc}),id:"main"},this.useIframe()&&(0,e.h)("iframe",{src:`${(0,v.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}),(0,e.h)(C.qE,{path:"/"},({path:vo})=>{var Jc,FP;let Zi="/home";/^\/about\b/.test(vo)?Zi="/about":/^\/notes\b/.test(vo)?Zi="/notes":/^\/leaderboard\b/.test(vo)?Zi="/leaderboard":/^\/chat\b/.test(vo)?Zi="/chat":/^\/podcast\b/.test(vo)?Zi="/podcast":/^\/archive\b/.test(vo)?Zi="/archive":/^\/newsletters\b/.test(vo)?Zi="/newsletters":/^\/recommendations\b/.test(vo)?Zi="/recommendations":/^\/listen\b/.test(vo)?Zi="/listen":i?Zi=i.id:/^\/p\//.test(vo)?Zi=((Jc=/^\/p\/([^/?#]+)/.exec(vo))==null?void 0:Jc[0])||"/p":/^\/t\//.test(vo)&&(Zi=((FP=/^\/t\/([^/?#]+)/.exec(vo))==null?void 0:FP[0])||"/p");let su;typeof window!="undefined"&&window.location.search&&(su=(0,v.parseQuery)(window.location.search));const jP=/^\/p\/([^/?#]*)/.exec(vo),WP=jP&&!((ee==null?void 0:ee.type)==="page"&&ee.slug===jP[1]),HP=vo.startsWith("/subscribe")||vo.startsWith("/finish-invite")||vo.startsWith("/meetings"),cW=vo.startsWith("/chat/posts/");return i?(0,e.h)(gu,{pub:r,user:u,freeSignup:k,freeSignupEmail:H,hide_subscribe_cta:vo.startsWith("/subscribe"),selectedSectionId:Zi,isPostView:WP,showCustomerSupportModeModal:!!(su!=null&&su.showCustomerSupportModeModal),lowChrome:HP,numRecommendations:En,isChatActive:Li,isMeetingsActive:Vr,signupForFreeVariant:Fr}):!["welcome","embed","meetings"].some(dW=>vo.startsWith(`/${dW}`))&&!(vo.startsWith("/subscribe")&&(Zr||es))&&(0,e.h)(gu,{pub:r,user:u,freeSignup:k,freeSignupEmail:H,hide_subscribe_cta:vo.startsWith("/subscribe"),isPostView:WP,selectedSectionId:Zi,showCustomerSupportModeModal:!!(su!=null&&su.showCustomerSupportModeModal),lowChrome:HP,numRecommendations:En,isChatActive:Li,isMeetingsActive:Vr,signupForFreeVariant:Fr,hideSections:cW})}),(0,e.h)(ds.g1,{pub:r,user:u}),(0,e.h)(y.Router,{onChange:Q2},["newspaper","magaziney"].includes(r.homepage_type)?(0,e.h)(fU,{path:"/",blurbs:Dr,bodyPostGroups:(na=r.theme)==null?void 0:na.body_post_groups,postsByGroupId:Ct,freeSignup:k,freeSignupEmail:H,hide_intro_popup:Ln,homepageLinks:Qt,latestChildPosts:Dt,latestSectionPosts:Ut,newPosts:Le,noBalanceHeroText:lr,numRecommendations:En,pinnedPosts:xe,pub:r,recommendations:pn,referralCampaign:ar,referralCode:yn,topPosts:ze,user:u}):(0,e.h)(f7,{path:"/",user:u,freeSignupEmail:H,freeSignup:k,hide_intro_popup:Ln,preloadedPosts:U,pub:r,blurbs:Dr,noBalanceHeroText:lr}),(0,e.h)(hp,{path:"/listen/:sectionSlug",blurbs:Dr,user:u,freeSignupEmail:H,freeSignup:k,hide_intro_popup:Ln,pub:r,pinnedPosts:xe,newPosts:Le,latestChildPosts:Dt,latestSectionPosts:Ut,section:r.section,referralCampaign:ar,isPodcast:!0}),(0,e.h)(hp,{path:"/podcast",blurbs:Dr,user:u,freeSignupEmail:H,freeSignup:k,hide_intro_popup:Ln,pub:r,pinnedPosts:xe,newPosts:Le,latestChildPosts:Dt,latestSectionPosts:Ut,recommendations:pn,numRecommendations:En,referralCampaign:ar,isPodcast:!0,includePinnedPosts:!0}),(0,e.h)(Ql,{path:"/podcast/archive",blurbs:Dr,user:u,newPosts:Le,topPosts:ze,communityPosts:qe,searchPosts:st,pub:r,freeSignupEmail:H,freeSignup:k,isPodcast:!0,metadata:tl({title:`Podcast Archive - ${r.name}`,description:`Full archive of all the episodes from ${r.name}.`},!!(st||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(hp,{path:"/s/:slug",blurbs:Dr,user:u,freeSignupEmail:H,freeSignup:k,hide_intro_popup:Ln,pub:r,pinnedPosts:xe,newPosts:Le,latestChildPosts:Dt,latestSectionPosts:Ut,section:r.section,referralCampaign:ar}),(0,e.h)(Ql,{path:"/archive",user:u,newPosts:Le,topPosts:ze,communityPosts:qe,searchPosts:st,pub:r,freeSignupEmail:H,freeSignup:k,metadata:tl({title:`Archive - ${r.name}`,description:`Full archive of all the posts from ${r.name}.`},!!(st||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Ql,{path:"/s/:slug/archive",user:u,newPosts:Le,topPosts:ze,communityPosts:qe,searchPosts:st,pub:r,freeSignupEmail:H,freeSignup:k,sectionId:i==null?void 0:i.id,metadata:tl({title:`Archive - ${i==null?void 0:i.name} of ${r.name}`,description:`Full archive of all the posts from ${i==null?void 0:i.name} of ${r.name}.`},!!(st||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Ql,{path:"/listen/:sectionSlug/archive/",user:u,newPosts:Le,topPosts:ze,communityPosts:qe,searchPosts:st,pub:r,freeSignupEmail:H,freeSignup:k,sectionId:i==null?void 0:i.id,metadata:tl({title:`Podcast Archive - ${(0,fs.getSectionPodcastSettings)({pub:r,section:r.section}).title}`,description:`Full archive of all the episodes from ${(0,fs.getSectionPodcastSettings)({pub:r,section:r.section}).title}.`},!!(st||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(tW,{path:"/t/:slug",user:u,freeSignupEmail:H,freeSignup:k,pub:r,tagPagePreloads:eo}),(0,e.h)(Ql,{default:!0,title:"Page not found",user:u,newPosts:Le,topPosts:ze,communityPosts:qe,searchPosts:st,pub:r,freeSignupEmail:H,freeSignup:k}),(0,e.h)(ge,{path:"/tos",html:r.tos_content_html||"Terms of Service",metadata:{title:"Terms of Service"}},(0,e.h)("p",null,"You agree to the terms of service below, and the"," ",(0,e.h)("a",{href:"https://substack.com/tos",native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,e.h)(ge,{path:"/privacy",html:r.privacy_content_html||"Privacy Policy",metadata:{title:"Privacy Policy"}},(0,e.h)("p",null,"You agree to the privacy policy below, and the"," ",(0,e.h)("a",{href:(0,v.getPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,e.h)(ge,{path:"/disclosures",html:r.disclosures_content_html||"Disclosures",metadata:{title:"Disclosures"}}),(0,e.h)(se,{path:"/welcome",publication:r,post:null,user:u,freeSignup:k,freeSignupEmail:H,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(se,{path:"/podcast",publication:r,post:null,referralCode:yn,user:u,freeSignup:k,freeSignupEmail:H,coupon:t,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(IU,{pub:r,path:"/invite",user:u,freeSignup:k,freeSignupEmail:H}),(0,e.h)(DU,{path:"/invite-success/:id",pub:r,user:u,post:ee,freeSignup:k,freeSignupEmail:H}),(0,e.h)(xU,{path:"/invite-reject-success/:id",pub:r,user:u,post:ee}),(0,e.h)(op,{path:"/finish-invite/:id",pub:r,user:u,freeSignup:k,freeSignupEmail:H}),(0,e.h)(op,{path:"/finish-post-invite/:id",pub:r,post:ee,user:u,freeSignup:k,freeSignupEmail:H,inviteToPost:!0,primaryEligiblePublications:Hn||[],switchAccountRedirectUrl:Xt}),(0,e.h)(nk,{path:"/recommendations",pub:r,user:u,recommendations:pn,allSubscribedPubs:_n,fullySubscribedPubs:fn}),(0,e.h)(NP,{path:"/sitemap",pub:r,sitemapHeader:Zn,sitemapDescription:Gn,sitemapLinks:$n}),(0,e.h)(NP,{path:"/sitemap/:year",pub:r,sitemapHeader:Zn,sitemapDescription:Gn,sitemapLinks:$n}),(0,e.h)(vD,{path:"/about",pub:r,user:u,freeSignup:k,freeSignupEmail:H,subscribeContent:Rt,people:Co,metadata:{title:`About - ${r.name}`}}),(0,e.h)(DP,{path:"/p/:slug",user:u,freeSignupEmail:H,freeSignup:k,referralCode:yn,post:ee,truncatedPost:ve,publication:r,renderedComments:ca,inlineComments:bt,reaction_token:br,hide_intro_popup:Ln,stripe_publishable_key:Xn,readerIsSearchCrawler:On,selectionFromQuery:Qn,embeddedPublications:Ar,siteConfigs:Bn,freeTrialCoupon:_r,publicationSettings:Ca,bannedFromNotes:Ro}),(0,e.h)(m7,{path:"/cp/:post_id",user:u,freeSignupEmail:H,freeSignup:k,post:ee,publication:r,introText:ei,crossPostedPub:Qo,crossPostingByLine:ga,userWithCrossPostedPubContext:Oa,crossPostedPublicationSettings:ts,crossPostedSiteConfig:nl}),(0,e.h)(eW,{path:"/listen",pub:r,user:u||null,openInNewTab:!0,idToMagicLink:io}),(0,e.h)(R2,{path:"/newsletters",pub:r,user:u!=null?u:null}),(0,e.h)(Jj,{path:"/p/:slug/media-assets",post:ee,publication:r,themeVariables:Yn}),bt?(0,e.h)(DP,{path:"/p/:slug/comments",user:u,freeSignupEmail:H,freeSignup:k,referralCode:yn,post:ee,truncatedPost:ve,publication:r,renderedComments:ca,inlineComments:bt,reaction_token:br,hide_intro_popup:Ln,stripe_publishable_key:Xn,readerIsSearchCrawler:On,selectionFromQuery:Qn,siteConfigs:Bn,freeTrialCoupon:_r,bannedFromNotes:Ro}):(0,e.h)(Uf,{path:"/p/:slug/comments",user:u,freeSignupEmail:H,freeSignup:k,post:ee,publication:r,post_reaction_token:br,commentId:Jt,freeTrialCoupon:_r,initialComments:so,bannedFromNotes:Ro}),!bt&&(0,e.h)(Uf,{path:"/p/:slug/comment/:comment_id",user:u,freeSignupEmail:H,freeSignup:k,post:ee,publication:r,post_reaction_token:br,commentId:Jt,freeTrialCoupon:_r,initialComments:so,bannedFromNotes:Ro}),(0,e.h)(q7,{path:"/rewards/receive",pub:r,user:u,freeSignupEmail:H,viral_gift_data:Cn}),(0,e.h)(_7,{path:"/embed",pub:r,user:u,freeSignup:k,freeSignupEmail:H}),(0,e.h)(y7,{path:"/embed/test",pub:r,user:u,freeSignup:k,freeSignupEmail:H}),(0,e.h)(v7,{path:"/embed/podcast/:slug",pub:r}),(0,e.h)(P7,{path:"/embed/video/:slug",pub:r}),(0,e.h)(Z7,{path:"/f/:fileId",pub:r,user:u,hide_subscribe_cta:!0,file:mr}),Bn.live_events&&(0,e.h)(sl.cr,{module:"../live_events",onRequest:()=>Promise.all([It.e(968),It.e(829)]).then(It.bind(It,20829)),resolve:vo=>vo.LiveEventPage,path:"/live_event/:eventId/:participantType",pub:r,user:u}),(0,e.h)(rS,{path:"/chat",publication:r,user:u}),(0,e.h)(oS,{path:"/chat/posts/:postId",publication:r,communityAction:Je,user:u,appModalOpenByDefault:ta}),(0,e.h)(iS,{path:"/chat/replies/:commentId",publication:r,communityAction:Je,user:u,appModalOpenByDefault:ta}),Bn.meetings_v1&&(Vr||(u==null?void 0:u.is_author))&&(0,e.h)(ZU,{path:"/meetings",exact:!0,pub:r,user:u,settings:Ua}),Bn.meetings_v1&&(Vr||(u==null?void 0:u.is_author))&&(0,e.h)(iP,{path:"/meetings/book",pub:r,user:u,stripe_publishable_key:Xn,order:ka,settings:Ua}),Bn.meetings_v1&&(ka||Vr||(u==null?void 0:u.is_author))&&(0,e.h)(iP,{path:"/meetings/book/:order_id?",pub:r,user:u,stripe_publishable_key:Xn,order:ka,settings:Ua}),Bn.subscriber_referrals_enabled&&(0,e.h)($U,{pub:r,user:u,path:"/leaderboard"}),(0,e.h)(k2,{path:"/notes"})),(0,e.h)(C.qE,{path:"/"},({path:vo})=>!vo.startsWith("/welcome")&&!vo.startsWith("/embed")&&!vo.startsWith("/subscribe")&&!vo.startsWith("/meetings")&&!vo.startsWith("/chat")&&(0,e.h)(De,{publication:r,user:u,showIntrinioAttrib:ee&&ee.hasCashtag,path:vo})),(0,e.h)(l,{pub:r,user:u})))}}function aW(n){var t=n,{pub:r}=t,i=rW(t,["pub"]);return(0,e.h)(pd.G.Provider,{value:r},(0,e.h)(B2,tl({},i)))}function sW({user:n}){const t=(0,hh.S)({user:n});return(0,o.d4)(()=>{const r=new URLSearchParams(location.search);if(r.get("reaction")==="\u2764"){t(),r.delete("reaction");const i=r.toString();history.replaceState({},document.title,location.pathname+(i&&`?${i}`))}},[]),null}function lW({user:n,pub:t}){return Y2({user:n,pub:t}),null}function uW(){return z2(),null}(0,G.Z)(iW)})()})()});_W();})();

//# sourceMappingURL=main.cad1dec598a04942360e.bundle.js.map